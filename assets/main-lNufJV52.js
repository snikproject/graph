var Mp=Object.defineProperty;var Pp=(t,e,r)=>e in t?Mp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Et=(t,e,r)=>(Pp(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var dn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vd={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(t){(function(e,r){t.exports=e.document?r(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:dn,function(e,r){var n=[],i=Object.getPrototypeOf,a=n.slice,o=n.flat?function(f){return n.flat.call(f)}:function(f){return n.concat.apply([],f)},s=n.push,l=n.indexOf,u={},c=u.toString,d=u.hasOwnProperty,p=d.toString,m=p.call(Object),h={},y=function(g){return typeof g=="function"&&typeof g.nodeType!="number"&&typeof g.item!="function"},w=function(g){return g!=null&&g===g.window},b=e.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function S(f,g,C){C=C||b;var T,I,D=C.createElement("script");if(D.text=f,g)for(T in E)I=g[T]||g.getAttribute&&g.getAttribute(T),I&&D.setAttribute(T,I);C.head.appendChild(D).parentNode.removeChild(D)}function x(f){return f==null?f+"":typeof f=="object"||typeof f=="function"?u[c.call(f)]||"object":typeof f}var A="3.7.1",_=/HTML$/i,v=function(f,g){return new v.fn.init(f,g)};v.fn=v.prototype={jquery:A,constructor:v,length:0,toArray:function(){return a.call(this)},get:function(f){return f==null?a.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var g=v.merge(this.constructor(),f);return g.prevObject=this,g},each:function(f){return v.each(this,f)},map:function(f){return this.pushStack(v.map(this,function(g,C){return f.call(g,C,g)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(v.grep(this,function(f,g){return(g+1)%2}))},odd:function(){return this.pushStack(v.grep(this,function(f,g){return g%2}))},eq:function(f){var g=this.length,C=+f+(f<0?g:0);return this.pushStack(C>=0&&C<g?[this[C]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},v.extend=v.fn.extend=function(){var f,g,C,T,I,D,O=arguments[0]||{},Q=1,K=arguments.length,te=!1;for(typeof O=="boolean"&&(te=O,O=arguments[Q]||{},Q++),typeof O!="object"&&!y(O)&&(O={}),Q===K&&(O=this,Q--);Q<K;Q++)if((f=arguments[Q])!=null)for(g in f)T=f[g],!(g==="__proto__"||O===T)&&(te&&T&&(v.isPlainObject(T)||(I=Array.isArray(T)))?(C=O[g],I&&!Array.isArray(C)?D=[]:!I&&!v.isPlainObject(C)?D={}:D=C,I=!1,O[g]=v.extend(te,D,T)):T!==void 0&&(O[g]=T));return O},v.extend({expando:"jQuery"+(A+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var g,C;return!f||c.call(f)!=="[object Object]"?!1:(g=i(f),g?(C=d.call(g,"constructor")&&g.constructor,typeof C=="function"&&p.call(C)===m):!0)},isEmptyObject:function(f){var g;for(g in f)return!1;return!0},globalEval:function(f,g,C){S(f,{nonce:g&&g.nonce},C)},each:function(f,g){var C,T=0;if(P(f))for(C=f.length;T<C&&g.call(f[T],T,f[T])!==!1;T++);else for(T in f)if(g.call(f[T],T,f[T])===!1)break;return f},text:function(f){var g,C="",T=0,I=f.nodeType;if(!I)for(;g=f[T++];)C+=v.text(g);return I===1||I===11?f.textContent:I===9?f.documentElement.textContent:I===3||I===4?f.nodeValue:C},makeArray:function(f,g){var C=g||[];return f!=null&&(P(Object(f))?v.merge(C,typeof f=="string"?[f]:f):s.call(C,f)),C},inArray:function(f,g,C){return g==null?-1:l.call(g,f,C)},isXMLDoc:function(f){var g=f&&f.namespaceURI,C=f&&(f.ownerDocument||f).documentElement;return!_.test(g||C&&C.nodeName||"HTML")},merge:function(f,g){for(var C=+g.length,T=0,I=f.length;T<C;T++)f[I++]=g[T];return f.length=I,f},grep:function(f,g,C){for(var T,I=[],D=0,O=f.length,Q=!C;D<O;D++)T=!g(f[D],D),T!==Q&&I.push(f[D]);return I},map:function(f,g,C){var T,I,D=0,O=[];if(P(f))for(T=f.length;D<T;D++)I=g(f[D],D,C),I!=null&&O.push(I);else for(D in f)I=g(f[D],D,C),I!=null&&O.push(I);return o(O)},guid:1,support:h}),typeof Symbol=="function"&&(v.fn[Symbol.iterator]=n[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,g){u["[object "+g+"]"]=g.toLowerCase()});function P(f){var g=!!f&&"length"in f&&f.length,C=x(f);return y(f)||w(f)?!1:C==="array"||g===0||typeof g=="number"&&g>0&&g-1 in f}function k(f,g){return f.nodeName&&f.nodeName.toLowerCase()===g.toLowerCase()}var B=n.pop,N=n.sort,M=n.splice,z="[\\x20\\t\\r\\n\\f]",R=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g");v.contains=function(f,g){var C=g&&g.parentNode;return f===C||!!(C&&C.nodeType===1&&(f.contains?f.contains(C):f.compareDocumentPosition&&f.compareDocumentPosition(C)&16))};var q=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function H(f,g){return g?f==="\0"?"ï¿½":f.slice(0,-1)+"\\"+f.charCodeAt(f.length-1).toString(16)+" ":"\\"+f}v.escapeSelector=function(f){return(f+"").replace(q,H)};var U=b,X=s;(function(){var f,g,C,T,I,D=X,O,Q,K,te,ve,we=v.expando,se=0,Te=0,Je=bo(),ut=bo(),nt=bo(),jt=bo(),$t=function(V,J){return V===J&&(I=!0),0},Gr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",jr="(?:\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",lt="\\["+z+"*("+jr+")(?:"+z+"*([*^$|!~]?=)"+z+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+jr+"))|)"+z+"*\\]",Qn=":("+jr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+lt+")*)|.*)\\)|)",ft=new RegExp(z+"+","g"),Lt=new RegExp("^"+z+"*,"+z+"*"),va=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),Js=new RegExp(z+"|>"),Kr=new RegExp(Qn),pa=new RegExp("^"+jr+"$"),Yr={ID:new RegExp("^#("+jr+")"),CLASS:new RegExp("^\\.("+jr+")"),TAG:new RegExp("^("+jr+"|[*])"),ATTR:new RegExp("^"+lt),PSEUDO:new RegExp("^"+Qn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+Gr+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},Tn=/^(?:input|select|textarea|button)$/i,kn=/^h\d$/i,Ar=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,el=/[+~]/,cn=new RegExp("\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\([^\\r\\n\\f])","g"),fn=function(V,J){var oe="0x"+V.slice(1)-65536;return J||(oe<0?String.fromCharCode(oe+65536):String.fromCharCode(oe>>10|55296,oe&1023|56320))},Sp=function(){_n()},Tp=xo(function(V){return V.disabled===!0&&k(V,"fieldset")},{dir:"parentNode",next:"legend"});function kp(){try{return O.activeElement}catch{}}try{D.apply(n=a.call(U.childNodes),U.childNodes),n[U.childNodes.length].nodeType}catch{D={apply:function(J,oe){X.apply(J,a.call(oe))},call:function(J){X.apply(J,a.call(arguments,1))}}}function wt(V,J,oe,ue){var be,Ie,Fe,Ve,$e,at,Ze,et=J&&J.ownerDocument,ot=J?J.nodeType:9;if(oe=oe||[],typeof V!="string"||!V||ot!==1&&ot!==9&&ot!==11)return oe;if(!ue&&(_n(J),J=J||O,K)){if(ot!==11&&($e=Ar.exec(V)))if(be=$e[1]){if(ot===9)if(Fe=J.getElementById(be)){if(Fe.id===be)return D.call(oe,Fe),oe}else return oe;else if(et&&(Fe=et.getElementById(be))&&wt.contains(J,Fe)&&Fe.id===be)return D.call(oe,Fe),oe}else{if($e[2])return D.apply(oe,J.getElementsByTagName(V)),oe;if((be=$e[3])&&J.getElementsByClassName)return D.apply(oe,J.getElementsByClassName(be)),oe}if(!jt[V+" "]&&(!te||!te.test(V))){if(Ze=V,et=J,ot===1&&(Js.test(V)||va.test(V))){for(et=el.test(V)&&tl(J.parentNode)||J,(et!=J||!h.scope)&&((Ve=J.getAttribute("id"))?Ve=v.escapeSelector(Ve):J.setAttribute("id",Ve=we)),at=ga(V),Ie=at.length;Ie--;)at[Ie]=(Ve?"#"+Ve:":scope")+" "+wo(at[Ie]);Ze=at.join(",")}try{return D.apply(oe,et.querySelectorAll(Ze)),oe}catch{jt(V,!0)}finally{Ve===we&&J.removeAttribute("id")}}}return lc(V.replace(R,"$1"),J,oe,ue)}function bo(){var V=[];function J(oe,ue){return V.push(oe+" ")>g.cacheLength&&delete J[V.shift()],J[oe+" "]=ue}return J}function Fr(V){return V[we]=!0,V}function Ei(V){var J=O.createElement("fieldset");try{return!!V(J)}catch{return!1}finally{J.parentNode&&J.parentNode.removeChild(J),J=null}}function _p(V){return function(J){return k(J,"input")&&J.type===V}}function Ap(V){return function(J){return(k(J,"input")||k(J,"button"))&&J.type===V}}function oc(V){return function(J){return"form"in J?J.parentNode&&J.disabled===!1?"label"in J?"label"in J.parentNode?J.parentNode.disabled===V:J.disabled===V:J.isDisabled===V||J.isDisabled!==!V&&Tp(J)===V:J.disabled===V:"label"in J?J.disabled===V:!1}}function Zn(V){return Fr(function(J){return J=+J,Fr(function(oe,ue){for(var be,Ie=V([],oe.length,J),Fe=Ie.length;Fe--;)oe[be=Ie[Fe]]&&(oe[be]=!(ue[be]=oe[be]))})})}function tl(V){return V&&typeof V.getElementsByTagName<"u"&&V}function _n(V){var J,oe=V?V.ownerDocument||V:U;return oe==O||oe.nodeType!==9||!oe.documentElement||(O=oe,Q=O.documentElement,K=!v.isXMLDoc(O),ve=Q.matches||Q.webkitMatchesSelector||Q.msMatchesSelector,Q.msMatchesSelector&&U!=O&&(J=O.defaultView)&&J.top!==J&&J.addEventListener("unload",Sp),h.getById=Ei(function(ue){return Q.appendChild(ue).id=v.expando,!O.getElementsByName||!O.getElementsByName(v.expando).length}),h.disconnectedMatch=Ei(function(ue){return ve.call(ue,"*")}),h.scope=Ei(function(){return O.querySelectorAll(":scope")}),h.cssHas=Ei(function(){try{return O.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),h.getById?(g.filter.ID=function(ue){var be=ue.replace(cn,fn);return function(Ie){return Ie.getAttribute("id")===be}},g.find.ID=function(ue,be){if(typeof be.getElementById<"u"&&K){var Ie=be.getElementById(ue);return Ie?[Ie]:[]}}):(g.filter.ID=function(ue){var be=ue.replace(cn,fn);return function(Ie){var Fe=typeof Ie.getAttributeNode<"u"&&Ie.getAttributeNode("id");return Fe&&Fe.value===be}},g.find.ID=function(ue,be){if(typeof be.getElementById<"u"&&K){var Ie,Fe,Ve,$e=be.getElementById(ue);if($e){if(Ie=$e.getAttributeNode("id"),Ie&&Ie.value===ue)return[$e];for(Ve=be.getElementsByName(ue),Fe=0;$e=Ve[Fe++];)if(Ie=$e.getAttributeNode("id"),Ie&&Ie.value===ue)return[$e]}return[]}}),g.find.TAG=function(ue,be){return typeof be.getElementsByTagName<"u"?be.getElementsByTagName(ue):be.querySelectorAll(ue)},g.find.CLASS=function(ue,be){if(typeof be.getElementsByClassName<"u"&&K)return be.getElementsByClassName(ue)},te=[],Ei(function(ue){var be;Q.appendChild(ue).innerHTML="<a id='"+we+"' href='' disabled='disabled'></a><select id='"+we+"-\r\\' disabled='disabled'><option selected=''></option></select>",ue.querySelectorAll("[selected]").length||te.push("\\["+z+"*(?:value|"+Gr+")"),ue.querySelectorAll("[id~="+we+"-]").length||te.push("~="),ue.querySelectorAll("a#"+we+"+*").length||te.push(".#.+[+~]"),ue.querySelectorAll(":checked").length||te.push(":checked"),be=O.createElement("input"),be.setAttribute("type","hidden"),ue.appendChild(be).setAttribute("name","D"),Q.appendChild(ue).disabled=!0,ue.querySelectorAll(":disabled").length!==2&&te.push(":enabled",":disabled"),be=O.createElement("input"),be.setAttribute("name",""),ue.appendChild(be),ue.querySelectorAll("[name='']").length||te.push("\\["+z+"*name"+z+"*="+z+`*(?:''|"")`)}),h.cssHas||te.push(":has"),te=te.length&&new RegExp(te.join("|")),$t=function(ue,be){if(ue===be)return I=!0,0;var Ie=!ue.compareDocumentPosition-!be.compareDocumentPosition;return Ie||(Ie=(ue.ownerDocument||ue)==(be.ownerDocument||be)?ue.compareDocumentPosition(be):1,Ie&1||!h.sortDetached&&be.compareDocumentPosition(ue)===Ie?ue===O||ue.ownerDocument==U&&wt.contains(U,ue)?-1:be===O||be.ownerDocument==U&&wt.contains(U,be)?1:T?l.call(T,ue)-l.call(T,be):0:Ie&4?-1:1)}),O}wt.matches=function(V,J){return wt(V,null,null,J)},wt.matchesSelector=function(V,J){if(_n(V),K&&!jt[J+" "]&&(!te||!te.test(J)))try{var oe=ve.call(V,J);if(oe||h.disconnectedMatch||V.document&&V.document.nodeType!==11)return oe}catch{jt(J,!0)}return wt(J,O,null,[V]).length>0},wt.contains=function(V,J){return(V.ownerDocument||V)!=O&&_n(V),v.contains(V,J)},wt.attr=function(V,J){(V.ownerDocument||V)!=O&&_n(V);var oe=g.attrHandle[J.toLowerCase()],ue=oe&&d.call(g.attrHandle,J.toLowerCase())?oe(V,J,!K):void 0;return ue!==void 0?ue:V.getAttribute(J)},wt.error=function(V){throw new Error("Syntax error, unrecognized expression: "+V)},v.uniqueSort=function(V){var J,oe=[],ue=0,be=0;if(I=!h.sortStable,T=!h.sortStable&&a.call(V,0),N.call(V,$t),I){for(;J=V[be++];)J===V[be]&&(ue=oe.push(be));for(;ue--;)M.call(V,oe[ue],1)}return T=null,V},v.fn.uniqueSort=function(){return this.pushStack(v.uniqueSort(a.apply(this)))},g=v.expr={cacheLength:50,createPseudo:Fr,match:Yr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(V){return V[1]=V[1].replace(cn,fn),V[3]=(V[3]||V[4]||V[5]||"").replace(cn,fn),V[2]==="~="&&(V[3]=" "+V[3]+" "),V.slice(0,4)},CHILD:function(V){return V[1]=V[1].toLowerCase(),V[1].slice(0,3)==="nth"?(V[3]||wt.error(V[0]),V[4]=+(V[4]?V[5]+(V[6]||1):2*(V[3]==="even"||V[3]==="odd")),V[5]=+(V[7]+V[8]||V[3]==="odd")):V[3]&&wt.error(V[0]),V},PSEUDO:function(V){var J,oe=!V[6]&&V[2];return Yr.CHILD.test(V[0])?null:(V[3]?V[2]=V[4]||V[5]||"":oe&&Kr.test(oe)&&(J=ga(oe,!0))&&(J=oe.indexOf(")",oe.length-J)-oe.length)&&(V[0]=V[0].slice(0,J),V[2]=oe.slice(0,J)),V.slice(0,3))}},filter:{TAG:function(V){var J=V.replace(cn,fn).toLowerCase();return V==="*"?function(){return!0}:function(oe){return k(oe,J)}},CLASS:function(V){var J=Je[V+" "];return J||(J=new RegExp("(^|"+z+")"+V+"("+z+"|$)"))&&Je(V,function(oe){return J.test(typeof oe.className=="string"&&oe.className||typeof oe.getAttribute<"u"&&oe.getAttribute("class")||"")})},ATTR:function(V,J,oe){return function(ue){var be=wt.attr(ue,V);return be==null?J==="!=":J?(be+="",J==="="?be===oe:J==="!="?be!==oe:J==="^="?oe&&be.indexOf(oe)===0:J==="*="?oe&&be.indexOf(oe)>-1:J==="$="?oe&&be.slice(-oe.length)===oe:J==="~="?(" "+be.replace(ft," ")+" ").indexOf(oe)>-1:J==="|="?be===oe||be.slice(0,oe.length+1)===oe+"-":!1):!0}},CHILD:function(V,J,oe,ue,be){var Ie=V.slice(0,3)!=="nth",Fe=V.slice(-4)!=="last",Ve=J==="of-type";return ue===1&&be===0?function($e){return!!$e.parentNode}:function($e,at,Ze){var et,ot,Xe,kt,pr,tr=Ie!==Fe?"nextSibling":"previousSibling",Ir=$e.parentNode,Xr=Ve&&$e.nodeName.toLowerCase(),Ci=!Ze&&!Ve,ur=!1;if(Ir){if(Ie){for(;tr;){for(Xe=$e;Xe=Xe[tr];)if(Ve?k(Xe,Xr):Xe.nodeType===1)return!1;pr=tr=V==="only"&&!pr&&"nextSibling"}return!0}if(pr=[Fe?Ir.firstChild:Ir.lastChild],Fe&&Ci){for(ot=Ir[we]||(Ir[we]={}),et=ot[V]||[],kt=et[0]===se&&et[1],ur=kt&&et[2],Xe=kt&&Ir.childNodes[kt];Xe=++kt&&Xe&&Xe[tr]||(ur=kt=0)||pr.pop();)if(Xe.nodeType===1&&++ur&&Xe===$e){ot[V]=[se,kt,ur];break}}else if(Ci&&(ot=$e[we]||($e[we]={}),et=ot[V]||[],kt=et[0]===se&&et[1],ur=kt),ur===!1)for(;(Xe=++kt&&Xe&&Xe[tr]||(ur=kt=0)||pr.pop())&&!((Ve?k(Xe,Xr):Xe.nodeType===1)&&++ur&&(Ci&&(ot=Xe[we]||(Xe[we]={}),ot[V]=[se,ur]),Xe===$e)););return ur-=be,ur===ue||ur%ue===0&&ur/ue>=0}}},PSEUDO:function(V,J){var oe,ue=g.pseudos[V]||g.setFilters[V.toLowerCase()]||wt.error("unsupported pseudo: "+V);return ue[we]?ue(J):ue.length>1?(oe=[V,V,"",J],g.setFilters.hasOwnProperty(V.toLowerCase())?Fr(function(be,Ie){for(var Fe,Ve=ue(be,J),$e=Ve.length;$e--;)Fe=l.call(be,Ve[$e]),be[Fe]=!(Ie[Fe]=Ve[$e])}):function(be){return ue(be,0,oe)}):ue}},pseudos:{not:Fr(function(V){var J=[],oe=[],ue=al(V.replace(R,"$1"));return ue[we]?Fr(function(be,Ie,Fe,Ve){for(var $e,at=ue(be,null,Ve,[]),Ze=be.length;Ze--;)($e=at[Ze])&&(be[Ze]=!(Ie[Ze]=$e))}):function(be,Ie,Fe){return J[0]=be,ue(J,null,Fe,oe),J[0]=null,!oe.pop()}}),has:Fr(function(V){return function(J){return wt(V,J).length>0}}),contains:Fr(function(V){return V=V.replace(cn,fn),function(J){return(J.textContent||v.text(J)).indexOf(V)>-1}}),lang:Fr(function(V){return pa.test(V||"")||wt.error("unsupported lang: "+V),V=V.replace(cn,fn).toLowerCase(),function(J){var oe;do if(oe=K?J.lang:J.getAttribute("xml:lang")||J.getAttribute("lang"))return oe=oe.toLowerCase(),oe===V||oe.indexOf(V+"-")===0;while((J=J.parentNode)&&J.nodeType===1);return!1}}),target:function(V){var J=e.location&&e.location.hash;return J&&J.slice(1)===V.id},root:function(V){return V===Q},focus:function(V){return V===kp()&&O.hasFocus()&&!!(V.type||V.href||~V.tabIndex)},enabled:oc(!1),disabled:oc(!0),checked:function(V){return k(V,"input")&&!!V.checked||k(V,"option")&&!!V.selected},selected:function(V){return V.parentNode&&V.parentNode.selectedIndex,V.selected===!0},empty:function(V){for(V=V.firstChild;V;V=V.nextSibling)if(V.nodeType<6)return!1;return!0},parent:function(V){return!g.pseudos.empty(V)},header:function(V){return kn.test(V.nodeName)},input:function(V){return Tn.test(V.nodeName)},button:function(V){return k(V,"input")&&V.type==="button"||k(V,"button")},text:function(V){var J;return k(V,"input")&&V.type==="text"&&((J=V.getAttribute("type"))==null||J.toLowerCase()==="text")},first:Zn(function(){return[0]}),last:Zn(function(V,J){return[J-1]}),eq:Zn(function(V,J,oe){return[oe<0?oe+J:oe]}),even:Zn(function(V,J){for(var oe=0;oe<J;oe+=2)V.push(oe);return V}),odd:Zn(function(V,J){for(var oe=1;oe<J;oe+=2)V.push(oe);return V}),lt:Zn(function(V,J,oe){var ue;for(oe<0?ue=oe+J:oe>J?ue=J:ue=oe;--ue>=0;)V.push(ue);return V}),gt:Zn(function(V,J,oe){for(var ue=oe<0?oe+J:oe;++ue<J;)V.push(ue);return V})}},g.pseudos.nth=g.pseudos.eq;for(f in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})g.pseudos[f]=_p(f);for(f in{submit:!0,reset:!0})g.pseudos[f]=Ap(f);function sc(){}sc.prototype=g.filters=g.pseudos,g.setFilters=new sc;function ga(V,J){var oe,ue,be,Ie,Fe,Ve,$e,at=ut[V+" "];if(at)return J?0:at.slice(0);for(Fe=V,Ve=[],$e=g.preFilter;Fe;){(!oe||(ue=Lt.exec(Fe)))&&(ue&&(Fe=Fe.slice(ue[0].length)||Fe),Ve.push(be=[])),oe=!1,(ue=va.exec(Fe))&&(oe=ue.shift(),be.push({value:oe,type:ue[0].replace(R," ")}),Fe=Fe.slice(oe.length));for(Ie in g.filter)(ue=Yr[Ie].exec(Fe))&&(!$e[Ie]||(ue=$e[Ie](ue)))&&(oe=ue.shift(),be.push({value:oe,type:Ie,matches:ue}),Fe=Fe.slice(oe.length));if(!oe)break}return J?Fe.length:Fe?wt.error(V):ut(V,Ve).slice(0)}function wo(V){for(var J=0,oe=V.length,ue="";J<oe;J++)ue+=V[J].value;return ue}function xo(V,J,oe){var ue=J.dir,be=J.next,Ie=be||ue,Fe=oe&&Ie==="parentNode",Ve=Te++;return J.first?function($e,at,Ze){for(;$e=$e[ue];)if($e.nodeType===1||Fe)return V($e,at,Ze);return!1}:function($e,at,Ze){var et,ot,Xe=[se,Ve];if(Ze){for(;$e=$e[ue];)if(($e.nodeType===1||Fe)&&V($e,at,Ze))return!0}else for(;$e=$e[ue];)if($e.nodeType===1||Fe)if(ot=$e[we]||($e[we]={}),be&&k($e,be))$e=$e[ue]||$e;else{if((et=ot[Ie])&&et[0]===se&&et[1]===Ve)return Xe[2]=et[2];if(ot[Ie]=Xe,Xe[2]=V($e,at,Ze))return!0}return!1}}function rl(V){return V.length>1?function(J,oe,ue){for(var be=V.length;be--;)if(!V[be](J,oe,ue))return!1;return!0}:V[0]}function Ip(V,J,oe){for(var ue=0,be=J.length;ue<be;ue++)wt(V,J[ue],oe);return oe}function Eo(V,J,oe,ue,be){for(var Ie,Fe=[],Ve=0,$e=V.length,at=J!=null;Ve<$e;Ve++)(Ie=V[Ve])&&(!oe||oe(Ie,ue,be))&&(Fe.push(Ie),at&&J.push(Ve));return Fe}function nl(V,J,oe,ue,be,Ie){return ue&&!ue[we]&&(ue=nl(ue)),be&&!be[we]&&(be=nl(be,Ie)),Fr(function(Fe,Ve,$e,at){var Ze,et,ot,Xe,kt=[],pr=[],tr=Ve.length,Ir=Fe||Ip(J||"*",$e.nodeType?[$e]:$e,[]),Xr=V&&(Fe||!J)?Eo(Ir,kt,V,$e,at):Ir;if(oe?(Xe=be||(Fe?V:tr||ue)?[]:Ve,oe(Xr,Xe,$e,at)):Xe=Xr,ue)for(Ze=Eo(Xe,pr),ue(Ze,[],$e,at),et=Ze.length;et--;)(ot=Ze[et])&&(Xe[pr[et]]=!(Xr[pr[et]]=ot));if(Fe){if(be||V){if(be){for(Ze=[],et=Xe.length;et--;)(ot=Xe[et])&&Ze.push(Xr[et]=ot);be(null,Xe=[],Ze,at)}for(et=Xe.length;et--;)(ot=Xe[et])&&(Ze=be?l.call(Fe,ot):kt[et])>-1&&(Fe[Ze]=!(Ve[Ze]=ot))}}else Xe=Eo(Xe===Ve?Xe.splice(tr,Xe.length):Xe),be?be(null,Ve,Xe,at):D.apply(Ve,Xe)})}function il(V){for(var J,oe,ue,be=V.length,Ie=g.relative[V[0].type],Fe=Ie||g.relative[" "],Ve=Ie?1:0,$e=xo(function(et){return et===J},Fe,!0),at=xo(function(et){return l.call(J,et)>-1},Fe,!0),Ze=[function(et,ot,Xe){var kt=!Ie&&(Xe||ot!=C)||((J=ot).nodeType?$e(et,ot,Xe):at(et,ot,Xe));return J=null,kt}];Ve<be;Ve++)if(oe=g.relative[V[Ve].type])Ze=[xo(rl(Ze),oe)];else{if(oe=g.filter[V[Ve].type].apply(null,V[Ve].matches),oe[we]){for(ue=++Ve;ue<be&&!g.relative[V[ue].type];ue++);return nl(Ve>1&&rl(Ze),Ve>1&&wo(V.slice(0,Ve-1).concat({value:V[Ve-2].type===" "?"*":""})).replace(R,"$1"),oe,Ve<ue&&il(V.slice(Ve,ue)),ue<be&&il(V=V.slice(ue)),ue<be&&wo(V))}Ze.push(oe)}return rl(Ze)}function Dp(V,J){var oe=J.length>0,ue=V.length>0,be=function(Ie,Fe,Ve,$e,at){var Ze,et,ot,Xe=0,kt="0",pr=Ie&&[],tr=[],Ir=C,Xr=Ie||ue&&g.find.TAG("*",at),Ci=se+=Ir==null?1:Math.random()||.1,ur=Xr.length;for(at&&(C=Fe==O||Fe||at);kt!==ur&&(Ze=Xr[kt])!=null;kt++){if(ue&&Ze){for(et=0,!Fe&&Ze.ownerDocument!=O&&(_n(Ze),Ve=!K);ot=V[et++];)if(ot(Ze,Fe||O,Ve)){D.call($e,Ze);break}at&&(se=Ci)}oe&&((Ze=!ot&&Ze)&&Xe--,Ie&&pr.push(Ze))}if(Xe+=kt,oe&&kt!==Xe){for(et=0;ot=J[et++];)ot(pr,tr,Fe,Ve);if(Ie){if(Xe>0)for(;kt--;)pr[kt]||tr[kt]||(tr[kt]=B.call($e));tr=Eo(tr)}D.apply($e,tr),at&&!Ie&&tr.length>0&&Xe+J.length>1&&v.uniqueSort($e)}return at&&(se=Ci,C=Ir),pr};return oe?Fr(be):be}function al(V,J){var oe,ue=[],be=[],Ie=nt[V+" "];if(!Ie){for(J||(J=ga(V)),oe=J.length;oe--;)Ie=il(J[oe]),Ie[we]?ue.push(Ie):be.push(Ie);Ie=nt(V,Dp(be,ue)),Ie.selector=V}return Ie}function lc(V,J,oe,ue){var be,Ie,Fe,Ve,$e,at=typeof V=="function"&&V,Ze=!ue&&ga(V=at.selector||V);if(oe=oe||[],Ze.length===1){if(Ie=Ze[0]=Ze[0].slice(0),Ie.length>2&&(Fe=Ie[0]).type==="ID"&&J.nodeType===9&&K&&g.relative[Ie[1].type]){if(J=(g.find.ID(Fe.matches[0].replace(cn,fn),J)||[])[0],J)at&&(J=J.parentNode);else return oe;V=V.slice(Ie.shift().value.length)}for(be=Yr.needsContext.test(V)?0:Ie.length;be--&&(Fe=Ie[be],!g.relative[Ve=Fe.type]);)if(($e=g.find[Ve])&&(ue=$e(Fe.matches[0].replace(cn,fn),el.test(Ie[0].type)&&tl(J.parentNode)||J))){if(Ie.splice(be,1),V=ue.length&&wo(Ie),!V)return D.apply(oe,ue),oe;break}}return(at||al(V,Ze))(ue,J,!K,oe,!J||el.test(V)&&tl(J.parentNode)||J),oe}h.sortStable=we.split("").sort($t).join("")===we,_n(),h.sortDetached=Ei(function(V){return V.compareDocumentPosition(O.createElement("fieldset"))&1}),v.find=wt,v.expr[":"]=v.expr.pseudos,v.unique=v.uniqueSort,wt.compile=al,wt.select=lc,wt.setDocument=_n,wt.tokenize=ga,wt.escape=v.escapeSelector,wt.getText=v.text,wt.isXML=v.isXMLDoc,wt.selectors=v.expr,wt.support=v.support,wt.uniqueSort=v.uniqueSort})();var re=function(f,g,C){for(var T=[],I=C!==void 0;(f=f[g])&&f.nodeType!==9;)if(f.nodeType===1){if(I&&v(f).is(C))break;T.push(f)}return T},j=function(f,g){for(var C=[];f;f=f.nextSibling)f.nodeType===1&&f!==g&&C.push(f);return C},F=v.expr.match.needsContext,W=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function $(f,g,C){return y(g)?v.grep(f,function(T,I){return!!g.call(T,I,T)!==C}):g.nodeType?v.grep(f,function(T){return T===g!==C}):typeof g!="string"?v.grep(f,function(T){return l.call(g,T)>-1!==C}):v.filter(g,f,C)}v.filter=function(f,g,C){var T=g[0];return C&&(f=":not("+f+")"),g.length===1&&T.nodeType===1?v.find.matchesSelector(T,f)?[T]:[]:v.find.matches(f,v.grep(g,function(I){return I.nodeType===1}))},v.fn.extend({find:function(f){var g,C,T=this.length,I=this;if(typeof f!="string")return this.pushStack(v(f).filter(function(){for(g=0;g<T;g++)if(v.contains(I[g],this))return!0}));for(C=this.pushStack([]),g=0;g<T;g++)v.find(f,I[g],C);return T>1?v.uniqueSort(C):C},filter:function(f){return this.pushStack($(this,f||[],!1))},not:function(f){return this.pushStack($(this,f||[],!0))},is:function(f){return!!$(this,typeof f=="string"&&F.test(f)?v(f):f||[],!1).length}});var Y,Z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ee=v.fn.init=function(f,g,C){var T,I;if(!f)return this;if(C=C||Y,typeof f=="string")if(f[0]==="<"&&f[f.length-1]===">"&&f.length>=3?T=[null,f,null]:T=Z.exec(f),T&&(T[1]||!g))if(T[1]){if(g=g instanceof v?g[0]:g,v.merge(this,v.parseHTML(T[1],g&&g.nodeType?g.ownerDocument||g:b,!0)),W.test(T[1])&&v.isPlainObject(g))for(T in g)y(this[T])?this[T](g[T]):this.attr(T,g[T]);return this}else return I=b.getElementById(T[2]),I&&(this[0]=I,this.length=1),this;else return!g||g.jquery?(g||C).find(f):this.constructor(g).find(f);else{if(f.nodeType)return this[0]=f,this.length=1,this;if(y(f))return C.ready!==void 0?C.ready(f):f(v)}return v.makeArray(f,this)};ee.prototype=v.fn,Y=v(b);var G=/^(?:parents|prev(?:Until|All))/,ie={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(f){var g=v(f,this),C=g.length;return this.filter(function(){for(var T=0;T<C;T++)if(v.contains(this,g[T]))return!0})},closest:function(f,g){var C,T=0,I=this.length,D=[],O=typeof f!="string"&&v(f);if(!F.test(f)){for(;T<I;T++)for(C=this[T];C&&C!==g;C=C.parentNode)if(C.nodeType<11&&(O?O.index(C)>-1:C.nodeType===1&&v.find.matchesSelector(C,f))){D.push(C);break}}return this.pushStack(D.length>1?v.uniqueSort(D):D)},index:function(f){return f?typeof f=="string"?l.call(v(f),this[0]):l.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,g){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(f,g))))},addBack:function(f){return this.add(f==null?this.prevObject:this.prevObject.filter(f))}});function pe(f,g){for(;(f=f[g])&&f.nodeType!==1;);return f}v.each({parent:function(f){var g=f.parentNode;return g&&g.nodeType!==11?g:null},parents:function(f){return re(f,"parentNode")},parentsUntil:function(f,g,C){return re(f,"parentNode",C)},next:function(f){return pe(f,"nextSibling")},prev:function(f){return pe(f,"previousSibling")},nextAll:function(f){return re(f,"nextSibling")},prevAll:function(f){return re(f,"previousSibling")},nextUntil:function(f,g,C){return re(f,"nextSibling",C)},prevUntil:function(f,g,C){return re(f,"previousSibling",C)},siblings:function(f){return j((f.parentNode||{}).firstChild,f)},children:function(f){return j(f.firstChild)},contents:function(f){return f.contentDocument!=null&&i(f.contentDocument)?f.contentDocument:(k(f,"template")&&(f=f.content||f),v.merge([],f.childNodes))}},function(f,g){v.fn[f]=function(C,T){var I=v.map(this,g,C);return f.slice(-5)!=="Until"&&(T=C),T&&typeof T=="string"&&(I=v.filter(T,I)),this.length>1&&(ie[f]||v.uniqueSort(I),G.test(f)&&I.reverse()),this.pushStack(I)}});var ce=/[^\x20\t\r\n\f]+/g;function Se(f){var g={};return v.each(f.match(ce)||[],function(C,T){g[T]=!0}),g}v.Callbacks=function(f){f=typeof f=="string"?Se(f):v.extend({},f);var g,C,T,I,D=[],O=[],Q=-1,K=function(){for(I=I||f.once,T=g=!0;O.length;Q=-1)for(C=O.shift();++Q<D.length;)D[Q].apply(C[0],C[1])===!1&&f.stopOnFalse&&(Q=D.length,C=!1);f.memory||(C=!1),g=!1,I&&(C?D=[]:D="")},te={add:function(){return D&&(C&&!g&&(Q=D.length-1,O.push(C)),function ve(we){v.each(we,function(se,Te){y(Te)?(!f.unique||!te.has(Te))&&D.push(Te):Te&&Te.length&&x(Te)!=="string"&&ve(Te)})}(arguments),C&&!g&&K()),this},remove:function(){return v.each(arguments,function(ve,we){for(var se;(se=v.inArray(we,D,se))>-1;)D.splice(se,1),se<=Q&&Q--}),this},has:function(ve){return ve?v.inArray(ve,D)>-1:D.length>0},empty:function(){return D&&(D=[]),this},disable:function(){return I=O=[],D=C="",this},disabled:function(){return!D},lock:function(){return I=O=[],!C&&!g&&(D=C=""),this},locked:function(){return!!I},fireWith:function(ve,we){return I||(we=we||[],we=[ve,we.slice?we.slice():we],O.push(we),g||K()),this},fire:function(){return te.fireWith(this,arguments),this},fired:function(){return!!T}};return te};function Ne(f){return f}function qe(f){throw f}function ke(f,g,C,T){var I;try{f&&y(I=f.promise)?I.call(f).done(g).fail(C):f&&y(I=f.then)?I.call(f,g,C):g.apply(void 0,[f].slice(T))}catch(D){C.apply(void 0,[D])}}v.extend({Deferred:function(f){var g=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],C="pending",T={state:function(){return C},always:function(){return I.done(arguments).fail(arguments),this},catch:function(D){return T.then(null,D)},pipe:function(){var D=arguments;return v.Deferred(function(O){v.each(g,function(Q,K){var te=y(D[K[4]])&&D[K[4]];I[K[1]](function(){var ve=te&&te.apply(this,arguments);ve&&y(ve.promise)?ve.promise().progress(O.notify).done(O.resolve).fail(O.reject):O[K[0]+"With"](this,te?[ve]:arguments)})}),D=null}).promise()},then:function(D,O,Q){var K=0;function te(ve,we,se,Te){return function(){var Je=this,ut=arguments,nt=function(){var $t,Gr;if(!(ve<K)){if($t=se.apply(Je,ut),$t===we.promise())throw new TypeError("Thenable self-resolution");Gr=$t&&(typeof $t=="object"||typeof $t=="function")&&$t.then,y(Gr)?Te?Gr.call($t,te(K,we,Ne,Te),te(K,we,qe,Te)):(K++,Gr.call($t,te(K,we,Ne,Te),te(K,we,qe,Te),te(K,we,Ne,we.notifyWith))):(se!==Ne&&(Je=void 0,ut=[$t]),(Te||we.resolveWith)(Je,ut))}},jt=Te?nt:function(){try{nt()}catch($t){v.Deferred.exceptionHook&&v.Deferred.exceptionHook($t,jt.error),ve+1>=K&&(se!==qe&&(Je=void 0,ut=[$t]),we.rejectWith(Je,ut))}};ve?jt():(v.Deferred.getErrorHook?jt.error=v.Deferred.getErrorHook():v.Deferred.getStackHook&&(jt.error=v.Deferred.getStackHook()),e.setTimeout(jt))}}return v.Deferred(function(ve){g[0][3].add(te(0,ve,y(Q)?Q:Ne,ve.notifyWith)),g[1][3].add(te(0,ve,y(D)?D:Ne)),g[2][3].add(te(0,ve,y(O)?O:qe))}).promise()},promise:function(D){return D!=null?v.extend(D,T):T}},I={};return v.each(g,function(D,O){var Q=O[2],K=O[5];T[O[1]]=Q.add,K&&Q.add(function(){C=K},g[3-D][2].disable,g[3-D][3].disable,g[0][2].lock,g[0][3].lock),Q.add(O[3].fire),I[O[0]]=function(){return I[O[0]+"With"](this===I?void 0:this,arguments),this},I[O[0]+"With"]=Q.fireWith}),T.promise(I),f&&f.call(I,I),I},when:function(f){var g=arguments.length,C=g,T=Array(C),I=a.call(arguments),D=v.Deferred(),O=function(Q){return function(K){T[Q]=this,I[Q]=arguments.length>1?a.call(arguments):K,--g||D.resolveWith(T,I)}};if(g<=1&&(ke(f,D.done(O(C)).resolve,D.reject,!g),D.state()==="pending"||y(I[C]&&I[C].then)))return D.then();for(;C--;)ke(I[C],O(C),D.reject);return D.promise()}});var Ee=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(f,g){e.console&&e.console.warn&&f&&Ee.test(f.name)&&e.console.warn("jQuery.Deferred exception: "+f.message,f.stack,g)},v.readyException=function(f){e.setTimeout(function(){throw f})};var xe=v.Deferred();v.fn.ready=function(f){return xe.then(f).catch(function(g){v.readyException(g)}),this},v.extend({isReady:!1,readyWait:1,ready:function(f){(f===!0?--v.readyWait:v.isReady)||(v.isReady=!0,!(f!==!0&&--v.readyWait>0)&&xe.resolveWith(b,[v]))}}),v.ready.then=xe.then;function fe(){b.removeEventListener("DOMContentLoaded",fe),e.removeEventListener("load",fe),v.ready()}b.readyState==="complete"||b.readyState!=="loading"&&!b.documentElement.doScroll?e.setTimeout(v.ready):(b.addEventListener("DOMContentLoaded",fe),e.addEventListener("load",fe));var le=function(f,g,C,T,I,D,O){var Q=0,K=f.length,te=C==null;if(x(C)==="object"){I=!0;for(Q in C)le(f,g,Q,C[Q],!0,D,O)}else if(T!==void 0&&(I=!0,y(T)||(O=!0),te&&(O?(g.call(f,T),g=null):(te=g,g=function(ve,we,se){return te.call(v(ve),se)})),g))for(;Q<K;Q++)g(f[Q],C,O?T:T.call(f[Q],Q,g(f[Q],C)));return I?f:te?g.call(f):K?g(f[0],C):D},Ae=/^-ms-/,Le=/-([a-z])/g;function Ge(f,g){return g.toUpperCase()}function Re(f){return f.replace(Ae,"ms-").replace(Le,Ge)}var Me=function(f){return f.nodeType===1||f.nodeType===9||!+f.nodeType};function me(){this.expando=v.expando+me.uid++}me.uid=1,me.prototype={cache:function(f){var g=f[this.expando];return g||(g={},Me(f)&&(f.nodeType?f[this.expando]=g:Object.defineProperty(f,this.expando,{value:g,configurable:!0}))),g},set:function(f,g,C){var T,I=this.cache(f);if(typeof g=="string")I[Re(g)]=C;else for(T in g)I[Re(T)]=g[T];return I},get:function(f,g){return g===void 0?this.cache(f):f[this.expando]&&f[this.expando][Re(g)]},access:function(f,g,C){return g===void 0||g&&typeof g=="string"&&C===void 0?this.get(f,g):(this.set(f,g,C),C!==void 0?C:g)},remove:function(f,g){var C,T=f[this.expando];if(T!==void 0){if(g!==void 0)for(Array.isArray(g)?g=g.map(Re):(g=Re(g),g=g in T?[g]:g.match(ce)||[]),C=g.length;C--;)delete T[g[C]];(g===void 0||v.isEmptyObject(T))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var g=f[this.expando];return g!==void 0&&!v.isEmptyObject(g)}};var L=new me,ne=new me,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,he=/[A-Z]/g;function de(f){return f==="true"?!0:f==="false"?!1:f==="null"?null:f===+f+""?+f:ye.test(f)?JSON.parse(f):f}function Ye(f,g,C){var T;if(C===void 0&&f.nodeType===1)if(T="data-"+g.replace(he,"-$&").toLowerCase(),C=f.getAttribute(T),typeof C=="string"){try{C=de(C)}catch{}ne.set(f,g,C)}else C=void 0;return C}v.extend({hasData:function(f){return ne.hasData(f)||L.hasData(f)},data:function(f,g,C){return ne.access(f,g,C)},removeData:function(f,g){ne.remove(f,g)},_data:function(f,g,C){return L.access(f,g,C)},_removeData:function(f,g){L.remove(f,g)}}),v.fn.extend({data:function(f,g){var C,T,I,D=this[0],O=D&&D.attributes;if(f===void 0){if(this.length&&(I=ne.get(D),D.nodeType===1&&!L.get(D,"hasDataAttrs"))){for(C=O.length;C--;)O[C]&&(T=O[C].name,T.indexOf("data-")===0&&(T=Re(T.slice(5)),Ye(D,T,I[T])));L.set(D,"hasDataAttrs",!0)}return I}return typeof f=="object"?this.each(function(){ne.set(this,f)}):le(this,function(Q){var K;if(D&&Q===void 0)return K=ne.get(D,f),K!==void 0||(K=Ye(D,f),K!==void 0)?K:void 0;this.each(function(){ne.set(this,f,Q)})},null,g,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){ne.remove(this,f)})}}),v.extend({queue:function(f,g,C){var T;if(f)return g=(g||"fx")+"queue",T=L.get(f,g),C&&(!T||Array.isArray(C)?T=L.access(f,g,v.makeArray(C)):T.push(C)),T||[]},dequeue:function(f,g){g=g||"fx";var C=v.queue(f,g),T=C.length,I=C.shift(),D=v._queueHooks(f,g),O=function(){v.dequeue(f,g)};I==="inprogress"&&(I=C.shift(),T--),I&&(g==="fx"&&C.unshift("inprogress"),delete D.stop,I.call(f,O,D)),!T&&D&&D.empty.fire()},_queueHooks:function(f,g){var C=g+"queueHooks";return L.get(f,C)||L.access(f,C,{empty:v.Callbacks("once memory").add(function(){L.remove(f,[g+"queue",C])})})}}),v.fn.extend({queue:function(f,g){var C=2;return typeof f!="string"&&(g=f,f="fx",C--),arguments.length<C?v.queue(this[0],f):g===void 0?this:this.each(function(){var T=v.queue(this,f,g);v._queueHooks(this,f),f==="fx"&&T[0]!=="inprogress"&&v.dequeue(this,f)})},dequeue:function(f){return this.each(function(){v.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,g){var C,T=1,I=v.Deferred(),D=this,O=this.length,Q=function(){--T||I.resolveWith(D,[D])};for(typeof f!="string"&&(g=f,f=void 0),f=f||"fx";O--;)C=L.get(D[O],f+"queueHooks"),C&&C.empty&&(T++,C.empty.add(Q));return Q(),I.promise(g)}});var ge=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+ge+")([a-z%]*)$","i"),Ke=["Top","Right","Bottom","Left"],ae=b.documentElement,Ce=function(f){return v.contains(f.ownerDocument,f)},De={composed:!0};ae.getRootNode&&(Ce=function(f){return v.contains(f.ownerDocument,f)||f.getRootNode(De)===f.ownerDocument});var Oe=function(f,g){return f=g||f,f.style.display==="none"||f.style.display===""&&Ce(f)&&v.css(f,"display")==="none"};function Be(f,g,C,T){var I,D,O=20,Q=T?function(){return T.cur()}:function(){return v.css(f,g,"")},K=Q(),te=C&&C[3]||(v.cssNumber[g]?"":"px"),ve=f.nodeType&&(v.cssNumber[g]||te!=="px"&&+K)&&ze.exec(v.css(f,g));if(ve&&ve[3]!==te){for(K=K/2,te=te||ve[3],ve=+K||1;O--;)v.style(f,g,ve+te),(1-D)*(1-(D=Q()/K||.5))<=0&&(O=0),ve=ve/D;ve=ve*2,v.style(f,g,ve+te),C=C||[]}return C&&(ve=+ve||+K||0,I=C[1]?ve+(C[1]+1)*C[2]:+C[2],T&&(T.unit=te,T.start=ve,T.end=I)),I}var rt={};function vt(f){var g,C=f.ownerDocument,T=f.nodeName,I=rt[T];return I||(g=C.body.appendChild(C.createElement(T)),I=v.css(g,"display"),g.parentNode.removeChild(g),I==="none"&&(I="block"),rt[T]=I,I)}function Dt(f,g){for(var C,T,I=[],D=0,O=f.length;D<O;D++)T=f[D],T.style&&(C=T.style.display,g?(C==="none"&&(I[D]=L.get(T,"display")||null,I[D]||(T.style.display="")),T.style.display===""&&Oe(T)&&(I[D]=vt(T))):C!=="none"&&(I[D]="none",L.set(T,"display",C)));for(D=0;D<O;D++)I[D]!=null&&(f[D].style.display=I[D]);return f}v.fn.extend({show:function(){return Dt(this,!0)},hide:function(){return Dt(this)},toggle:function(f){return typeof f=="boolean"?f?this.show():this.hide():this.each(function(){Oe(this)?v(this).show():v(this).hide()})}});var zt=/^(?:checkbox|radio)$/i,xt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ft=/^$|^module$|\/(?:java|ecma)script/i;(function(){var f=b.createDocumentFragment(),g=f.appendChild(b.createElement("div")),C=b.createElement("input");C.setAttribute("type","radio"),C.setAttribute("checked","checked"),C.setAttribute("name","t"),g.appendChild(C),h.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",h.option=!!g.lastChild})();var ct={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,h.option||(ct.optgroup=ct.option=[1,"<select multiple='multiple'>","</select>"]);function mt(f,g){var C;return typeof f.getElementsByTagName<"u"?C=f.getElementsByTagName(g||"*"):typeof f.querySelectorAll<"u"?C=f.querySelectorAll(g||"*"):C=[],g===void 0||g&&k(f,g)?v.merge([f],C):C}function fr(f,g){for(var C=0,T=f.length;C<T;C++)L.set(f[C],"globalEval",!g||L.get(g[C],"globalEval"))}var kr=/<|&#?\w+;/;function sr(f,g,C,T,I){for(var D,O,Q,K,te,ve,we=g.createDocumentFragment(),se=[],Te=0,Je=f.length;Te<Je;Te++)if(D=f[Te],D||D===0)if(x(D)==="object")v.merge(se,D.nodeType?[D]:D);else if(!kr.test(D))se.push(g.createTextNode(D));else{for(O=O||we.appendChild(g.createElement("div")),Q=(xt.exec(D)||["",""])[1].toLowerCase(),K=ct[Q]||ct._default,O.innerHTML=K[1]+v.htmlPrefilter(D)+K[2],ve=K[0];ve--;)O=O.lastChild;v.merge(se,O.childNodes),O=we.firstChild,O.textContent=""}for(we.textContent="",Te=0;D=se[Te++];){if(T&&v.inArray(D,T)>-1){I&&I.push(D);continue}if(te=Ce(D),O=mt(we.appendChild(D),"script"),te&&fr(O),C)for(ve=0;D=O[ve++];)Ft.test(D.type||"")&&C.push(D)}return we}var ln=/^([^.]*)(?:\.(.+)|)/;function Rr(){return!0}function dr(){return!1}function Ut(f,g,C,T,I,D){var O,Q;if(typeof g=="object"){typeof C!="string"&&(T=T||C,C=void 0);for(Q in g)Ut(f,Q,C,T,g[Q],D);return f}if(T==null&&I==null?(I=C,T=C=void 0):I==null&&(typeof C=="string"?(I=T,T=void 0):(I=T,T=C,C=void 0)),I===!1)I=dr;else if(!I)return f;return D===1&&(O=I,I=function(K){return v().off(K),O.apply(this,arguments)},I.guid=O.guid||(O.guid=v.guid++)),f.each(function(){v.event.add(this,g,I,T,C)})}v.event={global:{},add:function(f,g,C,T,I){var D,O,Q,K,te,ve,we,se,Te,Je,ut,nt=L.get(f);if(Me(f))for(C.handler&&(D=C,C=D.handler,I=D.selector),I&&v.find.matchesSelector(ae,I),C.guid||(C.guid=v.guid++),(K=nt.events)||(K=nt.events=Object.create(null)),(O=nt.handle)||(O=nt.handle=function(jt){return typeof v<"u"&&v.event.triggered!==jt.type?v.event.dispatch.apply(f,arguments):void 0}),g=(g||"").match(ce)||[""],te=g.length;te--;)Q=ln.exec(g[te])||[],Te=ut=Q[1],Je=(Q[2]||"").split(".").sort(),Te&&(we=v.event.special[Te]||{},Te=(I?we.delegateType:we.bindType)||Te,we=v.event.special[Te]||{},ve=v.extend({type:Te,origType:ut,data:T,handler:C,guid:C.guid,selector:I,needsContext:I&&v.expr.match.needsContext.test(I),namespace:Je.join(".")},D),(se=K[Te])||(se=K[Te]=[],se.delegateCount=0,(!we.setup||we.setup.call(f,T,Je,O)===!1)&&f.addEventListener&&f.addEventListener(Te,O)),we.add&&(we.add.call(f,ve),ve.handler.guid||(ve.handler.guid=C.guid)),I?se.splice(se.delegateCount++,0,ve):se.push(ve),v.event.global[Te]=!0)},remove:function(f,g,C,T,I){var D,O,Q,K,te,ve,we,se,Te,Je,ut,nt=L.hasData(f)&&L.get(f);if(!(!nt||!(K=nt.events))){for(g=(g||"").match(ce)||[""],te=g.length;te--;){if(Q=ln.exec(g[te])||[],Te=ut=Q[1],Je=(Q[2]||"").split(".").sort(),!Te){for(Te in K)v.event.remove(f,Te+g[te],C,T,!0);continue}for(we=v.event.special[Te]||{},Te=(T?we.delegateType:we.bindType)||Te,se=K[Te]||[],Q=Q[2]&&new RegExp("(^|\\.)"+Je.join("\\.(?:.*\\.|)")+"(\\.|$)"),O=D=se.length;D--;)ve=se[D],(I||ut===ve.origType)&&(!C||C.guid===ve.guid)&&(!Q||Q.test(ve.namespace))&&(!T||T===ve.selector||T==="**"&&ve.selector)&&(se.splice(D,1),ve.selector&&se.delegateCount--,we.remove&&we.remove.call(f,ve));O&&!se.length&&((!we.teardown||we.teardown.call(f,Je,nt.handle)===!1)&&v.removeEvent(f,Te,nt.handle),delete K[Te])}v.isEmptyObject(K)&&L.remove(f,"handle events")}},dispatch:function(f){var g,C,T,I,D,O,Q=new Array(arguments.length),K=v.event.fix(f),te=(L.get(this,"events")||Object.create(null))[K.type]||[],ve=v.event.special[K.type]||{};for(Q[0]=K,g=1;g<arguments.length;g++)Q[g]=arguments[g];if(K.delegateTarget=this,!(ve.preDispatch&&ve.preDispatch.call(this,K)===!1)){for(O=v.event.handlers.call(this,K,te),g=0;(I=O[g++])&&!K.isPropagationStopped();)for(K.currentTarget=I.elem,C=0;(D=I.handlers[C++])&&!K.isImmediatePropagationStopped();)(!K.rnamespace||D.namespace===!1||K.rnamespace.test(D.namespace))&&(K.handleObj=D,K.data=D.data,T=((v.event.special[D.origType]||{}).handle||D.handler).apply(I.elem,Q),T!==void 0&&(K.result=T)===!1&&(K.preventDefault(),K.stopPropagation()));return ve.postDispatch&&ve.postDispatch.call(this,K),K.result}},handlers:function(f,g){var C,T,I,D,O,Q=[],K=g.delegateCount,te=f.target;if(K&&te.nodeType&&!(f.type==="click"&&f.button>=1)){for(;te!==this;te=te.parentNode||this)if(te.nodeType===1&&!(f.type==="click"&&te.disabled===!0)){for(D=[],O={},C=0;C<K;C++)T=g[C],I=T.selector+" ",O[I]===void 0&&(O[I]=T.needsContext?v(I,this).index(te)>-1:v.find(I,this,null,[te]).length),O[I]&&D.push(T);D.length&&Q.push({elem:te,handlers:D})}}return te=this,K<g.length&&Q.push({elem:te,handlers:g.slice(K)}),Q},addProp:function(f,g){Object.defineProperty(v.Event.prototype,f,{enumerable:!0,configurable:!0,get:y(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(C){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:C})}})},fix:function(f){return f[v.expando]?f:new v.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var g=this||f;return zt.test(g.type)&&g.click&&k(g,"input")&&Rt(g,"click",!0),!1},trigger:function(f){var g=this||f;return zt.test(g.type)&&g.click&&k(g,"input")&&Rt(g,"click"),!0},_default:function(f){var g=f.target;return zt.test(g.type)&&g.click&&k(g,"input")&&L.get(g,"click")||k(g,"a")}},beforeunload:{postDispatch:function(f){f.result!==void 0&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};function Rt(f,g,C){if(!C){L.get(f,g)===void 0&&v.event.add(f,g,Rr);return}L.set(f,g,!1),v.event.add(f,g,{namespace:!1,handler:function(T){var I,D=L.get(this,g);if(T.isTrigger&1&&this[g]){if(D)(v.event.special[g]||{}).delegateType&&T.stopPropagation();else if(D=a.call(arguments),L.set(this,g,D),this[g](),I=L.get(this,g),L.set(this,g,!1),D!==I)return T.stopImmediatePropagation(),T.preventDefault(),I}else D&&(L.set(this,g,v.event.trigger(D[0],D.slice(1),this)),T.stopPropagation(),T.isImmediatePropagationStopped=Rr)}})}v.removeEvent=function(f,g,C){f.removeEventListener&&f.removeEventListener(g,C)},v.Event=function(f,g){if(!(this instanceof v.Event))return new v.Event(f,g);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||f.defaultPrevented===void 0&&f.returnValue===!1?Rr:dr,this.target=f.target&&f.target.nodeType===3?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,g&&v.extend(this,g),this.timeStamp=f&&f.timeStamp||Date.now(),this[v.expando]=!0},v.Event.prototype={constructor:v.Event,isDefaultPrevented:dr,isPropagationStopped:dr,isImmediatePropagationStopped:dr,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=Rr,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=Rr,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=Rr,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},v.event.addProp),v.each({focus:"focusin",blur:"focusout"},function(f,g){function C(T){if(b.documentMode){var I=L.get(this,"handle"),D=v.event.fix(T);D.type=T.type==="focusin"?"focus":"blur",D.isSimulated=!0,I(T),D.target===D.currentTarget&&I(D)}else v.event.simulate(g,T.target,v.event.fix(T))}v.event.special[f]={setup:function(){var T;if(Rt(this,f,!0),b.documentMode)T=L.get(this,g),T||this.addEventListener(g,C),L.set(this,g,(T||0)+1);else return!1},trigger:function(){return Rt(this,f),!0},teardown:function(){var T;if(b.documentMode)T=L.get(this,g)-1,T?L.set(this,g,T):(this.removeEventListener(g,C),L.remove(this,g));else return!1},_default:function(T){return L.get(T.target,f)},delegateType:g},v.event.special[g]={setup:function(){var T=this.ownerDocument||this.document||this,I=b.documentMode?this:T,D=L.get(I,g);D||(b.documentMode?this.addEventListener(g,C):T.addEventListener(f,C,!0)),L.set(I,g,(D||0)+1)},teardown:function(){var T=this.ownerDocument||this.document||this,I=b.documentMode?this:T,D=L.get(I,g)-1;D?L.set(I,g,D):(b.documentMode?this.removeEventListener(g,C):T.removeEventListener(f,C,!0),L.remove(I,g))}}}),v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,g){v.event.special[f]={delegateType:g,bindType:g,handle:function(C){var T,I=this,D=C.relatedTarget,O=C.handleObj;return(!D||D!==I&&!v.contains(I,D))&&(C.type=O.origType,T=O.handler.apply(this,arguments),C.type=g),T}}}),v.fn.extend({on:function(f,g,C,T){return Ut(this,f,g,C,T)},one:function(f,g,C,T){return Ut(this,f,g,C,T,1)},off:function(f,g,C){var T,I;if(f&&f.preventDefault&&f.handleObj)return T=f.handleObj,v(f.delegateTarget).off(T.namespace?T.origType+"."+T.namespace:T.origType,T.selector,T.handler),this;if(typeof f=="object"){for(I in f)this.off(I,g,f[I]);return this}return(g===!1||typeof g=="function")&&(C=g,g=void 0),C===!1&&(C=dr),this.each(function(){v.event.remove(this,f,C,g)})}});var er=/<script|<style|<link/i,bi=/checked\s*(?:[^=]|=\s*.checked.)/i,_r=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function la(f,g){return k(f,"table")&&k(g.nodeType!==11?g:g.firstChild,"tr")&&v(f).children("tbody")[0]||f}function $s(f){return f.type=(f.getAttribute("type")!==null)+"/"+f.type,f}function Hs(f){return(f.type||"").slice(0,5)==="true/"?f.type=f.type.slice(5):f.removeAttribute("type"),f}function ho(f,g){var C,T,I,D,O,Q,K;if(g.nodeType===1){if(L.hasData(f)&&(D=L.get(f),K=D.events,K)){L.remove(g,"handle events");for(I in K)for(C=0,T=K[I].length;C<T;C++)v.event.add(g,I,K[I][C])}ne.hasData(f)&&(O=ne.access(f),Q=v.extend({},O),ne.set(g,Q))}}function qs(f,g){var C=g.nodeName.toLowerCase();C==="input"&&zt.test(f.type)?g.checked=f.checked:(C==="input"||C==="textarea")&&(g.defaultValue=f.defaultValue)}function En(f,g,C,T){g=o(g);var I,D,O,Q,K,te,ve=0,we=f.length,se=we-1,Te=g[0],Je=y(Te);if(Je||we>1&&typeof Te=="string"&&!h.checkClone&&bi.test(Te))return f.each(function(ut){var nt=f.eq(ut);Je&&(g[0]=Te.call(this,ut,nt.html())),En(nt,g,C,T)});if(we&&(I=sr(g,f[0].ownerDocument,!1,f,T),D=I.firstChild,I.childNodes.length===1&&(I=D),D||T)){for(O=v.map(mt(I,"script"),$s),Q=O.length;ve<we;ve++)K=I,ve!==se&&(K=v.clone(K,!0,!0),Q&&v.merge(O,mt(K,"script"))),C.call(f[ve],K,ve);if(Q)for(te=O[O.length-1].ownerDocument,v.map(O,Hs),ve=0;ve<Q;ve++)K=O[ve],Ft.test(K.type||"")&&!L.access(K,"globalEval")&&v.contains(te,K)&&(K.src&&(K.type||"").toLowerCase()!=="module"?v._evalUrl&&!K.noModule&&v._evalUrl(K.src,{nonce:K.nonce||K.getAttribute("nonce")},te):S(K.textContent.replace(_r,""),K,te))}return f}function vo(f,g,C){for(var T,I=g?v.filter(g,f):f,D=0;(T=I[D])!=null;D++)!C&&T.nodeType===1&&v.cleanData(mt(T)),T.parentNode&&(C&&Ce(T)&&fr(mt(T,"script")),T.parentNode.removeChild(T));return f}v.extend({htmlPrefilter:function(f){return f},clone:function(f,g,C){var T,I,D,O,Q=f.cloneNode(!0),K=Ce(f);if(!h.noCloneChecked&&(f.nodeType===1||f.nodeType===11)&&!v.isXMLDoc(f))for(O=mt(Q),D=mt(f),T=0,I=D.length;T<I;T++)qs(D[T],O[T]);if(g)if(C)for(D=D||mt(f),O=O||mt(Q),T=0,I=D.length;T<I;T++)ho(D[T],O[T]);else ho(f,Q);return O=mt(Q,"script"),O.length>0&&fr(O,!K&&mt(f,"script")),Q},cleanData:function(f){for(var g,C,T,I=v.event.special,D=0;(C=f[D])!==void 0;D++)if(Me(C)){if(g=C[L.expando]){if(g.events)for(T in g.events)I[T]?v.event.remove(C,T):v.removeEvent(C,T,g.handle);C[L.expando]=void 0}C[ne.expando]&&(C[ne.expando]=void 0)}}}),v.fn.extend({detach:function(f){return vo(this,f,!0)},remove:function(f){return vo(this,f)},text:function(f){return le(this,function(g){return g===void 0?v.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=g)})},null,f,arguments.length)},append:function(){return En(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=la(this,f);g.appendChild(f)}})},prepend:function(){return En(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=la(this,f);g.insertBefore(f,g.firstChild)}})},before:function(){return En(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return En(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,g=0;(f=this[g])!=null;g++)f.nodeType===1&&(v.cleanData(mt(f,!1)),f.textContent="");return this},clone:function(f,g){return f=f??!1,g=g??f,this.map(function(){return v.clone(this,f,g)})},html:function(f){return le(this,function(g){var C=this[0]||{},T=0,I=this.length;if(g===void 0&&C.nodeType===1)return C.innerHTML;if(typeof g=="string"&&!er.test(g)&&!ct[(xt.exec(g)||["",""])[1].toLowerCase()]){g=v.htmlPrefilter(g);try{for(;T<I;T++)C=this[T]||{},C.nodeType===1&&(v.cleanData(mt(C,!1)),C.innerHTML=g);C=0}catch{}}C&&this.empty().append(g)},null,f,arguments.length)},replaceWith:function(){var f=[];return En(this,arguments,function(g){var C=this.parentNode;v.inArray(this,f)<0&&(v.cleanData(mt(this)),C&&C.replaceChild(g,this))},f)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,g){v.fn[f]=function(C){for(var T,I=[],D=v(C),O=D.length-1,Q=0;Q<=O;Q++)T=Q===O?this:this.clone(!0),v(D[Q])[g](T),s.apply(I,T.get());return this.pushStack(I)}});var ua=new RegExp("^("+ge+")(?!px)[a-z%]+$","i"),un=/^--/,Cn=function(f){var g=f.ownerDocument.defaultView;return(!g||!g.opener)&&(g=e),g.getComputedStyle(f)},jn=function(f,g,C){var T,I,D={};for(I in g)D[I]=f.style[I],f.style[I]=g[I];T=C.call(f);for(I in g)f.style[I]=D[I];return T},po=new RegExp(Ke.join("|"),"i");(function(){function f(){if(te){K.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",te.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(K).appendChild(te);var ve=e.getComputedStyle(te);C=ve.top!=="1%",Q=g(ve.marginLeft)===12,te.style.right="60%",D=g(ve.right)===36,T=g(ve.width)===36,te.style.position="absolute",I=g(te.offsetWidth/3)===12,ae.removeChild(K),te=null}}function g(ve){return Math.round(parseFloat(ve))}var C,T,I,D,O,Q,K=b.createElement("div"),te=b.createElement("div");te.style&&(te.style.backgroundClip="content-box",te.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle=te.style.backgroundClip==="content-box",v.extend(h,{boxSizingReliable:function(){return f(),T},pixelBoxStyles:function(){return f(),D},pixelPosition:function(){return f(),C},reliableMarginLeft:function(){return f(),Q},scrollboxSize:function(){return f(),I},reliableTrDimensions:function(){var ve,we,se,Te;return O==null&&(ve=b.createElement("table"),we=b.createElement("tr"),se=b.createElement("div"),ve.style.cssText="position:absolute;left:-11111px;border-collapse:separate",we.style.cssText="box-sizing:content-box;border:1px solid",we.style.height="1px",se.style.height="9px",se.style.display="block",ae.appendChild(ve).appendChild(we).appendChild(se),Te=e.getComputedStyle(we),O=parseInt(Te.height,10)+parseInt(Te.borderTopWidth,10)+parseInt(Te.borderBottomWidth,10)===we.offsetHeight,ae.removeChild(ve)),O}}))})();function Sn(f,g,C){var T,I,D,O,Q=un.test(g),K=f.style;return C=C||Cn(f),C&&(O=C.getPropertyValue(g)||C[g],Q&&O&&(O=O.replace(R,"$1")||void 0),O===""&&!Ce(f)&&(O=v.style(f,g)),!h.pixelBoxStyles()&&ua.test(O)&&po.test(g)&&(T=K.width,I=K.minWidth,D=K.maxWidth,K.minWidth=K.maxWidth=K.width=O,O=C.width,K.width=T,K.minWidth=I,K.maxWidth=D)),O!==void 0?O+"":O}function go(f,g){return{get:function(){if(f()){delete this.get;return}return(this.get=g).apply(this,arguments)}}}var hr=["Webkit","Moz","ms"],wi=b.createElement("div").style,ca={};function Kn(f){for(var g=f[0].toUpperCase()+f.slice(1),C=hr.length;C--;)if(f=hr[C]+g,f in wi)return f}function lr(f){var g=v.cssProps[f]||ca[f];return g||(f in wi?f:ca[f]=Kn(f)||f)}var Vs=/^(none|table(?!-c[ea]).+)/,ep={position:"absolute",visibility:"hidden",display:"block"},Uu={letterSpacing:"0",fontWeight:"400"};function Gu(f,g,C){var T=ze.exec(g);return T?Math.max(0,T[2]-(C||0))+(T[3]||"px"):g}function Ws(f,g,C,T,I,D){var O=g==="width"?1:0,Q=0,K=0,te=0;if(C===(T?"border":"content"))return 0;for(;O<4;O+=2)C==="margin"&&(te+=v.css(f,C+Ke[O],!0,I)),T?(C==="content"&&(K-=v.css(f,"padding"+Ke[O],!0,I)),C!=="margin"&&(K-=v.css(f,"border"+Ke[O]+"Width",!0,I))):(K+=v.css(f,"padding"+Ke[O],!0,I),C!=="padding"?K+=v.css(f,"border"+Ke[O]+"Width",!0,I):Q+=v.css(f,"border"+Ke[O]+"Width",!0,I));return!T&&D>=0&&(K+=Math.max(0,Math.ceil(f["offset"+g[0].toUpperCase()+g.slice(1)]-D-K-Q-.5))||0),K+te}function ju(f,g,C){var T=Cn(f),I=!h.boxSizingReliable()||C,D=I&&v.css(f,"boxSizing",!1,T)==="border-box",O=D,Q=Sn(f,g,T),K="offset"+g[0].toUpperCase()+g.slice(1);if(ua.test(Q)){if(!C)return Q;Q="auto"}return(!h.boxSizingReliable()&&D||!h.reliableTrDimensions()&&k(f,"tr")||Q==="auto"||!parseFloat(Q)&&v.css(f,"display",!1,T)==="inline")&&f.getClientRects().length&&(D=v.css(f,"boxSizing",!1,T)==="border-box",O=K in f,O&&(Q=f[K])),Q=parseFloat(Q)||0,Q+Ws(f,g,C||(D?"border":"content"),O,T,Q)+"px"}v.extend({cssHooks:{opacity:{get:function(f,g){if(g){var C=Sn(f,"opacity");return C===""?"1":C}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(f,g,C,T){if(!(!f||f.nodeType===3||f.nodeType===8||!f.style)){var I,D,O,Q=Re(g),K=un.test(g),te=f.style;if(K||(g=lr(Q)),O=v.cssHooks[g]||v.cssHooks[Q],C!==void 0){if(D=typeof C,D==="string"&&(I=ze.exec(C))&&I[1]&&(C=Be(f,g,I),D="number"),C==null||C!==C)return;D==="number"&&!K&&(C+=I&&I[3]||(v.cssNumber[Q]?"":"px")),!h.clearCloneStyle&&C===""&&g.indexOf("background")===0&&(te[g]="inherit"),(!O||!("set"in O)||(C=O.set(f,C,T))!==void 0)&&(K?te.setProperty(g,C):te[g]=C)}else return O&&"get"in O&&(I=O.get(f,!1,T))!==void 0?I:te[g]}},css:function(f,g,C,T){var I,D,O,Q=Re(g),K=un.test(g);return K||(g=lr(Q)),O=v.cssHooks[g]||v.cssHooks[Q],O&&"get"in O&&(I=O.get(f,!0,C)),I===void 0&&(I=Sn(f,g,T)),I==="normal"&&g in Uu&&(I=Uu[g]),C===""||C?(D=parseFloat(I),C===!0||isFinite(D)?D||0:I):I}}),v.each(["height","width"],function(f,g){v.cssHooks[g]={get:function(C,T,I){if(T)return Vs.test(v.css(C,"display"))&&(!C.getClientRects().length||!C.getBoundingClientRect().width)?jn(C,ep,function(){return ju(C,g,I)}):ju(C,g,I)},set:function(C,T,I){var D,O=Cn(C),Q=!h.scrollboxSize()&&O.position==="absolute",K=Q||I,te=K&&v.css(C,"boxSizing",!1,O)==="border-box",ve=I?Ws(C,g,I,te,O):0;return te&&Q&&(ve-=Math.ceil(C["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(O[g])-Ws(C,g,"border",!1,O)-.5)),ve&&(D=ze.exec(T))&&(D[3]||"px")!=="px"&&(C.style[g]=T,T=v.css(C,g)),Gu(C,T,ve)}}}),v.cssHooks.marginLeft=go(h.reliableMarginLeft,function(f,g){if(g)return(parseFloat(Sn(f,"marginLeft"))||f.getBoundingClientRect().left-jn(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),v.each({margin:"",padding:"",border:"Width"},function(f,g){v.cssHooks[f+g]={expand:function(C){for(var T=0,I={},D=typeof C=="string"?C.split(" "):[C];T<4;T++)I[f+Ke[T]+g]=D[T]||D[T-2]||D[0];return I}},f!=="margin"&&(v.cssHooks[f+g].set=Gu)}),v.fn.extend({css:function(f,g){return le(this,function(C,T,I){var D,O,Q={},K=0;if(Array.isArray(T)){for(D=Cn(C),O=T.length;K<O;K++)Q[T[K]]=v.css(C,T[K],!1,D);return Q}return I!==void 0?v.style(C,T,I):v.css(C,T)},f,g,arguments.length>1)}});function vr(f,g,C,T,I){return new vr.prototype.init(f,g,C,T,I)}v.Tween=vr,vr.prototype={constructor:vr,init:function(f,g,C,T,I,D){this.elem=f,this.prop=C,this.easing=I||v.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=T,this.unit=D||(v.cssNumber[C]?"":"px")},cur:function(){var f=vr.propHooks[this.prop];return f&&f.get?f.get(this):vr.propHooks._default.get(this)},run:function(f){var g,C=vr.propHooks[this.prop];return this.options.duration?this.pos=g=v.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):this.pos=g=f,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),C&&C.set?C.set(this):vr.propHooks._default.set(this),this}},vr.prototype.init.prototype=vr.prototype,vr.propHooks={_default:{get:function(f){var g;return f.elem.nodeType!==1||f.elem[f.prop]!=null&&f.elem.style[f.prop]==null?f.elem[f.prop]:(g=v.css(f.elem,f.prop,""),!g||g==="auto"?0:g)},set:function(f){v.fx.step[f.prop]?v.fx.step[f.prop](f):f.elem.nodeType===1&&(v.cssHooks[f.prop]||f.elem.style[lr(f.prop)]!=null)?v.style(f.elem,f.prop,f.now+f.unit):f.elem[f.prop]=f.now}}},vr.propHooks.scrollTop=vr.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},v.easing={linear:function(f){return f},swing:function(f){return .5-Math.cos(f*Math.PI)/2},_default:"swing"},v.fx=vr.prototype.init,v.fx.step={};var xi,mo,tp=/^(?:toggle|show|hide)$/,rp=/queueHooks$/;function Us(){mo&&(b.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Us):e.setTimeout(Us,v.fx.interval),v.fx.tick())}function Ku(){return e.setTimeout(function(){xi=void 0}),xi=Date.now()}function yo(f,g){var C,T=0,I={height:f};for(g=g?1:0;T<4;T+=2-g)C=Ke[T],I["margin"+C]=I["padding"+C]=f;return g&&(I.opacity=I.width=f),I}function Yu(f,g,C){for(var T,I=(zr.tweeners[g]||[]).concat(zr.tweeners["*"]),D=0,O=I.length;D<O;D++)if(T=I[D].call(C,g,f))return T}function np(f,g,C){var T,I,D,O,Q,K,te,ve,we="width"in g||"height"in g,se=this,Te={},Je=f.style,ut=f.nodeType&&Oe(f),nt=L.get(f,"fxshow");C.queue||(O=v._queueHooks(f,"fx"),O.unqueued==null&&(O.unqueued=0,Q=O.empty.fire,O.empty.fire=function(){O.unqueued||Q()}),O.unqueued++,se.always(function(){se.always(function(){O.unqueued--,v.queue(f,"fx").length||O.empty.fire()})}));for(T in g)if(I=g[T],tp.test(I)){if(delete g[T],D=D||I==="toggle",I===(ut?"hide":"show"))if(I==="show"&&nt&&nt[T]!==void 0)ut=!0;else continue;Te[T]=nt&&nt[T]||v.style(f,T)}if(K=!v.isEmptyObject(g),!(!K&&v.isEmptyObject(Te))){we&&f.nodeType===1&&(C.overflow=[Je.overflow,Je.overflowX,Je.overflowY],te=nt&&nt.display,te==null&&(te=L.get(f,"display")),ve=v.css(f,"display"),ve==="none"&&(te?ve=te:(Dt([f],!0),te=f.style.display||te,ve=v.css(f,"display"),Dt([f]))),(ve==="inline"||ve==="inline-block"&&te!=null)&&v.css(f,"float")==="none"&&(K||(se.done(function(){Je.display=te}),te==null&&(ve=Je.display,te=ve==="none"?"":ve)),Je.display="inline-block")),C.overflow&&(Je.overflow="hidden",se.always(function(){Je.overflow=C.overflow[0],Je.overflowX=C.overflow[1],Je.overflowY=C.overflow[2]})),K=!1;for(T in Te)K||(nt?"hidden"in nt&&(ut=nt.hidden):nt=L.access(f,"fxshow",{display:te}),D&&(nt.hidden=!ut),ut&&Dt([f],!0),se.done(function(){ut||Dt([f]),L.remove(f,"fxshow");for(T in Te)v.style(f,T,Te[T])})),K=Yu(ut?nt[T]:0,T,se),T in nt||(nt[T]=K.start,ut&&(K.end=K.start,K.start=0))}}function ip(f,g){var C,T,I,D,O;for(C in f)if(T=Re(C),I=g[T],D=f[C],Array.isArray(D)&&(I=D[1],D=f[C]=D[0]),C!==T&&(f[T]=D,delete f[C]),O=v.cssHooks[T],O&&"expand"in O){D=O.expand(D),delete f[T];for(C in D)C in f||(f[C]=D[C],g[C]=I)}else g[T]=I}function zr(f,g,C){var T,I,D=0,O=zr.prefilters.length,Q=v.Deferred().always(function(){delete K.elem}),K=function(){if(I)return!1;for(var we=xi||Ku(),se=Math.max(0,te.startTime+te.duration-we),Te=se/te.duration||0,Je=1-Te,ut=0,nt=te.tweens.length;ut<nt;ut++)te.tweens[ut].run(Je);return Q.notifyWith(f,[te,Je,se]),Je<1&&nt?se:(nt||Q.notifyWith(f,[te,1,0]),Q.resolveWith(f,[te]),!1)},te=Q.promise({elem:f,props:v.extend({},g),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},C),originalProperties:g,originalOptions:C,startTime:xi||Ku(),duration:C.duration,tweens:[],createTween:function(we,se){var Te=v.Tween(f,te.opts,we,se,te.opts.specialEasing[we]||te.opts.easing);return te.tweens.push(Te),Te},stop:function(we){var se=0,Te=we?te.tweens.length:0;if(I)return this;for(I=!0;se<Te;se++)te.tweens[se].run(1);return we?(Q.notifyWith(f,[te,1,0]),Q.resolveWith(f,[te,we])):Q.rejectWith(f,[te,we]),this}}),ve=te.props;for(ip(ve,te.opts.specialEasing);D<O;D++)if(T=zr.prefilters[D].call(te,f,ve,te.opts),T)return y(T.stop)&&(v._queueHooks(te.elem,te.opts.queue).stop=T.stop.bind(T)),T;return v.map(ve,Yu,te),y(te.opts.start)&&te.opts.start.call(f,te),te.progress(te.opts.progress).done(te.opts.done,te.opts.complete).fail(te.opts.fail).always(te.opts.always),v.fx.timer(v.extend(K,{elem:f,anim:te,queue:te.opts.queue})),te}v.Animation=v.extend(zr,{tweeners:{"*":[function(f,g){var C=this.createTween(f,g);return Be(C.elem,f,ze.exec(g),C),C}]},tweener:function(f,g){y(f)?(g=f,f=["*"]):f=f.match(ce);for(var C,T=0,I=f.length;T<I;T++)C=f[T],zr.tweeners[C]=zr.tweeners[C]||[],zr.tweeners[C].unshift(g)},prefilters:[np],prefilter:function(f,g){g?zr.prefilters.unshift(f):zr.prefilters.push(f)}}),v.speed=function(f,g,C){var T=f&&typeof f=="object"?v.extend({},f):{complete:C||!C&&g||y(f)&&f,duration:f,easing:C&&g||g&&!y(g)&&g};return v.fx.off?T.duration=0:typeof T.duration!="number"&&(T.duration in v.fx.speeds?T.duration=v.fx.speeds[T.duration]:T.duration=v.fx.speeds._default),(T.queue==null||T.queue===!0)&&(T.queue="fx"),T.old=T.complete,T.complete=function(){y(T.old)&&T.old.call(this),T.queue&&v.dequeue(this,T.queue)},T},v.fn.extend({fadeTo:function(f,g,C,T){return this.filter(Oe).css("opacity",0).show().end().animate({opacity:g},f,C,T)},animate:function(f,g,C,T){var I=v.isEmptyObject(f),D=v.speed(g,C,T),O=function(){var Q=zr(this,v.extend({},f),D);(I||L.get(this,"finish"))&&Q.stop(!0)};return O.finish=O,I||D.queue===!1?this.each(O):this.queue(D.queue,O)},stop:function(f,g,C){var T=function(I){var D=I.stop;delete I.stop,D(C)};return typeof f!="string"&&(C=g,g=f,f=void 0),g&&this.queue(f||"fx",[]),this.each(function(){var I=!0,D=f!=null&&f+"queueHooks",O=v.timers,Q=L.get(this);if(D)Q[D]&&Q[D].stop&&T(Q[D]);else for(D in Q)Q[D]&&Q[D].stop&&rp.test(D)&&T(Q[D]);for(D=O.length;D--;)O[D].elem===this&&(f==null||O[D].queue===f)&&(O[D].anim.stop(C),I=!1,O.splice(D,1));(I||!C)&&v.dequeue(this,f)})},finish:function(f){return f!==!1&&(f=f||"fx"),this.each(function(){var g,C=L.get(this),T=C[f+"queue"],I=C[f+"queueHooks"],D=v.timers,O=T?T.length:0;for(C.finish=!0,v.queue(this,f,[]),I&&I.stop&&I.stop.call(this,!0),g=D.length;g--;)D[g].elem===this&&D[g].queue===f&&(D[g].anim.stop(!0),D.splice(g,1));for(g=0;g<O;g++)T[g]&&T[g].finish&&T[g].finish.call(this);delete C.finish})}}),v.each(["toggle","show","hide"],function(f,g){var C=v.fn[g];v.fn[g]=function(T,I,D){return T==null||typeof T=="boolean"?C.apply(this,arguments):this.animate(yo(g,!0),T,I,D)}}),v.each({slideDown:yo("show"),slideUp:yo("hide"),slideToggle:yo("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,g){v.fn[f]=function(C,T,I){return this.animate(g,C,T,I)}}),v.timers=[],v.fx.tick=function(){var f,g=0,C=v.timers;for(xi=Date.now();g<C.length;g++)f=C[g],!f()&&C[g]===f&&C.splice(g--,1);C.length||v.fx.stop(),xi=void 0},v.fx.timer=function(f){v.timers.push(f),v.fx.start()},v.fx.interval=13,v.fx.start=function(){mo||(mo=!0,Us())},v.fx.stop=function(){mo=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(f,g){return f=v.fx&&v.fx.speeds[f]||f,g=g||"fx",this.queue(g,function(C,T){var I=e.setTimeout(C,f);T.stop=function(){e.clearTimeout(I)}})},function(){var f=b.createElement("input"),g=b.createElement("select"),C=g.appendChild(b.createElement("option"));f.type="checkbox",h.checkOn=f.value!=="",h.optSelected=C.selected,f=b.createElement("input"),f.value="t",f.type="radio",h.radioValue=f.value==="t"}();var Xu,fa=v.expr.attrHandle;v.fn.extend({attr:function(f,g){return le(this,v.attr,f,g,arguments.length>1)},removeAttr:function(f){return this.each(function(){v.removeAttr(this,f)})}}),v.extend({attr:function(f,g,C){var T,I,D=f.nodeType;if(!(D===3||D===8||D===2)){if(typeof f.getAttribute>"u")return v.prop(f,g,C);if((D!==1||!v.isXMLDoc(f))&&(I=v.attrHooks[g.toLowerCase()]||(v.expr.match.bool.test(g)?Xu:void 0)),C!==void 0){if(C===null){v.removeAttr(f,g);return}return I&&"set"in I&&(T=I.set(f,C,g))!==void 0?T:(f.setAttribute(g,C+""),C)}return I&&"get"in I&&(T=I.get(f,g))!==null?T:(T=v.find.attr(f,g),T??void 0)}},attrHooks:{type:{set:function(f,g){if(!h.radioValue&&g==="radio"&&k(f,"input")){var C=f.value;return f.setAttribute("type",g),C&&(f.value=C),g}}}},removeAttr:function(f,g){var C,T=0,I=g&&g.match(ce);if(I&&f.nodeType===1)for(;C=I[T++];)f.removeAttribute(C)}}),Xu={set:function(f,g,C){return g===!1?v.removeAttr(f,C):f.setAttribute(C,C),C}},v.each(v.expr.match.bool.source.match(/\w+/g),function(f,g){var C=fa[g]||v.find.attr;fa[g]=function(T,I,D){var O,Q,K=I.toLowerCase();return D||(Q=fa[K],fa[K]=O,O=C(T,I,D)!=null?K:null,fa[K]=Q),O}});var ap=/^(?:input|select|textarea|button)$/i,op=/^(?:a|area)$/i;v.fn.extend({prop:function(f,g){return le(this,v.prop,f,g,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[v.propFix[f]||f]})}}),v.extend({prop:function(f,g,C){var T,I,D=f.nodeType;if(!(D===3||D===8||D===2))return(D!==1||!v.isXMLDoc(f))&&(g=v.propFix[g]||g,I=v.propHooks[g]),C!==void 0?I&&"set"in I&&(T=I.set(f,C,g))!==void 0?T:f[g]=C:I&&"get"in I&&(T=I.get(f,g))!==null?T:f[g]},propHooks:{tabIndex:{get:function(f){var g=v.find.attr(f,"tabindex");return g?parseInt(g,10):ap.test(f.nodeName)||op.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(v.propHooks.selected={get:function(f){var g=f.parentNode;return g&&g.parentNode&&g.parentNode.selectedIndex,null},set:function(f){var g=f.parentNode;g&&(g.selectedIndex,g.parentNode&&g.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){v.propFix[this.toLowerCase()]=this});function Yn(f){var g=f.match(ce)||[];return g.join(" ")}function Xn(f){return f.getAttribute&&f.getAttribute("class")||""}function Gs(f){return Array.isArray(f)?f:typeof f=="string"?f.match(ce)||[]:[]}v.fn.extend({addClass:function(f){var g,C,T,I,D,O;return y(f)?this.each(function(Q){v(this).addClass(f.call(this,Q,Xn(this)))}):(g=Gs(f),g.length?this.each(function(){if(T=Xn(this),C=this.nodeType===1&&" "+Yn(T)+" ",C){for(D=0;D<g.length;D++)I=g[D],C.indexOf(" "+I+" ")<0&&(C+=I+" ");O=Yn(C),T!==O&&this.setAttribute("class",O)}}):this)},removeClass:function(f){var g,C,T,I,D,O;return y(f)?this.each(function(Q){v(this).removeClass(f.call(this,Q,Xn(this)))}):arguments.length?(g=Gs(f),g.length?this.each(function(){if(T=Xn(this),C=this.nodeType===1&&" "+Yn(T)+" ",C){for(D=0;D<g.length;D++)for(I=g[D];C.indexOf(" "+I+" ")>-1;)C=C.replace(" "+I+" "," ");O=Yn(C),T!==O&&this.setAttribute("class",O)}}):this):this.attr("class","")},toggleClass:function(f,g){var C,T,I,D,O=typeof f,Q=O==="string"||Array.isArray(f);return y(f)?this.each(function(K){v(this).toggleClass(f.call(this,K,Xn(this),g),g)}):typeof g=="boolean"&&Q?g?this.addClass(f):this.removeClass(f):(C=Gs(f),this.each(function(){if(Q)for(D=v(this),I=0;I<C.length;I++)T=C[I],D.hasClass(T)?D.removeClass(T):D.addClass(T);else(f===void 0||O==="boolean")&&(T=Xn(this),T&&L.set(this,"__className__",T),this.setAttribute&&this.setAttribute("class",T||f===!1?"":L.get(this,"__className__")||""))}))},hasClass:function(f){var g,C,T=0;for(g=" "+f+" ";C=this[T++];)if(C.nodeType===1&&(" "+Yn(Xn(C))+" ").indexOf(g)>-1)return!0;return!1}});var sp=/\r/g;v.fn.extend({val:function(f){var g,C,T,I=this[0];return arguments.length?(T=y(f),this.each(function(D){var O;this.nodeType===1&&(T?O=f.call(this,D,v(this).val()):O=f,O==null?O="":typeof O=="number"?O+="":Array.isArray(O)&&(O=v.map(O,function(Q){return Q==null?"":Q+""})),g=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],(!g||!("set"in g)||g.set(this,O,"value")===void 0)&&(this.value=O))})):I?(g=v.valHooks[I.type]||v.valHooks[I.nodeName.toLowerCase()],g&&"get"in g&&(C=g.get(I,"value"))!==void 0?C:(C=I.value,typeof C=="string"?C.replace(sp,""):C??"")):void 0}}),v.extend({valHooks:{option:{get:function(f){var g=v.find.attr(f,"value");return g??Yn(v.text(f))}},select:{get:function(f){var g,C,T,I=f.options,D=f.selectedIndex,O=f.type==="select-one",Q=O?null:[],K=O?D+1:I.length;for(D<0?T=K:T=O?D:0;T<K;T++)if(C=I[T],(C.selected||T===D)&&!C.disabled&&(!C.parentNode.disabled||!k(C.parentNode,"optgroup"))){if(g=v(C).val(),O)return g;Q.push(g)}return Q},set:function(f,g){for(var C,T,I=f.options,D=v.makeArray(g),O=I.length;O--;)T=I[O],(T.selected=v.inArray(v.valHooks.option.get(T),D)>-1)&&(C=!0);return C||(f.selectedIndex=-1),D}}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(f,g){if(Array.isArray(g))return f.checked=v.inArray(v(f).val(),g)>-1}},h.checkOn||(v.valHooks[this].get=function(f){return f.getAttribute("value")===null?"on":f.value})});var da=e.location,Qu={guid:Date.now()},js=/\?/;v.parseXML=function(f){var g,C;if(!f||typeof f!="string")return null;try{g=new e.DOMParser().parseFromString(f,"text/xml")}catch{}return C=g&&g.getElementsByTagName("parsererror")[0],(!g||C)&&v.error("Invalid XML: "+(C?v.map(C.childNodes,function(T){return T.textContent}).join(`
`):f)),g};var Zu=/^(?:focusinfocus|focusoutblur)$/,Ju=function(f){f.stopPropagation()};v.extend(v.event,{trigger:function(f,g,C,T){var I,D,O,Q,K,te,ve,we,se=[C||b],Te=d.call(f,"type")?f.type:f,Je=d.call(f,"namespace")?f.namespace.split("."):[];if(D=we=O=C=C||b,!(C.nodeType===3||C.nodeType===8)&&!Zu.test(Te+v.event.triggered)&&(Te.indexOf(".")>-1&&(Je=Te.split("."),Te=Je.shift(),Je.sort()),K=Te.indexOf(":")<0&&"on"+Te,f=f[v.expando]?f:new v.Event(Te,typeof f=="object"&&f),f.isTrigger=T?2:3,f.namespace=Je.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Je.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=C),g=g==null?[f]:v.makeArray(g,[f]),ve=v.event.special[Te]||{},!(!T&&ve.trigger&&ve.trigger.apply(C,g)===!1))){if(!T&&!ve.noBubble&&!w(C)){for(Q=ve.delegateType||Te,Zu.test(Q+Te)||(D=D.parentNode);D;D=D.parentNode)se.push(D),O=D;O===(C.ownerDocument||b)&&se.push(O.defaultView||O.parentWindow||e)}for(I=0;(D=se[I++])&&!f.isPropagationStopped();)we=D,f.type=I>1?Q:ve.bindType||Te,te=(L.get(D,"events")||Object.create(null))[f.type]&&L.get(D,"handle"),te&&te.apply(D,g),te=K&&D[K],te&&te.apply&&Me(D)&&(f.result=te.apply(D,g),f.result===!1&&f.preventDefault());return f.type=Te,!T&&!f.isDefaultPrevented()&&(!ve._default||ve._default.apply(se.pop(),g)===!1)&&Me(C)&&K&&y(C[Te])&&!w(C)&&(O=C[K],O&&(C[K]=null),v.event.triggered=Te,f.isPropagationStopped()&&we.addEventListener(Te,Ju),C[Te](),f.isPropagationStopped()&&we.removeEventListener(Te,Ju),v.event.triggered=void 0,O&&(C[K]=O)),f.result}},simulate:function(f,g,C){var T=v.extend(new v.Event,C,{type:f,isSimulated:!0});v.event.trigger(T,null,g)}}),v.fn.extend({trigger:function(f,g){return this.each(function(){v.event.trigger(f,g,this)})},triggerHandler:function(f,g){var C=this[0];if(C)return v.event.trigger(f,g,C,!0)}});var lp=/\[\]$/,ec=/\r?\n/g,up=/^(?:submit|button|image|reset|file)$/i,cp=/^(?:input|select|textarea|keygen)/i;function Ks(f,g,C,T){var I;if(Array.isArray(g))v.each(g,function(D,O){C||lp.test(f)?T(f,O):Ks(f+"["+(typeof O=="object"&&O!=null?D:"")+"]",O,C,T)});else if(!C&&x(g)==="object")for(I in g)Ks(f+"["+I+"]",g[I],C,T);else T(f,g)}v.param=function(f,g){var C,T=[],I=function(D,O){var Q=y(O)?O():O;T[T.length]=encodeURIComponent(D)+"="+encodeURIComponent(Q??"")};if(f==null)return"";if(Array.isArray(f)||f.jquery&&!v.isPlainObject(f))v.each(f,function(){I(this.name,this.value)});else for(C in f)Ks(C,f[C],g,I);return T.join("&")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=v.prop(this,"elements");return f?v.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!v(this).is(":disabled")&&cp.test(this.nodeName)&&!up.test(f)&&(this.checked||!zt.test(f))}).map(function(f,g){var C=v(this).val();return C==null?null:Array.isArray(C)?v.map(C,function(T){return{name:g.name,value:T.replace(ec,`\r
`)}}):{name:g.name,value:C.replace(ec,`\r
`)}}).get()}});var fp=/%20/g,dp=/#.*$/,hp=/([?&])_=[^&]*/,vp=/^(.*?):[ \t]*([^\r\n]*)$/mg,pp=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gp=/^(?:GET|HEAD)$/,mp=/^\/\//,tc={},Ys={},rc="*/".concat("*"),Xs=b.createElement("a");Xs.href=da.href;function nc(f){return function(g,C){typeof g!="string"&&(C=g,g="*");var T,I=0,D=g.toLowerCase().match(ce)||[];if(y(C))for(;T=D[I++];)T[0]==="+"?(T=T.slice(1)||"*",(f[T]=f[T]||[]).unshift(C)):(f[T]=f[T]||[]).push(C)}}function ic(f,g,C,T){var I={},D=f===Ys;function O(Q){var K;return I[Q]=!0,v.each(f[Q]||[],function(te,ve){var we=ve(g,C,T);if(typeof we=="string"&&!D&&!I[we])return g.dataTypes.unshift(we),O(we),!1;if(D)return!(K=we)}),K}return O(g.dataTypes[0])||!I["*"]&&O("*")}function Qs(f,g){var C,T,I=v.ajaxSettings.flatOptions||{};for(C in g)g[C]!==void 0&&((I[C]?f:T||(T={}))[C]=g[C]);return T&&v.extend(!0,f,T),f}function yp(f,g,C){for(var T,I,D,O,Q=f.contents,K=f.dataTypes;K[0]==="*";)K.shift(),T===void 0&&(T=f.mimeType||g.getResponseHeader("Content-Type"));if(T){for(I in Q)if(Q[I]&&Q[I].test(T)){K.unshift(I);break}}if(K[0]in C)D=K[0];else{for(I in C){if(!K[0]||f.converters[I+" "+K[0]]){D=I;break}O||(O=I)}D=D||O}if(D)return D!==K[0]&&K.unshift(D),C[D]}function bp(f,g,C,T){var I,D,O,Q,K,te={},ve=f.dataTypes.slice();if(ve[1])for(O in f.converters)te[O.toLowerCase()]=f.converters[O];for(D=ve.shift();D;)if(f.responseFields[D]&&(C[f.responseFields[D]]=g),!K&&T&&f.dataFilter&&(g=f.dataFilter(g,f.dataType)),K=D,D=ve.shift(),D){if(D==="*")D=K;else if(K!=="*"&&K!==D){if(O=te[K+" "+D]||te["* "+D],!O){for(I in te)if(Q=I.split(" "),Q[1]===D&&(O=te[K+" "+Q[0]]||te["* "+Q[0]],O)){O===!0?O=te[I]:te[I]!==!0&&(D=Q[0],ve.unshift(Q[1]));break}}if(O!==!0)if(O&&f.throws)g=O(g);else try{g=O(g)}catch(we){return{state:"parsererror",error:O?we:"No conversion from "+K+" to "+D}}}}return{state:"success",data:g}}v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:da.href,type:"GET",isLocal:pp.test(da.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":rc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,g){return g?Qs(Qs(f,v.ajaxSettings),g):Qs(v.ajaxSettings,f)},ajaxPrefilter:nc(tc),ajaxTransport:nc(Ys),ajax:function(f,g){typeof f=="object"&&(g=f,f=void 0),g=g||{};var C,T,I,D,O,Q,K,te,ve,we,se=v.ajaxSetup({},g),Te=se.context||se,Je=se.context&&(Te.nodeType||Te.jquery)?v(Te):v.event,ut=v.Deferred(),nt=v.Callbacks("once memory"),jt=se.statusCode||{},$t={},Gr={},jr="canceled",lt={readyState:0,getResponseHeader:function(ft){var Lt;if(K){if(!D)for(D={};Lt=vp.exec(I);)D[Lt[1].toLowerCase()+" "]=(D[Lt[1].toLowerCase()+" "]||[]).concat(Lt[2]);Lt=D[ft.toLowerCase()+" "]}return Lt==null?null:Lt.join(", ")},getAllResponseHeaders:function(){return K?I:null},setRequestHeader:function(ft,Lt){return K==null&&(ft=Gr[ft.toLowerCase()]=Gr[ft.toLowerCase()]||ft,$t[ft]=Lt),this},overrideMimeType:function(ft){return K==null&&(se.mimeType=ft),this},statusCode:function(ft){var Lt;if(ft)if(K)lt.always(ft[lt.status]);else for(Lt in ft)jt[Lt]=[jt[Lt],ft[Lt]];return this},abort:function(ft){var Lt=ft||jr;return C&&C.abort(Lt),Qn(0,Lt),this}};if(ut.promise(lt),se.url=((f||se.url||da.href)+"").replace(mp,da.protocol+"//"),se.type=g.method||g.type||se.method||se.type,se.dataTypes=(se.dataType||"*").toLowerCase().match(ce)||[""],se.crossDomain==null){Q=b.createElement("a");try{Q.href=se.url,Q.href=Q.href,se.crossDomain=Xs.protocol+"//"+Xs.host!=Q.protocol+"//"+Q.host}catch{se.crossDomain=!0}}if(se.data&&se.processData&&typeof se.data!="string"&&(se.data=v.param(se.data,se.traditional)),ic(tc,se,g,lt),K)return lt;te=v.event&&se.global,te&&v.active++===0&&v.event.trigger("ajaxStart"),se.type=se.type.toUpperCase(),se.hasContent=!gp.test(se.type),T=se.url.replace(dp,""),se.hasContent?se.data&&se.processData&&(se.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(se.data=se.data.replace(fp,"+")):(we=se.url.slice(T.length),se.data&&(se.processData||typeof se.data=="string")&&(T+=(js.test(T)?"&":"?")+se.data,delete se.data),se.cache===!1&&(T=T.replace(hp,"$1"),we=(js.test(T)?"&":"?")+"_="+Qu.guid+++we),se.url=T+we),se.ifModified&&(v.lastModified[T]&&lt.setRequestHeader("If-Modified-Since",v.lastModified[T]),v.etag[T]&&lt.setRequestHeader("If-None-Match",v.etag[T])),(se.data&&se.hasContent&&se.contentType!==!1||g.contentType)&&lt.setRequestHeader("Content-Type",se.contentType),lt.setRequestHeader("Accept",se.dataTypes[0]&&se.accepts[se.dataTypes[0]]?se.accepts[se.dataTypes[0]]+(se.dataTypes[0]!=="*"?", "+rc+"; q=0.01":""):se.accepts["*"]);for(ve in se.headers)lt.setRequestHeader(ve,se.headers[ve]);if(se.beforeSend&&(se.beforeSend.call(Te,lt,se)===!1||K))return lt.abort();if(jr="abort",nt.add(se.complete),lt.done(se.success),lt.fail(se.error),C=ic(Ys,se,g,lt),!C)Qn(-1,"No Transport");else{if(lt.readyState=1,te&&Je.trigger("ajaxSend",[lt,se]),K)return lt;se.async&&se.timeout>0&&(O=e.setTimeout(function(){lt.abort("timeout")},se.timeout));try{K=!1,C.send($t,Qn)}catch(ft){if(K)throw ft;Qn(-1,ft)}}function Qn(ft,Lt,va,Js){var Kr,pa,Yr,Tn,kn,Ar=Lt;K||(K=!0,O&&e.clearTimeout(O),C=void 0,I=Js||"",lt.readyState=ft>0?4:0,Kr=ft>=200&&ft<300||ft===304,va&&(Tn=yp(se,lt,va)),!Kr&&v.inArray("script",se.dataTypes)>-1&&v.inArray("json",se.dataTypes)<0&&(se.converters["text script"]=function(){}),Tn=bp(se,Tn,lt,Kr),Kr?(se.ifModified&&(kn=lt.getResponseHeader("Last-Modified"),kn&&(v.lastModified[T]=kn),kn=lt.getResponseHeader("etag"),kn&&(v.etag[T]=kn)),ft===204||se.type==="HEAD"?Ar="nocontent":ft===304?Ar="notmodified":(Ar=Tn.state,pa=Tn.data,Yr=Tn.error,Kr=!Yr)):(Yr=Ar,(ft||!Ar)&&(Ar="error",ft<0&&(ft=0))),lt.status=ft,lt.statusText=(Lt||Ar)+"",Kr?ut.resolveWith(Te,[pa,Ar,lt]):ut.rejectWith(Te,[lt,Ar,Yr]),lt.statusCode(jt),jt=void 0,te&&Je.trigger(Kr?"ajaxSuccess":"ajaxError",[lt,se,Kr?pa:Yr]),nt.fireWith(Te,[lt,Ar]),te&&(Je.trigger("ajaxComplete",[lt,se]),--v.active||v.event.trigger("ajaxStop")))}return lt},getJSON:function(f,g,C){return v.get(f,g,C,"json")},getScript:function(f,g){return v.get(f,void 0,g,"script")}}),v.each(["get","post"],function(f,g){v[g]=function(C,T,I,D){return y(T)&&(D=D||I,I=T,T=void 0),v.ajax(v.extend({url:C,type:g,dataType:D,data:T,success:I},v.isPlainObject(C)&&C))}}),v.ajaxPrefilter(function(f){var g;for(g in f.headers)g.toLowerCase()==="content-type"&&(f.contentType=f.headers[g]||"")}),v._evalUrl=function(f,g,C){return v.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(T){v.globalEval(T,g,C)}})},v.fn.extend({wrapAll:function(f){var g;return this[0]&&(y(f)&&(f=f.call(this[0])),g=v(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var C=this;C.firstElementChild;)C=C.firstElementChild;return C}).append(this)),this},wrapInner:function(f){return y(f)?this.each(function(g){v(this).wrapInner(f.call(this,g))}):this.each(function(){var g=v(this),C=g.contents();C.length?C.wrapAll(f):g.append(f)})},wrap:function(f){var g=y(f);return this.each(function(C){v(this).wrapAll(g?f.call(this,C):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){v(this).replaceWith(this.childNodes)}),this}}),v.expr.pseudos.hidden=function(f){return!v.expr.pseudos.visible(f)},v.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},v.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var wp={0:200,1223:204},ha=v.ajaxSettings.xhr();h.cors=!!ha&&"withCredentials"in ha,h.ajax=ha=!!ha,v.ajaxTransport(function(f){var g,C;if(h.cors||ha&&!f.crossDomain)return{send:function(T,I){var D,O=f.xhr();if(O.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(D in f.xhrFields)O[D]=f.xhrFields[D];f.mimeType&&O.overrideMimeType&&O.overrideMimeType(f.mimeType),!f.crossDomain&&!T["X-Requested-With"]&&(T["X-Requested-With"]="XMLHttpRequest");for(D in T)O.setRequestHeader(D,T[D]);g=function(Q){return function(){g&&(g=C=O.onload=O.onerror=O.onabort=O.ontimeout=O.onreadystatechange=null,Q==="abort"?O.abort():Q==="error"?typeof O.status!="number"?I(0,"error"):I(O.status,O.statusText):I(wp[O.status]||O.status,O.statusText,(O.responseType||"text")!=="text"||typeof O.responseText!="string"?{binary:O.response}:{text:O.responseText},O.getAllResponseHeaders()))}},O.onload=g(),C=O.onerror=O.ontimeout=g("error"),O.onabort!==void 0?O.onabort=C:O.onreadystatechange=function(){O.readyState===4&&e.setTimeout(function(){g&&C()})},g=g("abort");try{O.send(f.hasContent&&f.data||null)}catch(Q){if(g)throw Q}},abort:function(){g&&g()}}}),v.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return v.globalEval(f),f}}}),v.ajaxPrefilter("script",function(f){f.cache===void 0&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),v.ajaxTransport("script",function(f){if(f.crossDomain||f.scriptAttrs){var g,C;return{send:function(T,I){g=v("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",C=function(D){g.remove(),C=null,D&&I(D.type==="error"?404:200,D.type)}),b.head.appendChild(g[0])},abort:function(){C&&C()}}}});var ac=[],Zs=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=ac.pop()||v.expando+"_"+Qu.guid++;return this[f]=!0,f}}),v.ajaxPrefilter("json jsonp",function(f,g,C){var T,I,D,O=f.jsonp!==!1&&(Zs.test(f.url)?"url":typeof f.data=="string"&&(f.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Zs.test(f.data)&&"data");if(O||f.dataTypes[0]==="jsonp")return T=f.jsonpCallback=y(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,O?f[O]=f[O].replace(Zs,"$1"+T):f.jsonp!==!1&&(f.url+=(js.test(f.url)?"&":"?")+f.jsonp+"="+T),f.converters["script json"]=function(){return D||v.error(T+" was not called"),D[0]},f.dataTypes[0]="json",I=e[T],e[T]=function(){D=arguments},C.always(function(){I===void 0?v(e).removeProp(T):e[T]=I,f[T]&&(f.jsonpCallback=g.jsonpCallback,ac.push(T)),D&&y(I)&&I(D[0]),D=I=void 0}),"script"}),h.createHTMLDocument=function(){var f=b.implementation.createHTMLDocument("").body;return f.innerHTML="<form></form><form></form>",f.childNodes.length===2}(),v.parseHTML=function(f,g,C){if(typeof f!="string")return[];typeof g=="boolean"&&(C=g,g=!1);var T,I,D;return g||(h.createHTMLDocument?(g=b.implementation.createHTMLDocument(""),T=g.createElement("base"),T.href=b.location.href,g.head.appendChild(T)):g=b),I=W.exec(f),D=!C&&[],I?[g.createElement(I[1])]:(I=sr([f],g,D),D&&D.length&&v(D).remove(),v.merge([],I.childNodes))},v.fn.load=function(f,g,C){var T,I,D,O=this,Q=f.indexOf(" ");return Q>-1&&(T=Yn(f.slice(Q)),f=f.slice(0,Q)),y(g)?(C=g,g=void 0):g&&typeof g=="object"&&(I="POST"),O.length>0&&v.ajax({url:f,type:I||"GET",dataType:"html",data:g}).done(function(K){D=arguments,O.html(T?v("<div>").append(v.parseHTML(K)).find(T):K)}).always(C&&function(K,te){O.each(function(){C.apply(this,D||[K.responseText,te,K])})}),this},v.expr.pseudos.animated=function(f){return v.grep(v.timers,function(g){return f===g.elem}).length},v.offset={setOffset:function(f,g,C){var T,I,D,O,Q,K,te,ve=v.css(f,"position"),we=v(f),se={};ve==="static"&&(f.style.position="relative"),Q=we.offset(),D=v.css(f,"top"),K=v.css(f,"left"),te=(ve==="absolute"||ve==="fixed")&&(D+K).indexOf("auto")>-1,te?(T=we.position(),O=T.top,I=T.left):(O=parseFloat(D)||0,I=parseFloat(K)||0),y(g)&&(g=g.call(f,C,v.extend({},Q))),g.top!=null&&(se.top=g.top-Q.top+O),g.left!=null&&(se.left=g.left-Q.left+I),"using"in g?g.using.call(f,se):we.css(se)}},v.fn.extend({offset:function(f){if(arguments.length)return f===void 0?this:this.each(function(I){v.offset.setOffset(this,f,I)});var g,C,T=this[0];if(T)return T.getClientRects().length?(g=T.getBoundingClientRect(),C=T.ownerDocument.defaultView,{top:g.top+C.pageYOffset,left:g.left+C.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var f,g,C,T=this[0],I={top:0,left:0};if(v.css(T,"position")==="fixed")g=T.getBoundingClientRect();else{for(g=this.offset(),C=T.ownerDocument,f=T.offsetParent||C.documentElement;f&&(f===C.body||f===C.documentElement)&&v.css(f,"position")==="static";)f=f.parentNode;f&&f!==T&&f.nodeType===1&&(I=v(f).offset(),I.top+=v.css(f,"borderTopWidth",!0),I.left+=v.css(f,"borderLeftWidth",!0))}return{top:g.top-I.top-v.css(T,"marginTop",!0),left:g.left-I.left-v.css(T,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&v.css(f,"position")==="static";)f=f.offsetParent;return f||ae})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,g){var C=g==="pageYOffset";v.fn[f]=function(T){return le(this,function(I,D,O){var Q;if(w(I)?Q=I:I.nodeType===9&&(Q=I.defaultView),O===void 0)return Q?Q[g]:I[D];Q?Q.scrollTo(C?Q.pageXOffset:O,C?O:Q.pageYOffset):I[D]=O},f,T,arguments.length)}}),v.each(["top","left"],function(f,g){v.cssHooks[g]=go(h.pixelPosition,function(C,T){if(T)return T=Sn(C,g),ua.test(T)?v(C).position()[g]+"px":T})}),v.each({Height:"height",Width:"width"},function(f,g){v.each({padding:"inner"+f,content:g,"":"outer"+f},function(C,T){v.fn[T]=function(I,D){var O=arguments.length&&(C||typeof I!="boolean"),Q=C||(I===!0||D===!0?"margin":"border");return le(this,function(K,te,ve){var we;return w(K)?T.indexOf("outer")===0?K["inner"+f]:K.document.documentElement["client"+f]:K.nodeType===9?(we=K.documentElement,Math.max(K.body["scroll"+f],we["scroll"+f],K.body["offset"+f],we["offset"+f],we["client"+f])):ve===void 0?v.css(K,te,Q):v.style(K,te,ve,Q)},g,O?I:void 0,O)}})}),v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,g){v.fn[g]=function(C){return this.on(g,C)}}),v.fn.extend({bind:function(f,g,C){return this.on(f,null,g,C)},unbind:function(f,g){return this.off(f,null,g)},delegate:function(f,g,C,T){return this.on(g,f,C,T)},undelegate:function(f,g,C){return arguments.length===1?this.off(f,"**"):this.off(g,f||"**",C)},hover:function(f,g){return this.on("mouseenter",f).on("mouseleave",g||f)}}),v.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,g){v.fn[g]=function(C,T){return arguments.length>0?this.on(g,null,C,T):this.trigger(g)}});var xp=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;v.proxy=function(f,g){var C,T,I;if(typeof g=="string"&&(C=f[g],g=f,f=C),!!y(f))return T=a.call(arguments,2),I=function(){return f.apply(g||this,T.concat(a.call(arguments)))},I.guid=f.guid=f.guid||v.guid++,I},v.holdReady=function(f){f?v.readyWait++:v.ready(!0)},v.isArray=Array.isArray,v.parseJSON=JSON.parse,v.nodeName=k,v.isFunction=y,v.isWindow=w,v.camelCase=Re,v.type=x,v.now=Date.now,v.isNumeric=function(f){var g=v.type(f);return(g==="number"||g==="string")&&!isNaN(f-parseFloat(f))},v.trim=function(f){return f==null?"":(f+"").replace(xp,"$1")};var Ep=e.jQuery,Cp=e.$;return v.noConflict=function(f){return e.$===v&&(e.$=Cp),f&&e.jQuery===v&&(e.jQuery=Ep),v},typeof r>"u"&&(e.jQuery=e.$=v),v})})(vd);var Lp=vd.exports;const Op=qn(Lp);window.jQuery=window.$=Op;const Ue={ID:"id",LABEL:"l",LABEL_GERMAN:"de",LABEL_ENGLISH:"en",LABEL_PERSIAN:"fa",SUBTOP:"st",SOURCE:"source",INSTANCE:"inst",SUBTOP_ENTITY_TYPE:"E",SUBTOP_ROLE:"R",SUBTOP_FUNCTION:"F"},st={SOURCE:"source",TARGET:"target",ID:"id",PROPERTY:"p",PROPERTY_LABEL:"pl",GRAPH:"g",AXIOM:"ax"},Np={idStrings:{file:"File","load-sparql":"Load from SPARQL endpoint","load-session":"Load session","load-view":"Load Partial Graph","save-session":"Save Session","save-snik-graph":"Save complete SNIK Graph as Cytoscape File","save-view":"Save current Partial Graph","recalculate-layout-replace":"Recalculate Layout and Replace in Browser Cache","save-image-current-view":"Save Image of Current View","save-image-whole-graph":"Save Image of Whole Graph","save-image-current-view-high-res":"Save Image of Current View (high res)","save-image-whole-graph-high-res":"Save Image of Whole Graph (high res)",filter:"Filter",options:"Options",separateSubs:"separate subontologies",cumulativeSearch:"cumulative search",grid:"show grid",dayMode:"day mode",coloredEdges:"Colorize edges by type",showProperty:"Always show relation descriptions",devMode:"developer mode",extMode:"extended mode",combineMatchMode:"Combine Matches",showInstances:"Show Instances",starNewView:"Star in new View",layout:"Layout","show-close-matches":"show close matches","recalculate-layout":"recalculate layout","tight-layout":"tight layout","compound-layout":"compound layout","bb-chapter-search":"BB chapter search","ob-chapter-search":"OB chapter search","reset-view":"reset main view","move-match-on-top":"move matches on top of each other","move-match-nearby":"move matches nearby","subontology-connectivity":"subontology connectivity","change-title":"change title of active View",services:"Services","sparql-endpoint":"SPARQL Endpoint","rdf-browser":"RDF Browser",language:"Language",english:"english",german:"german",persian:"persian",help:"Help","deselect-all":"deselect all","search-field":"search field","base-mode":"basic menu items","context-menu":"context menu","incoming-star":"incoming star","outgoing-star":"outgoing star","combine-close-matches":"combine close matches","class-use":"class use","show-instances":"show instances"},messageStrings:{"no-search-results-for":"No Search Results for","ontology-issue-warning":"Please note that this is only for feedback about the ontology! Please check if there is already an issue for your problem. If not, we will consider your feedback ASAP."}},Bp={idStrings:{file:"Datei","load-sparql":"Lade aus dem SPARQL Endpunkt","load-session":"Lade gespeicherte Sitzung","load-view":"Lade Teilgraph","save-session":"Speichere aktuelle Sitzung","save-snik-graph":"Speichere kompletten SNIK Graph als Cytoscape Datei","save-view":"Speichere aktuellen Teilgraphen","recalculate-layout-replace":"Layout neu berechnen und im Browser Cache platzieren","save-image-current-view":"Speichere Bilddatei der aktuellen Ansicht","save-image-whole-graph":"Speichere Bilddatei des kompletten Graphen","save-image-current-view-high-res":"Speichere Bilddatei der aktuellen Ansicht (hohe AuflÃ¶sung)","save-image-whole-graph-high-res":"Speichere Bilddatei des kompletten Graphen (hohe AuflÃ¶sung)",filter:"Filter",options:"Optionen",separateSubs:"nach Subontologien aufspalten",cumulativeSearch:"Kumulative Suche",grid:"Raster anzeigen",dayMode:"Tag-Modus",coloredEdges:"Kanten nach Typ einfÃ¤rben",devMode:"Entwickler-Modus",extMode:"Erweiterter Modus",combineMatchMode:"Ãbereinstimmungen zusammenfassen",showInstances:"Instanzen zeigen",layout:"Layout","show-close-matches":"Zeige close matches","recalculate-layout":"Layout neu berechnen","tight-layout":"Dichtes Layout","compound-layout":"verbundenes Layout","bb-chapter-search":"BB Kapitelsuche","ob-chapter-search":"OB Kapitelsuche","reset-view":"Ansicht des Gesamtmodells zurÃ¼cksetzen","move-match-on-top":"Zeige close matches Ã¼bereinander","move-match-nearby":"Zeige close matches verbunden","subontology-connectivity":"KonnektivitÃ¤t zwischen Subontologien","change-title":"Titel des aktuellen View Ã¤ndern",services:"Services","sparql-endpoint":"SPARQL Endpunkt","rdf-browser":"RDF Browser",language:"Sprache",english:"Englisch",german:"Deutsch",persian:"Persisch",help:"Hilfe","deselect-all":"alle abwÃ¤hlen","search-field":"Suchfeld","base-mode":"Basismodus","context-menu":"KontextmenÃ¼","incoming-star":"eingehener Stern","outgoing-star":"ausgehender Stern","combine-close-matches":"kombiniere close matches","class-use":"Klassenbenutzung","show-instances":"zeige Instanzen"},messageStrings:{"no-search-results-for":"Keine Suchresultate fÃ¼r","ontology-issue-warning":"Bitte hier nur Feedback zur Ontologie hinterlassen! Bitte prÃ¼fen Sie vorher, ob es schon eine Issue mit diesem Thema gibt. Wenn nicht, bearbeiten wir Ihr Feedback so schnell wie mÃ¶glich."}};var pd={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(dn,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function a(y,w){var b=y[w];if(typeof b.bind=="function")return b.bind(y);try{return Function.prototype.bind.call(b,y)}catch{return function(){return Function.prototype.apply.apply(b,[y,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(y){return y==="debug"&&(y="log"),typeof console===r?!1:y==="trace"&&n?o:console[y]!==void 0?a(console,y):console.log!==void 0?a(console,"log"):e}function l(y,w){for(var b=0;b<i.length;b++){var E=i[b];this[E]=b<y?e:this.methodFactory(E,y,w)}this.log=this.debug}function u(y,w,b){return function(){typeof console!==r&&(l.call(this,w,b),this[y].apply(this,arguments))}}function c(y,w,b){return s(y)||u.apply(this,arguments)}function d(y,w,b){var E=this,S;w=w??"WARN";var x="loglevel";typeof y=="string"?x+=":"+y:typeof y=="symbol"&&(x=void 0);function A(k){var B=(i[k]||"silent").toUpperCase();if(!(typeof window===r||!x)){try{window.localStorage[x]=B;return}catch{}try{window.document.cookie=encodeURIComponent(x)+"="+B+";"}catch{}}}function _(){var k;if(!(typeof window===r||!x)){try{k=window.localStorage[x]}catch{}if(typeof k===r)try{var B=window.document.cookie,N=B.indexOf(encodeURIComponent(x)+"=");N!==-1&&(k=/^([^;]+)/.exec(B.slice(N))[1])}catch{}return E.levels[k]===void 0&&(k=void 0),k}}function v(){if(!(typeof window===r||!x)){try{window.localStorage.removeItem(x);return}catch{}try{window.document.cookie=encodeURIComponent(x)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}E.name=y,E.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},E.methodFactory=b||c,E.getLevel=function(){return S},E.setLevel=function(k,B){if(typeof k=="string"&&E.levels[k.toUpperCase()]!==void 0&&(k=E.levels[k.toUpperCase()]),typeof k=="number"&&k>=0&&k<=E.levels.SILENT){if(S=k,B!==!1&&A(k),l.call(E,k,y),typeof console===r&&k<E.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+k},E.setDefaultLevel=function(k){w=k,_()||E.setLevel(k,!1)},E.resetLevel=function(){E.setLevel(w,!1),v()},E.enableAll=function(k){E.setLevel(E.levels.TRACE,k)},E.disableAll=function(k){E.setLevel(E.levels.SILENT,k)};var P=_();P==null&&(P=w),E.setLevel(P,!1)}var p=new d,m={};p.getLogger=function(w){if(typeof w!="symbol"&&typeof w!="string"||w==="")throw new TypeError("You must supply a name when creating a logger.");var b=m[w];return b||(b=m[w]=new d(w,p.getLevel(),p.methodFactory)),b};var h=typeof window!==r?window.log:void 0;return p.noConflict=function(){return typeof window!==r&&window.log===p&&(window.log=h),p},p.getLoggers=function(){return m},p.default=p,p})})(pd);var Rp=pd.exports;const _e=qn(Rp),uu={en:Np,de:Bp,fa:{idStrings:{},messageStrings:{}}};let Ni="en";function zp(t){return _e.debug(`Set language from ${Ni} to ${t}.`),uu[t]?(Ni=t,!0):(_e.warn(`Language ${t} not found. Keeping language ${Ni}.`),!1)}function gd(){return Ni}function md(t){const e=uu[Ni];return e.all||(e.all={...e.idStrings,...e.messageStrings}),e.all[t]}function Fp(){return uu[Ni].idStrings}const Rl={SPARUL_WARNING:'Please be careful with all SPARUL operations and always create a <a href="https://wiki.imise.uni-leipzig.de/Projekte/SNIK/ontologie/sparql">SPARQL dump</a> as a backup beforehand.'};function $p(){const t=Fp(),e=[];for(const r of Object.keys(t)){const n=document.querySelectorAll(`[data-i18n="${r}"]`);if(n.length===0){e.push(r);continue}for(const i of n){const a=t[r];switch(i.tagName){case"A":case"BUTTON":case"DIV":case"SPAN":i.textContent=a;break;default:_e.warn(`Cannot assign text "${a}" to element with i18n key ${r} because its tag type ${i.tagName} is unsupported.`)}}}e.length>0&&_e.debug(`UpdateHtml: i18n keys ${e.toString()} not used`)}const it={defaultSubOntologies:["meta","bb","ob","ciox","he","it4it"],allSubOntologies:["meta","bb","ob","ciox","he","he-unconsolidated","it4it"],color:new Map([["ciox","rgb(80,255,250)"],["meta","rgb(255,80,80)"],["ob","rgb(255,173,30)"],["bb","rgb(30,152,255)"],["he","rgb(150,255,120)"],["it","rgb(204, 0, 204)"],["it4it","rgb(255, 255, 0)"]]),nodeSize:39,helperGraphs:["limes-exact","match"],activeOptions:["edgecolor"],searchCloseMatch:!0,logLevelConsole:"debug",logLevelDisplay:"info",logLevelMemory:"debug",layoutCacheMinRecall:.95,layoutCacheMinPrecision:.5,language:"en",download:{image:{max:{width:5e3,height:4e3},standard:{width:1920,height:1920}}},sparql:{endpoint:"https://www.snik.eu/sparql",graph:"http://www.snik.eu/ontology",instances:!1,isSnik:!0},multiview:{initialTabs:1,warnOnSessionLoad:!0}},Hp="23.10",ui=Hp,qp=500;function Er(t){const e=document.getElementById(t);if(!e)throw new Error(`Element with id ${t} does not exist.`);return e}const Vp="https://github.com/snikproject/graph",Uo="https://github.com/snikproject/ontology";function Aa(t,e,r,n){let i=encodeURIComponent(r);if(n){const a=n.map(s=>encodeURIComponent(s.trim()));let o=a.reduce((s,l)=>s+"%0A"+l);for(;o.length>qp;)a.shift(),o=a.reduce((s,l)=>s+"%0A"+l,"");i+="%0A%0A%23%23%20Log%0A%60%60%60"+o+"%0A%60%60%60"}window.open(`${t}/issues/new?title=${encodeURIComponent(e)}&body=${i}`)}const yd=t=>e=>{switch(e.key){case" ":case"Enter":t.click()}};function bd(t,e,r){const n=document.createElement("div");return n.classList.add("dropdown-entry-checkboxtext"),n.innerText=e,r&&n.setAttribute("data-i18n",r),n.addEventListener("click",()=>{t.click()}),n}function Wp(t,e,r){const n=Math.floor(t*6),i=t*6-n,a=r*(1-e),o=r*(1-i*e),s=r*(1-(1-i)*e);let l,u,c;switch(n%6){case 0:l=r,u=s,c=a;break;case 1:l=o,u=r,c=a;break;case 2:l=a,u=r,c=s;break;case 3:l=a,u=o,c=r;break;case 4:l=s,u=a,c=r;break;case 5:l=r,u=a,c=o;break}return"#"+("00"+Math.floor(l*255).toString(16)).slice(-2)+("00"+Math.floor(u*255).toString(16)).slice(-2)+("00"+Math.floor(c*255).toString(16)).slice(-2)}function Up(t){let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);return e=e%180/360,e+=.5,Wp(e,1,1)}const uc={format_version:"1.0",generated_by:"cytoscape-3.4.0",target_cytoscapejs_version:"~2.1",title:"MyStyle1",style:[{selector:"node",css:{"min-zoomed-font-size":5,width:it.nodeSize,height:it.nodeSize,"font-size":11,"text-valign":"center","text-halign":"center","border-opacity":1,"border-width":function(t){return t.data(Ue.INSTANCE)?1:0},"font-family":"sans-serif","font-weight":"normal","background-opacity":.5882352941176471,"text-opacity":1,shape:function(t){switch(t.data(Ue.SUBTOP)){case Ue.SUBTOP_ENTITY_TYPE:return"rectangle";case Ue.SUBTOP_ROLE:return"ellipse";case Ue.SUBTOP_FUNCTION:return"triangle"}switch(t.data(Ue.ID)){case"http://www.snik.eu/ontology/meta/EntityType":return"rectangle";case"http://www.snik.eu/ontology/meta/Role":return"ellipse";case"http://www.snik.eu/ontology/meta/Function":return"triangle";default:return"hexagon"}},label:function(t){let e=t.data(Ue.LABEL);if(!e)return t.data(Ue.ID);let r;if((r=e[gd()])&&(r=r[0]))e=r;else{let n=!1;for(const i of[Ue.LABEL_ENGLISH,Ue.LABEL_GERMAN,Ue.LABEL_PERSIAN])if((r=e[i])&&r[0]){e=r[0],n=!0;break}if(!n){const i=Object.keys(e);i.length>0?e=e[i[0]]:e=t.data(Ue.ID)}}return t.data(Ue.INSTANCE)&&(e+="*"),e}}},{selector:"node.source",css:{"border-width":5}},{selector:"node.target",css:{"border-width":5}},{selector:"node.highlighted",css:{"border-width":5}},{selector:"node:selected",css:{"border-width":8}},{selector:"edge",css:{"z-compound-depth":"bottom",width:2,opacity:.22,"edge-text-rotation":"autorotate","text-margin-y":"-1em","min-zoomed-font-size":5,"font-size":11}},{selector:"edge.highlighted,edge:selected,edge.starmode",css:{"text-opacity":1,"mid-target-arrow-shape":function(t){switch(t.data(st.PROPERTY)){case"http://www.snik.eu/ontology/meta/isAssociatedWith":case"http://www.w3.org/2004/02/skos/core#closeMatch":case"http://www.w3.org/2004/02/skos/core#relatedMatch":case"http://www.w3.org/2004/02/skos/core#related":case"http://www.w3.org/2004/02/skos/core#exactMatch":return"none"}return"triangle"},label:function(t){let e=t.data(st.PROPERTY_LABEL);return t.data(st.GRAPH)==="http://www.snik.eu/ontology/limes-exact"&&(e+=" â "),e}}},{selector:"edge.highlighted,edge:selected",css:{width:4,opacity:1}},{selector:".filtered",css:{display:"none"}},{selector:".hidden",css:{visibility:"hidden"}},{selector:"$node > node",css:{shape:"rectangle","border-width":10,"text-valign":"top","text-margin-y":"-0.7em","min-zoomed-font-size":7.5,"font-size":16,"background-opacity":"0"}},{selector:"node[i]",css:{shape:"star"}},{selector:"node",css:{"background-color":t=>{let e=it.color.get(t.data(Ue.SOURCE));return e||(e="rgb(254,196,79)"),e},color:"white"}}]};function cc(t){const e=t.data(st.PROPERTY);return Up(e)}const Gp=[{selector:"edge",css:{color:cc}},{selector:"edge:unselected",css:{"line-color":cc}}],jp=[{selector:"edge",css:{label:function(t){let e=t.data(st.PROPERTY_LABEL);return t.data(st.GRAPH)==="http://www.snik.eu/ontology/limes-exact"&&(e+=" â "),e}}}],fc=[{selector:"node",css:{color:"white","border-color":"white"}},{selector:"node:selected",css:{"background-color":"rgb(255,255,0)"}},{selector:"node.source",css:{"border-color":"rgb(128,255,128)"}},{selector:"node.target",css:{"border-color":"rgb(255,90,90)"}},{selector:"edge",css:{color:"white"}},{selector:"edge:unselected",css:{"line-color":function(t){return String(t.data(st.PROPERTY)).substring(0,36)==="http://www.w3.org/2004/02/skos/core#"?"rgb(255,255,190)":"rgb(252,252,252)"}}},{selector:"edge.starmode",css:{color:"rgb(128,128,128)","mid-target-arrow-color":"rgb(128,128,128)"}},{selector:"edge:selected,edge.highlighted",css:{color:"rgb(255,255,128)","line-color":"rgb(255,255,128)","mid-target-arrow-color":"rgb(255,255,128)"}}],Kp=[{selector:"node",css:{color:"black","border-color":"black"}},{selector:"node:selected",css:{"background-color":"rgb(0,0,255)"}},{selector:"node.source",css:{"border-color":"rgb(128,0,128)"}},{selector:"node.target",css:{"border-color":"rgb(0,165,165)"}},{selector:"edge",css:{color:"black"}},{selector:"edge[!selected]",css:{"line-color":function(t){return String(t.data(st.PROPERTY)).substring(0,36)==="http://www.w3.org/2004/02/skos/core#"?"rgb(140,130,10)":"rgb(110,110,110)"}}},{selector:"edge.starmode",css:{opacity:1,"mid-target-arrow-color":"rgb(128,128,128)",color:"rgb(20,20,20)"}},{selector:"edge:selected,edge.highlighted",css:{color:"rgb(0,0,128)","line-color":"rgb(0,0,128)","mid-target-arrow-color":"rgb(0,0,128)"}}];function Xi(t){const e=new Date;return{stop:function(r){const i=new Date().getTime()-e.getTime();_e.debug(t+" finished in "+i+" ms"+(r?` (${r})`:""))}}}const wd={GRAPH_BB:"http://www.snik.eu/ontology/bb",PREFIX:"http://www.snik.eu/ontology/",ENDPOINT:"https://www.snik.eu/sparql"};async function bn(t,e,r=it.sparql.endpoint){const n=typeof window<"u";let i=r+"?query="+encodeURIComponent(t)+"&format=json";e&&(i+="&default-graph-uri="+encodeURIComponent(e));try{const s=(await(await fetch(i)).json()).results.bindings;return n&&console.groupCollapsed("SPARQL "+t.split(`
`,1)[0]+"..."),n&&s.length<100&&console.table(s.map(l=>Object.keys(l).reduce((u,c)=>(u[c]=l[c].value,u),{}))),_e.debug(t),_e.debug(i),n&&console.groupEnd(),s}catch(a){return _e.error(a),_e.error(`Error executing SPARQL query:
${t}
URL: ${i}

`),[]}}async function Yp(t,e){const r="describe <"+t+">",n=it.sparql.endpoint+"?query="+encodeURIComponent(r)+"&format=text"+(e?"&default-graph-uri="+encodeURIComponent(e):"");try{return await(await fetch(n)).text()}catch(i){throw new Error(`Error executing SPARQL query ${r}: ${i}`)}}const xd=[["meta","http://www.snik.eu/ontology/meta/"],["bb","http://www.snik.eu/ontology/bb/"],["ob","http://www.snik.eu/ontology/ob/"],["he","http://www.snik.eu/ontology/he/"],["ciox","http://www.snik.eu/ontology/ciox/"],["it4it","http://www.snik.eu/ontology/it4it/"],["it","http://www.snik.eu/ontology/it/"],["skos","http://www.w3.org/2004/02/skos/core#"],["rdfs","http://www.w3.org/2000/01/rdf-schema#"],["rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"]];function es(t){for(const e of xd)if(t.startsWith(e[1]))return e[1].replace(/\/$/,"");return t}function Bi(t){for(const e of xd)t=t.replace(e[1],e[0]+":");return t}function Xp(t){return t.startsWith("http://www.snik.eu/ontology/")?t.replace(/\/[^/]*$/,""):null}var ts=function(){return ts=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ts.apply(this,arguments)},Qp={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},Zp=function(){function t(e){e===void 0&&(e={}),this.opts=ts(ts({},Qp),e)}return t.prototype.spin=function(e){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),zl(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),e&&e.insertBefore(this.el,e.firstChild||null),Jp(this.el,this.opts),this},t.prototype.stop=function(){return this.el&&(typeof requestAnimationFrame<"u"?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},t}();function zl(t,e){for(var r in e)t.style[r]=e[r];return t}function dc(t,e){return typeof t=="string"?t:t[e%t.length]}function Jp(t,e){var r=Math.round(e.corners*e.width*500)/1e3+"px",n="none";e.shadow===!0?n="0 2px 4px #000":typeof e.shadow=="string"&&(n=e.shadow);for(var i=eg(n),a=0;a<e.lines;a++){var o=~~(360/e.lines*a+e.rotate),s=zl(document.createElement("div"),{position:"absolute",top:-e.width/2+"px",width:e.length+e.width+"px",height:e.width+"px",background:dc(e.fadeColor,a),borderRadius:r,transformOrigin:"left",transform:"rotate("+o+"deg) translateX("+e.radius+"px)"}),l=a*e.direction/e.lines/e.speed;l-=1/e.speed;var u=zl(document.createElement("div"),{width:"100%",height:"100%",background:dc(e.color,a),borderRadius:r,boxShadow:tg(i,o),animation:1/e.speed+"s linear "+l+"s infinite "+e.animation});s.appendChild(u),t.appendChild(s)}}function eg(t){for(var e=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,r=[],n=0,i=t.split(",");n<i.length;n++){var a=i[n],o=a.match(e);if(o!==null){var s=+o[2],l=+o[5],u=o[4],c=o[7];s===0&&!u&&(u=c),l===0&&!c&&(c=u),u===c&&r.push({prefix:o[1]||"",x:s,y:l,xUnits:u,yUnits:c,end:o[8]})}}return r}function tg(t,e){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n],o=rg(a.x,a.y,e);r.push(a.prefix+o[0]+a.xUnits+" "+o[1]+a.yUnits+a.end)}return r.join(", ")}function rg(t,e,r){var n=r*Math.PI/180,i=Math.sin(n),a=Math.cos(n);return[Math.round((t*a+e*i)*1e3)/1e3,Math.round((-t*i+e*a)*1e3)/1e3]}const ng={lines:13,length:28,width:35,radius:84,scale:3,corners:1,color:"#ffffff",opacity:.6,rotate:35,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!0,position:"absolute"};let Co=null,So=0;async function Na(t){window&&(Co||(Co=new Zp(ng)),So||(document.body.classList.add("waiting"),Co.spin(document.body)),So++,await t(),So--,So<=0&&(document.body.classList.remove("waiting"),Co.stop()))}async function ig(t){const e=Xi("sparql-classes"),n=`
  PREFIX ov: <http://open.vocab.org/terms/>
  PREFIX meta: <http://www.snik.eu/ontology/meta/>
  SELECT DISTINCT(?c)
  GROUP_CONCAT(DISTINCT(CONCAT(?l,"@",lang(?l)));separator="|") AS ?l
  SAMPLE(?st) AS ?st
  ?src
  SAMPLE(?inst) AS ?inst
  ${t}
  {
    ?c a [rdfs:subClassOf meta:Top].
    OPTIONAL {?src ov:defines ?c.}
    OPTIONAL {?c rdf:type ?st. FILTER(?st!=owl:Class)}
    OPTIONAL {?c rdfs:label ?l.}
    OPTIONAL {?inst a ?c.}
  }`,i=await bn(n);return e.stop(i.length+" classes using SNIK query"),i}function Ed(t){const e=t.split("|"),r={};for(const n of e){const[i,a]=n.split("@");i.trim()&&(r[a]||(r[a]=[]),r[a].push(i))}return r}async function hc(t){const e=await ig(t),r=[],n=new Set;for(let o=0;o<e.length;o++){let s;e[o].src&&(s=e[o].src.value,s.includes("http://www.snik.eu/ontology/")&&(s=s.replace("http://www.snik.eu/ontology/","")),n.add(s)),r.push({group:"nodes",data:{id:e[o].c.value,l:Ed(e[o].l.value),...e[o].st&&{st:e[o].st.value.replace("http://www.snik.eu/ontology/meta/","").substring(0,1)},...s&&{source:s},...e[o].inst&&{inst:!0}}})}const i=["rgb(30,152,255)","rgb(255,173,30)","rgb(80,255,250)","rgb(150,255,120)","rgb(204, 0, 204)","rgb(255, 255, 0)"];let a=0;for(const o of n)it.color.has(o)||(it.color.set(o,i[a]),a=(a+1)%i.length);return _e.debug(e.length+" Nodes loaded from SPARQL"),r}async function ag(t){const e=Xi("sparql-classes"),r=`SELECT
  DISTINCT(?i)
  GROUP_CONCAT(DISTINCT(CONCAT(?l,"@",lang(?l)));separator="|") AS ?l
  ${t}
  {
    ?i a [a owl:Class].
    OPTIONAL {?i rdfs:label ?l.}
  }
  `,n=await bn(r);return e.stop(n.length+" instances"),n}async function og(t){const e=await ag(t),r=[];for(let n=0;n<e.length;n++)r.push({group:"nodes",data:{id:e[n].i.value,l:Ed(e[n].l.value),instance:!0}});return r}async function sg(t,e,r,n){const i=Xi("sparql-properties"),o=`PREFIX sniko: <http://www.snik.eu/ontology/>
    select  ?c ?p ?d ?g (MIN(?ax) as ?ax)
    ${t}
    ${e}
    {
      graph ?g {?c ?p ?d.}
      filter(?g!=sniko:)
      {?c a [rdfs:subClassOf meta:Top].} ${r?" UNION {?c a [a [rdfs:subClassOf meta:Top]]}":""}
      {?d a [rdfs:subClassOf meta:Top].} ${r?" UNION {?d a [a [rdfs:subClassOf meta:Top]]}":""}
      filter(?p!=rdf:type)
      OPTIONAL
      {
        ?ax a owl:Axiom;
        owl:annotatedSource ?c;
        owl:annotatedProperty ?p;
        owl:annotatedTarget ?d.
      }
    }`,s=await bn(o);return i.stop(s.length+" properties using SNIK query"),s}async function lg(t,e,r,n){const i=await sg(t,e,r),a=[];for(let o=0;o<i.length;o++)a.push({group:"edges",data:{source:i[o].c.value,target:i[o].d.value,id:String(o),p:i[o].p.value,pl:i[o].p.value.replace(/.*[#/]/,""),...i[o].g&&{g:i[o].g.value},...i[o].ax&&{ax:i[o].ax.value}}});return _e.debug(i.length+" Edges loaded from SPARQL"),a}async function ug(t,e){if(!e)return hc(t);const[r,n]=await Promise.all([hc(t),og(t)]);return r.concat(n)}async function Cd(t,e,r=!1,n=!1){_e.debug(`Loading graph from endpoint ${it.sparql.endpoint} with graphs ${e}.`);const i=e.map(l=>`FROM <${l}>`).reduce((l,u)=>l+`
`+u,""),a=i.replace(/FROM/g,"FROM NAMED"),[o,s]=await Promise.all([ug(i,r),lg(i,a,r)]);t.elements().remove(),t.add(o),t.add(s),t.elements().addClass("unfiltered")}const cg=[[`node[${Ue.SOURCE}='meta']`,"meta","meta"],[`node[${Ue.SOURCE}='bb']`,"BB","bb"],[`node[${Ue.SOURCE}='ob']`,"OB","ob"],[`node[${Ue.SOURCE}='ciox']`,"CioX","ciox"],[`node[${Ue.SOURCE}='he']`,"HE","he"],[`node[${Ue.SOURCE}='it']`,"IT","it"],[`node[${Ue.SOURCE}='it4it']`,"IT4IT","it4it"],[`node[${Ue.SUBTOP}='${Ue.SUBTOP_ROLE}']`,"Role","role"],[`node[${Ue.SUBTOP}='${Ue.SUBTOP_FUNCTION}']`,"Function","function"],[`node[${Ue.SUBTOP}='${Ue.SUBTOP_ENTITY_TYPE}']`,"EntityType","entitytype"],[`node[?${Ue.INSTANCE}]`,"Show Instances","show-instances"],[`node[!${Ue.INSTANCE}]`,"Show Non-Instances"],["edge[p='http://www.w3.org/2000/01/rdf-schema#subClassOf']","subClassOf","subclassof"],["edge[p!='http://www.w3.org/2000/01/rdf-schema#subClassOf']","non-subClassOf","non-subclassof"],["edge[p^='http://www.w3.org/2004/02/skos/core#']","inter-ontology-relations","inter-ontology-relations"],["edge[p!^='http://www.w3.org/2004/02/skos/core#']","non-inter-ontology-relations","non-inter-ontology-relations"]],To=[],ko=t=>We.views().map(e=>e.state.cy).forEach(e=>t(e));class Xa{constructor(e,r,n){Et(this,"selector");Et(this,"label");Et(this,"checkbox");Et(this,"a");Et(this,"cssClass");Et(this,"visible");this.selector=e;const i=document.createElement("input");i.type="checkbox",this.checkbox=i,i.classList.add("filterbox"),i.autocomplete="off",i.checked=!0,this.label=r,this.a=document.createElement("a"),this.a.classList.add("dropdown-entry"),this.a.appendChild(i),this.a.setAttribute("tabindex","-1"),this.a.addEventListener("keydown",yd(i)),this.a.appendChild(bd(i,r,n)),this.cssClass=`filter-${r}`,this.visible=!0,ko(a=>a.elements(this.selector).addClass(this.cssClass)),i.addEventListener("input",()=>this.setVisible(i.checked)),To.push(this)}toString(){return this.label}setVisible(e){if(this.visible===e)return;this.visible=e;const r=To.filter(n=>!n.visible).map(n=>n.selector);if(r.length===0)ko(n=>n.elements().removeClass("filtered")),ko(n=>n.elements().addClass("unfiltered")),_e.debug("All filters checked");else{const n=r.reduce((i,a)=>i+","+a);ko(i=>{const a=i.elements(n);a.addClass("filtered"),a.removeClass("unfiltered");const o=i.elements().not(a);o.removeClass("filtered"),o.addClass("unfiltered")}),_e.debug("filter "+n+" triggered")}}static addFilterEntries(e,r){for(const n of cg){const i=new Xa(n[0],n[1],n[2]);e.appendChild(i.a),r.push(i.a)}}static toJSON(){const e={};for(const r of To)e[r.label]=r.visible;return e}static fromJSON(e){for(const r of To)r.checkbox.checked=e[r.label],r.visible=e[r.label]}}function fg(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Qa=fg,dg=typeof dn=="object"&&dn&&dn.Object===Object&&dn,hg=dg,vg=hg,pg=typeof self=="object"&&self&&self.Object===Object&&self,gg=vg||pg||Function("return this")(),ys=gg,mg=ys,yg=function(){return mg.Date.now()},bg=yg,wg=/\s/;function xg(t){for(var e=t.length;e--&&wg.test(t.charAt(e)););return e}var Eg=xg,Cg=Eg,Sg=/^\s+/;function Tg(t){return t&&t.slice(0,Cg(t)+1).replace(Sg,"")}var kg=Tg,_g=ys,Ag=_g.Symbol,cu=Ag,vc=cu,Sd=Object.prototype,Ig=Sd.hasOwnProperty,Dg=Sd.toString,ma=vc?vc.toStringTag:void 0;function Mg(t){var e=Ig.call(t,ma),r=t[ma];try{t[ma]=void 0;var n=!0}catch{}var i=Dg.call(t);return n&&(e?t[ma]=r:delete t[ma]),i}var Pg=Mg,Lg=Object.prototype,Og=Lg.toString;function Ng(t){return Og.call(t)}var Bg=Ng,pc=cu,Rg=Pg,zg=Bg,Fg="[object Null]",$g="[object Undefined]",gc=pc?pc.toStringTag:void 0;function Hg(t){return t==null?t===void 0?$g:Fg:gc&&gc in Object(t)?Rg(t):zg(t)}var Td=Hg;function qg(t){return t!=null&&typeof t=="object"}var Vg=qg,Wg=Td,Ug=Vg,Gg="[object Symbol]";function jg(t){return typeof t=="symbol"||Ug(t)&&Wg(t)==Gg}var Za=jg,Kg=kg,mc=Qa,Yg=Za,yc=NaN,Xg=/^[-+]0x[0-9a-f]+$/i,Qg=/^0b[01]+$/i,Zg=/^0o[0-7]+$/i,Jg=parseInt;function em(t){if(typeof t=="number")return t;if(Yg(t))return yc;if(mc(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=mc(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Kg(t);var r=Qg.test(t);return r||Zg.test(t)?Jg(t.slice(2),r?2:8):Xg.test(t)?yc:+t}var tm=em,rm=Qa,ol=bg,bc=tm,nm="Expected a function",im=Math.max,am=Math.min;function om(t,e,r){var n,i,a,o,s,l,u=0,c=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(nm);e=bc(e)||0,rm(r)&&(c=!!r.leading,d="maxWait"in r,a=d?im(bc(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function m(_){var v=n,P=i;return n=i=void 0,u=_,o=t.apply(P,v),o}function h(_){return u=_,s=setTimeout(b,e),c?m(_):o}function y(_){var v=_-l,P=_-u,k=e-v;return d?am(k,a-P):k}function w(_){var v=_-l,P=_-u;return l===void 0||v>=e||v<0||d&&P>=a}function b(){var _=ol();if(w(_))return E(_);s=setTimeout(b,y(_))}function E(_){return s=void 0,p&&n?m(_):(n=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function x(){return s===void 0?o:E(ol())}function A(){var _=ol(),v=w(_);if(n=arguments,i=this,l=_,v){if(s===void 0)return h(l);if(d)return clearTimeout(s),s=setTimeout(b,e),m(l)}return s===void 0&&(s=setTimeout(b,e)),o}return A.cancel=S,A.flush=x,A}var sm=om,kd={exports:{}};(function(t,e){(function(){var r,n,i,a,o,s,l,u,c,d,p,m,h,y,w;i=Math.floor,d=Math.min,n=function(b,E){return b<E?-1:b>E?1:0},c=function(b,E,S,x,A){var _;if(S==null&&(S=0),A==null&&(A=n),S<0)throw new Error("lo must be non-negative");for(x==null&&(x=b.length);S<x;)_=i((S+x)/2),A(E,b[_])<0?x=_:S=_+1;return[].splice.apply(b,[S,S-S].concat(E)),E},s=function(b,E,S){return S==null&&(S=n),b.push(E),y(b,0,b.length-1,S)},o=function(b,E){var S,x;return E==null&&(E=n),S=b.pop(),b.length?(x=b[0],b[0]=S,w(b,0,E)):x=S,x},u=function(b,E,S){var x;return S==null&&(S=n),x=b[0],b[0]=E,w(b,0,S),x},l=function(b,E,S){var x;return S==null&&(S=n),b.length&&S(b[0],E)<0&&(x=[b[0],E],E=x[0],b[0]=x[1],w(b,0,S)),E},a=function(b,E){var S,x,A,_,v,P;for(E==null&&(E=n),_=(function(){P=[];for(var k=0,B=i(b.length/2);0<=B?k<B:k>B;0<=B?k++:k--)P.push(k);return P}).apply(this).reverse(),v=[],x=0,A=_.length;x<A;x++)S=_[x],v.push(w(b,S,E));return v},h=function(b,E,S){var x;if(S==null&&(S=n),x=b.indexOf(E),x!==-1)return y(b,0,x,S),w(b,x,S)},p=function(b,E,S){var x,A,_,v,P;if(S==null&&(S=n),A=b.slice(0,E),!A.length)return A;for(a(A,S),P=b.slice(E),_=0,v=P.length;_<v;_++)x=P[_],l(A,x,S);return A.sort(S).reverse()},m=function(b,E,S){var x,A,_,v,P,k,B,N,M;if(S==null&&(S=n),E*10<=b.length){if(_=b.slice(0,E).sort(S),!_.length)return _;for(A=_[_.length-1],B=b.slice(E),v=0,k=B.length;v<k;v++)x=B[v],S(x,A)<0&&(c(_,x,0,null,S),_.pop(),A=_[_.length-1]);return _}for(a(b,S),M=[],P=0,N=d(E,b.length);0<=N?P<N:P>N;0<=N?++P:--P)M.push(o(b,S));return M},y=function(b,E,S,x){var A,_,v;for(x==null&&(x=n),A=b[S];S>E;){if(v=S-1>>1,_=b[v],x(A,_)<0){b[S]=_,S=v;continue}break}return b[S]=A},w=function(b,E,S){var x,A,_,v,P;for(S==null&&(S=n),A=b.length,P=E,_=b[E],x=2*E+1;x<A;)v=x+1,v<A&&!(S(b[x],b[v])<0)&&(x=v),b[E]=b[x],E=x,x=2*E+1;return b[E]=_,y(b,P,E,S)},r=function(){b.push=s,b.pop=o,b.replace=u,b.pushpop=l,b.heapify=a,b.updateItem=h,b.nlargest=p,b.nsmallest=m;function b(E){this.cmp=E??n,this.nodes=[]}return b.prototype.push=function(E){return s(this.nodes,E,this.cmp)},b.prototype.pop=function(){return o(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(E){return this.nodes.indexOf(E)!==-1},b.prototype.replace=function(E){return u(this.nodes,E,this.cmp)},b.prototype.pushpop=function(E){return l(this.nodes,E,this.cmp)},b.prototype.heapify=function(){return a(this.nodes,this.cmp)},b.prototype.updateItem=function(E){return h(this.nodes,E,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var E;return E=new b,E.nodes=this.nodes.slice(0),E},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,E){return t.exports=E()}(this,function(){return r})}).call(dn)})(kd);var lm=kd.exports,um=lm,cm=Array.isArray,bs=cm,fm=bs,dm=Za,hm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vm=/^\w*$/;function pm(t,e){if(fm(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||dm(t)?!0:vm.test(t)||!hm.test(t)||e!=null&&t in Object(e)}var gm=pm,mm=Td,ym=Qa,bm="[object AsyncFunction]",wm="[object Function]",xm="[object GeneratorFunction]",Em="[object Proxy]";function Cm(t){if(!ym(t))return!1;var e=mm(t);return e==wm||e==xm||e==bm||e==Em}var Sm=Cm,Tm=ys,km=Tm["__core-js_shared__"],_m=km,sl=_m,wc=function(){var t=/[^.]+$/.exec(sl&&sl.keys&&sl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Am(t){return!!wc&&wc in t}var Im=Am,Dm=Function.prototype,Mm=Dm.toString;function Pm(t){if(t!=null){try{return Mm.call(t)}catch{}try{return t+""}catch{}}return""}var Lm=Pm,Om=Sm,Nm=Im,Bm=Qa,Rm=Lm,zm=/[\\^$.*+?()[\]{}|]/g,Fm=/^\[object .+?Constructor\]$/,$m=Function.prototype,Hm=Object.prototype,qm=$m.toString,Vm=Hm.hasOwnProperty,Wm=RegExp("^"+qm.call(Vm).replace(zm,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Um(t){if(!Bm(t)||Nm(t))return!1;var e=Om(t)?Wm:Fm;return e.test(Rm(t))}var Gm=Um;function jm(t,e){return t==null?void 0:t[e]}var Km=jm,Ym=Gm,Xm=Km;function Qm(t,e){var r=Xm(t,e);return Ym(r)?r:void 0}var fu=Qm,Zm=fu,Jm=Zm(Object,"create"),ws=Jm,xc=ws;function ey(){this.__data__=xc?xc(null):{},this.size=0}var ty=ey;function ry(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ny=ry,iy=ws,ay="__lodash_hash_undefined__",oy=Object.prototype,sy=oy.hasOwnProperty;function ly(t){var e=this.__data__;if(iy){var r=e[t];return r===ay?void 0:r}return sy.call(e,t)?e[t]:void 0}var uy=ly,cy=ws,fy=Object.prototype,dy=fy.hasOwnProperty;function hy(t){var e=this.__data__;return cy?e[t]!==void 0:dy.call(e,t)}var vy=hy,py=ws,gy="__lodash_hash_undefined__";function my(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=py&&e===void 0?gy:e,this}var yy=my,by=ty,wy=ny,xy=uy,Ey=vy,Cy=yy;function Qi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qi.prototype.clear=by;Qi.prototype.delete=wy;Qi.prototype.get=xy;Qi.prototype.has=Ey;Qi.prototype.set=Cy;var Sy=Qi;function Ty(){this.__data__=[],this.size=0}var ky=Ty;function _y(t,e){return t===e||t!==t&&e!==e}var _d=_y,Ay=_d;function Iy(t,e){for(var r=t.length;r--;)if(Ay(t[r][0],e))return r;return-1}var xs=Iy,Dy=xs,My=Array.prototype,Py=My.splice;function Ly(t){var e=this.__data__,r=Dy(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Py.call(e,r,1),--this.size,!0}var Oy=Ly,Ny=xs;function By(t){var e=this.__data__,r=Ny(e,t);return r<0?void 0:e[r][1]}var Ry=By,zy=xs;function Fy(t){return zy(this.__data__,t)>-1}var $y=Fy,Hy=xs;function qy(t,e){var r=this.__data__,n=Hy(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Vy=qy,Wy=ky,Uy=Oy,Gy=Ry,jy=$y,Ky=Vy;function Zi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zi.prototype.clear=Wy;Zi.prototype.delete=Uy;Zi.prototype.get=Gy;Zi.prototype.has=jy;Zi.prototype.set=Ky;var Yy=Zi,Xy=fu,Qy=ys,Zy=Xy(Qy,"Map"),Jy=Zy,Ec=Sy,e0=Yy,t0=Jy;function r0(){this.size=0,this.__data__={hash:new Ec,map:new(t0||e0),string:new Ec}}var n0=r0;function i0(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var a0=i0,o0=a0;function s0(t,e){var r=t.__data__;return o0(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Es=s0,l0=Es;function u0(t){var e=l0(this,t).delete(t);return this.size-=e?1:0,e}var c0=u0,f0=Es;function d0(t){return f0(this,t).get(t)}var h0=d0,v0=Es;function p0(t){return v0(this,t).has(t)}var g0=p0,m0=Es;function y0(t,e){var r=m0(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var b0=y0,w0=n0,x0=c0,E0=h0,C0=g0,S0=b0;function Ji(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ji.prototype.clear=w0;Ji.prototype.delete=x0;Ji.prototype.get=E0;Ji.prototype.has=C0;Ji.prototype.set=S0;var T0=Ji,Ad=T0,k0="Expected a function";function du(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(k0);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(du.Cache||Ad),r}du.Cache=Ad;var _0=du,A0=_0,I0=500;function D0(t){var e=A0(t,function(n){return r.size===I0&&r.clear(),n}),r=e.cache;return e}var M0=D0,P0=M0,L0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O0=/\\(\\)?/g,N0=P0(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(L0,function(r,n,i,a){e.push(i?a.replace(O0,"$1"):n||r)}),e}),Id=N0;function B0(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Dd=B0,Cc=cu,R0=Dd,z0=bs,F0=Za,$0=1/0,Sc=Cc?Cc.prototype:void 0,Tc=Sc?Sc.toString:void 0;function Md(t){if(typeof t=="string")return t;if(z0(t))return R0(t,Md)+"";if(F0(t))return Tc?Tc.call(t):"";var e=t+"";return e=="0"&&1/t==-$0?"-0":e}var H0=Md,q0=H0;function V0(t){return t==null?"":q0(t)}var Pd=V0,W0=bs,U0=gm,G0=Id,j0=Pd;function K0(t,e){return W0(t)?t:U0(t,e)?[t]:G0(j0(t))}var Ld=K0,Y0=Za,X0=1/0;function Q0(t){if(typeof t=="string"||Y0(t))return t;var e=t+"";return e=="0"&&1/t==-X0?"-0":e}var hu=Q0,Z0=Ld,J0=hu;function eb(t,e){e=Z0(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[J0(e[r++])];return r&&r==n?t:void 0}var tb=eb,rb=tb;function nb(t,e,r){var n=t==null?void 0:rb(t,e);return n===void 0?r:n}var ib=nb,ab=fu,ob=function(){try{var t=ab(Object,"defineProperty");return t({},"",{}),t}catch{}}(),sb=ob,kc=sb;function lb(t,e,r){e=="__proto__"&&kc?kc(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var ub=lb,cb=ub,fb=_d,db=Object.prototype,hb=db.hasOwnProperty;function vb(t,e,r){var n=t[e];(!(hb.call(t,e)&&fb(n,r))||r===void 0&&!(e in t))&&cb(t,e,r)}var pb=vb,gb=9007199254740991,mb=/^(?:0|[1-9]\d*)$/;function yb(t,e){var r=typeof t;return e=e??gb,!!e&&(r=="number"||r!="symbol"&&mb.test(t))&&t>-1&&t%1==0&&t<e}var bb=yb,wb=pb,xb=Ld,Eb=bb,_c=Qa,Cb=hu;function Sb(t,e,r,n){if(!_c(t))return t;e=xb(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var l=Cb(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var c=s[l];u=n?n(c,l,s):void 0,u===void 0&&(u=_c(c)?c:Eb(e[i+1])?[]:{})}wb(s,l,u),s=s[l]}return t}var Tb=Sb,kb=Tb;function _b(t,e,r){return t==null?t:kb(t,e,r)}var Ab=_b;function Ib(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Db=Ib,Mb=Dd,Pb=Db,Lb=bs,Ob=Za,Nb=Id,Bb=hu,Rb=Pd;function zb(t){return Lb(t)?Mb(t,Bb):Ob(t)?[t]:Pb(Nb(Rb(t)))}var Fb=zb,$b=sm,Hb=um,qb=ib,Vb=Ab,Wb=Fb;function Ja(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Cs=Ja($b),eo=Ja(Hb),Ub=Ja(qb),Gb=Ja(Vb),jb=Ja(Wb);function Vt(t){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(t)}function vu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ac(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pu(t,e,r){return e&&Ac(t.prototype,e),r&&Ac(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Od(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $r(t,e){return Kb(t)||Yb(t,e)||Xb(t,e)||Qb()}function Kb(t){if(Array.isArray(t))return t}function Yb(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,s;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}function Xb(t,e){if(t){if(typeof t=="string")return Ic(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ic(t,e)}}function Ic(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ht=typeof window>"u"?null:window,Dc=Ht?Ht.navigator:null;Ht&&Ht.document;var Zb=Vt(""),Nd=Vt({}),Jb=Vt(function(){}),ew=typeof HTMLElement>"u"?"undefined":Vt(HTMLElement),to=function(e){return e&&e.instanceString&&Pt(e.instanceString)?e.instanceString():null},je=function(e){return e!=null&&Vt(e)==Zb},Pt=function(e){return e!=null&&Vt(e)===Jb},Tt=function(e){return!Cr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},ht=function(e){return e!=null&&Vt(e)===Nd&&!Tt(e)&&e.constructor===Object},tw=function(e){return e!=null&&Vt(e)===Nd},Pe=function(e){return e!=null&&Vt(e)===Vt(1)&&!isNaN(e)},rw=function(e){return Pe(e)&&Math.floor(e)===e},rs=function(e){if(ew!=="undefined")return e!=null&&e instanceof HTMLElement},Cr=function(e){return ro(e)||Bd(e)},ro=function(e){return to(e)==="collection"&&e._private.single},Bd=function(e){return to(e)==="collection"&&!e._private.single},gu=function(e){return to(e)==="core"},Rd=function(e){return to(e)==="stylesheet"},nw=function(e){return to(e)==="event"},Bn=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},iw=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},aw=function(e){return ht(e)&&Pe(e.x1)&&Pe(e.x2)&&Pe(e.y1)&&Pe(e.y2)},ow=function(e){return tw(e)&&Pt(e.then)},sw=function(){return Dc&&Dc.userAgent.match(/msie|trident|edge/i)},Ba=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);return a.join("$")});var n=function i(){var a=this,o=arguments,s,l=r.apply(a,o),u=i.cache;return(s=u[l])||(s=u[l]=e.apply(a,o)),s};return n.cache={},n},mu=Ba(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Ss=Ba(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),zd=Ba(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Mc=function(e){return Bn(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},qt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",lw="rgb[a]?\\(("+qt+"[%]?)\\s*,\\s*("+qt+"[%]?)\\s*,\\s*("+qt+"[%]?)(?:\\s*,\\s*("+qt+"))?\\)",uw="rgb[a]?\\((?:"+qt+"[%]?)\\s*,\\s*(?:"+qt+"[%]?)\\s*,\\s*(?:"+qt+"[%]?)(?:\\s*,\\s*(?:"+qt+"))?\\)",cw="hsl[a]?\\(("+qt+")\\s*,\\s*("+qt+"[%])\\s*,\\s*("+qt+"[%])(?:\\s*,\\s*("+qt+"))?\\)",fw="hsl[a]?\\((?:"+qt+")\\s*,\\s*(?:"+qt+"[%])\\s*,\\s*(?:"+qt+"[%])(?:\\s*,\\s*(?:"+qt+"))?\\)",dw="\\#[0-9a-fA-F]{3}",hw="\\#[0-9a-fA-F]{6}",Fd=function(e,r){return e<r?-1:e>r?1:0},vw=function(e,r){return-1*Fd(e,r)},Qe=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a];t[o]=n[o]}}return t},pw=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,a,o=16;return r?(n=parseInt(e[1]+e[1],o),i=parseInt(e[2]+e[2],o),a=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),i=parseInt(e[3]+e[4],o),a=parseInt(e[5]+e[6],o)),[n,i,a]}},gw=function(e){var r,n,i,a,o,s,l,u;function c(h,y,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?h+(y-h)*6*w:w<1/2?y:w<2/3?h+(y-h)*(2/3-w)*6:h}var d=new RegExp("^"+cw+"$").exec(e);if(d){if(n=parseInt(d[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(d[2]),i<0||i>100||(i=i/100,a=parseFloat(d[3]),a<0||a>100)||(a=a/100,o=d[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(i===0)s=l=u=Math.round(a*255);else{var p=a<.5?a*(1+i):a+i-a*i,m=2*a-p;s=Math.round(255*c(m,p,n+1/3)),l=Math.round(255*c(m,p,n)),u=Math.round(255*c(m,p,n-1/3))}r=[s,l,u,o]}return r},mw=function(e){var r,n=new RegExp("^"+lw+"$").exec(e);if(n){r=[];for(var i=[],a=1;a<=3;a++){var o=n[a];if(o[o.length-1]==="%"&&(i[a]=!0),o=parseFloat(o),i[a]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(s&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},yw=function(e){return ww[e.toLowerCase()]},bw=function(e){return(Tt(e)?e:null)||yw(e)||pw(e)||mw(e)||gw(e)},ww={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},$d=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(ht(o))throw Error("Tried to set map with object key");a<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=e.value}},Hd=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(ht(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},ll=Ht?Ht.performance:null,qd=ll&&ll.now?function(){return ll.now()}:function(){return Date.now()},xw=function(){if(Ht){if(Ht.requestAnimationFrame)return function(t){Ht.requestAnimationFrame(t)};if(Ht.mozRequestAnimationFrame)return function(t){Ht.mozRequestAnimationFrame(t)};if(Ht.webkitRequestAnimationFrame)return function(t){Ht.webkitRequestAnimationFrame(t)};if(Ht.msRequestAnimationFrame)return function(t){Ht.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(qd())},1e3/60)}}(),ns=function(e){return xw(e)},vn=qd,Pi=9261,Vd=65599,Sa=5381,Wd=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pi,n=r,i;i=e.next(),!i.done;)n=n*Vd+i.value|0;return n},Ra=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pi;return r*Vd+e|0},za=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sa;return(r<<5)+r+e|0},Ew=function(e,r){return e*2097152+r},An=function(e){return e[0]*2097152+e[1]},_o=function(e,r){return[Ra(e[0],r[0]),za(e[1],r[1])]},Cw=function(e,r){var n={value:0,done:!1},i=0,a=e.length,o={next:function(){return i<a?n.value=e[i++]:n.done=!0,n}};return Wd(o,r)},ci=function(e,r){var n={value:0,done:!1},i=0,a=e.length,o={next:function(){return i<a?n.value=e.charCodeAt(i++):n.done=!0,n}};return Wd(o,r)},Ud=function(){return Sw(arguments)},Sw=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=ci(i):r=ci(i,r)}return r},Pc=!0,Tw=console.warn!=null,kw=console.trace!=null,yu=Number.MAX_SAFE_INTEGER||9007199254740991,Gd=function(){return!0},is=function(){return!1},Lc=function(){return 0},bu=function(){},Nt=function(e){throw new Error(e)},jd=function(e){if(e!==void 0)Pc=!!e;else return Pc},yt=function(e){jd()&&(Tw?console.warn(e):(console.log(e),kw&&console.trace()))},_w=function(e){return Qe({},e)},Zr=function(e){return e==null?e:Tt(e)?e.slice():ht(e)?_w(e):e},Aw=function(e){return e.slice()},Kd=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},Iw={},Yd=function(){return Iw},Zt=function(e){var r=Object.keys(e);return function(n){for(var i={},a=0;a<r.length;a++){var o=r[a],s=n==null?void 0:n[o];i[o]=s===void 0?e[o]:s}return i}},Rn=function(e,r,n){for(var i=e.length-1;i>=0&&!(e[i]===r&&(e.splice(i,1),n));i--);},wu=function(e){e.splice(0,e.length)},Dw=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},qr=function(e,r,n){return n&&(r=zd(n,r)),e[r]},Dn=function(e,r,n,i){n&&(r=zd(n,r)),e[r]=i},Mw=function(){function t(){vu(this,t),this._obj={}}return pu(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),Jr=typeof Map<"u"?Map:Mw,Pw="undefined",Lw=function(){function t(e){if(vu(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return pu(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),ea=(typeof Set>"u"?"undefined":Vt(Set))!==Pw?Set:Lw,Ts=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!gu(e)){Nt("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Nt("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new ea,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=e.pan(),l=e.zoom();a.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var u=[];Tt(r.classes)?u=r.classes:je(r.classes)&&(u=r.classes.split(/\s+/));for(var c=0,d=u.length;c<d;c++){var p=u[c];!p||p===""||a.classes.add(p)}this.createEmitter();var m=r.style||r.css;m&&(yt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(m)),(n===void 0||n)&&this.restore()},Oc=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,a){var o;ht(n)&&!Cr(n)&&(o=n,n=o.roots||o.root,i=o.visit,a=o.directed),a=arguments.length===2&&!Pt(i)?i:a,i=Pt(i)?i:function(){};for(var s=this._private.cy,l=n=je(n)?this.filter(n):n,u=[],c=[],d={},p={},m={},h=0,y,w=this.byGroup(),b=w.nodes,E=w.edges,S=0;S<l.length;S++){var x=l[S],A=x.id();x.isNode()&&(u.unshift(x),e.bfs&&(m[A]=!0,c.push(x)),p[A]=0)}for(var _=function(){var z=e.bfs?u.shift():u.pop(),R=z.id();if(e.dfs){if(m[R])return"continue";m[R]=!0,c.push(z)}var q=p[R],H=d[R],U=H!=null?H.source():null,X=H!=null?H.target():null,re=H==null?void 0:z.same(U)?X[0]:U[0],j=void 0;if(j=i(z,H,re,h++,q),j===!0)return y=z,"break";if(j===!1)return"break";for(var F=z.connectedEdges().filter(function(ee){return(!a||ee.source().same(z))&&E.has(ee)}),W=0;W<F.length;W++){var $=F[W],Y=$.connectedNodes().filter(function(ee){return!ee.same(z)&&b.has(ee)}),Z=Y.id();Y.length!==0&&!m[Z]&&(Y=Y[0],u.push(Y),e.bfs&&(m[Z]=!0,c.push(Y)),d[Z]=$,p[Z]=p[R]+1)}};u.length!==0;){var v=_();if(v!=="continue"&&v==="break")break}for(var P=s.collection(),k=0;k<c.length;k++){var B=c[k],N=d[B.id()];N!=null&&P.push(N),P.push(B)}return{path:s.collection(P),found:s.collection(y)}}},Fa={breadthFirstSearch:Oc({bfs:!0}),depthFirstSearch:Oc({dfs:!0})};Fa.bfs=Fa.breadthFirstSearch;Fa.dfs=Fa.depthFirstSearch;var Ow=Zt({root:null,weight:function(e){return 1},directed:!1}),Nw={dijkstra:function(e){if(!ht(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=Ow(e),i=n.root,a=n.weight,o=n.directed,s=this,l=a,u=je(i)?this.filter(i)[0]:i[0],c={},d={},p={},m=this.byGroup(),h=m.nodes,y=m.edges;y.unmergeBy(function(q){return q.isLoop()});for(var w=function(H){return c[H.id()]},b=function(H,U){c[H.id()]=U,E.updateItem(H)},E=new eo.default(function(q,H){return w(q)-w(H)}),S=0;S<h.length;S++){var x=h[S];c[x.id()]=x.same(u)?0:1/0,E.push(x)}for(var A=function(H,U){for(var X=(o?H.edgesTo(U):H.edgesWith(U)).intersect(y),re=1/0,j,F=0;F<X.length;F++){var W=X[F],$=l(W);($<re||!j)&&(re=$,j=W)}return{edge:j,dist:re}};E.size()>0;){var _=E.pop(),v=w(_),P=_.id();if(p[P]=v,v!==1/0)for(var k=_.neighborhood().intersect(h),B=0;B<k.length;B++){var N=k[B],M=N.id(),z=A(_,N),R=v+z.dist;R<w(N)&&(b(N,R),d[M]={node:_,edge:z.edge})}}return{distanceTo:function(H){var U=je(H)?h.filter(H)[0]:H[0];return p[U.id()]},pathTo:function(H){var U=je(H)?h.filter(H)[0]:H[0],X=[],re=U,j=re.id();if(U.length>0)for(X.unshift(U);d[j];){var F=d[j];X.unshift(F.edge),X.unshift(F.node),re=F.node,j=re.id()}return s.spawn(X)}}}},Bw={kruskal:function(e){e=e||function(S){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,a=n.length,o=new Array(a),s=n,l=function(x){for(var A=0;A<o.length;A++){var _=o[A];if(_.has(x))return A}},u=0;u<a;u++)o[u]=this.spawn(n[u]);for(var c=i.sort(function(S,x){return e(S)-e(x)}),d=0;d<c.length;d++){var p=c[d],m=p.source()[0],h=p.target()[0],y=l(m),w=l(h),b=o[y],E=o[w];y!==w&&(s.merge(p),b.merge(E),o.splice(w,1))}return s}},Rw=Zt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),zw={aStar:function(e){var r=this.cy(),n=Rw(e),i=n.root,a=n.goal,o=n.heuristic,s=n.directed,l=n.weight;i=r.collection(i)[0],a=r.collection(a)[0];var u=i.id(),c=a.id(),d={},p={},m={},h=new eo.default(function(j,F){return p[j.id()]-p[F.id()]}),y=new ea,w={},b={},E=function(F,W){h.push(F),y.add(W)},S,x,A=function(){S=h.pop(),x=S.id(),y.delete(x)},_=function(F){return y.has(F)};E(i,u),d[u]=0,p[u]=o(i);for(var v=0;h.size()>0;){if(A(),v++,x===c){for(var P=[],k=a,B=c,N=b[B];P.unshift(k),N!=null&&P.unshift(N),k=w[B],k!=null;)B=k.id(),N=b[B];return{found:!0,distance:d[x],path:this.spawn(P),steps:v}}m[x]=!0;for(var M=S._private.edges,z=0;z<M.length;z++){var R=M[z];if(this.hasElementWithId(R.id())&&!(s&&R.data("source")!==x)){var q=R.source(),H=R.target(),U=q.id()!==x?q:H,X=U.id();if(this.hasElementWithId(X)&&!m[X]){var re=d[x]+l(R);if(!_(X)){d[X]=re,p[X]=re+o(U),E(U,X),w[X]=S,b[X]=R;continue}re<d[X]&&(d[X]=re,p[X]=re+o(U),w[X]=S,b[X]=R)}}}}return{found:!1,distance:void 0,path:void 0,steps:v}}},Fw=Zt({weight:function(e){return 1},directed:!1}),$w={floydWarshall:function(e){for(var r=this.cy(),n=Fw(e),i=n.weight,a=n.directed,o=i,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,d=c*c,p=function($){return l.indexOf($)},m=function($){return l[$]},h=new Array(d),y=0;y<d;y++){var w=y%c,b=(y-w)/c;b===w?h[y]=0:h[y]=1/0}for(var E=new Array(d),S=new Array(d),x=0;x<u.length;x++){var A=u[x],_=A.source()[0],v=A.target()[0];if(_!==v){var P=p(_),k=p(v),B=P*c+k,N=o(A);if(h[B]>N&&(h[B]=N,E[B]=k,S[B]=A),!a){var M=k*c+P;!a&&h[M]>N&&(h[M]=N,E[M]=P,S[M]=A)}}}for(var z=0;z<c;z++)for(var R=0;R<c;R++)for(var q=R*c+z,H=0;H<c;H++){var U=R*c+H,X=z*c+H;h[q]+h[X]<h[U]&&(h[U]=h[q]+h[X],E[U]=E[q])}var re=function($){return(je($)?r.filter($):$)[0]},j=function($){return p(re($))},F={distance:function($,Y){var Z=j($),ee=j(Y);return h[Z*c+ee]},path:function($,Y){var Z=j($),ee=j(Y),G=m(Z);if(Z===ee)return G.collection();if(E[Z*c+ee]==null)return r.collection();var ie=r.collection(),pe=Z,ce;for(ie.merge(G);Z!==ee;)pe=Z,Z=E[Z*c+ee],ce=S[pe*c+Z],ie.merge(ce),ie.merge(m(Z));return ie}};return F}},Hw=Zt({weight:function(e){return 1},directed:!1,root:null}),qw={bellmanFord:function(e){var r=this,n=Hw(e),i=n.weight,a=n.directed,o=n.root,s=i,l=this,u=this.cy(),c=this.byGroup(),d=c.edges,p=c.nodes,m=p.length,h=new Jr,y=!1,w=[];o=u.collection(o)[0],d.unmergeBy(function(fe){return fe.isLoop()});for(var b=d.length,E=function(le){var Ae=h.get(le.id());return Ae||(Ae={},h.set(le.id(),Ae)),Ae},S=function(le){return(je(le)?u.$(le):le)[0]},x=function(le){return E(S(le)).dist},A=function(le){for(var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,Le=S(le),Ge=[],Re=Le;;){if(Re==null)return r.spawn();var Me=E(Re),me=Me.edge,L=Me.pred;if(Ge.unshift(Re[0]),Re.same(Ae)&&Ge.length>0)break;me!=null&&Ge.unshift(me),Re=L}return l.spawn(Ge)},_=0;_<m;_++){var v=p[_],P=E(v);v.same(o)?P.dist=0:P.dist=1/0,P.pred=null,P.edge=null}for(var k=!1,B=function(le,Ae,Le,Ge,Re,Me){var me=Ge.dist+Me;me<Re.dist&&!Le.same(Ge.edge)&&(Re.dist=me,Re.pred=le,Re.edge=Le,k=!0)},N=1;N<m;N++){k=!1;for(var M=0;M<b;M++){var z=d[M],R=z.source(),q=z.target(),H=s(z),U=E(R),X=E(q);B(R,q,z,U,X,H),a||B(q,R,z,X,U,H)}if(!k)break}if(k)for(var re=[],j=0;j<b;j++){var F=d[j],W=F.source(),$=F.target(),Y=s(F),Z=E(W).dist,ee=E($).dist;if(Z+Y<ee||!a&&ee+Y<Z)if(y||(yt("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),e.findNegativeWeightCycles!==!1){var G=[];Z+Y<ee&&G.push(W),!a&&ee+Y<Z&&G.push($);for(var ie=G.length,pe=0;pe<ie;pe++){var ce=G[pe],Se=[ce];Se.push(E(ce).edge);for(var Ne=E(ce).pred;Se.indexOf(Ne)===-1;)Se.push(Ne),Se.push(E(Ne).edge),Ne=E(Ne).pred;Se=Se.slice(Se.indexOf(Ne));for(var qe=Se[0].id(),ke=0,Ee=2;Ee<Se.length;Ee+=2)Se[Ee].id()<qe&&(qe=Se[Ee].id(),ke=Ee);Se=Se.slice(ke).concat(Se.slice(0,ke)),Se.push(Se[0]);var xe=Se.map(function(fe){return fe.id()}).join(",");re.indexOf(xe)===-1&&(w.push(l.spawn(Se)),re.push(xe))}}else break}return{distanceTo:x,pathTo:A,hasNegativeWeightCycle:y,negativeWeightCycles:w}}},Vw=Math.sqrt(2),Ww=function(e,r,n){n.length===0&&Nt("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],a=i[1],o=i[2],s=r[a],l=r[o],u=n,c=u.length-1;c>=0;c--){var d=u[c],p=d[1],m=d[2];(r[p]===s&&r[m]===l||r[p]===l&&r[m]===s)&&u.splice(c,1)}for(var h=0;h<u.length;h++){var y=u[h];y[1]===l?(u[h]=y.slice(),u[h][1]=s):y[2]===l&&(u[h]=y.slice(),u[h][2]=s)}for(var w=0;w<r.length;w++)r[w]===l&&(r[w]=s);return u},ul=function(e,r,n,i){for(;n>i;){var a=Math.floor(Math.random()*r.length);r=Ww(a,e,r),n--}return r},Uw={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(X){return X.isLoop()});var a=n.length,o=i.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/Vw);if(a<2){Nt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<o;c++){var d=i[c];u.push([c,n.indexOf(d.source()),n.indexOf(d.target())])}for(var p=1/0,m=[],h=new Array(a),y=new Array(a),w=new Array(a),b=function(re,j){for(var F=0;F<a;F++)j[F]=re[F]},E=0;E<=s;E++){for(var S=0;S<a;S++)y[S]=S;var x=ul(y,u.slice(),a,l),A=x.slice();b(y,w);var _=ul(y,x,l,2),v=ul(w,A,l,2);_.length<=v.length&&_.length<p?(p=_.length,m=_,b(y,h)):v.length<=_.length&&v.length<p&&(p=v.length,m=v,b(w,h))}for(var P=this.spawn(m.map(function(X){return i[X[0]]})),k=this.spawn(),B=this.spawn(),N=h[0],M=0;M<h.length;M++){var z=h[M],R=n[M];z===N?k.merge(R):B.merge(R)}var q=function(re){var j=e.spawn();return re.forEach(function(F){j.merge(F),F.connectedEdges().forEach(function(W){e.contains(W)&&!P.contains(W)&&j.merge(W)})}),j},H=[q(k),q(B)],U={cut:P,components:H,partition1:k,partition2:B};return U}},Gw=function(e){return{x:e.x,y:e.y}},ks=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Xd=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},Li=function(e){return{x:e[0],y:e[1]}},jw=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,a=r;a<n;a++){var o=e[a];isFinite(o)&&(i=Math.min(o,i))}return i},Kw=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,a=r;a<n;a++){var o=e[a];isFinite(o)&&(i=Math.max(o,i))}return i},Yw=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,a=0,o=r;o<n;o++){var s=e[o];isFinite(s)&&(i+=s,a++)}return i/a},Xw=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var s=0,l=e.length-1;l>=0;l--){var u=e[l];o?isFinite(u)||(e[l]=-1/0,s++):e.splice(l,1)}a&&e.sort(function(p,m){return p-m});var c=e.length,d=Math.floor(c/2);return c%2!==0?e[d+1+s]:(e[d-1+s]+e[d+s])/2},Qw=function(e){return Math.PI*e/180},Ao=function(e,r){return Math.atan2(r,e)-Math.PI/2},xu=Math.log2||function(t){return Math.log(t)/Math.log(2)},Qd=function(e){return e>0?1:e<0?-1:0},fi=function(e,r){return Math.sqrt(ti(e,r))},ti=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},Zw=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var a=0;a<r;a++)e[a]=e[a]/n;return e},Gt=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},Ri=function(e,r,n,i){return{x:Gt(e.x,r.x,n.x,i),y:Gt(e.y,r.y,n.y,i)}},Jw=function(e,r,n,i){var a={x:r.x-e.x,y:r.y-e.y},o=fi(e,r),s={x:a.x/o,y:a.y/o};return n=n??0,i=i??n*o,{x:e.x+s.x*i,y:e.y+s.y*i}},$a=function(e,r,n){return Math.max(e,Math.min(n,r))},br=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},e1=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},t1=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},r1=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},n1=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Go=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},cl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,o;if(r.length===1)n=i=a=o=r[0];else if(r.length===2)n=a=r[0],o=i=r[1];else if(r.length===4){var s=$r(r,4);n=s[0],i=s[1],a=s[2],o=s[3]}return e.x1-=o,e.x2+=i,e.y1-=n,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Nc=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Eu=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Hi=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},i1=function(e,r){return Hi(e,r.x,r.y)},Zd=function(e,r){return Hi(e,r.x1,r.y1)&&Hi(e,r.x2,r.y2)},Jd=function(e,r,n,i,a,o,s){var l=no(a,o),u=a/2,c=o/2,d;{var p=n-u+l-s,m=i-c-s,h=n+u-l+s,y=m;if(d=Mn(e,r,n,i,p,m,h,y,!1),d.length>0)return d}{var w=n+u+s,b=i-c+l-s,E=w,S=i+c-l+s;if(d=Mn(e,r,n,i,w,b,E,S,!1),d.length>0)return d}{var x=n-u+l-s,A=i+c+s,_=n+u-l+s,v=A;if(d=Mn(e,r,n,i,x,A,_,v,!1),d.length>0)return d}{var P=n-u-s,k=i-c+l-s,B=P,N=i+c-l+s;if(d=Mn(e,r,n,i,P,k,B,N,!1),d.length>0)return d}var M;{var z=n-u+l,R=i-c+l;if(M=Ta(e,r,n,i,z,R,l+s),M.length>0&&M[0]<=z&&M[1]<=R)return[M[0],M[1]]}{var q=n+u-l,H=i-c+l;if(M=Ta(e,r,n,i,q,H,l+s),M.length>0&&M[0]>=q&&M[1]<=H)return[M[0],M[1]]}{var U=n+u-l,X=i+c-l;if(M=Ta(e,r,n,i,U,X,l+s),M.length>0&&M[0]>=U&&M[1]>=X)return[M[0],M[1]]}{var re=n-u+l,j=i+c-l;if(M=Ta(e,r,n,i,re,j,l+s),M.length>0&&M[0]<=re&&M[1]>=j)return[M[0],M[1]]}return[]},a1=function(e,r,n,i,a,o,s){var l=s,u=Math.min(n,a),c=Math.max(n,a),d=Math.min(i,o),p=Math.max(i,o);return u-l<=e&&e<=c+l&&d-l<=r&&r<=p+l},o1=function(e,r,n,i,a,o,s,l,u){var c={x1:Math.min(n,s,a)-u,x2:Math.max(n,s,a)+u,y1:Math.min(i,l,o)-u,y2:Math.max(i,l,o)+u};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},s1=function(e,r,n,i){n-=i;var a=r*r-4*e*n;if(a<0)return[];var o=Math.sqrt(a),s=2*e,l=(-r+o)/s,u=(-r-o)/s;return[l,u]},l1=function(e,r,n,i,a){var o=1e-5;e===0&&(e=o),r/=e,n/=e,i/=e;var s,l,u,c,d,p,m,h;if(l=(3*n-r*r)/9,u=-(27*i)+r*(9*n-2*(r*r)),u/=54,s=l*l*l+u*u,a[1]=0,m=r/3,s>0){d=u+Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),p=u-Math.sqrt(s),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),a[0]=-m+d+p,m+=(d+p)/2,a[4]=a[2]=-m,m=Math.sqrt(3)*(-p+d)/2,a[3]=m,a[5]=-m;return}if(a[5]=a[3]=0,s===0){h=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-m+2*h,a[4]=a[2]=-(h+m);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),h=2*Math.sqrt(l),a[0]=-m+h*Math.cos(c/3),a[2]=-m+h*Math.cos((c+2*Math.PI)/3),a[4]=-m+h*Math.cos((c+4*Math.PI)/3)},u1=function(e,r,n,i,a,o,s,l){var u=1*n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s+i*i-4*i*o+2*i*l+4*o*o-4*o*l+l*l,c=1*9*n*a-3*n*n-3*n*s-6*a*a+3*a*s+9*i*o-3*i*i-3*i*l-6*o*o+3*o*l,d=1*3*n*n-6*n*a+n*s-n*e+2*a*a+2*a*e-s*e+3*i*i-6*i*o+i*l-i*r+2*o*o+2*o*r-l*r,p=1*n*a-n*n+n*e-a*e+i*o-i*i+i*r-o*r,m=[];l1(u,c,d,p,m);for(var h=1e-7,y=[],w=0;w<6;w+=2)Math.abs(m[w+1])<h&&m[w]>=0&&m[w]<=1&&y.push(m[w]);y.push(1),y.push(0);for(var b=-1,E,S,x,A=0;A<y.length;A++)E=Math.pow(1-y[A],2)*n+2*(1-y[A])*y[A]*a+y[A]*y[A]*s,S=Math.pow(1-y[A],2)*i+2*(1-y[A])*y[A]*o+y[A]*y[A]*l,x=Math.pow(E-e,2)+Math.pow(S-r,2),b>=0?x<b&&(b=x):b=x;return b},c1=function(e,r,n,i,a,o){var s=[e-n,r-i],l=[a-n,o-i],u=l[0]*l[0]+l[1]*l[1],c=s[0]*s[0]+s[1]*s[1],d=s[0]*l[0]+s[1]*l[1],p=d*d/u;return d<0?c:p>u?(e-a)*(e-a)+(r-o)*(r-o):c-p},gr=function(e,r,n){for(var i,a,o,s,l,u=0,c=0;c<n.length/2;c++)if(i=n[c*2],a=n[c*2+1],c+1<n.length/2?(o=n[(c+1)*2],s=n[(c+1)*2+1]):(o=n[(c+1-n.length/2)*2],s=n[(c+1-n.length/2)*2+1]),!(i==e&&o==e))if(i>=e&&e>=o||i<=e&&e<=o)l=(e-i)/(o-i)*(s-a)+a,l>r&&u++;else continue;return u%2!==0},pn=function(e,r,n,i,a,o,s,l,u){var c=new Array(n.length),d;l[0]!=null?(d=Math.atan(l[1]/l[0]),l[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=l;for(var p=Math.cos(-d),m=Math.sin(-d),h=0;h<c.length/2;h++)c[h*2]=o/2*(n[h*2]*p-n[h*2+1]*m),c[h*2+1]=s/2*(n[h*2+1]*p+n[h*2]*m),c[h*2]+=i,c[h*2+1]+=a;var y;if(u>0){var w=th(c,-u);y=eh(w)}else y=c;return gr(e,r,y)},f1=function(e,r,n,i,a,o,s){for(var l=new Array(n.length),u=o/2,c=s/2,d=Cu(o,s),p=d*d,m=0;m<n.length/4;m++){var h=void 0,y=void 0;m===0?h=n.length-2:h=m*4-2,y=m*4+2;var w=i+u*n[m*4],b=a+c*n[m*4+1],E=-n[h]*n[y]-n[h+1]*n[y+1],S=d/Math.tan(Math.acos(E)/2),x=w-S*n[h],A=b-S*n[h+1],_=w+S*n[y],v=b+S*n[y+1];l[m*4]=x,l[m*4+1]=A,l[m*4+2]=_,l[m*4+3]=v;var P=n[h+1],k=-n[h],B=P*n[y]+k*n[y+1];B<0&&(P*=-1,k*=-1);var N=x+P*d,M=A+k*d,z=Math.pow(N-e,2)+Math.pow(M-r,2);if(z<=p)return!0}return gr(e,r,l)},eh=function(e){for(var r=new Array(e.length/2),n,i,a,o,s,l,u,c,d=0;d<e.length/4;d++){n=e[d*4],i=e[d*4+1],a=e[d*4+2],o=e[d*4+3],d<e.length/4-1?(s=e[(d+1)*4],l=e[(d+1)*4+1],u=e[(d+1)*4+2],c=e[(d+1)*4+3]):(s=e[0],l=e[1],u=e[2],c=e[3]);var p=Mn(n,i,a,o,s,l,u,c,!0);r[d*2]=p[0],r[d*2+1]=p[1]}return r},th=function(e,r){for(var n=new Array(e.length*2),i,a,o,s,l=0;l<e.length/2;l++){i=e[l*2],a=e[l*2+1],l<e.length/2-1?(o=e[(l+1)*2],s=e[(l+1)*2+1]):(o=e[0],s=e[1]);var u=s-a,c=-(o-i),d=Math.sqrt(u*u+c*c),p=u/d,m=c/d;n[l*4]=i+p*r,n[l*4+1]=a+m*r,n[l*4+2]=o+p*r,n[l*4+3]=s+m*r}return n},d1=function(e,r,n,i,a,o){var s=n-e,l=i-r;s/=a,l/=o;var u=Math.sqrt(s*s+l*l),c=u-1;if(c<0)return[];var d=c/u;return[(n-e)*d+e,(i-r)*d+r]},si=function(e,r,n,i,a,o,s){return e-=a,r-=o,e/=n/2+s,r/=i/2+s,e*e+r*r<=1},Ta=function(e,r,n,i,a,o,s){var l=[n-e,i-r],u=[e-a,r-o],c=l[0]*l[0]+l[1]*l[1],d=2*(u[0]*l[0]+u[1]*l[1]),p=u[0]*u[0]+u[1]*u[1]-s*s,m=d*d-4*c*p;if(m<0)return[];var h=(-d+Math.sqrt(m))/(2*c),y=(-d-Math.sqrt(m))/(2*c),w=Math.min(h,y),b=Math.max(h,y),E=[];if(w>=0&&w<=1&&E.push(w),b>=0&&b<=1&&E.push(b),E.length===0)return[];var S=E[0]*l[0]+e,x=E[0]*l[1]+r;if(E.length>1){if(E[0]==E[1])return[S,x];var A=E[1]*l[0]+e,_=E[1]*l[1]+r;return[S,x,A,_]}else return[S,x]},fl=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Mn=function(e,r,n,i,a,o,s,l,u){var c=e-a,d=n-e,p=s-a,m=r-o,h=i-r,y=l-o,w=p*m-y*c,b=d*m-h*c,E=y*d-p*h;if(E!==0){var S=w/E,x=b/E,A=.001,_=0-A,v=1+A;return _<=S&&S<=v&&_<=x&&x<=v?[e+S*d,r+S*h]:u?[e+S*d,r+S*h]:[]}else return w===0||b===0?fl(e,n,s)===s?[s,l]:fl(e,n,a)===a?[a,o]:fl(a,s,n)===n?[n,i]:[]:[]},Ha=function(e,r,n,i,a,o,s,l){var u=[],c,d=new Array(n.length),p=!0;o==null&&(p=!1);var m;if(p){for(var h=0;h<d.length/2;h++)d[h*2]=n[h*2]*o+i,d[h*2+1]=n[h*2+1]*s+a;if(l>0){var y=th(d,-l);m=eh(y)}else m=d}else m=n;for(var w,b,E,S,x=0;x<m.length/2;x++)w=m[x*2],b=m[x*2+1],x<m.length/2-1?(E=m[(x+1)*2],S=m[(x+1)*2+1]):(E=m[0],S=m[1]),c=Mn(e,r,i,a,w,b,E,S),c.length!==0&&u.push(c[0],c[1]);return u},h1=function(e,r,n,i,a,o,s,l){for(var u=[],c,d=new Array(n.length),p=o/2,m=s/2,h=Cu(o,s),y=0;y<n.length/4;y++){var w=void 0,b=void 0;y===0?w=n.length-2:w=y*4-2,b=y*4+2;var E=i+p*n[y*4],S=a+m*n[y*4+1],x=-n[w]*n[b]-n[w+1]*n[b+1],A=h/Math.tan(Math.acos(x)/2),_=E-A*n[w],v=S-A*n[w+1],P=E+A*n[b],k=S+A*n[b+1];y===0?(d[n.length-2]=_,d[n.length-1]=v):(d[y*4-2]=_,d[y*4-1]=v),d[y*4]=P,d[y*4+1]=k;var B=n[w+1],N=-n[w],M=B*n[b]+N*n[b+1];M<0&&(B*=-1,N*=-1);var z=_+B*h,R=v+N*h;c=Ta(e,r,i,a,z,R,h),c.length!==0&&u.push(c[0],c[1])}for(var q=0;q<d.length/4;q++)c=Mn(e,r,i,a,d[q*4],d[q*4+1],d[q*4+2],d[q*4+3],!1),c.length!==0&&u.push(c[0],c[1]);if(u.length>2){for(var H=[u[0],u[1]],U=Math.pow(H[0]-e,2)+Math.pow(H[1]-r,2),X=1;X<u.length/2;X++){var re=Math.pow(u[X*2]-e,2)+Math.pow(u[X*2+1]-r,2);re<=U&&(H[0]=u[X*2],H[1]=u[X*2+1],U=re)}return H}return u},Io=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(a-n)/a;return o<0&&(o=1e-5),[r[0]+o*i[0],r[1]+o*i[1]]},cr=function(e,r){var n=Fl(e,r);return n=rh(n),n},rh=function(e){for(var r,n,i=e.length/2,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<i;u++)r=e[2*u],n=e[2*u+1],a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);for(var c=2/(s-a),d=2/(l-o),p=0;p<i;p++)r=e[2*p]=e[2*p]*c,n=e[2*p+1]=e[2*p+1]*d,a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);if(o<-1)for(var m=0;m<i;m++)n=e[2*m+1]=e[2*m+1]+(-1-o);return e},Fl=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var a=new Array(e*2),o,s=0;s<e;s++)o=s*n+i,a[2*s]=Math.cos(o),a[2*s+1]=Math.sin(-o);return a},no=function(e,r){return Math.min(e/4,r/4,8)},Cu=function(e,r){return Math.min(e/10,r/10,8)},nh=function(){return 8},v1=function(e,r,n){return[e-2*r+n,2*(r-e),e]},$l=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},p1=Zt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),g1={pageRank:function(e){for(var r=p1(e),n=r.dampingFactor,i=r.precision,a=r.iterations,o=r.weight,s=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,d=u.length,p=d*d,m=c.length,h=new Array(p),y=new Array(d),w=(1-n)/d,b=0;b<d;b++){for(var E=0;E<d;E++){var S=b*d+E;h[S]=0}y[b]=0}for(var x=0;x<m;x++){var A=c[x],_=A.data("source"),v=A.data("target");if(_!==v){var P=u.indexOfId(_),k=u.indexOfId(v),B=o(A),N=k*d+P;h[N]+=B,y[P]+=B}}for(var M=1/d+w,z=0;z<d;z++)if(y[z]===0)for(var R=0;R<d;R++){var q=R*d+z;h[q]=M}else for(var H=0;H<d;H++){var U=H*d+z;h[U]=h[U]/y[z]+w}for(var X=new Array(d),re=new Array(d),j,F=0;F<d;F++)X[F]=1;for(var W=0;W<a;W++){for(var $=0;$<d;$++)re[$]=0;for(var Y=0;Y<d;Y++)for(var Z=0;Z<d;Z++){var ee=Y*d+Z;re[Y]+=h[ee]*X[Z]}Zw(re),j=X,X=re,re=j;for(var G=0,ie=0;ie<d;ie++){var pe=j[ie]-X[ie];G+=pe*pe}if(G<i)break}var ce={rank:function(Ne){return Ne=s.collection(Ne)[0],X[u.indexOf(Ne)]}};return ce}},Bc=Zt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),zi={degreeCentralityNormalized:function(e){e=Bc(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var c={},d={},p=0,m=0,h=0;h<i;h++){var y=n[h],w=y.id();e.root=y;var b=this.degreeCentrality(e);p<b.indegree&&(p=b.indegree),m<b.outdegree&&(m=b.outdegree),c[w]=b.indegree,d[w]=b.outdegree}return{indegree:function(S){return p==0?0:(je(S)&&(S=r.filter(S)),c[S.id()]/p)},outdegree:function(S){return m===0?0:(je(S)&&(S=r.filter(S)),d[S.id()]/m)}}}else{for(var a={},o=0,s=0;s<i;s++){var l=n[s];e.root=l;var u=this.degreeCentrality(e);o<u.degree&&(o=u.degree),a[l.id()]=u.degree}return{degree:function(S){return o===0?0:(je(S)&&(S=r.filter(S)),a[S.id()]/o)}}}},degreeCentrality:function(e){e=Bc(e);var r=this.cy(),n=this,i=e,a=i.root,o=i.weight,s=i.directed,l=i.alpha;if(a=r.collection(a)[0],s){for(var m=a.connectedEdges(),h=m.filter(function(_){return _.target().same(a)&&n.has(_)}),y=m.filter(function(_){return _.source().same(a)&&n.has(_)}),w=h.length,b=y.length,E=0,S=0,x=0;x<h.length;x++)E+=o(h[x]);for(var A=0;A<y.length;A++)S+=o(y[A]);return{indegree:Math.pow(w,1-l)*Math.pow(E,l),outdegree:Math.pow(b,1-l)*Math.pow(S,l)}}else{for(var u=a.connectedEdges().intersection(n),c=u.length,d=0,p=0;p<u.length;p++)d+=o(u[p]);return{degree:Math.pow(c,1-l)*Math.pow(d,l)}}}};zi.dc=zi.degreeCentrality;zi.dcn=zi.degreeCentralityNormalised=zi.degreeCentralityNormalized;var Rc=Zt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Fi={closenessCentralityNormalized:function(e){for(var r=Rc(e),n=r.harmonic,i=r.weight,a=r.directed,o=this.cy(),s={},l=0,u=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),d=0;d<u.length;d++){for(var p=0,m=u[d],h=0;h<u.length;h++)if(d!==h){var y=c.distance(m,u[h]);n?p+=1/y:p+=y}n||(p=1/p),l<p&&(l=p),s[m.id()]=p}return{closeness:function(b){return l==0?0:(je(b)?b=o.filter(b)[0].id():b=b.id(),s[b]/l)}}},closenessCentrality:function(e){var r=Rc(e),n=r.root,i=r.weight,a=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:i,directed:a}),l=0,u=this.nodes(),c=0;c<u.length;c++){var d=u[c];if(!d.same(n)){var p=s.distanceTo(d);o?l+=1/p:l+=p}}return o?l:1/l}};Fi.cc=Fi.closenessCentrality;Fi.ccn=Fi.closenessCentralityNormalised=Fi.closenessCentralityNormalized;var m1=Zt({weight:null,directed:!1}),Hl={betweennessCentrality:function(e){for(var r=m1(e),n=r.directed,i=r.weight,a=i!=null,o=this.cy(),s=this.nodes(),l={},u={},c=0,d={set:function(S,x){u[S]=x,x>c&&(c=x)},get:function(S){return u[S]}},p=0;p<s.length;p++){var m=s[p],h=m.id();n?l[h]=m.outgoers().nodes():l[h]=m.openNeighborhood().nodes(),d.set(h,0)}for(var y=function(S){for(var x=s[S].id(),A=[],_={},v={},P={},k=new eo.default(function(Z,ee){return P[Z]-P[ee]}),B=0;B<s.length;B++){var N=s[B].id();_[N]=[],v[N]=0,P[N]=1/0}for(v[x]=1,P[x]=0,k.push(x);!k.empty();){var M=k.pop();if(A.push(M),a)for(var z=0;z<l[M].length;z++){var R=l[M][z],q=o.getElementById(M),H=void 0;q.edgesTo(R).length>0?H=q.edgesTo(R)[0]:H=R.edgesTo(q)[0];var U=i(H);R=R.id(),P[R]>P[M]+U&&(P[R]=P[M]+U,k.nodes.indexOf(R)<0?k.push(R):k.updateItem(R),v[R]=0,_[R]=[]),P[R]==P[M]+U&&(v[R]=v[R]+v[M],_[R].push(M))}else for(var X=0;X<l[M].length;X++){var re=l[M][X].id();P[re]==1/0&&(k.push(re),P[re]=P[M]+1),P[re]==P[M]+1&&(v[re]=v[re]+v[M],_[re].push(M))}}for(var j={},F=0;F<s.length;F++)j[s[F].id()]=0;for(;A.length>0;){for(var W=A.pop(),$=0;$<_[W].length;$++){var Y=_[W][$];j[Y]=j[Y]+v[Y]/v[W]*(1+j[W])}W!=s[S].id()&&d.set(W,d.get(W)+j[W])}},w=0;w<s.length;w++)y(w);var b={betweenness:function(S){var x=o.collection(S).id();return d.get(x)},betweennessNormalized:function(S){if(c==0)return 0;var x=o.collection(S).id();return d.get(x)/c}};return b.betweennessNormalised=b.betweennessNormalized,b}};Hl.bc=Hl.betweennessCentrality;var y1=Zt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),b1=function(e){return y1(e)},w1=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},x1=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},ih=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var a=0;a<r;a++)n+=e[a*r+i];for(var o=0;o<r;o++)e[o*r+i]=e[o*r+i]/n}},E1=function(e,r,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var o=0;o<n;o++)i[a*n+o]=0;for(var s=0;s<n;s++)for(var l=0;l<n;l++)i[a*n+l]+=e[a*n+s]*r[s*n+l]}return i},C1=function(e,r,n){for(var i=e.slice(0),a=1;a<n;a++)e=E1(e,i,r);return e},S1=function(e,r,n){for(var i=new Array(r*r),a=0;a<r*r;a++)i[a]=Math.pow(e[a],n);return ih(i,r),i},T1=function(e,r,n,i){for(var a=0;a<n;a++){var o=Math.round(e[a]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(r[a]*Math.pow(10,i))/Math.pow(10,i);if(o!==s)return!1}return!0},k1=function(e,r,n,i){for(var a=[],o=0;o<r;o++){for(var s=[],l=0;l<r;l++)Math.round(e[o*r+l]*1e3)/1e3>0&&s.push(n[l]);s.length!==0&&a.push(i.collection(s))}return a},_1=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},A1=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&_1(e[r],e[n])&&e.splice(n,1);return e},zc=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),a=b1(e),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var l=r.length,u=l*l,c=new Array(u),d,p=0;p<u;p++)c[p]=0;for(var m=0;m<n.length;m++){var h=n[m],y=o[h.source().id()],w=o[h.target().id()],b=w1(h,a.attributes);c[y*l+w]+=b,c[w*l+y]+=b}x1(c,l,a.multFactor),ih(c,l);for(var E=!0,S=0;E&&S<a.maxIterations;)E=!1,d=C1(c,l,a.expandFactor),c=S1(d,l,a.inflateFactor),T1(c,d,u,4)||(E=!0),S++;var x=k1(c,l,r,i);return x=A1(x),x},I1={markovClustering:zc,mcl:zc},D1=function(e){return e},ah=function(e,r){return Math.abs(r-e)},Fc=function(e,r,n){return e+ah(r,n)},$c=function(e,r,n){return e+Math.pow(n-r,2)},M1=function(e){return Math.sqrt(e)},P1=function(e,r,n){return Math.max(e,ah(r,n))},ya=function(e,r,n,i,a){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:D1,s=i,l,u,c=0;c<e;c++)l=r(c),u=n(c),s=a(s,l,u);return o(s)},qi={euclidean:function(e,r,n){return e>=2?ya(e,r,n,0,$c,M1):ya(e,r,n,0,Fc)},squaredEuclidean:function(e,r,n){return ya(e,r,n,0,$c)},manhattan:function(e,r,n){return ya(e,r,n,0,Fc)},max:function(e,r,n){return ya(e,r,n,-1/0,P1)}};qi["squared-euclidean"]=qi.squaredEuclidean;qi.squaredeuclidean=qi.squaredEuclidean;function _s(t,e,r,n,i,a){var o;return Pt(t)?o=t:o=qi[t]||qi.euclidean,e===0&&Pt(t)?o(i,a):o(e,r,n,i,a)}var L1=Zt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Su=function(e){return L1(e)},as=function(e,r,n,i,a){var o=a!=="kMedoids",s=o?function(d){return n[d]}:function(d){return i[d](n)},l=function(p){return i[p](r)},u=n,c=r;return _s(e,i.length,s,l,u,c)},dl=function(e,r,n){for(var i=n.length,a=new Array(i),o=new Array(i),s=new Array(r),l=null,u=0;u<i;u++)a[u]=e.min(n[u]).value,o[u]=e.max(n[u]).value;for(var c=0;c<r;c++){l=[];for(var d=0;d<i;d++)l[d]=Math.random()*(o[d]-a[d])+a[d];s[c]=l}return s},oh=function(e,r,n,i,a){for(var o=1/0,s=0,l=0;l<r.length;l++){var u=as(n,e,r[l],i,a);u<o&&(o=u,s=l)}return s},sh=function(e,r,n){for(var i=[],a=null,o=0;o<r.length;o++)a=r[o],n[a.id()]===e&&i.push(a);return i},O1=function(e,r,n){return Math.abs(r-e)<=n},N1=function(e,r,n){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var o=Math.abs(e[i][a]-r[i][a]);if(o>n)return!1}return!0},B1=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},Hc=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var a=e[Math.floor(Math.random()*e.length)];B1(a,n,i);)a=e[Math.floor(Math.random()*e.length)];n[i]=a}else for(var o=0;o<r;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},qc=function(e,r,n){for(var i=0,a=0;a<r.length;a++)i+=as("manhattan",r[a],e,n,"kMedoids");return i},R1=function(e){var r=this.cy(),n=this.nodes(),i=null,a=Su(e),o=new Array(a.k),s={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=dl(n,a.k,a.attributes)):Vt(a.testCentroids)==="object"?l=a.testCentroids:l=dl(n,a.k,a.attributes):l=dl(n,a.k,a.attributes);for(var u=!0,c=0;u&&c<a.maxIterations;){for(var d=0;d<n.length;d++)i=n[d],s[i.id()]=oh(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var p=0;p<a.k;p++){var m=sh(p,n,s);if(m.length!==0){for(var h=a.attributes.length,y=l[p],w=new Array(h),b=new Array(h),E=0;E<h;E++){b[E]=0;for(var S=0;S<m.length;S++)i=m[S],b[E]+=a.attributes[E](i);w[E]=b[E]/m.length,O1(w[E],y[E],a.sensitivityThreshold)||(u=!0)}l[p]=w,o[p]=r.collection(m)}}c++}return o},z1=function(e){var r=this.cy(),n=this.nodes(),i=null,a=Su(e),o=new Array(a.k),s,l={},u,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(Vt(a.testCentroids)==="object"?s=a.testCentroids:s=Hc(n,a.k)):s=Hc(n,a.k);for(var d=!0,p=0;d&&p<a.maxIterations;){for(var m=0;m<n.length;m++)i=n[m],l[i.id()]=oh(i,s,a.distance,a.attributes,"kMedoids");d=!1;for(var h=0;h<s.length;h++){var y=sh(h,n,l);if(y.length!==0){c[h]=qc(s[h],y,a.attributes);for(var w=0;w<y.length;w++)u=qc(y[w],y,a.attributes),u<c[h]&&(c[h]=u,s[h]=y[w],d=!0);o[h]=r.collection(y)}}p++}return o},F1=function(e,r,n,i,a){for(var o,s,l=0;l<r.length;l++)for(var u=0;u<e.length;u++)i[l][u]=Math.pow(n[l][u],a.m);for(var c=0;c<e.length;c++)for(var d=0;d<a.attributes.length;d++){o=0,s=0;for(var p=0;p<r.length;p++)o+=i[p][c]*a.attributes[d](r[p]),s+=i[p][c];e[c][d]=o/s}},$1=function(e,r,n,i,a){for(var o=0;o<e.length;o++)r[o]=e[o].slice();for(var s,l,u,c=2/(a.m-1),d=0;d<n.length;d++)for(var p=0;p<i.length;p++){s=0;for(var m=0;m<n.length;m++)l=as(a.distance,i[p],n[d],a.attributes,"cmeans"),u=as(a.distance,i[p],n[m],a.attributes,"cmeans"),s+=Math.pow(l/u,c);e[p][d]=1/s}},H1=function(e,r,n,i){for(var a=new Array(n.k),o=0;o<a.length;o++)a[o]=[];for(var s,l,u=0;u<r.length;u++){s=-1/0,l=-1;for(var c=0;c<r[0].length;c++)r[u][c]>s&&(s=r[u][c],l=c);a[l].push(e[u])}for(var d=0;d<a.length;d++)a[d]=i.collection(a[d]);return a},Vc=function(e){var r=this.cy(),n=this.nodes(),i=Su(e),a,o,s,l,u;l=new Array(n.length);for(var c=0;c<n.length;c++)l[c]=new Array(i.k);s=new Array(n.length);for(var d=0;d<n.length;d++)s[d]=new Array(i.k);for(var p=0;p<n.length;p++){for(var m=0,h=0;h<i.k;h++)s[p][h]=Math.random(),m+=s[p][h];for(var y=0;y<i.k;y++)s[p][y]=s[p][y]/m}o=new Array(i.k);for(var w=0;w<i.k;w++)o[w]=new Array(i.attributes.length);u=new Array(n.length);for(var b=0;b<n.length;b++)u[b]=new Array(i.k);for(var E=!0,S=0;E&&S<i.maxIterations;)E=!1,F1(o,n,s,u,i),$1(s,l,o,n,i),N1(s,l,i.sensitivityThreshold)||(E=!0),S++;return a=H1(n,s,i,r),{clusters:a,degreeOfMembership:s}},q1={kMeans:R1,kMedoids:z1,fuzzyCMeans:Vc,fcm:Vc},V1=Zt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),W1={single:"min",complete:"max"},U1=function(e){var r=V1(e),n=W1[r.linkage];return n!=null&&(r.linkage=n),r},Wc=function(e,r,n,i,a){for(var o=0,s=1/0,l,u=a.attributes,c=function(k,B){return _s(a.distance,u.length,function(N){return u[N](k)},function(N){return u[N](B)},k,B)},d=0;d<e.length;d++){var p=e[d].key,m=n[p][i[p]];m<s&&(o=p,s=m)}if(a.mode==="threshold"&&s>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var h=r[o],y=r[i[o]],w;a.mode==="dendrogram"?w={left:h,right:y,key:h.key}:w={value:h.value.concat(y.value),key:h.key},e[h.index]=w,e.splice(y.index,1),r[h.key]=w;for(var b=0;b<e.length;b++){var E=e[b];h.key===E.key?l=1/0:a.linkage==="min"?(l=n[h.key][E.key],n[h.key][E.key]>n[y.key][E.key]&&(l=n[y.key][E.key])):a.linkage==="max"?(l=n[h.key][E.key],n[h.key][E.key]<n[y.key][E.key]&&(l=n[y.key][E.key])):a.linkage==="mean"?l=(n[h.key][E.key]*h.size+n[y.key][E.key]*y.size)/(h.size+y.size):a.mode==="dendrogram"?l=c(E.value,h.value):l=c(E.value[0],h.value[0]),n[h.key][E.key]=n[E.key][h.key]=l}for(var S=0;S<e.length;S++){var x=e[S].key;if(i[x]===h.key||i[x]===y.key){for(var A=x,_=0;_<e.length;_++){var v=e[_].key;n[x][v]<n[x][A]&&(A=v)}i[x]=A}e[S].index=S}return h.key=y.key=h.index=y.index=null,!0},Do=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},G1=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),i=t(e.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},j1=function t(e,r,n){if(!e)return[];var i=[],a=[],o=[];return r===0?(e.left&&Do(e.left,i),e.right&&Do(e.right,a),o=i.concat(a),[n.collection(o)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Do(e.left,i),e.right&&Do(e.right,a),[n.collection(i),n.collection(a)]):e.value?[n.collection(e.value)]:(e.left&&(i=t(e.left,r-1,n)),e.right&&(a=t(e.right,r-1,n)),i.concat(a))},Uc=function(e){for(var r=this.cy(),n=this.nodes(),i=U1(e),a=i.attributes,o=function(S,x){return _s(i.distance,a.length,function(A){return a[A](S)},function(A){return a[A](x)},S,x)},s=[],l=[],u=[],c=[],d=0;d<n.length;d++){var p={value:i.mode==="dendrogram"?n[d]:[n[d]],key:d,index:d};s[d]=p,c[d]=p,l[d]=[],u[d]=0}for(var m=0;m<s.length;m++)for(var h=0;h<=m;h++){var y=void 0;i.mode==="dendrogram"?y=m===h?1/0:o(s[m].value,s[h].value):y=m===h?1/0:o(s[m].value[0],s[h].value[0]),l[m][h]=y,l[h][m]=y,y<l[m][u[m]]&&(u[m]=h)}for(var w=Wc(s,c,l,u,i);w;)w=Wc(s,c,l,u,i);var b;return i.mode==="dendrogram"?(b=j1(s[0],i.dendrogramDepth,r),i.addDendrogram&&G1(s[0],r)):(b=new Array(s.length),s.forEach(function(E,S){E.key=E.index=null,b[S]=r.collection(E.value)})),b},K1={hierarchicalClustering:Uc,hca:Uc},Y1=Zt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),X1=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||Nt("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||Pe(n)||Nt("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Y1(e)},Q1=function(e,r,n,i){var a=function(s,l){return i[l](s)};return-_s(e,i.length,function(o){return a(r,o)},function(o){return a(n,o)},r,n)},Z1=function(e,r){var n=null;return r==="median"?n=Xw(e):r==="mean"?n=Yw(e):r==="min"?n=jw(e):r==="max"?n=Kw(e):n=r,n},J1=function(e,r,n){for(var i=[],a=0;a<e;a++)r[a*e+a]+n[a*e+a]>0&&i.push(a);return i},Gc=function(e,r,n){for(var i=[],a=0;a<e;a++){for(var o=-1,s=-1/0,l=0;l<n.length;l++){var u=n[l];r[a*e+u]>s&&(o=u,s=r[a*e+u])}o>0&&i.push(o)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},ex=function(e,r,n){for(var i=Gc(e,r,n),a=0;a<n.length;a++){for(var o=[],s=0;s<i.length;s++)i[s]===n[a]&&o.push(s);for(var l=-1,u=-1/0,c=0;c<o.length;c++){for(var d=0,p=0;p<o.length;p++)d+=r[o[p]*e+o[c]];d>u&&(l=c,u=d)}n[a]=o[l]}return i=Gc(e,r,n),i},jc=function(e){for(var r=this.cy(),n=this.nodes(),i=X1(e),a={},o=0;o<n.length;o++)a[n[o].id()]=o;var s,l,u,c,d,p;s=n.length,l=s*s,u=new Array(l);for(var m=0;m<l;m++)u[m]=-1/0;for(var h=0;h<s;h++)for(var y=0;y<s;y++)h!==y&&(u[h*s+y]=Q1(i.distance,n[h],n[y],i.attributes));c=Z1(u,i.preference);for(var w=0;w<s;w++)u[w*s+w]=c;d=new Array(l);for(var b=0;b<l;b++)d[b]=0;p=new Array(l);for(var E=0;E<l;E++)p[E]=0;for(var S=new Array(s),x=new Array(s),A=new Array(s),_=0;_<s;_++)S[_]=0,x[_]=0,A[_]=0;for(var v=new Array(s*i.minIterations),P=0;P<v.length;P++)v[P]=0;var k;for(k=0;k<i.maxIterations;k++){for(var B=0;B<s;B++){for(var N=-1/0,M=-1/0,z=-1,R=0,q=0;q<s;q++)S[q]=d[B*s+q],R=p[B*s+q]+u[B*s+q],R>=N?(M=N,N=R,z=q):R>M&&(M=R);for(var H=0;H<s;H++)d[B*s+H]=(1-i.damping)*(u[B*s+H]-N)+i.damping*S[H];d[B*s+z]=(1-i.damping)*(u[B*s+z]-M)+i.damping*S[z]}for(var U=0;U<s;U++){for(var X=0,re=0;re<s;re++)S[re]=p[re*s+U],x[re]=Math.max(0,d[re*s+U]),X+=x[re];X-=x[U],x[U]=d[U*s+U],X+=x[U];for(var j=0;j<s;j++)p[j*s+U]=(1-i.damping)*Math.min(0,X-x[j])+i.damping*S[j];p[U*s+U]=(1-i.damping)*(X-x[U])+i.damping*S[U]}for(var F=0,W=0;W<s;W++){var $=p[W*s+W]+d[W*s+W]>0?1:0;v[k%i.minIterations*s+W]=$,F+=$}if(F>0&&(k>=i.minIterations-1||k==i.maxIterations-1)){for(var Y=0,Z=0;Z<s;Z++){A[Z]=0;for(var ee=0;ee<i.minIterations;ee++)A[Z]+=v[ee*s+Z];(A[Z]===0||A[Z]===i.minIterations)&&Y++}if(Y===s)break}}for(var G=J1(s,d,p),ie=ex(s,u,G),pe={},ce=0;ce<G.length;ce++)pe[G[ce]]=[];for(var Se=0;Se<n.length;Se++){var Ne=a[n[Se].id()],qe=ie[Ne];qe!=null&&pe[qe].push(n[Se])}for(var ke=new Array(G.length),Ee=0;Ee<G.length;Ee++)ke[Ee]=r.collection(pe[G[Ee]]);return ke},tx={affinityPropagation:jc,ap:jc},rx=Zt({root:void 0,directed:!1}),nx={hierholzer:function(e){if(!ht(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=rx(e),i=n.root,a=n.directed,o=this,s=!1,l,u,c;i&&(c=je(i)?this.filter(i)[0].id():i[0].id());var d={},p={};a?o.forEach(function(E){var S=E.id();if(E.isNode()){var x=E.indegree(!0),A=E.outdegree(!0),_=x-A,v=A-x;_==1?l?s=!0:l=S:v==1?u?s=!0:u=S:(v>1||_>1)&&(s=!0),d[S]=[],E.outgoers().forEach(function(P){P.isEdge()&&d[S].push(P.id())})}else p[S]=[void 0,E.target().id()]}):o.forEach(function(E){var S=E.id();if(E.isNode()){var x=E.degree(!0);x%2&&(l?u?s=!0:u=S:l=S),d[S]=[],E.connectedEdges().forEach(function(A){return d[S].push(A.id())})}else p[S]=[E.source().id(),E.target().id()]});var m={found:!1,trail:void 0};if(s)return m;if(u&&l)if(a){if(c&&u!=c)return m;c=u}else{if(c&&u!=c&&l!=c)return m;c||(c=u)}else c||(c=o[0].id());var h=function(S){for(var x=S,A=[S],_,v,P;d[x].length;)_=d[x].shift(),v=p[_][0],P=p[_][1],x!=P?(d[P]=d[P].filter(function(k){return k!=_}),x=P):!a&&x!=v&&(d[v]=d[v].filter(function(k){return k!=_}),x=v),A.unshift(_),A.unshift(x);return A},y=[],w=[];for(w=h(c);w.length!=1;)d[w[0]].length==0?(y.unshift(o.getElementById(w.shift())),y.unshift(o.getElementById(w.shift()))):w=h(w.shift()).concat(w);y.unshift(o.getElementById(w.shift()));for(var b in d)if(d[b].length)return m;return m.found=!0,m.trail=this.spawn(y,!0),m}},Mo=function(){var e=this,r={},n=0,i=0,a=[],o=[],s={},l=function(p,m){for(var h=o.length-1,y=[],w=e.spawn();o[h].x!=p||o[h].y!=m;)y.push(o.pop().edge),h--;y.push(o.pop().edge),y.forEach(function(b){var E=b.connectedNodes().intersection(e);w.merge(b),E.forEach(function(S){var x=S.id(),A=S.connectedEdges().intersection(e);w.merge(S),r[x].cutVertex?w.merge(A.filter(function(_){return _.isLoop()})):w.merge(A)})}),a.push(w)},u=function d(p,m,h){p===h&&(i+=1),r[m]={id:n,low:n++,cutVertex:!1};var y=e.getElementById(m).connectedEdges().intersection(e);if(y.size()===0)a.push(e.spawn(e.getElementById(m)));else{var w,b,E,S;y.forEach(function(x){w=x.source().id(),b=x.target().id(),E=w===m?b:w,E!==h&&(S=x.id(),s[S]||(s[S]=!0,o.push({x:m,y:E,edge:x})),E in r?r[m].low=Math.min(r[m].low,r[E].id):(d(p,E,m),r[m].low=Math.min(r[m].low,r[E].low),r[m].id<=r[E].low&&(r[m].cutVertex=!0,l(m,E))))})}};e.forEach(function(d){if(d.isNode()){var p=d.id();p in r||(i=0,u(p,p),r[p].cutVertex=i>1)}});var c=Object.keys(r).filter(function(d){return r[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(c),components:a}},ix={hopcroftTarjanBiconnected:Mo,htbc:Mo,htb:Mo,hopcroftTarjanBiconnectedComponents:Mo},Po=function(){var e=this,r={},n=0,i=[],a=[],o=e.spawn(e),s=function l(u){a.push(u),r[u]={index:n,low:n++,explored:!1};var c=e.getElementById(u).connectedEdges().intersection(e);if(c.forEach(function(y){var w=y.target().id();w!==u&&(w in r||l(w),r[w].explored||(r[u].low=Math.min(r[u].low,r[w].low)))}),r[u].index===r[u].low){for(var d=e.spawn();;){var p=a.pop();if(d.merge(e.getElementById(p)),r[p].low=r[u].index,r[p].explored=!0,p===u)break}var m=d.edgesWith(d),h=d.merge(m);i.push(h),o=o.difference(h)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in r||s(u)}}),{cut:o,components:i}},ax={tarjanStronglyConnected:Po,tsc:Po,tscc:Po,tarjanStronglyConnectedComponents:Po},lh={};[Fa,Nw,Bw,zw,$w,qw,Uw,g1,zi,Fi,Hl,I1,q1,K1,tx,nx,ix,ax].forEach(function(t){Qe(lh,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var uh=0,ch=1,fh=2,gn=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=uh,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};gn.prototype={fulfill:function(e){return Kc(this,ch,"fulfillValue",e)},reject:function(e){return Kc(this,fh,"rejectReason",e)},then:function(e,r){var n=this,i=new gn;return n.onFulfilled.push(Xc(e,i,"fulfill")),n.onRejected.push(Xc(r,i,"reject")),dh(n),i.proxy}};var Kc=function(e,r,n,i){return e.state===uh&&(e.state=r,e[n]=i,dh(e)),e},dh=function(e){e.state===ch?Yc(e,"onFulfilled",e.fulfillValue):e.state===fh&&Yc(e,"onRejected",e.rejectReason)},Yc=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var a=function(){for(var s=0;s<i.length;s++)i[s](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},Xc=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var a;try{a=e(i)}catch(o){r.reject(o);return}ox(r,a)}}},ox=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Vt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){e.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?e.reject(new TypeError("circular thenable chain")):t(e,a))},function(a){i||(i=!0,e.reject(a))})}catch(a){i||e.reject(a)}return}e.fulfill(r)};gn.all=function(t){return new gn(function(e,r){for(var n=new Array(t.length),i=0,a=function(l,u){n[l]=u,i++,i===t.length&&e(n)},o=0;o<t.length;o++)(function(s){var l=t[s],u=l!=null&&l.then!=null;if(u)l.then(function(d){a(s,d)},function(d){r(d)});else{var c=l;a(s,c)}})(o)})};gn.resolve=function(t){return new gn(function(e,r){e(t)})};gn.reject=function(t){return new gn(function(e,r){r(t)})};var ta=typeof Promise<"u"?Promise:gn,ql=function(e,r,n){var i=gu(e),a=!i,o=this._private=Qe({duration:1e3},r,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Pt(o.complete)&&o.completes.push(o.complete),a){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(i){var l=e.pan();o.startPan={x:l.x,y:l.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},di=ql.prototype;Qe(di,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Cr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,c){var d=e[u];d!=null&&(e[u]=e[c],e[c]=d)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var a=e.style[i],o=a.name,s=e.startStyle[o];e.startStyle[o]=a,e.style[i]=s}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new ta(function(i,a){n.push(function(){i()})})}});di.complete=di.completed;di.run=di.play;di.running=di.playing;var sx={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var o=i[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){var s=i[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this,l=!a,u=!l;if(!s.styleEnabled())return this;var c=s.style();r=Qe({},r,n);var d=Object.keys(r).length===0;if(d)return new ql(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var p=r.renderedPosition,m=s.pan(),h=s.zoom();r.position=Xd(p,h,m)}if(l&&r.panBy!=null){var y=r.panBy,w=s.pan();r.pan={x:w.x+y.x,y:w.y+y.y}}var b=r.center||r.centre;if(l&&b!=null){var E=s.getCenterPan(b.eles,r.zoom);E!=null&&(r.pan=E)}if(l&&r.fit!=null){var S=r.fit,x=s.getFitViewport(S.eles||S.boundingBox,S.padding);x!=null&&(r.pan=x.pan,r.zoom=x.zoom)}if(l&&ht(r.zoom)){var A=s.getZoomedViewport(r.zoom);A!=null?(A.zoomed&&(r.zoom=A.zoom),A.panned&&(r.pan=A.pan)):r.zoom=null}return new ql(o[0],r)}},animate:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=Qe({},r,n));for(var l=0;l<o.length;l++){var u=o[l],c=u.animated()&&(r.queue===void 0||r.queue),d=u.animation(r,c?{queue:!0}:void 0);d.play()}return this}},stop:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var u=o[l],c=u._private,d=c.animation.current,p=0;p<d.length;p++){var m=d[p],h=m._private;n&&(h.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return s.notify("draw"),this}}},lx={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return e=Qe({},r,e),function(i,a){var o=e,s=this,l=s.length!==void 0,u=l?s:[s],c=l?s[0]:s;if(je(i)){var d=i.indexOf(".")!==-1,p=d&&jb.default(i);if(o.allowGetting&&a===void 0){var m;return c&&(o.beforeGet(c),p&&c._private[o.field][i]===void 0?m=Ub.default(c._private[o.field],p):m=c._private[o.field][i]),m}else if(o.allowSetting&&a!==void 0){var h=!o.immutableKeys[i];if(h){var y=Od({},i,a);o.beforeSet(s,y);for(var w=0,b=u.length;w<b;w++){var E=u[w];o.canSet(E)&&(p&&c._private[o.field][i]===void 0?Gb.default(E._private[o.field],p,a):E._private[o.field][i]=a)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&ht(i)){var S=i,x,A,_=Object.keys(S);o.beforeSet(s,S);for(var v=0;v<_.length;v++){x=_[v],A=S[x];var P=!o.immutableKeys[x];if(P)for(var k=0;k<u.length;k++){var B=u[k];o.canSet(B)&&(B._private[o.field][x]=A)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Pt(i)){var N=i;s.on(o.bindingEvent,N)}else if(o.allowGetting&&i===void 0){var M;return c&&(o.beforeGet(c),M=c._private[o.field]),M}return s}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Qe({},r,e),function(i){var a=e,o=this,s=o.length!==void 0,l=s?o:[o];if(je(i)){for(var u=i.split(/\s+/),c=u.length,d=0;d<c;d++){var p=u[d];if(!Bn(p)){var m=!a.immutableKeys[p];if(m)for(var h=0,y=l.length;h<y;h++)l[h]._private[a.field][p]=void 0}}a.triggerEvent&&o[a.triggerFnName](a.event)}else if(i===void 0){for(var w=0,b=l.length;w<b;w++)for(var E=l[w]._private[a.field],S=Object.keys(E),x=0;x<S.length;x++){var A=S[x],_=!a.immutableKeys[A];_&&(E[A]=void 0)}a.triggerEvent&&o[a.triggerFnName](a.event)}return o}}},ux={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var a=this,o=Array.prototype.slice.call(arguments,0);return new ta(function(s,l){var u=function(m){a.off.apply(a,d),s(m)},c=o.concat([u]),d=c.concat([]);a.on.apply(a,c)})}}},bt={};[sx,lx,ux].forEach(function(t){Qe(bt,t)});var cx={animate:bt.animate(),animation:bt.animation(),animated:bt.animated(),clearQueue:bt.clearQueue(),delay:bt.delay(),delayAnimation:bt.delayAnimation(),stop:bt.stop()},jo={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(h){return n.push(h)}),n}else Tt(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],a=new ea(e),o=0;o<r.length;o++){for(var s=r[o],l=s._private,u=l.classes,c=!1,d=0;d<e.length;d++){var p=e[d],m=u.has(p);if(!m){c=!0;break}}c||(c=u.size!==e.length),c&&(l.classes=a,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){Tt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,a=[],o=0,s=n.length;o<s;o++)for(var l=n[o],u=l._private.classes,c=!1,d=0;d<e.length;d++){var p=e[d],m=u.has(p),h=!1;r||i&&!m?(u.add(p),h=!0):(!r||i&&m)&&(u.delete(p),h=!0),!c&&h&&(a.push(l),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};jo.className=jo.classNames=jo.classes;var dt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:qt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};dt.variable="(?:[\\w-.]|(?:\\\\"+dt.metaChar+"))+";dt.className="(?:[\\w-]|(?:\\\\"+dt.metaChar+"))+";dt.value=dt.string+"|"+dt.number;dt.id=dt.variable;(function(){var t,e,r;for(t=dt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],dt.comparatorOp+="|@"+e;for(t=dt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(dt.comparatorOp+="|\\!"+e)})();var Ct=function(){return{checks:[]}},He={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Vl=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return vw(t.selector,e.selector)}),fx=function(){for(var t={},e,r=0;r<Vl.length;r++)e=Vl[r],t[e.selector]=e.matches;return t}(),dx=function(e,r){return fx[e](r)},hx="("+Vl.map(function(t){return t.selector}).join("|")+")",Si=function(e){return e.replace(new RegExp("\\\\("+dt.metaChar+")","g"),function(r,n){return n})},In=function(e,r,n){e[e.length-1]=n},Wl=[{name:"group",query:!0,regex:"("+dt.group+")",populate:function(e,r,n){var i=$r(n,1),a=i[0];r.checks.push({type:He.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:hx,populate:function(e,r,n){var i=$r(n,1),a=i[0];r.checks.push({type:He.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+dt.id+")",populate:function(e,r,n){var i=$r(n,1),a=i[0];r.checks.push({type:He.ID,value:Si(a)})}},{name:"className",query:!0,regex:"\\.("+dt.className+")",populate:function(e,r,n){var i=$r(n,1),a=i[0];r.checks.push({type:He.CLASS,value:Si(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+dt.variable+")\\s*\\]",populate:function(e,r,n){var i=$r(n,1),a=i[0];r.checks.push({type:He.DATA_EXIST,field:Si(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+dt.variable+")\\s*("+dt.comparatorOp+")\\s*("+dt.value+")\\s*\\]",populate:function(e,r,n){var i=$r(n,3),a=i[0],o=i[1],s=i[2],l=new RegExp("^"+dt.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:He.DATA_COMPARE,field:Si(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+dt.boolOp+")\\s*("+dt.variable+")\\s*\\]",populate:function(e,r,n){var i=$r(n,2),a=i[0],o=i[1];r.checks.push({type:He.DATA_BOOL,field:Si(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+dt.meta+")\\s*("+dt.comparatorOp+")\\s*("+dt.number+")\\s*\\]\\]",populate:function(e,r,n){var i=$r(n,3),a=i[0],o=i[1],s=i[2];r.checks.push({type:He.META_COMPARE,field:Si(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:dt.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,a=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=i,o.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=Ct();return s}},{name:"directedEdge",separator:!0,regex:dt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Ct(),i=r,a=Ct();return n.checks.push({type:He.DIRECTED_EDGE,source:i,target:a}),In(e,r,n),e.edgeCount++,a}else{var o=Ct(),s=r,l=Ct();return o.checks.push({type:He.NODE_SOURCE,source:s,target:l}),In(e,r,o),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:dt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Ct(),i=r,a=Ct();return n.checks.push({type:He.UNDIRECTED_EDGE,nodes:[i,a]}),In(e,r,n),e.edgeCount++,a}else{var o=Ct(),s=r,l=Ct();return o.checks.push({type:He.NODE_NEIGHBOR,node:s,neighbor:l}),In(e,r,o),l}}},{name:"child",separator:!0,regex:dt.child,populate:function(e,r){if(e.currentSubject==null){var n=Ct(),i=Ct(),a=e[e.length-1];return n.checks.push({type:He.CHILD,parent:a,child:i}),In(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var o=Ct(),s=e[e.length-1],l=Ct(),u=Ct(),c=Ct(),d=Ct();return o.checks.push({type:He.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:He.TRUE}],d.checks.push({type:He.TRUE}),l.checks.push({type:He.PARENT,parent:d,child:c}),In(e,s,o),e.currentSubject=u,e.compoundCount++,c}else{var p=Ct(),m=Ct(),h=[{type:He.PARENT,parent:p,child:m}];return p.checks=r.checks,r.checks=h,e.compoundCount++,m}}},{name:"descendant",separator:!0,regex:dt.descendant,populate:function(e,r){if(e.currentSubject==null){var n=Ct(),i=Ct(),a=e[e.length-1];return n.checks.push({type:He.DESCENDANT,ancestor:a,descendant:i}),In(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var o=Ct(),s=e[e.length-1],l=Ct(),u=Ct(),c=Ct(),d=Ct();return o.checks.push({type:He.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:He.TRUE}],d.checks.push({type:He.TRUE}),l.checks.push({type:He.ANCESTOR,ancestor:d,descendant:c}),In(e,s,o),e.currentSubject=u,e.compoundCount++,c}else{var p=Ct(),m=Ct(),h=[{type:He.ANCESTOR,ancestor:p,descendant:m}];return p.checks=r.checks,r.checks=h,e.compoundCount++,m}}},{name:"subject",modifier:!0,regex:dt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return yt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],a=i==null?null:i.type;a===He.DIRECTED_EDGE?i.type=He.NODE_TARGET:a===He.UNDIRECTED_EDGE&&(i.type=He.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];Wl.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var vx=function(e){for(var r,n,i,a=0;a<Wl.length;a++){var o=Wl[a],s=o.name,l=e.match(o.regexObj);if(l!=null){n=l,r=o,i=s;var u=l[0];e=e.substring(u.length);break}}return{expr:r,match:n,name:i,remaining:e}},px=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},gx=function(e){var r=this,n=r.inputText=e,i=r[0]=Ct();for(r.length=1,n=px(n);;){var a=vx(n);if(a.expr==null)return yt("The selector `"+e+"`is invalid"),!1;var o=a.match.slice(1),s=a.expr.populate(r,i,o);if(s===!1)return!1;if(s!=null&&(i=s),n=a.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var c=r[u];if(c.compoundCount>0&&c.edgeCount>0)return yt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return yt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&yt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},mx=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return je(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},i=function(c,d){var p=c.type,m=c.value;switch(p){case He.GROUP:{var h=e(m);return h.substring(0,h.length-1)}case He.DATA_COMPARE:{var y=c.field,w=c.operator;return"["+y+n(e(w))+r(m)+"]"}case He.DATA_BOOL:{var b=c.operator,E=c.field;return"["+e(b)+E+"]"}case He.DATA_EXIST:{var S=c.field;return"["+S+"]"}case He.META_COMPARE:{var x=c.operator,A=c.field;return"[["+A+n(e(x))+r(m)+"]]"}case He.STATE:return m;case He.ID:return"#"+m;case He.CLASS:return"."+m;case He.PARENT:case He.CHILD:return a(c.parent,d)+n(">")+a(c.child,d);case He.ANCESTOR:case He.DESCENDANT:return a(c.ancestor,d)+" "+a(c.descendant,d);case He.COMPOUND_SPLIT:{var _=a(c.left,d),v=a(c.subject,d),P=a(c.right,d);return _+(_.length>0?" ":"")+v+P}case He.TRUE:return""}},a=function(c,d){return c.checks.reduce(function(p,m,h){return p+(d===c&&h===0?"$":"")+i(m,d)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=a(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},yx={parse:gx,toString:mx},hh=function(e,r,n){var i,a=je(e),o=Pe(e),s=je(n),l,u,c=!1,d=!1,p=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),d=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(a||s||c)&&(l=!a&&!o?"":""+e,u=""+n),c&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=e===n;break;case">":p=!0,i=e>n;break;case">=":p=!0,i=e>=n;break;case"<":p=!0,i=e<n;break;case"<=":p=!0,i=e<=n;break;default:i=!1;break}return d&&(e!=null||!p)&&(i=!i),i},bx=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},wx=function(e){return e!==void 0},Tu=function(e,r){return e.data(r)},xx=function(e,r){return e[r]()},Bt=[],Mt=function(e,r){return e.checks.every(function(n){return Bt[n.type](n,r)})};Bt[He.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Bt[He.STATE]=function(t,e){var r=t.value;return dx(r,e)};Bt[He.ID]=function(t,e){var r=t.value;return e.id()===r};Bt[He.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Bt[He.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return hh(xx(e,r),n,i)};Bt[He.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return hh(Tu(e,r),n,i)};Bt[He.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return bx(Tu(e,r),n)};Bt[He.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,wx(Tu(e,r))};Bt[He.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),a=e.target();return Mt(r,i)&&Mt(n,a)||Mt(n,i)&&Mt(r,a)};Bt[He.NODE_NEIGHBOR]=function(t,e){return Mt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Mt(t.neighbor,r)})};Bt[He.DIRECTED_EDGE]=function(t,e){return Mt(t.source,e.source())&&Mt(t.target,e.target())};Bt[He.NODE_SOURCE]=function(t,e){return Mt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Mt(t.target,r)})};Bt[He.NODE_TARGET]=function(t,e){return Mt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Mt(t.source,r)})};Bt[He.CHILD]=function(t,e){return Mt(t.child,e)&&Mt(t.parent,e.parent())};Bt[He.PARENT]=function(t,e){return Mt(t.parent,e)&&e.children().some(function(r){return Mt(t.child,r)})};Bt[He.DESCENDANT]=function(t,e){return Mt(t.descendant,e)&&e.ancestors().some(function(r){return Mt(t.ancestor,r)})};Bt[He.ANCESTOR]=function(t,e){return Mt(t.ancestor,e)&&e.descendants().some(function(r){return Mt(t.descendant,r)})};Bt[He.COMPOUND_SPLIT]=function(t,e){return Mt(t.subject,e)&&Mt(t.left,e)&&Mt(t.right,e)};Bt[He.TRUE]=function(){return!0};Bt[He.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Bt[He.FILTER]=function(t,e){var r=t.value;return r(e)};var Ex=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===He.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(a){for(var o=0;o<r.length;o++){var s=r[o];if(Mt(s,a))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},Cx=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(Mt(i,e))return!0}return!1},Sx={matches:Cx,filter:Ex},zn=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||je(e)&&e.match(/^\s*$/)||(Cr(e)?this.addQuery({checks:[{type:He.COLLECTION,value:e.collection()}]}):Pt(e)?this.addQuery({checks:[{type:He.FILTER,value:e}]}):je(e)?this.parse(e)||(this.invalid=!0):Nt("A selector must be created from a string; found "))},Fn=zn.prototype;[yx,Sx].forEach(function(t){return Qe(Fn,t)});Fn.text=function(){return this.inputText};Fn.size=function(){return this.length};Fn.eq=function(t){return this[t]};Fn.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Fn.addQuery=function(t){this[this.length++]=t};Fn.selector=Fn.toString;var Ln={allAre:function(e){var r=new zn(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new zn(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};Ln.allAreNeighbours=Ln.allAreNeighbors;Ln.has=Ln.contains;Ln.equal=Ln.equals=Ln.same;var Pr=function(e,r){return function(i,a,o,s){var l=i,u=this,c;if(l==null?c="":Cr(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var d=u[0]._private,p=d.traversalCache=d.traversalCache||{},m=p[r]=p[r]||[],h=ci(c),y=m[h];return y||(m[h]=e.call(u,i,a,o,s))}else return e.call(u,i,a,o,s)}},Vi={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],o=a._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],a=i.parents();r=r||a,r=r.intersect(a)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Pr(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)e.push(i[a]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var a=0;a<i.length;a++){var o=i[a];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function ku(t,e,r,n){for(var i=[],a=new ea,o=t.cy(),s=o.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];r?i.push(u):s&&n(i,a,u)}for(;i.length>0;){var c=i.shift();e(c),a.add(c.id()),s&&n(i,a,c)}return t}function vh(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];e.has(a.id())||t.push(a)}}Vi.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ku(this,t,e,vh)};function ph(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}Vi.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ku(this,t,e,ph)};function Tx(t,e,r){ph(t,e,r),vh(t,e,r)}Vi.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ku(this,t,e,Tx)};Vi.ancestors=Vi.parents;var qa,gh;qa=gh={data:bt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:bt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:bt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:bt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:bt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:bt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};qa.attr=qa.data;qa.removeAttr=qa.removeData;var kx=gh,As={};function hl(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!e&&s.isLoop()||(n+=t(i,s))}return n}else return}}Qe(As,{degree:hl(function(t,e){return e.source().same(e.target())?2:1}),indegree:hl(function(t,e){return e.target().same(t)?1:0}),outdegree:hl(function(t,e){return e.source().same(t)?1:0})});function Ti(t,e){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[t](r);s!==void 0&&(n===void 0||e(s,n))&&(n=s)}return n}}Qe(As,{minDegree:Ti("degree",function(t,e){return t<e}),maxDegree:Ti("degree",function(t,e){return t>e}),minIndegree:Ti("indegree",function(t,e){return t<e}),maxIndegree:Ti("indegree",function(t,e){return t>e}),minOutdegree:Ti("outdegree",function(t,e){return t<e}),maxOutdegree:Ti("outdegree",function(t,e){return t>e})});Qe(As,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var Ur,mh,yh=function(e,r,n){for(var i=0;i<e.length;i++){var a=e[i];if(!a.locked()){var o=a._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};a.isParent()&&!(s.x===0&&s.y===0)&&a.children().shift(s,n),a.dirtyBoundingBoxCache()}}},Qc={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){yh(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Ur=mh={position:bt.data(Qc),silentPosition:bt.data(Qe({},Qc,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){yh(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(ht(e))r?this.silentPosition(e):this.position(e);else if(Pt(e)){var n=e,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=void 0;(s=n(o,a))&&(r?o.silentPosition(s):o.position(s))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(ht(e)?(i={x:Pe(e.x)?e.x:0,y:Pe(e.y)?e.y:0},n=r):je(e)&&Pe(r)&&(i={x:0,y:0},i[e]=r),i!=null){var a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(a.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),u={x:l.x+i.x,y:l.y+i.y};n?s.silentPosition(u):s.position(u)}}a.endBatch()}return this},silentShift:function(e,r){return ht(e)?this.shift(e,!0):je(e)&&Pe(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),a=i.zoom(),o=i.pan(),s=ht(e)?e:void 0,l=s!==void 0||r!==void 0&&je(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];r!==void 0?c.position(e,(r-o[e])/a):s!==void 0&&c.position(Xd(s,a,o))}else{var d=n.position();return s=ks(d,a,o),e===void 0?s:s[e]}else if(!l)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),a=ht(e)?e:void 0,o=a!==void 0||r!==void 0&&je(e),s=i.hasCompoundNodes();if(n&&n.isNode())if(o)for(var l=0;l<this.length;l++){var u=this[l],c=s?u.parent():null,d=c&&c.length>0,p=d;d&&(c=c[0]);var m=p?c.position():{x:0,y:0};r!==void 0?u.position(e,r+m[e]):a!==void 0&&u.position({x:a.x+m.x,y:a.y+m.y})}else{var h=n.position(),y=s?n.parent():null,w=y&&y.length>0,b=w;w&&(y=y[0]);var E=b?y.position():{x:0,y:0};return a={x:h.x-E.x,y:h.y-E.y},e===void 0?a:a[e]}else if(!o)return;return this}};Ur.modelPosition=Ur.point=Ur.position;Ur.modelPositions=Ur.points=Ur.positions;Ur.renderedPoint=Ur.renderedPosition;Ur.relativePoint=Ur.relativePosition;var _x=mh,$i,Vn;$i=Vn={};Vn.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),a=e.x1*n+i.x,o=e.x2*n+i.x,s=e.y1*n+i.y,l=e.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}};Vn.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Vn.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,l=o.children(),u=o.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},d=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),p=s.position;(d.w===0||d.h===0)&&(d={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},d.x1=p.x-d.w/2,d.x2=p.x+d.w/2,d.y1=p.y-d.h/2,d.y2=p.y+d.h/2);function m(k,B,N){var M=0,z=0,R=B+N;return k>0&&R>0&&(M=B/R*k,z=N/R*k),{biasDiff:M,biasComplementDiff:z}}function h(k,B,N,M){if(N.units==="%")switch(M){case"width":return k>0?N.pfValue*k:0;case"height":return B>0?N.pfValue*B:0;case"average":return k>0&&B>0?N.pfValue*(k+B)/2:0;case"min":return k>0&&B>0?k>B?N.pfValue*B:N.pfValue*k:0;case"max":return k>0&&B>0?k>B?N.pfValue*k:N.pfValue*B:0;default:return 0}else return N.units==="px"?N.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var w=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(w=w*100/c.width.val);var b=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(b=b*100/c.height.val);var E=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(E=E*100/c.height.val);var S=m(c.width.val-d.w,y,w),x=S.biasDiff,A=S.biasComplementDiff,_=m(c.height.val-d.h,b,E),v=_.biasDiff,P=_.biasComplementDiff;s.autoPadding=h(d.w,d.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(d.w,c.width.val),p.x=(-x+d.x1+d.x2+A)/2,s.autoHeight=Math.max(d.h,c.height.val),p.y=(-v+d.y1+d.y2+P)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||t)&&(r(i),e.batching()||(a.compoundBoundsClean=!0))}return this};var Mr=function(e){return e===1/0||e===-1/0?0:e},Hr=function(e,r,n,i,a){i-r===0||a-n===0||r==null||n==null||i==null||a==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},ri=function(e,r){return r==null?e:Hr(e,r.x1,r.y1,r.x2,r.y2)},ba=function(e,r,n){return qr(e,r,n)},Lo=function(e,r,n){if(!r.cy().headless()){var i=r._private,a=i.rstyle,o=a.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,l,u;if(s!=="none"){n==="source"?(l=a.srcX,u=a.srcY):n==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var c=i.arrowBounds=i.arrowBounds||{},d=c[n]=c[n]||{};d.x1=l-o,d.y1=u-o,d.x2=l+o,d.y2=u+o,d.w=d.x2-d.x1,d.h=d.y2-d.y1,Go(d,1),Hr(e,d.x1,d.y1,d.x2,d.y2)}}},vl=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var a=r._private,o=a.rstyle,s=r.pstyle(i+"label").strValue;if(s){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),c=ba(o,"labelWidth",n),d=ba(o,"labelHeight",n),p=ba(o,"labelX",n),m=ba(o,"labelY",n),h=r.pstyle(i+"text-margin-x").pfValue,y=r.pstyle(i+"text-margin-y").pfValue,w=r.isEdge(),b=r.pstyle(i+"text-rotation"),E=r.pstyle("text-outline-width").pfValue,S=r.pstyle("text-border-width").pfValue,x=S/2,A=r.pstyle("text-background-padding").pfValue,_=2,v=d,P=c,k=P/2,B=v/2,N,M,z,R;if(w)N=p-k,M=p+k,z=m-B,R=m+B;else{switch(l.value){case"left":N=p-P,M=p;break;case"center":N=p-k,M=p+k;break;case"right":N=p,M=p+P;break}switch(u.value){case"top":z=m-v,R=m;break;case"center":z=m-B,R=m+B;break;case"bottom":z=m,R=m+v;break}}N+=h-Math.max(E,x)-A-_,M+=h+Math.max(E,x)+A+_,z+=y-Math.max(E,x)-A-_,R+=y+Math.max(E,x)+A+_;var q=n||"main",H=a.labelBounds,U=H[q]=H[q]||{};U.x1=N,U.y1=z,U.x2=M,U.y2=R,U.w=M-N,U.h=R-z;var X=w&&b.strValue==="autorotate",re=b.pfValue!=null&&b.pfValue!==0;if(X||re){var j=X?ba(a.rstyle,"labelAngle",n):b.pfValue,F=Math.cos(j),W=Math.sin(j),$=(N+M)/2,Y=(z+R)/2;if(!w){switch(l.value){case"left":$=M;break;case"right":$=N;break}switch(u.value){case"top":Y=R;break;case"bottom":Y=z;break}}var Z=function(qe,ke){return qe=qe-$,ke=ke-Y,{x:qe*F-ke*W+$,y:qe*W+ke*F+Y}},ee=Z(N,z),G=Z(N,R),ie=Z(M,z),pe=Z(M,R);N=Math.min(ee.x,G.x,ie.x,pe.x),M=Math.max(ee.x,G.x,ie.x,pe.x),z=Math.min(ee.y,G.y,ie.y,pe.y),R=Math.max(ee.y,G.y,ie.y,pe.y)}var ce=q+"Rot",Se=H[ce]=H[ce]||{};Se.x1=N,Se.y1=z,Se.x2=M,Se.y2=R,Se.w=M-N,Se.h=R-z,Hr(e,N,z,M,R),Hr(a.labelBounds.all,N,z,M,R)}return e}},Ax=function(e,r){var n=e._private.cy,i=n.styleEnabled(),a=n.headless(),o=br(),s=e._private,l=e.isNode(),u=e.isEdge(),c,d,p,m,h,y,w=s.rstyle,b=l&&i?e.pstyle("bounds-expansion").pfValue:[0],E=function(xe){return xe.pstyle("display").value!=="none"},S=!i||E(e)&&(!u||E(e.source())&&E(e.target()));if(S){var x=0,A=0;i&&r.includeOverlays&&(x=e.pstyle("overlay-opacity").value,x!==0&&(A=e.pstyle("overlay-padding").value));var _=0,v=0;i&&r.includeUnderlays&&(_=e.pstyle("underlay-opacity").value,_!==0&&(v=e.pstyle("underlay-padding").value));var P=Math.max(A,v),k=0,B=0;if(i&&(k=e.pstyle("width").pfValue,B=k/2),l&&r.includeNodes){var N=e.position();h=N.x,y=N.y;var M=e.outerWidth(),z=M/2,R=e.outerHeight(),q=R/2;c=h-z,d=h+z,p=y-q,m=y+q,Hr(o,c,p,d,m)}else if(u&&r.includeEdges)if(i&&!a){var H=e.pstyle("curve-style").strValue;if(c=Math.min(w.srcX,w.midX,w.tgtX),d=Math.max(w.srcX,w.midX,w.tgtX),p=Math.min(w.srcY,w.midY,w.tgtY),m=Math.max(w.srcY,w.midY,w.tgtY),c-=B,d+=B,p-=B,m+=B,Hr(o,c,p,d,m),H==="haystack"){var U=w.haystackPts;if(U&&U.length===2){if(c=U[0].x,p=U[0].y,d=U[1].x,m=U[1].y,c>d){var X=c;c=d,d=X}if(p>m){var re=p;p=m,m=re}Hr(o,c-B,p-B,d+B,m+B)}}else if(H==="bezier"||H==="unbundled-bezier"||H==="segments"||H==="taxi"){var j;switch(H){case"bezier":case"unbundled-bezier":j=w.bezierPts;break;case"segments":case"taxi":j=w.linePts;break}if(j!=null)for(var F=0;F<j.length;F++){var W=j[F];c=W.x-B,d=W.x+B,p=W.y-B,m=W.y+B,Hr(o,c,p,d,m)}}}else{var $=e.source(),Y=$.position(),Z=e.target(),ee=Z.position();if(c=Y.x,d=ee.x,p=Y.y,m=ee.y,c>d){var G=c;c=d,d=G}if(p>m){var ie=p;p=m,m=ie}c-=B,d+=B,p-=B,m+=B,Hr(o,c,p,d,m)}if(i&&r.includeEdges&&u&&(Lo(o,e,"mid-source"),Lo(o,e,"mid-target"),Lo(o,e,"source"),Lo(o,e,"target")),i){var pe=e.pstyle("ghost").value==="yes";if(pe){var ce=e.pstyle("ghost-offset-x").pfValue,Se=e.pstyle("ghost-offset-y").pfValue;Hr(o,o.x1+ce,o.y1+Se,o.x2+ce,o.y2+Se)}}var Ne=s.bodyBounds=s.bodyBounds||{};Nc(Ne,o),cl(Ne,b),Go(Ne,1),i&&(c=o.x1,d=o.x2,p=o.y1,m=o.y2,Hr(o,c-P,p-P,d+P,m+P));var qe=s.overlayBounds=s.overlayBounds||{};Nc(qe,o),cl(qe,b),Go(qe,1);var ke=s.labelBounds=s.labelBounds||{};ke.all!=null?t1(ke.all):ke.all=br(),i&&r.includeLabels&&(r.includeMainLabels&&vl(o,e,null),u&&(r.includeSourceLabels&&vl(o,e,"source"),r.includeTargetLabels&&vl(o,e,"target")))}return o.x1=Mr(o.x1),o.y1=Mr(o.y1),o.x2=Mr(o.x2),o.y2=Mr(o.y2),o.w=Mr(o.x2-o.x1),o.h=Mr(o.y2-o.y1),o.w>0&&o.h>0&&S&&(cl(o,b),Go(o,1)),o},bh=function(e){var r=0,n=function(o){return(o?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i},wh=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),i=function(o){return Math.round(o)};return Cw([i(r.x),i(r.y),i(n.x),i(n.y)])}else return 0},Zc=function(e,r){var n=e._private,i,a=e.isEdge(),o=r==null?Jc:bh(r),s=o===Jc,l=wh(e),u=n.bbCachePosKey===l,c=r.useCache&&u,d=function(y){return y._private.bbCache==null||y._private.styleDirty},p=!c||d(e)||a&&d(e.source())||d(e.target());if(p?(u||e.recalculateRenderedStyle(c),i=Ax(e,Va),n.bbCache=i,n.bbCachePosKey=l):i=n.bbCache,!s){var m=e.isNode();i=br(),(r.includeNodes&&m||r.includeEdges&&!m)&&(r.includeOverlays?ri(i,n.overlayBounds):ri(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?ri(i,n.labelBounds.all):(r.includeMainLabels&&ri(i,n.labelBounds.mainRot),r.includeSourceLabels&&ri(i,n.labelBounds.sourceRot),r.includeTargetLabels&&ri(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Va={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Jc=bh(Va),ef=Zt(Va);Vn.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=Va:t=ef(t),e=Zc(this[0],t);else{e=br(),t=t||Va;var r=ef(t),n=this,i=n.cy(),a=i.styleEnabled();if(a)for(var o=0;o<n.length;o++){var s=n[o],l=s._private,u=wh(s),c=l.bbCachePosKey===u,d=r.useCache&&c&&!l.styleDirty;s.recalculateRenderedStyle(d)}this.updateCompoundBounds(!t.useCache);for(var p=0;p<n.length;p++){var m=n[p];ri(e,Zc(m,r))}}return e.x1=Mr(e.x1),e.y1=Mr(e.y1),e.x2=Mr(e.x2),e.y2=Mr(e.y2),e.w=Mr(e.x2-e.x1),e.h=Mr(e.y2-e.y1),e};Vn.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Vn.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(u){return u.isParent()}),e=e.not(i)),ht(t)){var a=t;t=function(){return a}}var o=function(c,d){return c._private.bbAtOldPos=t(c,d)},s=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(o).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=e1(this.boundingBox({useCache:!1}));return e.silentPositions(s),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),l};$i.boundingbox=$i.bb=$i.boundingBox;$i.renderedBoundingbox=$i.renderedBoundingBox;var Ix=Vn,ka,io;ka=io={};var xh=function(e){e.uppercaseName=Mc(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Mc(e.outerName),ka[e.name]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var s=n.pstyle(e.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},ka["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){var s=n[e.name](),l=n.pstyle("border-width").pfValue,u=2*n.padding();return s+l+u}else return 1},ka["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},ka["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};xh({name:"width"});xh({name:"height"});io.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};io.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};io.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var Dx=io,Mx=function(e,r){if(e.isEdge())return r(e)},Px=function(e,r){if(e.isEdge()){var n=e.cy();return ks(r(e),n.zoom(),n.pan())}},Lx=function(e,r){if(e.isEdge()){var n=e.cy(),i=n.pan(),a=n.zoom();return r(e).map(function(o){return ks(o,a,i)})}},Ox=function(e){return e.renderer().getControlPoints(e)},Nx=function(e){return e.renderer().getSegmentPoints(e)},Bx=function(e){return e.renderer().getSourceEndpoint(e)},Rx=function(e){return e.renderer().getTargetEndpoint(e)},zx=function(e){return e.renderer().getEdgeMidpoint(e)},tf={controlPoints:{get:Ox,mult:!0},segmentPoints:{get:Nx,mult:!0},sourceEndpoint:{get:Bx},targetEndpoint:{get:Rx},midpoint:{get:zx}},Fx=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},$x=Object.keys(tf).reduce(function(t,e){var r=tf[e],n=Fx(e);return t[e]=function(){return Mx(this,r.get)},r.mult?t[n]=function(){return Lx(this,r.get)}:t[n]=function(){return Px(this,r.get)},t},{}),Hx=Qe({},_x,Ix,Dx,$x);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Eh=function(e,r){this.recycle(e,r)};function wa(){return!1}function Oo(){return!0}Eh.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=wa,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Oo:wa):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Oo;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Oo;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Oo,this.stopPropagation()},isDefaultPrevented:wa,isPropagationStopped:wa,isImmediatePropagationStopped:wa};var Ch=/^([^.]+)(\.(?:[^.]+))?$/,qx=".*",Sh={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},rf=Object.keys(Sh),Vx={};function Is(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vx,e=arguments.length>1?arguments[1]:void 0,r=0;r<rf.length;r++){var n=rf[r];this[n]=t[n]||Sh[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var $n=Is.prototype,Th=function(e,r,n,i,a,o,s){Pt(i)&&(a=i,i=null),s&&(o==null?o=s:o=Qe({},o,s));for(var l=Tt(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!Bn(c)){var d=c.match(Ch);if(d){var p=d[1],m=d[2]?d[2]:null,h=r(e,c,p,m,i,a,o);if(h===!1)break}}}},nf=function(e,r){return e.addEventFields(e.context,r),new Eh(r.type,r)},Wx=function(e,r,n){if(nw(n)){r(e,n);return}else if(ht(n)){r(e,nf(e,n));return}for(var i=Tt(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var o=i[a];if(!Bn(o)){var s=o.match(Ch);if(s){var l=s[1],u=s[2]?s[2]:null,c=nf(e,{type:l,namespace:u,target:e.context});r(e,c)}}}};$n.on=$n.addListener=function(t,e,r,n,i){return Th(this,function(a,o,s,l,u,c,d){Pt(c)&&a.listeners.push({event:o,callback:c,type:s,namespace:l,qualifier:u,conf:d})},t,e,r,n,i),this};$n.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};$n.removeListener=$n.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=Aw(this.listeners));for(var a=this.listeners,o=function(u){var c=a[u];Th(i,function(d,p,m,h,y,w){if((c.type===m||t==="*")&&(!h&&c.namespace!==".*"||c.namespace===h)&&(!y||d.qualifierCompare(c.qualifier,y))&&(!w||c.callback===w))return a.splice(u,1),!1},t,e,r,n)},s=a.length-1;s>=0;s--)o(s);return this};$n.removeAllListeners=function(){return this.removeListener("*")};$n.emit=$n.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,Tt(e)||(e=[e]),Wx(this,function(a,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],i=n.length);for(var s=function(c){var d=n[c];if(d.type===o.type&&(!d.namespace||d.namespace===o.namespace||d.namespace===qx)&&a.eventMatches(a.context,d,o)){var p=[o];e!=null&&Dw(p,e),a.beforeEmit(a.context,d,o),d.conf&&d.conf.one&&(a.listeners=a.listeners.filter(function(y){return y!==d}));var m=a.callbackContext(a.context,d,o),h=d.callback.apply(m,p);a.afterEmit(a.context,d,o),h===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<i;l++)s(l);a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,e)},t),this.emitting--,this};var Ux={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&ro(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},No=function(e){return je(e)?new zn(e):e},kh={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Is(Ux,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=No(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=No(r),a=0;a<this.length;a++){var o=this[a];o.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=No(r),a=0;a<this.length;a++){var o=this[a];o.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=No(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};bt.eventAliasesOn(kh);var _h={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(je(e)||Cr(e))return new zn(e).filter(this);if(Pt(e)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var o=i[a],s=r?e.apply(r,[o,a,i]):e(o,a,i);s&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){je(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=e.has(i);a||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(je(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,a=e,o=this.length<e.length,s=o?i:a,l=o?a:i,u=0;u<s.length;u++){var c=s[u];l.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;je(e)&&(e=r.$(e));var n=this.spawn(),i=this,a=e,o=function(l,u){for(var c=0;c<l.length;c++){var d=l[c],p=d._private.data.id,m=u.hasElementWithId(p);m||n.push(d)}};return o(i,a),o(a,i),n},diff:function(e){var r=this._private.cy;je(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),a=this.spawn(),o=this,s=e,l=function(c,d,p){for(var m=0;m<c.length;m++){var h=c[m],y=h._private.data.id,w=d.hasElementWithId(y);w?a.merge(h):p.push(h)}};return l(o,s,n),l(s,o,i),{left:n,right:i,both:a}},add:function(e){var r=this._private.cy;if(!e)return this;if(je(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<e.length;a++){var o=e[a],s=!this.has(o);s&&i.push(o)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&je(e)){var i=e;e=n.mutableElements().filter(i)}for(var a=r.map,o=0;o<e.length;o++){var s=e[o],l=s._private.data.id,u=!a.has(l);if(u){var c=this.length++;this[c]=s,a.set(l,{ele:s,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,a=i.map;this[e]=void 0,a.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[e]=l,a.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,a=i.get(n);if(!a)return this;var o=a.index;return this.unmergeAt(o),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&je(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,a=0;a<i.length;a++){var o=i[a],s=r?e.apply(r,[o,a,i]):e(o,a,i);n.push(s)}return n},reduce:function(e,r){for(var n=r,i=this,a=0;a<i.length;a++)n=e(n,i[a],a,i);return n},max:function(e,r){for(var n=-1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],l=r?e.apply(r,[s,o,a]):e(s,o,a);l>n&&(n=l,i=s)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],l=r?e.apply(r,[s,o,a]):e(s,o,a);l<n&&(n=l,i=s)}return{value:n,ele:i}}},gt=_h;gt.u=gt["|"]=gt["+"]=gt.union=gt.or=gt.add;gt["\\"]=gt["!"]=gt["-"]=gt.difference=gt.relativeComplement=gt.subtract=gt.not;gt.n=gt["&"]=gt["."]=gt.and=gt.intersection=gt.intersect;gt["^"]=gt["(+)"]=gt["(-)"]=gt.symmetricDifference=gt.symdiff=gt.xor;gt.fnFilter=gt.filterFn=gt.stdFilter=gt.filter;gt.complement=gt.abscomp=gt.absoluteComplement;var Gx={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Ah=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function a(c){var d=c.pstyle("z-compound-depth");return d.value==="auto"?i?c.zDepth():0:d.value==="bottom"?-1:d.value==="top"?yu:0}var o=a(e)-a(r);if(o!==0)return o;function s(c){var d=c.pstyle("z-index-compare");return d.value==="auto"&&c.isNode()?1:0}var l=s(e)-s(r);if(l!==0)return l;var u=e.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:e.poolIndex()-r.poolIndex()},os={forEach:function(e,r){if(Pt(e))for(var n=this.length,i=0;i<n;i++){var a=this[i],o=r?e.apply(r,[a,i,this]):e(a,i,this);if(o===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var a=e;a>=0&&a<r&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Pt(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(Ah)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:yu-1}else{var a=r.source,o=r.target,s=a.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};os.each=os.forEach;var jx=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Vt(Symbol))!=e&&Vt(Symbol.iterator)!=e;r&&(os[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,o=this.length;return Od({next:function(){return a<o?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};jx();var Kx=Zt({nodeDimensionsIncludeLabels:!1}),Ko={layoutDimensions:function(e){e=Kx(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(A){return!A.isParent()}),a=this.cy(),o=r.eles,s=function(_){return _.id()},l=Ba(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(_,v,P){var k={x:v.x1+v.w/2,y:v.y1+v.h/2},B={x:(P.x-k.x)*_,y:(P.y-k.y)*_};return{x:k.x+B.x,y:k.y+B.y}},c=r.spacingFactor&&r.spacingFactor!==1,d=function(){if(!c)return null;for(var _=br(),v=0;v<i.length;v++){var P=i[v],k=l(P,v);n1(_,k.x,k.y)}return _},p=d(),m=Ba(function(A,_){var v=l(A,_);if(c){var P=Math.abs(r.spacingFactor);v=u(P,p,v)}return r.transform!=null&&(v=r.transform(A,v)),v},s);if(r.animate){for(var h=0;h<i.length;h++){var y=i[h],w=m(y,h),b=r.animateFilter==null||r.animateFilter(y,h);if(b){var E=y.animation({position:w,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(E)}else y.position(w)}if(r.fit){var S=a.animation({fit:{boundingBox:o.boundingBoxAt(m),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(S)}else if(r.zoom!==void 0&&r.pan!==void 0){var x=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(x)}e.animations.forEach(function(A){return A.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),ta.all(e.animations.map(function(A){return A.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(m),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Qe({},e,{eles:this}))}};Ko.createLayout=Ko.makeLayout=Ko.layout;function Ih(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[t])!=null||(a=i[t]=e(r)),a}function Ds(t,e){return t=ci(t),function(n){return Ih(t,e,n)}}function Ms(t,e){t=ci(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return Ih(t,r,i)}}var Xt={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),a=this;e=!!(e||e===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=a;return e?o.emitAndNotify("style"):o.emit("style"),a.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){this.cleanStyle();var a=n._private.style[e];return a??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(ht(e)){var o=e;a.applyBypass(this,o,i),this.emitAndNotify("style")}else if(je(e))if(r===void 0){var s=this[0];return s?a.getStylePropertyValue(s,e):void 0}else a.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),a=this;if(e===void 0)for(var o=0;o<a.length;o++){var s=a[o];i.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!r)return a;var o=i.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function pl(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!e(a))return!1}return!0}function _u(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],o=i.hasCompoundNodes();if(a){var s=a._private;if(!e(a))return!1;if(a.isNode())return!o||pl(a,n);var l=s.source,u=s.target;return r(l)&&(!o||pl(l,r))&&(l===u||r(u)&&(!o||pl(u,r)))}}}var ra=Ds("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Xt.takesUpSpace=Ms("takesUpSpace",_u({ok:ra}));var Yx=Ds("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&ra(t)}),Xx=Ds("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&ra(t)});Xt.interactive=Ms("interactive",_u({ok:Yx,parentOk:Xx,edgeOkViaNode:ra}));Xt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var Qx=Ds("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&ra(t)}),Zx=ra;Xt.visible=Ms("visible",_u({ok:Qx,edgeOkViaNode:Zx}));Xt.hidden=function(){var t=this[0];if(t)return!t.visible()};Xt.isBundledBezier=Ms("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Xt.bypass=Xt.css=Xt.style;Xt.renderedCss=Xt.renderedStyle;Xt.removeBypass=Xt.removeCss=Xt.removeStyle;Xt.pstyle=Xt.parsedStyle;var On={};function af(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&Pt(e[0])){var a=e[0];this.on(t.event,a)}else if(e.length===0||e.length===1&&Tt(e[0])){for(var o=e.length===1?e[0]:null,s=0;s<this.length;s++){var l=this[s],u=!t.ableField||l._private[t.ableField],c=l._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(l);if(d!==void 0&&(u=d,!d))return this}u&&(l._private[t.field]=t.value,c&&r.push(l))}var p=this.spawn(r);p.updateStyle(),p.emit(t.event),o&&p.emit(o)}return this}}function na(t){On[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},On[t.on]=af({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),On[t.off]=af({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}na({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});na({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});na({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});na({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});On.deselect=On.unselect;On.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};na({field:"active",on:"activate",off:"unactivate"});na({field:"pannable",on:"panify",off:"unpanify"});On.inactive=function(){var t=this[0];if(t)return!t._private.active};var nr={},of=function(e){return function(n){for(var i=this,a=[],o=0;o<i.length;o++){var s=i[o];if(s.isNode()){for(var l=!1,u=s.connectedEdges(),c=0;c<u.length;c++){var d=u[c],p=d.source(),m=d.target();if(e.noIncomingEdges&&m===s&&p!==s||e.noOutgoingEdges&&p===s&&m!==s){l=!0;break}}l||a.push(s)}}return this.spawn(a,!0).filter(n)}},sf=function(e){return function(r){for(var n=this,i=[],a=0;a<n.length;a++){var o=n[a];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.source(),d=u.target();e.outgoing&&c===o?(i.push(u),i.push(d)):e.incoming&&d===o&&(i.push(u),i.push(c))}}return this.spawn(i,!0).filter(r)}},lf=function(e){return function(r){for(var n=this,i=[],a={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var u=o[l],c=u.id();a[c]||(a[c]=!0,i.push(u),s=!0)}if(!s)break;n=o}return this.spawn(i,!0).filter(r)}};nr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Qe(nr,{roots:of({noIncomingEdges:!0}),leaves:of({noOutgoingEdges:!0}),outgoers:Pr(sf({outgoing:!0}),"outgoers"),successors:lf({outgoing:!0}),incomers:Pr(sf({incoming:!0}),"incomers"),predecessors:lf({incoming:!0})});Qe(nr,{neighborhood:Pr(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});nr.neighbourhood=nr.neighborhood;nr.closedNeighbourhood=nr.closedNeighborhood;nr.openNeighbourhood=nr.openNeighborhood;Qe(nr,{source:Pr(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Pr(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:uf({attr:"source"}),targets:uf({attr:"target"})});function uf(t){return function(r){for(var n=[],i=0;i<this.length;i++){var a=this[i],o=a._private[t.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}Qe(nr,{edgesWith:Pr(cf(),"edgesWith"),edgesTo:Pr(cf({thisIsSrc:!0}),"edgesTo")});function cf(t){return function(r){var n=[],i=this._private.cy,a=t||{};je(r)&&(r=i.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data,d=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),p=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),m=d||p;m&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!d||a.thisIsTgt&&!p)||n.push(u))}return this.spawn(n,!0)}}Qe(nr,{connectedEdges:Pr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var s=a[o];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Pr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Pr(ff(),"parallelEdges"),codirectedEdges:Pr(ff({codirected:!0}),"codirectedEdges")});function ff(t){var e={codirected:!1};return t=Qe({},e,t),function(n){for(var i=[],a=this.edges(),o=t,s=0;s<a.length;s++)for(var l=a[s],u=l._private,c=u.source,d=c._private.data.id,p=u.data.target,m=c._private.edges,h=0;h<m.length;h++){var y=m[h],w=y._private.data,b=w.target,E=w.source,S=b===p&&E===d,x=d===b&&p===E;(o.codirected&&S||!o.codirected&&(S||x))&&i.push(y)}return this.spawn(i,!0).filter(n)}}Qe(nr,{components:function(e){var r=this,n=r.cy(),i=n.collection(),a=e==null?r.nodes():e.nodes(),o=[];e!=null&&a.empty()&&(a=e.sources());var s=function(c,d){i.merge(c),a.unmerge(c),d.merge(c)};if(a.empty())return r.spawn();var l=function(){var c=n.collection();o.push(c);var d=a[0];s(d,c),r.bfs({directed:!1,roots:d,visit:function(m){return s(m,c)}}),c.forEach(function(p){p.connectedEdges().forEach(function(m){r.has(m)&&c.has(m.source())&&c.has(m.target())&&c.merge(m)})})};do l();while(a.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});nr.componentsOf=nr.components;var Qt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Nt("A collection must have a reference to the core");return}var a=new Jr,o=!1;if(!r)r=[];else if(r.length>0&&ht(r[0])&&!ro(r[0])){o=!0;for(var s=[],l=new ea,u=0,c=r.length;u<c;u++){var d=r[u];d.data==null&&(d.data={});var p=d.data;if(p.id==null)p.id=Kd();else if(e.hasElementWithId(p.id)||l.has(p.id))continue;var m=new Ts(e,d,!1);s.push(m),l.add(p.id)}r=s}this.length=0;for(var h=0,y=r.length;h<y;h++){var w=r[h][0];if(w!=null){var b=w._private.data.id;(!n||!a.has(b))&&(n&&a.set(b,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(E){this.lazyMap=E},rebuildMap:function(){for(var S=this.lazyMap=new Jr,x=this.eles,A=0;A<x.length;A++){var _=x[A];S.set(_.id(),{index:A,ele:_})}}},n&&(this._private.map=a),o&&!i&&this.restore()},It=Ts.prototype=Qt.prototype=Object.create(Array.prototype);It.instanceString=function(){return"collection"};It.spawn=function(t,e){return new Qt(this.cy(),t,e)};It.spawnSelf=function(){return this.spawn(this)};It.cy=function(){return this._private.cy};It.renderer=function(){return this._private.cy.renderer()};It.element=function(){return this[0]};It.collection=function(){return Bd(this)?this:new Qt(this._private.cy,[this])};It.unique=function(){return new Qt(this._private.cy,this,!0)};It.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};It.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Qt(e)};It.$id=It.getElementById;It.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};It.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};It.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};It.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(ht(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var a=!1,o={},s=t.data.source,l=t.data.target;s!=null&&s!=i.source&&(o.source=""+s,a=!0),l!=null&&l!=i.target&&(o.target=""+l,a=!0),a&&(e=e.move(o))}else{var u="parent"in t.data,c=t.data.parent;u&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var d=function(y,w,b){var E=t[y];E!=null&&E!==n[y]&&(E?e[w]():e[b]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var p={data:Zr(n.data),position:Zr(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var m=0;return n.classes.forEach(function(h){return p.classes+=m++===0?h:" "+h}),p}}};It.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};It.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new Ts(t,i,!1);e.push(a)}return new Qt(t,e)};It.copy=It.clone;It.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],o=[],s,l=0,u=r.length;l<u;l++){var c=r[l];e&&!c.removed()||(c.isNode()?a.push(c):o.push(c))}s=a.concat(o);var d,p=function(){s.splice(d,1),d--};for(d=0;d<s.length;d++){var m=s[d],h=m._private,y=h.data;if(m.clearTraversalCache(),!(!e&&!h.removed)){if(y.id===void 0)y.id=Kd();else if(Pe(y.id))y.id=""+y.id;else if(Bn(y.id)||!je(y.id)){Nt("Can not create element with invalid string ID `"+y.id+"`"),p();continue}else if(n.hasElementWithId(y.id)){Nt("Can not create second element with ID `"+y.id+"`"),p();continue}}var w=y.id;if(m.isNode()){var b=h.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(m.isEdge()){for(var E=m,S=["source","target"],x=S.length,A=!1,_=0;_<x;_++){var v=S[_],P=y[v];Pe(P)&&(P=y[v]=""+y[v]),P==null||P===""?(Nt("Can not create edge `"+w+"` with unspecified "+v),A=!0):n.hasElementWithId(P)||(Nt("Can not create edge `"+w+"` with nonexistant "+v+" `"+P+"`"),A=!0)}if(A){p();continue}var k=n.getElementById(y.source),B=n.getElementById(y.target);k.same(B)?k._private.edges.push(E):(k._private.edges.push(E),B._private.edges.push(E)),E._private.source=k,E._private.target=B}h.map=new Jr,h.map.set(w,{ele:m,index:0}),h.removed=!1,e&&n.addToPool(m)}for(var N=0;N<a.length;N++){var M=a[N],z=M._private.data;Pe(z.parent)&&(z.parent=""+z.parent);var R=z.parent,q=R!=null;if(q||M._private.parent){var H=M._private.parent?n.collection().merge(M._private.parent):n.getElementById(R);if(H.empty())z.parent=void 0;else if(H[0].removed())yt("Node added with missing parent, reference to parent removed"),z.parent=void 0,M._private.parent=null;else{for(var U=!1,X=H;!X.empty();){if(M.same(X)){U=!0,z.parent=void 0;break}X=X.parent()}U||(H[0]._private.children.push(M),M._private.parent=H[0],i.hasCompoundNodes=!0)}}}if(s.length>0){for(var re=s.length===r.length?r:new Qt(n,s),j=0;j<re.length;j++){var F=re[j];F.isNode()||(F.parallelEdges().clearTraversalCache(),F.source().clearTraversalCache(),F.target().clearTraversalCache())}var W;i.hasCompoundNodes?W=n.collection().merge(re).merge(re.connectedNodes()).merge(re.parent()):W=re,W.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?re.emitAndNotify("add"):e&&re.emit("add")}return r};It.removed=function(){var t=this[0];return t&&t._private.removed};It.inside=function(){var t=this[0];return t&&!t._private.removed};It.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function o(R){for(var q=R._private.edges,H=0;H<q.length;H++)l(q[H])}function s(R){for(var q=R._private.children,H=0;H<q.length;H++)l(q[H])}function l(R){var q=i[R.id()];e&&R.removed()||q||(i[R.id()]=!0,R.isNode()?(n.push(R),o(R),s(R)):n.unshift(R))}for(var u=0,c=r.length;u<c;u++){var d=r[u];l(d)}function p(R,q){var H=R._private.edges;Rn(H,q),R.clearTraversalCache()}function m(R){R.clearTraversalCache()}var h=[];h.ids={};function y(R,q){q=q[0],R=R[0];var H=R._private.children,U=R.id();Rn(H,q),q._private.parent=null,h.ids[U]||(h.ids[U]=!0,h.push(R))}r.dirtyCompoundBoundsCache(),e&&a.removeFromPool(n);for(var w=0;w<n.length;w++){var b=n[w];if(b.isEdge()){var E=b.source()[0],S=b.target()[0];p(E,b),p(S,b);for(var x=b.parallelEdges(),A=0;A<x.length;A++){var _=x[A];m(_),_.isBundledBezier()&&_.dirtyBoundingBoxCache()}}else{var v=b.parent();v.length!==0&&y(v,b)}e&&(b._private.removed=!0)}var P=a._private.elements;a._private.hasCompoundNodes=!1;for(var k=0;k<P.length;k++){var B=P[k];if(B.isParent()){a._private.hasCompoundNodes=!0;break}}var N=new Qt(this.cy(),n);N.size()>0&&(t?N.emitAndNotify("remove"):e&&N.emit("remove"));for(var M=0;M<h.length;M++){var z=h[M];(!e||!z.removed())&&z.updateStyle()}return N};It.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,a=function(h){return h==null?h:""+h};if(t.source!==void 0||t.target!==void 0){var o=a(t.source),s=a(t.target),l=o!=null&&e.hasElementWithId(o),u=s!=null&&e.hasElementWithId(s);(l||u)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var h=r[m],y=h._private.data;h.isEdge()&&(l&&(y.source=o),u&&(y.target=s))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=a(t.parent),d=c===null||e.hasElementWithId(c);if(d){var p=c===null?void 0:c;e.batch(function(){var m=r.remove(n,i);m.emitAndNotify("moveout");for(var h=0;h<r.length;h++){var y=r[h],w=y._private.data;y.isNode()&&(w.parent=p)}m.restore(n,i)}),r.emitAndNotify("move")}}return this};[lh,cx,jo,Ln,Vi,kx,As,Hx,kh,_h,Gx,os,Ko,Xt,On,nr].forEach(function(t){Qe(It,t)});var Jx={add:function(e){var r,n=this;if(Cr(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var a=[],o=0;o<i.length;o++){var s=i[o];a.push(s.json())}r=new Qt(n,a)}}else if(Tt(e)){var l=e;r=new Qt(n,l)}else if(ht(e)&&(Tt(e.nodes)||Tt(e.edges))){for(var u=e,c=[],d=["nodes","edges"],p=0,m=d.length;p<m;p++){var h=d[p],y=u[h];if(Tt(y))for(var w=0,b=y.length;w<b;w++){var E=Qe({group:h},y[w]);c.push(E)}}r=new Qt(n,c)}else{var S=e;r=new Ts(n,S).collection()}return r},remove:function(e){if(!Cr(e)){if(je(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function eE(t,e,r,n){var i=4,a=.001,o=1e-7,s=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var p=c?new Float32Array(l):new Array(l);function m(B,N){return 1-3*N+3*B}function h(B,N){return 3*N-6*B}function y(B){return 3*B}function w(B,N,M){return((m(N,M)*B+h(N,M))*B+y(N))*B}function b(B,N,M){return 3*m(N,M)*B*B+2*h(N,M)*B+y(N)}function E(B,N){for(var M=0;M<i;++M){var z=b(N,t,r);if(z===0)return N;var R=w(N,t,r)-B;N-=R/z}return N}function S(){for(var B=0;B<l;++B)p[B]=w(B*u,t,r)}function x(B,N,M){var z,R,q=0;do R=N+(M-N)/2,z=w(R,t,r)-B,z>0?M=R:N=R;while(Math.abs(z)>o&&++q<s);return R}function A(B){for(var N=0,M=1,z=l-1;M!==z&&p[M]<=B;++M)N+=u;--M;var R=(B-p[M])/(p[M+1]-p[M]),q=N+R*u,H=b(q,t,r);return H>=a?E(B,q):H===0?q:x(B,N,N+u)}var _=!1;function v(){_=!0,(t!==e||r!==n)&&S()}var P=function(N){return _||v(),t===e&&r===n?N:N===0?0:N===1?1:w(A(N),e,n)};P.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var k="generateBezier("+[t,e,r,n]+")";return P.toString=function(){return k},P}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var tE=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,a){var o={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:o.v,dv:t(o)}}function r(n,i){var a={dx:n.v,dv:t(n)},o=e(n,i*.5,a),s=e(n,i*.5,o),l=e(n,i,s),u=1/6*(a.dx+2*(o.dx+s.dx)+l.dx),c=1/6*(a.dv+2*(o.dv+s.dv)+l.dv);return n.x=n.x+u*i,n.v=n.v+c*i,n}return function n(i,a,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,d=16/1e3,p,m,h;for(i=parseFloat(i)||500,a=parseFloat(a)||20,o=o||null,s.tension=i,s.friction=a,p=o!==null,p?(u=n(i,a),m=u/o*d):m=d;h=r(h||s,m),l.push(1+h.x),u+=16,Math.abs(h.x)>c&&Math.abs(h.v)>c;);return p?function(y){return l[y*(l.length-1)|0]}:u}}(),_t=function(e,r,n,i){var a=eE(e,r,n,i);return function(o,s,l){return o+(s-o)*a(l)}},Yo={linear:function(e,r,n){return e+(r-e)*n},ease:_t(.25,.1,.25,1),"ease-in":_t(.42,0,1,1),"ease-out":_t(0,0,.58,1),"ease-in-out":_t(.42,0,.58,1),"ease-in-sine":_t(.47,0,.745,.715),"ease-out-sine":_t(.39,.575,.565,1),"ease-in-out-sine":_t(.445,.05,.55,.95),"ease-in-quad":_t(.55,.085,.68,.53),"ease-out-quad":_t(.25,.46,.45,.94),"ease-in-out-quad":_t(.455,.03,.515,.955),"ease-in-cubic":_t(.55,.055,.675,.19),"ease-out-cubic":_t(.215,.61,.355,1),"ease-in-out-cubic":_t(.645,.045,.355,1),"ease-in-quart":_t(.895,.03,.685,.22),"ease-out-quart":_t(.165,.84,.44,1),"ease-in-out-quart":_t(.77,0,.175,1),"ease-in-quint":_t(.755,.05,.855,.06),"ease-out-quint":_t(.23,1,.32,1),"ease-in-out-quint":_t(.86,0,.07,1),"ease-in-expo":_t(.95,.05,.795,.035),"ease-out-expo":_t(.19,1,.22,1),"ease-in-out-expo":_t(1,0,0,1),"ease-in-circ":_t(.6,.04,.98,.335),"ease-out-circ":_t(.075,.82,.165,1),"ease-in-out-circ":_t(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Yo.linear;var i=tE(e,r,n);return function(a,o,s){return a+(o-a)*i(s)}},"cubic-bezier":_t};function df(t,e,r,n,i){if(n===1||e===r)return r;var a=i(e,r,n);return t==null||((t.roundValue||t.color)&&(a=Math.round(a)),t.min!==void 0&&(a=Math.max(a,t.min)),t.max!==void 0&&(a=Math.min(a,t.max))),a}function hf(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function ki(t,e,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var o=hf(t,i),s=hf(e,i);if(Pe(o)&&Pe(s))return df(a,o,s,r,n);if(Tt(o)&&Tt(s)){for(var l=[],u=0;u<s.length;u++){var c=o[u],d=s[u];if(c!=null&&d!=null){var p=df(a,c,d,r,n);l.push(p)}else l.push(d)}return l}}function rE(t,e,r,n){var i=!n,a=t._private,o=e._private,s=o.easing,l=o.startTime,u=n?t:t.cy(),c=u.style();if(!o.easingImpl)if(s==null)o.easingImpl=Yo.linear;else{var d;if(je(s)){var p=c.parse("transition-timing-function",s);d=p.value}else d=s;var m,h;je(d)?(m=d,h=[]):(m=d[1],h=d.slice(2).map(function(re){return+re})),h.length>0?(m==="spring"&&h.push(o.duration),o.easingImpl=Yo[m].apply(null,h)):o.easingImpl=Yo[m]}var y=o.easingImpl,w;if(o.duration===0?w=1:w=(r-l)/o.duration,o.applying&&(w=o.progress),w<0?w=0:w>1&&(w=1),o.delay==null){var b=o.startPosition,E=o.position;if(E&&i&&!t.locked()){var S={};xa(b.x,E.x)&&(S.x=ki(b.x,E.x,w,y)),xa(b.y,E.y)&&(S.y=ki(b.y,E.y,w,y)),t.position(S)}var x=o.startPan,A=o.pan,_=a.pan,v=A!=null&&n;v&&(xa(x.x,A.x)&&(_.x=ki(x.x,A.x,w,y)),xa(x.y,A.y)&&(_.y=ki(x.y,A.y,w,y)),t.emit("pan"));var P=o.startZoom,k=o.zoom,B=k!=null&&n;B&&(xa(P,k)&&(a.zoom=$a(a.minZoom,ki(P,k,w,y),a.maxZoom)),t.emit("zoom")),(v||B)&&t.emit("viewport");var N=o.style;if(N&&N.length>0&&i){for(var M=0;M<N.length;M++){var z=N[M],R=z.name,q=z,H=o.startStyle[R],U=c.properties[H.name],X=ki(H,q,w,y,U);c.overrideBypass(t,R,X)}t.emit("style")}}return o.progress=w,w}function xa(t,e){return t==null||e==null?!1:Pe(t)&&Pe(e)?!0:!!(t&&e)}function nE(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function vf(t,e){var r=e._private.aniEles,n=[];function i(c,d){var p=c._private,m=p.animation.current,h=p.animation.queue,y=!1;if(m.length===0){var w=h.shift();w&&m.push(w)}for(var b=function(_){for(var v=_.length-1;v>=0;v--){var P=_[v];P()}_.splice(0,_.length)},E=m.length-1;E>=0;E--){var S=m[E],x=S._private;if(x.stopped){m.splice(E,1),x.hooked=!1,x.playing=!1,x.started=!1,b(x.frames);continue}!x.playing&&!x.applying||(x.playing&&x.applying&&(x.applying=!1),x.started||nE(c,S,t),rE(c,S,t,d),x.applying&&(x.applying=!1),b(x.frames),x.step!=null&&x.step(t),S.completed()&&(m.splice(E,1),x.hooked=!1,x.playing=!1,x.started=!1,b(x.completes)),y=!0)}return!d&&m.length===0&&h.length===0&&n.push(c),y}for(var a=!1,o=0;o<r.length;o++){var s=r[o],l=i(s);a=a||l}var u=i(e,!0);(a||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var iE={animate:bt.animate(),animation:bt.animation(),animated:bt.animated(),clearQueue:bt.clearQueue(),delay:bt.delay(),delayAnimation:bt.delayAnimation(),stop:bt.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&ns(function(a){vf(a,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(a,o){vf(o,e)},n.beforeRenderPriorities.animations):r()}},aE={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&ro(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Bo=function(e){return je(e)?new zn(e):e},Dh={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Is(aE,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Bo(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Bo(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Bo(r),n),this},once:function(e,r,n){return this.emitter().one(e,Bo(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};bt.eventAliasesOn(Dh);var Ul={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Ul.jpeg=Ul.jpg;var Xo={layout:function(e){var r=this;if(e==null){Nt("Layout options must be specified to make a layout");return}if(e.name==null){Nt("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){Nt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;je(e.eles)?a=r.$(e.eles):a=e.eles!=null?e.eles:r.$();var o=new i(Qe({},e,{cy:r,eles:a}));return o}};Xo.createLayout=Xo.makeLayout=Xo.layout;var oE={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],o=e[a],s=r.getElementById(a);s.data(o)}})}},sE=Zt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Gl={renderTo:function(e,r,n,i){var a=this._private.renderer;return a.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){Nt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&yt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=sE(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Gl.invalidateDimensions=Gl.resize;var Qo={collection:function(e,r){return je(e)?this.$(e):Cr(e)?e.collection():Tt(e)?(r||(r={}),new Qt(this,e,r.unique,r.removed)):new Qt(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Qo.elements=Qo.filter=Qo.$;var ar={},Ia="t",lE="f";ar.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),a=0;a<t.length;a++){var o=t[a],s=e.getContextMeta(o);if(!s.empty){var l=e.getContextStyle(s),u=e.applyContextStyle(s,l,o);o._private.appliedInitStyle?e.updateTransitions(o,u.diffProps):o._private.appliedInitStyle=!0;var c=e.updateStyleHints(o);c&&i.push(o)}}return i};ar.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,a=n[i];if(a)return a;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],c=t[l]===Ia,d=e[l]===Ia,p=c!==d,m=u.mappedProperties.length>0;if(p||d&&m){var h=void 0;p&&m||p?h=u.properties:m&&(h=u.mappedProperties);for(var y=0;y<h.length;y++){for(var w=h[y],b=w.name,E=!1,S=l+1;S<r.length;S++){var x=r[S],A=e[S]===Ia;if(A&&(E=x.properties[w.name]!=null,E))break}!s[b]&&!E&&(s[b]=!0,o.push(b))}}}return n[i]=o,o};ar.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",a=0;a<e.length;a++){var o=e[a],s=o.selector&&o.selector.matches(t);s?r+=Ia:r+=lE}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};ar.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},a=0;a<r.length;a++){var o=r[a],s=e[a]===Ia;if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l];i[u.name]=u}}return n[e]=i,i};ar.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,a={},o=n.types,s=0;s<i.length;s++){var l=i[s],u=e[l],c=r.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===o.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var d=c.mapping,p=d.fnValue=u.value(r);if(p===d.prevFnValue)continue}var m=a[l]={prev:c};n.applyParsedProperty(r,u),m.next=r.pstyle(l),m.next&&m.next.bypass&&(m.next=m.next.bypassed)}}return{diffProps:a}};ar.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(ce,Se,Ne){return r.getPropertiesHash(ce,Se,Ne)},o=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];e.styleKeys[c]=[Pi,Sa]}for(var d=function(ce,Se){return e.styleKeys[Se][0]=Ra(ce,e.styleKeys[Se][0])},p=function(ce,Se){return e.styleKeys[Se][1]=za(ce,e.styleKeys[Se][1])},m=function(ce,Se){d(ce,Se),p(ce,Se)},h=function(ce,Se){for(var Ne=0;Ne<ce.length;Ne++){var qe=ce.charCodeAt(Ne);d(qe,Se),p(qe,Se)}},y=2e9,w=function(ce){return-128<ce&&ce<128&&Math.floor(ce)!==ce?y-(ce*1024|0):ce},b=0;b<n.length;b++){var E=n[b],S=l[E];if(S!=null){var x=this.properties[E],A=x.type,_=x.groupKey,v=void 0;x.hashOverride!=null?v=x.hashOverride(t,S):S.pfValue!=null&&(v=S.pfValue);var P=x.enums==null?S.value:null,k=v!=null,B=P!=null,N=k||B,M=S.units;if(A.number&&N&&!A.multiple){var z=k?v:P;m(w(z),_),!k&&M!=null&&h(M,_)}else h(S.strValue,_)}}for(var R=[Pi,Sa],q=0;q<i.length;q++){var H=i[q],U=e.styleKeys[H];R[0]=Ra(U[0],R[0]),R[1]=za(U[1],R[1])}e.styleKey=Ew(R[0],R[1]);var X=e.styleKeys;e.labelDimsKey=An(X.labelDimensions);var re=a(t,["label"],X.labelDimensions);if(e.labelKey=An(re),e.labelStyleKey=An(_o(X.commonLabel,re)),!s){var j=a(t,["source-label"],X.labelDimensions);e.sourceLabelKey=An(j),e.sourceLabelStyleKey=An(_o(X.commonLabel,j));var F=a(t,["target-label"],X.labelDimensions);e.targetLabelKey=An(F),e.targetLabelStyleKey=An(_o(X.commonLabel,F))}if(s){var W=e.styleKeys,$=W.nodeBody,Y=W.nodeBorder,Z=W.backgroundImage,ee=W.compound,G=W.pie,ie=[$,Y,Z,ee,G].filter(function(pe){return pe!=null}).reduce(_o,[Pi,Sa]);e.nodeKey=An(ie),e.hasPie=G!=null&&G[0]!==Pi&&G[1]!==Sa}return o!==e.styleKey};ar.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};ar.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,a,o=r.types,s=r.properties[n.name].type,l=n.bypass,u=i[n.name],c=u&&u.bypass,d=t._private,p="mapping",m=function($){return $==null?null:$.pfValue!=null?$.pfValue:$.value},h=function(){var $=m(u),Y=m(n);r.checkTriggers(t,n.name,$,Y)};if(n&&n.name.substr(0,3)==="pie"&&yt("The pie style properties are deprecated.  Create charts using background images instead."),e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return i[n.name]=void 0,h(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,h(),!0):!1:(h(),!0);if(n.deleteBypass)return u?u.bypass?(i[n.name]=u.bypassed,h(),!0):!1:(h(),!0);var y=function(){yt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var w=n.field.split("."),b=d.data,E=0;E<w.length&&b;E++){var S=w[E];b=b[S]}if(b==null)return y(),!1;var x;if(Pe(b)){var A=n.fieldMax-n.fieldMin;A===0?x=0:x=(b-n.fieldMin)/A}else return yt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+b+"` for `"+t.id()+"` is non-numeric)"),!1;if(x<0?x=0:x>1&&(x=1),s.color){var _=n.valueMin[0],v=n.valueMax[0],P=n.valueMin[1],k=n.valueMax[1],B=n.valueMin[2],N=n.valueMax[2],M=n.valueMin[3]==null?1:n.valueMin[3],z=n.valueMax[3]==null?1:n.valueMax[3],R=[Math.round(_+(v-_)*x),Math.round(P+(k-P)*x),Math.round(B+(N-B)*x),Math.round(M+(z-M)*x)];a={bypass:n.bypass,name:n.name,value:R,strValue:"rgb("+R[0]+", "+R[1]+", "+R[2]+")"}}else if(s.number){var q=n.valueMin+(n.valueMax-n.valueMin)*x;a=this.parse(n.name,q,n.bypass,p)}else return!1;if(!a)return y(),!1;a.mapping=n,n=a;break}case o.data:{for(var H=n.field.split("."),U=d.data,X=0;X<H.length&&U;X++){var re=H[X];U=U[re]}if(U!=null&&(a=this.parse(n.name,U,n.bypass,p)),!a)return y(),!1;a.mapping=n,n=a;break}case o.fn:{var j=n.value,F=n.fnValue!=null?n.fnValue:j(t);if(n.prevFnValue=F,F==null)return yt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(a=this.parse(n.name,F,n.bypass,p),!a)return yt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;a.mapping=Zr(n),n=a;break}case void 0:break;default:return!1}return l?(c?n.bypassed=u.bypassed:n.bypassed=u,i[n.name]=n):c?u.bypassed=n:i[n.name]=n,h(),!0};ar.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],l=i[s];l!=null&&(l.bypass?l.bypassed=null:i[s]=null)}}};ar.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};ar.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,a=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var s={},l=!1,u=0;u<i.length;u++){var c=i[u],d=t.pstyle(c),p=e[c];if(p){var m=p.prev,h=m,y=p.next!=null?p.next:d,w=!1,b=void 0,E=1e-6;h&&(Pe(h.pfValue)&&Pe(y.pfValue)?(w=y.pfValue-h.pfValue,b=h.pfValue+E*w):Pe(h.value)&&Pe(y.value)?(w=y.value-h.value,b=h.value+E*w):Tt(h.value)&&Tt(y.value)&&(w=h.value[0]!==y.value[0]||h.value[1]!==y.value[1]||h.value[2]!==y.value[2],b=h.strValue),w&&(s[c]=y.strValue,this.applyBypass(t,c,b),l=!0))}}if(!l)return;n.transitioning=!0,new ta(function(S){o>0?t.delayAnimation(o).play().promise().then(S):S()}).then(function(){return t.animation({style:s,duration:a,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};ar.checkTrigger=function(t,e,r,n,i,a){var o=this.properties[e],s=i(o);s!=null&&s(r,n)&&a(o)};ar.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};ar.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&(e==="curve-style"&&(r==="bezier"||n==="bezier")||e==="display"&&(r==="none"||n==="none"))&&t.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()})})};ar.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var ao={};ao.applyBypass=function(t,e,r,n){var i=this,a=[],o=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var s=0;s<i.properties.length;s++){var l=i.properties[s],u=l.name,c=this.parse(u,r,!0);c&&a.push(c)}}else if(je(e)){var d=this.parse(e,r,!0);d&&a.push(d)}else if(ht(e)){var p=e;n=r;for(var m=Object.keys(p),h=0;h<m.length;h++){var y=m[h],w=p[y];if(w===void 0&&(w=p[Ss(y)]),w!==void 0){var b=this.parse(y,w,!0);b&&a.push(b)}}}else return!1;if(a.length===0)return!1;for(var E=!1,S=0;S<t.length;S++){for(var x=t[S],A={},_=void 0,v=0;v<a.length;v++){var P=a[v];if(n){var k=x.pstyle(P.name);_=A[P.name]={prev:k}}E=this.applyParsedProperty(x,Zr(P))||E,n&&(_.next=x.pstyle(P.name))}E&&this.updateStyleHints(x),n&&this.updateTransitions(x,A,o)}return E};ao.overrideBypass=function(t,e,r){e=mu(e);for(var n=0;n<t.length;n++){var i=t[n],a=i._private.style[e],o=this.properties[e].type,s=o.color,l=o.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,e,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),s?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,u,r)}};ao.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};ao.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var a=t[i],o={},s=0;s<e.length;s++){var l=e[s],u=this.properties[l],c=a.pstyle(u.name);if(!(!c||!c.bypass)){var d="",p=this.parse(l,d,!0),m=o[u.name]={prev:c};this.applyParsedProperty(a,p),m.next=a.pstyle(u.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,o,n)}};var Au={};Au.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Au.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var rn={};rn.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};rn.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],o=r.getStylePropertyValue(t,a.name,e);o!=null&&(n[a.name]=o,n[Ss(a.name)]=o)}return n}};rn.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};rn.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var a=i.type,o=t.pstyle(i.name);if(o){var s=o.value,l=o.units,u=o.strValue;if(r&&a.number&&s!=null&&Pe(s)){var c=t.cy().zoom(),d=function(w){return w*c},p=function(w,b){return d(w)+b},m=Tt(s),h=m?l.every(function(y){return y!=null}):l!=null;return h?m?s.map(function(y,w){return p(y,l[w])}).join(" "):p(s,l):m?s.map(function(y){return je(y)?y:""+d(y)}).join(" "):""+d(s)}else if(u!=null)return u}return null}};rn.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=i.name,o=t.pstyle(a);o!==void 0&&(ht(o)?o=this.parse(a,o.strValue):o=this.parse(a,o)),o&&(r[a]=o)}return r};rn.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var a=Object.keys(n),o=0;o<a.length;o++){var s=a[o],l=n[s],u=i[s]||i[mu(s)],c=this.parse(u.name,l);c&&r.push(c)}return r};rn.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,a,o,s,l,u;for(l=0;l<e.length;l++)if(i=e[l],a=t.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=Ra(s,n[0]),n[1]=za(s,n[1]);else for(o=a.strValue,u=0;u<o.length;u++)s=o.charCodeAt(u),n[0]=Ra(s,n[0]),n[1]=za(s,n[1]);return n};rn.getPropertiesHash=rn.getNonDefaultPropertiesHash;var Ps={};Ps.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,a=n.style||n.css,o=Object.keys(a);e.selector(i);for(var s=0;s<o.length;s++){var l=o[s],u=a[l];e.css(l,u)}}return e};Ps.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Ps.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}t.push({selector:n?n.toString():"core",style:a})}return t};var Iu={};Iu.appendFromString=function(t){var e=this,r=this,n=""+t,i,a,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>i.length?n=n.substr(i.length):n=""}function l(){a.length>o.length?a=a.substr(o.length):a=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){yt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=c[0];var d=c[1];if(d!=="core"){var p=new zn(d);if(p.invalid){yt("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),s();continue}}var m=c[2],h=!1;a=m;for(var y=[];;){var w=a.match(/^\s*$/);if(w)break;var b=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){yt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+m),h=!0;break}o=b[0];var E=b[1],S=b[2],x=e.properties[E];if(!x){yt("Skipping property: Invalid property name in: "+o),l();continue}var A=r.parse(E,S);if(!A){yt("Skipping property: Invalid property definition in: "+o),l();continue}y.push({name:E,val:S}),l()}if(h){s();break}r.selector(d);for(var _=0;_<y.length;_++){var v=y[_];r.css(v.name,v.val)}s()}return r};Iu.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Kt={};(function(){var t=qt,e=uw,r=fw,n=dw,i=hw,a=function(ie){return"^"+ie+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(ie){var pe=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+ie+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+pe+")\\s*\\,\\s*("+pe+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Kt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ie,pe){switch(ie.length){case 2:return pe[0]!=="deg"&&pe[0]!=="rad"&&pe[1]!=="deg"&&pe[1]!=="rad";case 1:return je(ie[0])||pe[0]==="deg"||pe[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ie){var pe=ie.length;return pe===1||pe===2||pe===4}}};var l={zeroNonZero:function(ie,pe){return(ie==null||pe==null)&&ie!==pe||ie==0&&pe!=0?!0:ie!=0&&pe==0},any:function(ie,pe){return ie!=pe},emptyNonEmpty:function(ie,pe){var ce=Bn(ie),Se=Bn(pe);return ce&&!Se||!ce&&Se}},u=Kt.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],d=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],p=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],m=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],h=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification}],y=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any}],w=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],b=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any}],E=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any}],S=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],x=function(ie,pe){return pe.value==="label"?-ie.poolIndex():pe.pfValue},A=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],_=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle}],v=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],P=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],k=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],B=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],N=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],M=[];Kt.pieBackgroundN=16,M.push({name:"pie-size",type:u.sizeMaybePercent});for(var z=1;z<=Kt.pieBackgroundN;z++)M.push({name:"pie-"+z+"-background-color",type:u.color}),M.push({name:"pie-"+z+"-background-size",type:u.percent}),M.push({name:"pie-"+z+"-background-opacity",type:u.zeroOneNumber});var R=[],q=Kt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill}].forEach(function(G){q.forEach(function(ie){var pe=ie+"-"+G.name,ce=G.type,Se=G.triggersBounds;R.push({name:pe,type:ce,triggersBounds:Se})})},{});var H=Kt.properties=[].concat(y,S,w,b,E,B,h,m,c,d,p,A,_,v,M,P,k,R,N),U=Kt.propertyGroups={behavior:y,transition:S,visibility:w,overlay:b,underlay:E,ghost:B,commonLabel:h,labelDimensions:m,mainLabel:c,sourceLabel:d,targetLabel:p,nodeBody:A,nodeBorder:_,backgroundImage:v,pie:M,compound:P,edgeLine:k,edgeArrow:R,core:N},X=Kt.propertyGroupNames={},re=Kt.propertyGroupKeys=Object.keys(U);re.forEach(function(G){X[G]=U[G].map(function(ie){return ie.name}),U[G].forEach(function(ie){return ie.groupKey=G})});var j=Kt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Kt.propertyNames=H.map(function(G){return G.name});for(var F=0;F<H.length;F++){var W=H[F];H[W.name]=W}for(var $=0;$<j.length;$++){var Y=j[$],Z=H[Y.pointsTo],ee={name:Y.name,alias:!0,pointsTo:Z};H.push(ee),H[Y.name]=ee}})();Kt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Kt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Qe({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Kt.pieBackgroundN;c++){var d=u.name.replace("{{i}}",c),p=u.value;l[d]=p}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(l,u){return Kt.arrowPrefixes.forEach(function(c){var d=c+"-"+u.name,p=u.value;l[d]=p}),l},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,o=e[a],s=this.parse(a,o);r[a]=s}}return t.defaultProperties=r,t.defaultProperties};Kt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ls={};Ls.parse=function(t,e,r,n){var i=this;if(Pt(e))return i.parseImplWarn(t,e,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",s=""+e,l=Ud(t,s,o,a),u=i.propCache=i.propCache||[],c;return(c=u[l])||(c=u[l]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=Zr(c),c&&(c.value=Zr(c.value))),c};Ls.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&yt("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&yt("The style value of `label` is deprecated for `"+i.name+"`"),i};Ls.parseImpl=function(t,e,r,n){var i=this;t=mu(t);var a=i.properties[t],o=e,s=i.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,t=a.name);var l=je(e);l&&(e=e.trim());var u=a.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Pt(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:r};var c,d;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(s.data.regex).exec(e))){if(r)return!1;var p=s.data;return{name:t,value:c,strValue:""+e,mapped:p,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(d=new RegExp(s.mapData.regex).exec(e))){if(r||u.multiple)return!1;var m=s.mapData;if(!(u.color||u.number))return!1;var h=this.parse(t,d[4]);if(!h||h.mapped)return!1;var y=this.parse(t,d[5]);if(!y||y.mapped)return!1;if(h.pfValue===y.pfValue||h.strValue===y.strValue)return yt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+h.strValue+"`"),this.parse(t,h.strValue);if(u.color){var w=h.value,b=y.value,E=w[0]===b[0]&&w[1]===b[1]&&w[2]===b[2]&&(w[3]===b[3]||(w[3]==null||w[3]===1)&&(b[3]==null||b[3]===1));if(E)return!1}return{name:t,value:d,strValue:""+e,mapped:m,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:h.value,valueMax:y.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var S;if(l?S=e.split(/\s+/):Tt(e)?S=e:S=[e],u.evenMultiple&&S.length%2!==0)return null;for(var x=[],A=[],_=[],v="",P=!1,k=0;k<S.length;k++){var B=i.parse(t,S[k],r,"multiple");P=P||je(B.value),x.push(B.value),_.push(B.pfValue!=null?B.pfValue:B.value),A.push(B.units),v+=(k>0?" ":"")+B.strValue}return u.validate&&!u.validate(x,A)?null:u.singleEnum&&P?x.length===1&&je(x[0])?{name:t,value:x[0],strValue:x[0],bypass:r}:null:{name:t,value:x,pfValue:_,strValue:v,bypass:r,units:A}}var N=function(){for(var pe=0;pe<u.enums.length;pe++){var ce=u.enums[pe];if(ce===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(u.number){var M,z="px";if(u.units&&(M=u.units),u.implicitUnits&&(z=u.implicitUnits),!u.unitless)if(l){var R="px|em"+(u.allowPercent?"|\\%":"");M&&(R=M);var q=e.match("^("+qt+")("+R+")?$");q&&(e=q[1],M=q[2]||z)}else(!M||u.implicitUnits)&&(M=z);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=o,N();if(u.integer&&!rw(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var H={name:t,value:e,strValue:""+e+(M||""),units:M,bypass:r};return u.unitless||M!=="px"&&M!=="em"?H.pfValue=e:H.pfValue=M==="px"||!M?e:this.getEmSizeInPixels()*e,(M==="ms"||M==="s")&&(H.pfValue=M==="ms"?e:1e3*e),(M==="deg"||M==="rad")&&(H.pfValue=M==="rad"?e:Qw(e)),M==="%"&&(H.pfValue=e/100),H}else if(u.propList){var U=[],X=""+e;if(X!=="none"){for(var re=X.split(/\s*,\s*|\s+/),j=0;j<re.length;j++){var F=re[j].trim();i.properties[F]?U.push(F):yt("`"+F+"` is not a valid property name")}if(U.length===0)return null}return{name:t,value:U,strValue:U.length===0?"none":U.join(" "),bypass:r}}else if(u.color){var W=bw(e);return W?{name:t,value:W,pfValue:W,strValue:"rgb("+W[0]+","+W[1]+","+W[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var $=N();if($)return $}for(var Y=u.regexes?u.regexes:[u.regex],Z=0;Z<Y.length;Z++){var ee=new RegExp(Y[Z]),G=ee.exec(e);if(G)return{name:t,value:u.singleRegexMatchValue?G[1]:G,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?N():null};var rr=function t(e){if(!(this instanceof t))return new t(e);if(!gu(e)){Nt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},ir=rr.prototype;ir.instanceString=function(){return"style"};ir.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};ir.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};ir.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};ir.selector=function(t){var e=t==="core"?null:new zn(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};ir.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],a=r[i.name];a===void 0&&(a=r[Ss(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};ir.style=ir.css;ir.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};ir.append=function(t){return Rd(t)?t.appendToStyle(this):Tt(t)?this.appendFromJson(t):je(t)&&this.appendFromString(t),this};rr.fromJson=function(t,e){var r=new rr(t);return r.fromJson(e),r};rr.fromString=function(t,e){return new rr(t).fromString(e)};[ar,ao,Au,rn,Ps,Iu,Kt,Ls].forEach(function(t){Qe(ir,t)});rr.types=ir.types;rr.properties=ir.properties;rr.propertyGroups=ir.propertyGroups;rr.propertyGroupNames=ir.propertyGroupNames;rr.propertyGroupKeys=ir.propertyGroupKeys;var uE={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return Rd(e)?r.style=e.generateStyle(this):Tt(e)?r.style=rr.fromJson(this,e):je(e)?r.style=rr.fromString(this,e):r.style=rr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},cE="single",hi={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=cE),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,a,o,s;switch(e.length){case 0:return r;case 1:if(je(e[0]))return n=e[0],r[n];if(ht(e[0])){if(!this._private.panningEnabled)return this;a=e[0],o=a.x,s=a.y,Pe(o)&&(r.x=o),Pe(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&Pe(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,a,o,s,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:ht(e)&&(s=n[0],l=s.x,u=s.y,Pe(l)&&(i.x+=l),Pe(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=e,o=r,(a==="x"||a==="y")&&Pe(o)&&(i[a]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Pe(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(je(e)){var i=e;e=this.$(i)}else if(aw(e)){var a=e;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Cr(e)||(e=this.mutableElements());if(!(Cr(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),s=this.height(),l;if(r=Pe(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((o-2*r)/n.w,(s-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(o-l*(n.x1+n.x2))/2,y:(s-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return Pe(e)&&Pe(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Pe(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Pe(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,a,o,s=!1;if(r.zoomingEnabled||(s=!0),Pe(e)?o=e:ht(e)&&(o=e.level,e.position!=null?a=ks(e.position,i,n):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!Pe(o)||o===i||a!=null&&(!Pe(a.x)||!Pe(a.y)))return null;if(a!=null){var l=n,u=i,c=o,d={x:-c/u*(a.x-l.x)+a.x,y:-c/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:d}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,a=[],o=!1,s=!1;if(!e)return this;if(Pe(e.zoom)||(n=!1),ht(e.pan)||(i=!1),!n&&!i)return this;if(n){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=l,a.push("zoom"))}if(i&&(!o||!e.cancelOnFailedZoom)&&r.panningEnabled){var u=e.pan;Pe(u.x)&&(r.pan.x=u.x,s=!1),Pe(u.y)&&(r.pan.y=u.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(je(e)){var n=e;e=this.mutableElements().filter(n)}else Cr(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),a=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(a-r*(i.x1+i.x2))/2,y:(o-r*(i.y1+i.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var i=n.window().getComputedStyle(r),a=function(s){return parseFloat(i.getPropertyValue(s))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};hi.centre=hi.center;hi.autolockNodes=hi.autolock;hi.autoungrabifyNodes=hi.autoungrabify;var Wa={data:bt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:bt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:bt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:bt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Wa.attr=Wa.data;Wa.removeAttr=Wa.removeData;var Ua=function(e){var r=this;e=Qe({},e);var n=e.container;n&&!rs(n)&&rs(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var o=Ht!==void 0&&n!==void 0&&!e.headless,s=e;s.layout=Qe({name:o?"grid":"null"},s.layout),s.renderer=Qe({name:o?"canvas":"null"},s.renderer);var l=function(h,y,w){return y!==void 0?y:w!==void 0?w:h},u=this._private={container:n,ready:!1,options:s,elements:new Qt(this),listeners:[],aniEles:new Qt(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:Pe(s.zoom)?s.zoom:1,pan:{x:ht(s.pan)&&Pe(s.pan.x)?s.pan.x:0,y:ht(s.pan)&&Pe(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var c=function(h,y){var w=h.some(ow);if(w)return ta.all(h).then(y);y(h)};u.styleEnabled&&r.setStyle([]);var d=Qe({},s,s.renderer);r.initRenderer(d);var p=function(h,y,w){r.notifications(!1);var b=r.mutableElements();b.length>0&&b.remove(),h!=null&&(ht(h)||Tt(h))&&r.add(h),r.one("layoutready",function(S){r.notifications(!0),r.emit(S),r.one("load",y),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",w),r.emit("done")});var E=Qe({},r._private.options.layout);E.eles=r.elements(),r.layout(E).run()};c([s.style,s.elements],function(m){var h=m[0],y=m[1];u.styleEnabled&&r.style().append(h),p(y,function(){r.startAnimationLoop(),u.ready=!0,Pt(s.ready)&&r.on("ready",s.ready);for(var w=0;w<a.length;w++){var b=a[w];r.on("ready",b)}i&&(i.readies=[]),r.emit("ready")},s.done)})},ss=Ua.prototype;Qe(ss,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Ht;var r=this._private.container.ownerDocument;return r===void 0||r==null?Ht:r.defaultView||Ht},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!rs(e)&&rs(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Qe({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Zr(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),a=function(x){return r.getElementById(x.id())};if(ht(e)){if(r.startBatch(),e.elements){var o={},s=function(x,A){for(var _=[],v=[],P=0;P<x.length;P++){var k=x[P];if(!k.data.id){yt("cy.json() cannot handle elements without an ID attribute");continue}var B=""+k.data.id,N=r.getElementById(B);o[B]=!0,N.length!==0?v.push({ele:N,json:k}):(A&&(k.group=A),_.push(k))}r.add(_);for(var M=0;M<v.length;M++){var z=v[M],R=z.ele,q=z.json;R.json(q)}};if(Tt(e.elements))s(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],d=e.elements[c];Tt(d)&&s(d,c)}var p=r.collection();i.filter(function(S){return!o[S.id()]}).forEach(function(S){S.isParent()?p.merge(S):S.remove()}),p.forEach(function(S){return S.children().move({parent:null})}),p.forEach(function(S){return a(S).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],h=0;h<m.length;h++){var y=m[h];e[y]!=null&&r[y](e[y])}return r.endBatch(),this}else{var w=!!e,b={};w?b.elements=this.elements().map(function(S){return S.json()}):(b.elements={},i.forEach(function(S){var x=S.group();b.elements[x]||(b.elements[x]=[]),b.elements[x].push(S.json())})),this._private.styleEnabled&&(b.style=r.style().json()),b.data=Zr(r.data());var E=n.options;return b.zoomingEnabled=n.zoomingEnabled,b.userZoomingEnabled=n.userZoomingEnabled,b.zoom=n.zoom,b.minZoom=n.minZoom,b.maxZoom=n.maxZoom,b.panningEnabled=n.panningEnabled,b.userPanningEnabled=n.userPanningEnabled,b.pan=Zr(n.pan),b.boxSelectionEnabled=n.boxSelectionEnabled,b.renderer=Zr(E.renderer),b.hideEdgesOnViewport=E.hideEdgesOnViewport,b.textureOnViewport=E.textureOnViewport,b.wheelSensitivity=E.wheelSensitivity,b.motionBlur=E.motionBlur,b.multiClickDebounceTime=E.multiClickDebounceTime,b}}});ss.$id=ss.getElementById;[Jx,iE,Dh,Ul,Xo,oE,Gl,Qo,uE,hi,Wa].forEach(function(t){Qe(ss,t)});var fE={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},dE={maximal:!1,acyclic:!1},_i=function(e){return e.scratch("breadthfirst")},pf=function(e,r){return e.scratch("breadthfirst",r)};function Mh(t){this.options=Qe({},fE,dE,t)}Mh.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().filter(function(ke){return!ke.isParent()}),a=n,o=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,l=br(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u;if(Cr(e.roots))u=e.roots;else if(Tt(e.roots)){for(var c=[],d=0;d<e.roots.length;d++){var p=e.roots[d],m=r.getElementById(p);c.push(m)}u=r.collection(c)}else if(je(e.roots))u=r.$(e.roots);else if(o)u=i.roots();else{var h=n.components();u=r.collection();for(var y=function(Ee){var xe=h[Ee],fe=xe.maxDegree(!1),le=xe.filter(function(Ae){return Ae.degree(!1)===fe});u=u.add(le)},w=0;w<h.length;w++)y(w)}var b=[],E={},S=function(Ee,xe){b[xe]==null&&(b[xe]=[]);var fe=b[xe].length;b[xe].push(Ee),pf(Ee,{index:fe,depth:xe})},x=function(Ee,xe){var fe=_i(Ee),le=fe.depth,Ae=fe.index;b[le][Ae]=null,S(Ee,xe)};a.bfs({roots:u,directed:e.directed,visit:function(Ee,xe,fe,le,Ae){var Le=Ee[0],Ge=Le.id();S(Le,Ae),E[Ge]=!0}});for(var A=[],_=0;_<i.length;_++){var v=i[_];E[v.id()]||A.push(v)}var P=function(Ee){for(var xe=b[Ee],fe=0;fe<xe.length;fe++){var le=xe[fe];if(le==null){xe.splice(fe,1),fe--;continue}pf(le,{depth:Ee,index:fe})}},k=function(){for(var Ee=0;Ee<b.length;Ee++)P(Ee)},B=function(Ee,xe){for(var fe=_i(Ee),le=Ee.incomers().filter(function(L){return L.isNode()&&n.has(L)}),Ae=-1,Le=Ee.id(),Ge=0;Ge<le.length;Ge++){var Re=le[Ge],Me=_i(Re);Ae=Math.max(Ae,Me.depth)}if(fe.depth<=Ae){if(!e.acyclic&&xe[Le])return null;var me=Ae+1;return x(Ee,me),xe[Le]=me,!0}return!1};if(o&&s){var N=[],M={},z=function(Ee){return N.push(Ee)},R=function(){return N.shift()};for(i.forEach(function(ke){return N.push(ke)});N.length>0;){var q=R(),H=B(q,M);if(H)q.outgoers().filter(function(ke){return ke.isNode()&&n.has(ke)}).forEach(z);else if(H===null){yt("Detected double maximal shift for node `"+q.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}k();var U=0;if(e.avoidOverlap)for(var X=0;X<i.length;X++){var re=i[X],j=re.layoutDimensions(e),F=j.w,W=j.h;U=Math.max(U,F,W)}var $={},Y=function(Ee){if($[Ee.id()])return $[Ee.id()];for(var xe=_i(Ee).depth,fe=Ee.neighborhood(),le=0,Ae=0,Le=0;Le<fe.length;Le++){var Ge=fe[Le];if(!(Ge.isEdge()||Ge.isParent()||!i.has(Ge))){var Re=_i(Ge);if(Re!=null){var Me=Re.index,me=Re.depth;if(!(Me==null||me==null)){var L=b[me].length;me<xe&&(le+=Me/L,Ae++)}}}}return Ae=Math.max(1,Ae),le=le/Ae,Ae===0&&(le=0),$[Ee.id()]=le,le},Z=function(Ee,xe){var fe=Y(Ee),le=Y(xe),Ae=fe-le;return Ae===0?Fd(Ee.id(),xe.id()):Ae};e.depthSort!==void 0&&(Z=e.depthSort);for(var ee=0;ee<b.length;ee++)b[ee].sort(Z),P(ee);for(var G=[],ie=0;ie<A.length;ie++)G.push(A[ie]);b.unshift(G),k();for(var pe=0,ce=0;ce<b.length;ce++)pe=Math.max(b[ce].length,pe);var Se={x:l.x1+l.w/2,y:l.x1+l.h/2},Ne=b.reduce(function(ke,Ee){return Math.max(ke,Ee.length)},0),qe=function(Ee){var xe=_i(Ee),fe=xe.depth,le=xe.index,Ae=b[fe].length,Le=Math.max(l.w/((e.grid?Ne:Ae)+1),U),Ge=Math.max(l.h/(b.length+1),U),Re=Math.min(l.w/2/b.length,l.h/2/b.length);if(Re=Math.max(Re,U),e.circle){var me=Re*fe+Re-(b.length>0&&b[0].length<=3?Re/2:0),L=2*Math.PI/b[fe].length*le;return fe===0&&b[0].length===1&&(me=1),{x:Se.x+me*Math.cos(L),y:Se.y+me*Math.sin(L)}}else{var Me={x:Se.x+(le+1-(Ae+1)/2)*Le,y:(fe+1)*Ge};return Me}};return n.nodes().layoutPositions(this,e,qe),this};var hE={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Ph(t){this.options=Qe({},hE,t)}Ph.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var o=br(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,u=l/Math.max(1,a.length-1),c,d=0,p=0;p<a.length;p++){var m=a[p],h=m.layoutDimensions(e),y=h.w,w=h.h;d=Math.max(d,y,w)}if(Pe(e.radius)?c=e.radius:a.length<=1?c=0:c=Math.min(o.h,o.w)/2-d,a.length>1&&e.avoidOverlap){d*=1.75;var b=Math.cos(u)-Math.cos(0),E=Math.sin(u)-Math.sin(0),S=Math.sqrt(d*d/(b*b+E*E));c=Math.max(S,c)}var x=function(_,v){var P=e.startAngle+v*u*(i?1:-1),k=c*Math.cos(P),B=c*Math.sin(P),N={x:s.x+k,y:s.y+B};return N};return n.nodes().layoutPositions(this,e,x),this};var vE={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Lh(t){this.options=Qe({},vE,t)}Lh.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,a=i.nodes().not(":parent"),o=br(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=0,c=0;c<a.length;c++){var d=a[c],p=void 0;p=e.concentric(d),l.push({value:p,node:d}),d._private.scratch.concentric=p}a.updateStyle();for(var m=0;m<a.length;m++){var h=a[m],y=h.layoutDimensions(e);u=Math.max(u,y.w,y.h)}l.sort(function(ke,Ee){return Ee.value-ke.value});for(var w=e.levelWidth(a),b=[[]],E=b[0],S=0;S<l.length;S++){var x=l[S];if(E.length>0){var A=Math.abs(E[0].value-x.value);A>=w&&(E=[],b.push(E))}E.push(x)}var _=u+e.minNodeSpacing;if(!e.avoidOverlap){var v=b.length>0&&b[0].length>1,P=Math.min(o.w,o.h)/2-_,k=P/(b.length+v?1:0);_=Math.min(_,k)}for(var B=0,N=0;N<b.length;N++){var M=b[N],z=e.sweep===void 0?2*Math.PI-2*Math.PI/M.length:e.sweep,R=M.dTheta=z/Math.max(1,M.length-1);if(M.length>1&&e.avoidOverlap){var q=Math.cos(R)-Math.cos(0),H=Math.sin(R)-Math.sin(0),U=Math.sqrt(_*_/(q*q+H*H));B=Math.max(U,B)}M.r=B,B+=_}if(e.equidistant){for(var X=0,re=0,j=0;j<b.length;j++){var F=b[j],W=F.r-re;X=Math.max(X,W)}re=0;for(var $=0;$<b.length;$++){var Y=b[$];$===0&&(re=Y.r),Y.r=re,re+=X}}for(var Z={},ee=0;ee<b.length;ee++)for(var G=b[ee],ie=G.dTheta,pe=G.r,ce=0;ce<G.length;ce++){var Se=G[ce],Ne=e.startAngle+(r?1:-1)*ie*ce,qe={x:s.x+pe*Math.cos(Ne),y:s.y+pe*Math.sin(Ne)};Z[Se.node.id()]=qe}return i.nodes().layoutPositions(this,e,function(ke){var Ee=ke.id();return Z[Ee]}),this};var gl,pE={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Os(t){this.options=Qe({},pE,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),o=i.target().data("id"),s=e.some(function(u){return u.data("id")===a}),l=e.some(function(u){return u.data("id")===o});return!s||!l});this.options.eles=this.options.eles.not(n)}Os.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?gl=!0:gl=!1;var n=gE(e,r,t);gl&&bE(n),t.randomize&&wE(n);var i=vn(),a=function(){xE(n,e,t),t.fit===!0&&e.fit(t.padding)},o=function(p){return!(r.stopped||p>=t.numIter||(EE(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)a(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var p=t.eles.nodes(),m=Oh(n,t,p);p.layoutPositions(r,t,m)}},l=0,u=!0;if(t.animate===!0){var c=function d(){for(var p=0;u&&p<t.refresh;)u=o(l),l++,p++;if(!u)mf(n,t),s();else{var m=vn();m-i>=t.animationThreshold&&a(),ns(d)}};c()}else{for(;u;)u=o(l),l++;mf(n,t),s()}return this};Os.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Os.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var gE=function(e,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),o=br(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var d=l[c],p=0;p<d.length;p++){var m=d[p];u[m.id()]=c}for(var c=0;c<s.nodeSize;c++){var h=a[c],y=h.layoutDimensions(n),w={};w.isLocked=h.locked(),w.id=h.data("id"),w.parentId=h.data("parent"),w.cmptId=u[h.id()],w.children=[],w.positionX=h.position("x"),w.positionY=h.position("y"),w.offsetX=0,w.offsetY=0,w.height=y.w,w.width=y.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(h.style("padding")),w.padRight=parseFloat(h.style("padding")),w.padTop=parseFloat(h.style("padding")),w.padBottom=parseFloat(h.style("padding")),w.nodeRepulsion=Pt(n.nodeRepulsion)?n.nodeRepulsion(h):n.nodeRepulsion,s.layoutNodes.push(w),s.idToIndex[w.id]=c}for(var b=[],E=0,S=-1,x=[],c=0;c<s.nodeSize;c++){var h=s.layoutNodes[c],A=h.parentId;A!=null?s.layoutNodes[s.idToIndex[A]].children.push(h.id):(b[++S]=h.id,x.push(h.id))}for(s.graphSet.push(x);E<=S;){var _=b[E++],v=s.idToIndex[_],m=s.layoutNodes[v],P=m.children;if(P.length>0){s.graphSet.push(P);for(var c=0;c<P.length;c++)b[++S]=P[c]}}for(var c=0;c<s.graphSet.length;c++)for(var k=s.graphSet[c],p=0;p<k.length;p++){var B=s.idToIndex[k[p]];s.indexToGraph[B]=c}for(var c=0;c<s.edgeSize;c++){var N=i[c],M={};M.id=N.data("id"),M.sourceId=N.data("source"),M.targetId=N.data("target");var z=Pt(n.idealEdgeLength)?n.idealEdgeLength(N):n.idealEdgeLength,R=Pt(n.edgeElasticity)?n.edgeElasticity(N):n.edgeElasticity,q=s.idToIndex[M.sourceId],H=s.idToIndex[M.targetId],U=s.indexToGraph[q],X=s.indexToGraph[H];if(U!=X){for(var re=mE(M.sourceId,M.targetId,s),j=s.graphSet[re],F=0,w=s.layoutNodes[q];j.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],F++;for(w=s.layoutNodes[H];j.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],F++;z*=F*n.nestingFactor}M.idealLength=z,M.elasticity=R,s.layoutEdges.push(M)}return s},mE=function(e,r,n){var i=yE(e,r,0,n);return 2>i.count?0:i.graph},yE=function t(e,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(e)&&-1<a.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<a.length;s++){var l=a[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(c.length!==0){var d=i.indexToGraph[i.idToIndex[c[0]]],p=t(e,r,d,i);if(p.count!==0)if(p.count===1){if(o++,o===2)break}else return p}}return{count:o,graph:n}},bE,wE=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*i)}},Oh=function(e,r,n){var i=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var s=e.layoutNodes[e.idToIndex[o.data("id")]];a.x1=Math.min(a.x1,s.positionX),a.x2=Math.max(a.x2,s.positionX),a.y1=Math.min(a.y1,s.positionY),a.y2=Math.max(a.y2,s.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(o,s){var l=e.layoutNodes[e.idToIndex[o.data("id")]];if(r.boundingBox){var u=(l.positionX-a.x1)/a.w,c=(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+c*i.h}}else return{x:l.positionX,y:l.positionY}}},xE=function(e,r,n){var i=n.layout,a=n.eles.nodes(),o=Oh(e,n,a);a.positions(o),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},EE=function(e,r,n){CE(e,r),kE(e),_E(e,r),AE(e),IE(e)},CE=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,o=0;o<a;o++)for(var s=e.layoutNodes[e.idToIndex[i[o]]],l=o+1;l<a;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];SE(s,u,e,r)}},gf=function(e){return-e+2*e*Math.random()},SE=function(e,r,n,i){var a=e.cmptId,o=r.cmptId;if(!(a!==o&&!n.isCompound)){var s=r.positionX-e.positionX,l=r.positionY-e.positionY,u=1;s===0&&l===0&&(s=gf(u),l=gf(u));var c=TE(e,r,s,l);if(c>0)var d=i.nodeOverlap*c,p=Math.sqrt(s*s+l*l),m=d*s/p,h=d*l/p;else var y=ls(e,s,l),w=ls(r,-1*s,-1*l),b=w.x-y.x,E=w.y-y.y,S=b*b+E*E,p=Math.sqrt(S),d=(e.nodeRepulsion+r.nodeRepulsion)/S,m=d*b/p,h=d*E/p;e.isLocked||(e.offsetX-=m,e.offsetY-=h),r.isLocked||(r.offsetX+=m,r.offsetY+=h)}},TE=function(e,r,n,i){if(n>0)var a=e.maxX-r.minX;else var a=r.maxX-e.minX;if(i>0)var o=e.maxY-r.minY;else var o=r.maxY-e.minY;return a>=0&&o>=0?Math.sqrt(a*a+o*o):0},ls=function(e,r,n){var i=e.positionX,a=e.positionY,o=e.height||1,s=e.width||1,l=n/r,u=o/s,c={};return r===0&&0<n||r===0&&0>n?(c.x=i,c.y=a+o/2,c):0<r&&-1*u<=l&&l<=u?(c.x=i+s/2,c.y=a+s*n/2/r,c):0>r&&-1*u<=l&&l<=u?(c.x=i-s/2,c.y=a-s*n/2/r,c):0<n&&(l<=-1*u||l>=u)?(c.x=i+o*r/2/n,c.y=a+o/2,c):(0>n&&(l<=-1*u||l>=u)&&(c.x=i-o*r/2/n,c.y=a-o/2),c)},kE=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],o=e.layoutNodes[a],s=e.idToIndex[i.targetId],l=e.layoutNodes[s],u=l.positionX-o.positionX,c=l.positionY-o.positionY;if(!(u===0&&c===0)){var d=ls(o,u,c),p=ls(l,-1*u,-1*c),m=p.x-d.x,h=p.y-d.y,y=Math.sqrt(m*m+h*h),w=Math.pow(i.idealLength-y,2)/i.elasticity;if(y!==0)var b=w*m/y,E=w*h/y;else var b=0,E=0;o.isLocked||(o.offsetX+=b,o.offsetY+=E),l.isLocked||(l.offsetX-=b,l.offsetY-=E)}}},_E=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var a=e.graphSet[i],o=a.length;if(i===0)var s=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[a[0]]],c=e.layoutNodes[e.idToIndex[u.parentId]],s=c.positionX,l=c.positionY;for(var d=0;d<o;d++){var p=e.layoutNodes[e.idToIndex[a[d]]];if(!p.isLocked){var m=s-p.positionX,h=l-p.positionY,y=Math.sqrt(m*m+h*h);if(y>n){var w=r.gravity*m/y,b=r.gravity*h/y;p.offsetX+=w,p.offsetY+=b}}}}},AE=function(e,r){var n=[],i=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;i<=a;){var o=n[i++],s=e.idToIndex[o],l=e.layoutNodes[s],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,d=l.offsetY,p=0;p<u.length;p++){var m=e.layoutNodes[e.idToIndex[u[p]]];m.offsetX+=c,m.offsetY+=d,n[++a]=u[p]}l.offsetX=0,l.offsetY=0}}},IE=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=DE(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,ME(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},DE=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var a={x:n*e/i,y:n*r/i};else var a={x:e,y:r};return a},ME=function t(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,a=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,a=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,a=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,a=!0),a)return t(i,r)}},mf=function(e,r){for(var n=e.layoutNodes,i=[],a=0;a<n.length;a++){var o=n[a],s=o.cmptId,l=i[s]=i[s]||[];l.push(o)}for(var u=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var d=0;d<c.length;d++){var p=c[d];c.x1=Math.min(c.x1,p.positionX-p.width/2),c.x2=Math.max(c.x2,p.positionX+p.width/2),c.y1=Math.min(c.y1,p.positionY-p.height/2),c.y2=Math.max(c.y2,p.positionY+p.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}i.sort(function(E,S){return S.w*S.h-E.w*E.h});for(var m=0,h=0,y=0,w=0,b=Math.sqrt(u)*e.clientWidth/e.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var d=0;d<c.length;d++){var p=c[d];p.isLocked||(p.positionX+=m-c.x1,p.positionY+=h-c.y1)}m+=c.w+r.componentSpacing,y+=c.w+r.componentSpacing,w=Math.max(w,c.h),y>b&&(h+=w+r.componentSpacing,m=0,y=0,w=0)}}},PE={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Nh(t){this.options=Qe({},PE,t)}Nh.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var a=br(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,e,function($){return{x:a.x1,y:a.y1}});else{var o=i.size(),s=Math.sqrt(o*a.h/a.w),l=Math.round(s),u=Math.round(a.w/a.h*s),c=function(Y){if(Y==null)return Math.min(l,u);var Z=Math.min(l,u);Z==l?l=Y:u=Y},d=function(Y){if(Y==null)return Math.max(l,u);var Z=Math.max(l,u);Z==l?l=Y:u=Y},p=e.rows,m=e.cols!=null?e.cols:e.columns;if(p!=null&&m!=null)l=p,u=m;else if(p!=null&&m==null)l=p,u=Math.ceil(o/l);else if(p==null&&m!=null)u=m,l=Math.ceil(o/u);else if(u*l>o){var h=c(),y=d();(h-1)*y>=o?c(h-1):(y-1)*h>=o&&d(y-1)}else for(;u*l<o;){var w=c(),b=d();(b+1)*w>=o?d(b+1):c(w+1)}var E=a.w/u,S=a.h/l;if(e.condense&&(E=0,S=0),e.avoidOverlap)for(var x=0;x<i.length;x++){var A=i[x],_=A._private.position;(_.x==null||_.y==null)&&(_.x=0,_.y=0);var v=A.layoutDimensions(e),P=e.avoidOverlapPadding,k=v.w+P,B=v.h+P;E=Math.max(E,k),S=Math.max(S,B)}for(var N={},M=function(Y,Z){return!!N["c-"+Y+"-"+Z]},z=function(Y,Z){N["c-"+Y+"-"+Z]=!0},R=0,q=0,H=function(){q++,q>=u&&(q=0,R++)},U={},X=0;X<i.length;X++){var re=i[X],j=e.position(re);if(j&&(j.row!==void 0||j.col!==void 0)){var F={row:j.row,col:j.col};if(F.col===void 0)for(F.col=0;M(F.row,F.col);)F.col++;else if(F.row===void 0)for(F.row=0;M(F.row,F.col);)F.row++;U[re.id()]=F,z(F.row,F.col)}}var W=function(Y,Z){var ee,G;if(Y.locked()||Y.isParent())return!1;var ie=U[Y.id()];if(ie)ee=ie.col*E+E/2+a.x1,G=ie.row*S+S/2+a.y1;else{for(;M(R,q);)H();ee=q*E+E/2+a.x1,G=R*S+S/2+a.y1,z(R,q),H()}return{x:ee,y:G}};i.layoutPositions(this,e,W)}return this};var LE={ready:function(){},stop:function(){}};function Du(t){this.options=Qe({},LE,t)}Du.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Du.prototype.stop=function(){return this};var OE={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Bh(t){this.options=Qe({},OE,t)}Bh.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Pt(t.positions);function i(a){if(t.positions==null)return Gw(a.position());if(n)return t.positions(a);var o=t.positions[a._private.data.id];return o??null}return r.layoutPositions(this,t,function(a,o){var s=i(a);return a.locked()||s==null?!1:s}),this};var NE={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Rh(t){this.options=Qe({},NE,t)}Rh.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=br(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var BE=[{name:"breadthfirst",impl:Mh},{name:"circle",impl:Ph},{name:"concentric",impl:Lh},{name:"cose",impl:Os},{name:"grid",impl:Nh},{name:"null",impl:Du},{name:"preset",impl:Bh},{name:"random",impl:Rh}];function zh(t){this.options=t,this.notifications=0}var yf=function(){},bf=function(){throw new Error("A headless instance can not render images")};zh.prototype={recalculateRenderedStyle:yf,notify:function(){this.notifications++},init:yf,isHeadless:function(){return!0},png:bf,jpg:bf};var Mu={};Mu.arrowShapeWidth=.3;Mu.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(u,c,d,p,m,h,y){var w=m.x-d/2-y,b=m.x+d/2+y,E=m.y-d/2-y,S=m.y+d/2+y,x=w<=u&&u<=b&&E<=c&&c<=S;return x},n=function(u,c,d,p,m){var h=u*Math.cos(p)-c*Math.sin(p),y=u*Math.sin(p)+c*Math.cos(p),w=h*d,b=y*d,E=w+m.x,S=b+m.y;return{x:E,y:S}},i=function(u,c,d,p){for(var m=[],h=0;h<u.length;h+=2){var y=u[h],w=u[h+1];m.push(n(y,w,c,d,p))}return m},a=function(u){for(var c=[],d=0;d<u.length;d++){var p=u[d];c.push(p.x,p.y)}return c},o=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},s=function(u,c){je(c)&&(c=t[c]),t[u]=Qe({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,m,h,y,w,b){var E=a(i(this.points,h+2*b,y,w)),S=gr(p,m,E);return S},roughCollide:r,draw:function(p,m,h,y){var w=i(this.points,m,h,y);e.arrowShapeImpl("polygon")(p,w)},spacing:function(p){return 0},gap:o},c)};s("none",{collide:is,roughCollide:is,draw:bu,spacing:Lc,gap:Lc}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,c,d,p,m){var h=i(this.points,c,d,p),y=this.controlPoint,w=n(y[0],y[1],c,d,p);e.arrowShapeImpl(this.name)(u,h,w)},gap:function(u){return o(u)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,d,p,m,h,y){var w=a(i(this.points,d+2*y,p,m)),b=a(i(this.pointsTee,d+2*y,p,m)),E=gr(u,c,w)||gr(u,c,b);return E},draw:function(u,c,d,p,m){var h=i(this.points,c,d,p),y=i(this.pointsTee,c,d,p);e.arrowShapeImpl(this.name)(u,h,y)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,d,p,m,h,y){var w=m,b=Math.pow(w.x-u,2)+Math.pow(w.y-c,2)<=Math.pow((d+2*y)*this.radius,2),E=a(i(this.points,d+2*y,p,m));return gr(u,c,E)||b},draw:function(u,c,d,p,m){var h=i(this.pointsTr,c,d,p);e.arrowShapeImpl(this.name)(u,h,p.x,p.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var d=this.baseCrossLinePts.slice(),p=c/u,m=3,h=5;return d[m]=d[m]-p,d[h]=d[h]-p,d},collide:function(u,c,d,p,m,h,y){var w=a(i(this.points,d+2*y,p,m)),b=a(i(this.crossLinePts(d,h),d+2*y,p,m)),E=gr(u,c,w)||gr(u,c,b);return E},draw:function(u,c,d,p,m){var h=i(this.points,c,d,p),y=i(this.crossLinePts(c,m),c,d,p);e.arrowShapeImpl(this.name)(u,h,y)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return o(u)*.525}}),s("circle",{radius:.15,collide:function(u,c,d,p,m,h,y){var w=m,b=Math.pow(w.x-u,2)+Math.pow(w.y-c,2)<=Math.pow((d+2*y)*this.radius,2);return b},draw:function(u,c,d,p,m){e.arrowShapeImpl(this.name)(u,p.x,p.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var mi={};mi.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],o=n[4],s=r.pan(),l=r.zoom(),u=((t-i)/o-s.x)/l,c=((e-a)/o-s.y)/l;return[u,c]};mi.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(b){return parseFloat(r.getPropertyValue(b))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=t.clientWidth,s=t.clientHeight,l=i.left+i.right,u=i.top+i.bottom,c=a.left+a.right,d=e.width/(o+c),p=o-l,m=s-u,h=e.left+i.left+a.left,y=e.top+i.top+a.top;return this.containerBB=[h,y,p,m,d]};mi.invalidateContainerClientCoordsCache=function(){this.containerBB=null};mi.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};mi.findNearestElements=function(t,e,r,n){var i=this,a=this,o=a.getCachedZSortedEles(),s=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),c=(n?24:8)/l,d=(n?8:2)/l,p=(n?8:2)/l,m=1/0,h,y;r&&(o=o.interactive);function w(v,P){if(v.isNode()){if(y)return;y=v,s.push(v)}if(v.isEdge()&&(P==null||P<m))if(h){if(h.pstyle("z-compound-depth").value===v.pstyle("z-compound-depth").value&&h.pstyle("z-compound-depth").value===v.pstyle("z-compound-depth").value){for(var k=0;k<s.length;k++)if(s[k].isEdge()){s[k]=v,h=v,m=P??m;break}}}else s.push(v),h=v,m=P??m}function b(v){var P=v.outerWidth()+2*d,k=v.outerHeight()+2*d,B=P/2,N=k/2,M=v.position();if(M.x-B<=t&&t<=M.x+B&&M.y-N<=e&&e<=M.y+N){var z=a.nodeShapes[i.getNodeShape(v)];if(z.checkPoint(t,e,0,P,k,M.x,M.y))return w(v,0),!0}}function E(v){var P=v._private,k=P.rscratch,B=v.pstyle("width").pfValue,N=v.pstyle("arrow-scale").value,M=B/2+c,z=M*M,R=M*2,X=P.source,re=P.target,q;if(k.edgeType==="segments"||k.edgeType==="straight"||k.edgeType==="haystack"){for(var H=k.allpts,U=0;U+3<H.length;U+=2)if(a1(t,e,H[U],H[U+1],H[U+2],H[U+3],R)&&z>(q=c1(t,e,H[U],H[U+1],H[U+2],H[U+3])))return w(v,q),!0}else if(k.edgeType==="bezier"||k.edgeType==="multibezier"||k.edgeType==="self"||k.edgeType==="compound"){for(var H=k.allpts,U=0;U+5<k.allpts.length;U+=4)if(o1(t,e,H[U],H[U+1],H[U+2],H[U+3],H[U+4],H[U+5],R)&&z>(q=u1(t,e,H[U],H[U+1],H[U+2],H[U+3],H[U+4],H[U+5])))return w(v,q),!0}for(var X=X||P.source,re=re||P.target,j=i.getArrowWidth(B,N),F=[{name:"source",x:k.arrowStartX,y:k.arrowStartY,angle:k.srcArrowAngle},{name:"target",x:k.arrowEndX,y:k.arrowEndY,angle:k.tgtArrowAngle},{name:"mid-source",x:k.midX,y:k.midY,angle:k.midsrcArrowAngle},{name:"mid-target",x:k.midX,y:k.midY,angle:k.midtgtArrowAngle}],U=0;U<F.length;U++){var W=F[U],$=a.arrowShapes[v.pstyle(W.name+"-arrow-shape").value],Y=v.pstyle("width").pfValue;if($.roughCollide(t,e,j,W.angle,{x:W.x,y:W.y},Y,c)&&$.collide(t,e,j,W.angle,{x:W.x,y:W.y},Y,c))return w(v),!0}u&&s.length>0&&(b(X),b(re))}function S(v,P,k){return qr(v,P,k)}function x(v,P){var k=v._private,B=p,N;P?N=P+"-":N="",v.boundingBox();var M=k.labelBounds[P||"main"],z=v.pstyle(N+"label").value,R=v.pstyle("text-events").strValue==="yes";if(!(!R||!z)){var q=S(k.rscratch,"labelX",P),H=S(k.rscratch,"labelY",P),U=S(k.rscratch,"labelAngle",P),X=v.pstyle(N+"text-margin-x").pfValue,re=v.pstyle(N+"text-margin-y").pfValue,j=M.x1-B-X,F=M.x2+B-X,W=M.y1-B-re,$=M.y2+B-re;if(U){var Y=Math.cos(U),Z=Math.sin(U),ee=function(qe,ke){return qe=qe-q,ke=ke-H,{x:qe*Y-ke*Z+q,y:qe*Z+ke*Y+H}},G=ee(j,W),ie=ee(j,$),pe=ee(F,W),ce=ee(F,$),Se=[G.x+X,G.y+re,pe.x+X,pe.y+re,ce.x+X,ce.y+re,ie.x+X,ie.y+re];if(gr(t,e,Se))return w(v),!0}else if(Hi(M,t,e))return w(v),!0}}for(var A=o.length-1;A>=0;A--){var _=o[A];_.isNode()?b(_)||x(_):E(_)||x(_)||x(_,"source")||x(_,"target")}return s};mi.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,a=[],o=Math.min(t,r),s=Math.max(t,r),l=Math.min(e,n),u=Math.max(e,n);t=o,r=s,e=l,n=u;for(var c=br({x1:t,y1:e,x2:r,y2:n}),d=0;d<i.length;d++){var p=i[d];if(p.isNode()){var m=p,h=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Eu(c,h)&&!Zd(h,c)&&a.push(m)}else{var y=p,w=y._private,b=w.rscratch;if(b.startX!=null&&b.startY!=null&&!Hi(c,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!Hi(c,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var E=w.rstyle.bezierPts||w.rstyle.linePts||w.rstyle.haystackPts,S=!0,x=0;x<E.length;x++)if(!i1(c,E[x])){S=!1;break}S&&a.push(y)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&a.push(y)}}return a};var us={};us.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",a=e.edgeType==="segments",o=e.edgeType==="compound",s=e.edgeType==="self",l,u,c,d,p,m,b,E;if(r?(c=e.haystackPts[0],d=e.haystackPts[1],p=e.haystackPts[2],m=e.haystackPts[3]):(c=e.arrowStartX,d=e.arrowStartY,p=e.arrowEndX,m=e.arrowEndY),b=e.midX,E=e.midY,a)l=c-e.segpts[0],u=d-e.segpts[1];else if(i||o||s||n){var h=e.allpts,y=Gt(h[0],h[2],h[4],.1),w=Gt(h[1],h[3],h[5],.1);l=c-y,u=d-w}else l=c-b,u=d-E;e.srcArrowAngle=Ao(l,u);var b=e.midX,E=e.midY;if(r&&(b=(c+p)/2,E=(d+m)/2),l=p-c,u=m-d,a){var h=e.allpts;if(h.length/2%2===0){var S=h.length/2,x=S-2;l=h[S]-h[x],u=h[S+1]-h[x+1]}else{var S=h.length/2-1,x=S-2,A=S+2;l=h[S]-h[x],u=h[S+1]-h[x+1]}}else if(i||o||s){var h=e.allpts,_=e.ctrlpts,v,P,k,B;if(_.length/2%2===0){var N=h.length/2-1,M=N+2,z=M+2;v=Gt(h[N],h[M],h[z],0),P=Gt(h[N+1],h[M+1],h[z+1],0),k=Gt(h[N],h[M],h[z],1e-4),B=Gt(h[N+1],h[M+1],h[z+1],1e-4)}else{var M=h.length/2-1,N=M-2,z=M+2;v=Gt(h[N],h[M],h[z],.4999),P=Gt(h[N+1],h[M+1],h[z+1],.4999),k=Gt(h[N],h[M],h[z],.5),B=Gt(h[N+1],h[M+1],h[z+1],.5)}l=k-v,u=B-P}if(e.midtgtArrowAngle=Ao(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,a){var h=e.allpts;if(h.length/2%2!==0){var S=h.length/2-1,A=S+2;l=-(h[A]-h[S]),u=-(h[A+1]-h[S+1])}}if(e.midsrcArrowAngle=Ao(l,u),a)l=p-e.segpts[e.segpts.length-2],u=m-e.segpts[e.segpts.length-1];else if(i||o||s||n){var h=e.allpts,R=h.length,y=Gt(h[R-6],h[R-4],h[R-2],.9),w=Gt(h[R-5],h[R-3],h[R-1],.9);l=p-y,u=m-w}else l=p-b,u=m-E;e.tgtArrowAngle=Ao(l,u)};us.getArrowWidth=us.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var or={};or.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,a,o=t.pstyle("source-endpoint"),s=t.pstyle("target-endpoint"),l=o.units!=null&&s.units!=null,u=function(A,_,v,P){var k=P-_,B=v-A,N=Math.sqrt(B*B+k*k);return{x:-k/N,y:B/N}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(l){var d=this.manualEndptToPx(t.source()[0],o),p=$r(d,2),m=p[0],h=p[1],y=this.manualEndptToPx(t.target()[0],s),w=$r(y,2),b=w[0],E=w[1],S={x1:m,y1:h,x2:b,y2:E};i=u(m,h,b,E),a=S}else yt("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};or.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=n.source,s=n.target,l=o.position(),u=s.position(),c=o.width(),d=s.width(),p=o.height(),m=s.height(),h=r.pstyle("haystack-radius").value,y=h/2;i.haystackPts=i.allpts=[i.source.x*c*y+l.x,i.source.y*p*y+l.y,i.target.x*d*y+u.x,i.target.y*m*y+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};or.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),a=Math.min(n.pfValue.length,i.pfValue.length);r.edgeType="segments",r.segpts=[];for(var o=0;o<a;o++){var s=n.pfValue[o],l=i.pfValue[o],u=1-s,c=s,d=this.findMidptPtsEtc(t,e),p=d.midptPts,m=d.vectorNormInverse,h={x:p.x1*u+p.x2*c,y:p.y1*u+p.y2*c};r.segpts.push(h.x+m.x*l,h.y+m.y*l)}};or.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,a=e.dirCounts,o=e.srcPos,s=t.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var p=r,m=d;n&&(p=0,m=l);var h=u-Math.PI/2,y=h-c/2,w=h+c/2,b=u+"_"+c;p=a[b]===void 0?a[b]=0:++a[b],i.ctrlpts=[o.x+Math.cos(y)*1.4*m*(p/3+1),o.y+Math.sin(y)*1.4*m*(p/3+1),o.x+Math.cos(w)*1.4*m*(p/3+1),o.y+Math.sin(w)*1.4*m*(p/3+1)]};or.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var a=e.srcPos,o=e.tgtPos,s=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),m=p?p.pfValue[0]:void 0,h=r,y=d;n&&(h=0,y=m);var w=50,b={x:a.x-s/2,y:a.y-l/2},E={x:o.x-u/2,y:o.y-c/2},S={x:Math.min(b.x,E.x),y:Math.min(b.y,E.y)},x=.5,A=Math.max(x,Math.log(s*.01)),_=Math.max(x,Math.log(u*.01));i.ctrlpts=[S.x,S.y-(1+Math.pow(w,1.12)/100)*y*(h/3+1)*A,S.x-(1+Math.pow(w,1.12)/100)*y*(h/3+1)*_,S.y]};or.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};or.findBezierPoints=function(t,e,r,n,i){var a=t._private.rscratch,o=t.pstyle("control-point-step-size").pfValue,s=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=s&&l?Math.min(s.value.length,l.value.length):1,c=s?s.pfValue[0]:void 0,d=l.value[0],p=n;a.edgeType=p?"multibezier":"bezier",a.ctrlpts=[];for(var m=0;m<u;m++){var h=(.5-e.eles.length/2+r)*o*(i?-1:1),y=void 0,w=Qd(h);p&&(c=s?s.pfValue[m]:o,d=l.value[m]),n?y=c:y=c!==void 0?w*c:void 0;var b=y!==void 0?y:h,E=1-d,S=d,x=this.findMidptPtsEtc(t,e),A=x.midptPts,_=x.vectorNormInverse,v={x:A.x1*E+A.x2*S,y:A.y1*E+A.y2*S};a.ctrlpts.push(v.x+_.x*b,v.y+_.y*b)}};or.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",o="rightward",s="downward",l="upward",u="auto",c=e.posPts,d=e.srcW,p=e.srcH,m=e.tgtW,h=e.tgtH,y=t.pstyle("edge-distances").value,w=y!=="node-position",b=t.pstyle("taxi-direction").value,E=b,S=t.pstyle("taxi-turn"),x=S.units==="%",A=S.pfValue,_=A<0,v=t.pstyle("taxi-turn-min-distance").pfValue,P=w?(d+m)/2:0,k=w?(p+h)/2:0,B=c.x2-c.x1,N=c.y2-c.y1,M=function(ge,ze){return ge>0?Math.max(ge-ze,0):Math.min(ge+ze,0)},z=M(B,P),R=M(N,k),q=!1;E===u?b=Math.abs(z)>Math.abs(R)?i:n:E===l||E===s?(b=n,q=!0):(E===a||E===o)&&(b=i,q=!0);var H=b===n,U=H?R:z,X=H?N:B,re=Qd(X),j=!1;!(q&&(x||_))&&(E===s&&X<0||E===l&&X>0||E===a&&X>0||E===o&&X<0)&&(re*=-1,U=re*Math.abs(U),j=!0);var F;if(x){var W=A<0?1+A:A;F=W*U}else{var $=A<0?U:0;F=$+A*re}var Y=function(ge){return Math.abs(ge)<v||Math.abs(ge)>=Math.abs(U)},Z=Y(F),ee=Y(Math.abs(U)-Math.abs(F)),G=Z||ee;if(G&&!j)if(H){var ie=Math.abs(X)<=p/2,pe=Math.abs(B)<=m/2;if(ie){var ce=(c.x1+c.x2)/2,Se=c.y1,Ne=c.y2;r.segpts=[ce,Se,ce,Ne]}else if(pe){var qe=(c.y1+c.y2)/2,ke=c.x1,Ee=c.x2;r.segpts=[ke,qe,Ee,qe]}else r.segpts=[c.x1,c.y2]}else{var xe=Math.abs(X)<=d/2,fe=Math.abs(N)<=h/2;if(xe){var le=(c.y1+c.y2)/2,Ae=c.x1,Le=c.x2;r.segpts=[Ae,le,Le,le]}else if(fe){var Ge=(c.x1+c.x2)/2,Re=c.y1,Me=c.y2;r.segpts=[Ge,Re,Ge,Me]}else r.segpts=[c.x2,c.y1]}else if(H){var me=c.y1+F+(w?p/2*re:0),L=c.x1,ne=c.x2;r.segpts=[L,me,ne,me]}else{var ye=c.x1+F+(w?d/2*re:0),he=c.y1,de=c.y2;r.segpts=[ye,he,ye,de]}};or.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,a=e.srcW,o=e.srcH,s=e.tgtW,l=e.tgtH,u=e.srcShape,c=e.tgtShape,d=!Pe(r.startX)||!Pe(r.startY),p=!Pe(r.arrowStartX)||!Pe(r.arrowStartY),m=!Pe(r.endX)||!Pe(r.endY),h=!Pe(r.arrowEndX)||!Pe(r.arrowEndY),y=3,w=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,b=y*w,E=fi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),S=E<b,x=fi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),A=x<b,_=!1;if(d||p||S){_=!0;var v={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},P=Math.sqrt(v.x*v.x+v.y*v.y),k={x:v.x/P,y:v.y/P},B=Math.max(a,o),N={x:r.ctrlpts[0]+k.x*2*B,y:r.ctrlpts[1]+k.y*2*B},M=u.intersectLine(n.x,n.y,a,o,N.x,N.y,0);S?(r.ctrlpts[0]=r.ctrlpts[0]+k.x*(b-E),r.ctrlpts[1]=r.ctrlpts[1]+k.y*(b-E)):(r.ctrlpts[0]=M[0]+k.x*b,r.ctrlpts[1]=M[1]+k.y*b)}if(m||h||A){_=!0;var z={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},R=Math.sqrt(z.x*z.x+z.y*z.y),q={x:z.x/R,y:z.y/R},H=Math.max(a,o),U={x:r.ctrlpts[0]+q.x*2*H,y:r.ctrlpts[1]+q.y*2*H},X=c.intersectLine(i.x,i.y,s,l,U.x,U.y,0);A?(r.ctrlpts[0]=r.ctrlpts[0]+q.x*(b-x),r.ctrlpts[1]=r.ctrlpts[1]+q.y*(b-x)):(r.ctrlpts[0]=X[0]+q.x*b,r.ctrlpts[1]=X[1]+q.y*b)}_&&this.findEndpoints(t)}};or.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=Gt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=Gt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments")if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4===0){var a=e.segpts.length/2,o=a-2;e.midX=(e.segpts[o]+e.segpts[a])/2,e.midY=(e.segpts[o+1]+e.segpts[a+1])/2}else{var s=e.segpts.length/2-1;e.midX=e.segpts[s],e.midY=e.segpts[s+1]}};or.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Pe(e.startX)&&Pe(e.startY)&&Pe(e.endX)&&Pe(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,yt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};or.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a={map:new Jr,get:function(v){var P=this.map.get(v[0]);return P!=null?P.get(v[1]):null},set:function(v,P){var k=this.map.get(v[0]);k==null&&(k=new Jr,this.map.set(v[0],k)),k.set(v[1],P)}},o=[],s=[],l=0;l<t.length;l++){var u=t[l],c=u._private,d=u.pstyle("curve-style").value;if(!(u.removed()||!u.takesUpSpace())){if(d==="haystack"){s.push(u);continue}var p=d==="unbundled-bezier"||d==="segments"||d==="straight"||d==="straight-triangle"||d==="taxi",m=d==="unbundled-bezier"||d==="bezier",h=c.source,y=c.target,w=h.poolIndex(),b=y.poolIndex(),E=[w,b].sort(),S=a.get(E);S==null&&(S={eles:[]},a.set(E,S),o.push(E)),S.eles.push(u),p&&(S.hasUnbundled=!0),m&&(S.hasBezier=!0)}}for(var x=function(v){var P=o[v],k=a.get(P),B=void 0;if(!k.hasUnbundled){var N=k.eles[0].parallelEdges().filter(function(Me){return Me.isBundledBezier()});wu(k.eles),N.forEach(function(Me){return k.eles.push(Me)}),k.eles.sort(function(Me,me){return Me.poolIndex()-me.poolIndex()})}var M=k.eles[0],z=M.source(),R=M.target();if(z.poolIndex()>R.poolIndex()){var q=z;z=R,R=q}var H=k.srcPos=z.position(),U=k.tgtPos=R.position(),X=k.srcW=z.outerWidth(),re=k.srcH=z.outerHeight(),j=k.tgtW=R.outerWidth(),F=k.tgtH=R.outerHeight(),W=k.srcShape=r.nodeShapes[e.getNodeShape(z)],$=k.tgtShape=r.nodeShapes[e.getNodeShape(R)];k.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Y=0;Y<k.eles.length;Y++){var Z=k.eles[Y],ee=Z[0]._private.rscratch,G=Z.pstyle("curve-style").value,ie=G==="unbundled-bezier"||G==="segments"||G==="taxi",pe=!z.same(Z.source());if(!k.calculatedIntersection&&z!==R&&(k.hasBezier||k.hasUnbundled)){k.calculatedIntersection=!0;var ce=W.intersectLine(H.x,H.y,X,re,U.x,U.y,0),Se=k.srcIntn=ce,Ne=$.intersectLine(U.x,U.y,j,F,H.x,H.y,0),qe=k.tgtIntn=Ne,ke=k.intersectionPts={x1:ce[0],x2:Ne[0],y1:ce[1],y2:Ne[1]},Ee=k.posPts={x1:H.x,x2:U.x,y1:H.y,y2:U.y},xe=Ne[1]-ce[1],fe=Ne[0]-ce[0],le=Math.sqrt(fe*fe+xe*xe),Ae=k.vector={x:fe,y:xe},Le=k.vectorNorm={x:Ae.x/le,y:Ae.y/le},Ge={x:-Le.y,y:Le.x};k.nodesOverlap=!Pe(le)||$.checkPoint(ce[0],ce[1],0,j,F,U.x,U.y)||W.checkPoint(Ne[0],Ne[1],0,X,re,H.x,H.y),k.vectorNormInverse=Ge,B={nodesOverlap:k.nodesOverlap,dirCounts:k.dirCounts,calculatedIntersection:!0,hasBezier:k.hasBezier,hasUnbundled:k.hasUnbundled,eles:k.eles,srcPos:U,tgtPos:H,srcW:j,srcH:F,tgtW:X,tgtH:re,srcIntn:qe,tgtIntn:Se,srcShape:$,tgtShape:W,posPts:{x1:Ee.x2,y1:Ee.y2,x2:Ee.x1,y2:Ee.y1},intersectionPts:{x1:ke.x2,y1:ke.y2,x2:ke.x1,y2:ke.y1},vector:{x:-Ae.x,y:-Ae.y},vectorNorm:{x:-Le.x,y:-Le.y},vectorNormInverse:{x:-Ge.x,y:-Ge.y}}}var Re=pe?B:k;ee.nodesOverlap=Re.nodesOverlap,ee.srcIntn=Re.srcIntn,ee.tgtIntn=Re.tgtIntn,i&&(z.isParent()||z.isChild()||R.isParent()||R.isChild())&&(z.parents().anySame(R)||R.parents().anySame(z)||z.same(R)&&z.isParent())?e.findCompoundLoopPoints(Z,Re,Y,ie):z===R?e.findLoopPoints(Z,Re,Y,ie):G==="segments"?e.findSegmentsPoints(Z,Re):G==="taxi"?e.findTaxiPoints(Z,Re):G==="straight"||!ie&&k.eles.length%2===1&&Y===Math.floor(k.eles.length/2)?e.findStraightEdgePoints(Z):e.findBezierPoints(Z,Re,Y,ie,pe),e.findEndpoints(Z),e.tryToCorrectInvalidPoints(Z,Re),e.checkForInvalidEdgeWarning(Z),e.storeAllpts(Z),e.storeEdgeProjections(Z),e.calculateArrowAngles(Z),e.recalculateEdgeLabelProjections(Z),e.calculateLabelAngles(Z)}},A=0;A<o.length;A++)x(A);this.findHaystackPoints(s)}};function Fh(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}or.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),Fh(e.segpts)};or.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),Fh(e.ctrlpts)};or.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var oo={};oo.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),a=t.outerHeight();if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*i),e.units[1]==="%"&&(o[1]=o[1]*a),o[0]+=n.x,o[1]+=n.y,o}else{var s=e.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(i,a),u=[n.x+Math.cos(s)*l,n.y+Math.sin(s)*l];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,a,u[0],u[1],0)}};oo.findEndpoints=function(t){var e=this,r,n=t.source()[0],i=t.target()[0],a=n.position(),o=i.position(),s=t.pstyle("target-arrow-shape").value,l=t.pstyle("source-arrow-shape").value,u=t.pstyle("target-distance-from-node").pfValue,c=t.pstyle("source-distance-from-node").pfValue,d=t.pstyle("curve-style").value,p=t._private.rscratch,m=p.edgeType,h=d==="taxi",y=m==="self"||m==="compound",w=m==="bezier"||m==="multibezier"||y,b=m!=="bezier",E=m==="straight"||m==="segments",S=m==="segments",x=w||b||E,A=y||h,_=t.pstyle("source-endpoint"),v=A?"outside-to-node":_.value,P=t.pstyle("target-endpoint"),k=A?"outside-to-node":P.value;p.srcManEndpt=_,p.tgtManEndpt=P;var B,N,M,z;if(w){var R=[p.ctrlpts[0],p.ctrlpts[1]],q=b?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:R;B=q,N=R}else if(E){var H=S?p.segpts.slice(0,2):[o.x,o.y],U=S?p.segpts.slice(p.segpts.length-2):[a.x,a.y];B=U,N=H}if(k==="inside-to-node")r=[o.x,o.y];else if(P.units)r=this.manualEndptToPx(i,P);else if(k==="outside-to-line")r=p.tgtIntn;else if(k==="outside-to-node"||k==="outside-to-node-or-label"?M=B:(k==="outside-to-line"||k==="outside-to-line-or-label")&&(M=[a.x,a.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(o.x,o.y,i.outerWidth(),i.outerHeight(),M[0],M[1],0),k==="outside-to-node-or-label"||k==="outside-to-line-or-label"){var X=i._private.rscratch,re=X.labelWidth,j=X.labelHeight,F=X.labelX,W=X.labelY,$=re/2,Y=j/2,Z=i.pstyle("text-valign").value;Z==="top"?W-=Y:Z==="bottom"&&(W+=Y);var ee=i.pstyle("text-halign").value;ee==="left"?F-=$:ee==="right"&&(F+=$);var G=Ha(M[0],M[1],[F-$,W-Y,F+$,W-Y,F+$,W+Y,F-$,W+Y],o.x,o.y);if(G.length>0){var ie=a,pe=ti(ie,Li(r)),ce=ti(ie,Li(G)),Se=pe;if(ce<pe&&(r=G,Se=ce),G.length>2){var Ne=ti(ie,{x:G[2],y:G[3]});Ne<Se&&(r=[G[2],G[3]])}}}var qe=Io(r,B,e.arrowShapes[s].spacing(t)+u),ke=Io(r,B,e.arrowShapes[s].gap(t)+u);if(p.endX=ke[0],p.endY=ke[1],p.arrowEndX=qe[0],p.arrowEndY=qe[1],v==="inside-to-node")r=[a.x,a.y];else if(_.units)r=this.manualEndptToPx(n,_);else if(v==="outside-to-line")r=p.srcIntn;else if(v==="outside-to-node"||v==="outside-to-node-or-label"?z=N:(v==="outside-to-line"||v==="outside-to-line-or-label")&&(z=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,n.outerWidth(),n.outerHeight(),z[0],z[1],0),v==="outside-to-node-or-label"||v==="outside-to-line-or-label"){var Ee=n._private.rscratch,xe=Ee.labelWidth,fe=Ee.labelHeight,le=Ee.labelX,Ae=Ee.labelY,Le=xe/2,Ge=fe/2,Re=n.pstyle("text-valign").value;Re==="top"?Ae-=Ge:Re==="bottom"&&(Ae+=Ge);var Me=n.pstyle("text-halign").value;Me==="left"?le-=Le:Me==="right"&&(le+=Le);var me=Ha(z[0],z[1],[le-Le,Ae-Ge,le+Le,Ae-Ge,le+Le,Ae+Ge,le-Le,Ae+Ge],a.x,a.y);if(me.length>0){var L=o,ne=ti(L,Li(r)),ye=ti(L,Li(me)),he=ne;if(ye<ne&&(r=[me[0],me[1]],he=ye),me.length>2){var de=ti(L,{x:me[2],y:me[3]});de<he&&(r=[me[2],me[3]])}}}var Ye=Io(r,N,e.arrowShapes[l].spacing(t)+c),ge=Io(r,N,e.arrowShapes[l].gap(t)+c);p.startX=ge[0],p.startY=ge[1],p.arrowStartX=Ye[0],p.arrowStartY=Ye[1],x&&(!Pe(p.startX)||!Pe(p.startY)||!Pe(p.endX)||!Pe(p.endY)?p.badLine=!0:p.badLine=!1)};oo.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};oo.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Pu={};function RE(t,e,r){for(var n=function(u,c,d,p){return Gt(u,c,d,p)},i=e._private,a=i.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var s=t.bezierProjPcts[o];a.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}Pu.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)RE(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var o=r.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Pu.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var on={};on.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Bn(e)){var r,n,i=t._private,a=t.width(),o=t.height(),s=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,d=i.rscratch,p=i.rstyle;switch(u){case"left":r=l.x-a/2-s;break;case"right":r=l.x+a/2+s;break;default:r=l.x}switch(c){case"top":n=l.y-o/2-s;break;case"bottom":n=l.y+o/2+s;break;default:n=l.y}d.labelX=r,d.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var $h=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},Hh=function(e,r){var n=r.x-e.x,i=r.y-e.y;return $h(n,i)},zE=function(e,r,n,i){var a=$a(0,i-.001,1),o=$a(0,i+.001,1),s=Ri(e,r,n,a),l=Ri(e,r,n,o);return Hh(s,l)};on.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,a={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:n.midX,y:n.midY};var o=function(d,p,m){Dn(r.rscratch,d,p,m),Dn(r.rstyle,d,p,m)};o("labelX",null,e.x),o("labelY",null,e.y);var s=$h(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var l=function c(){if(c.cache)return c.cache;for(var d=[],p=0;p+5<n.allpts.length;p+=4){var m={x:n.allpts[p],y:n.allpts[p+1]},h={x:n.allpts[p+2],y:n.allpts[p+3]},y={x:n.allpts[p+4],y:n.allpts[p+5]};d.push({p0:m,p1:h,p2:y,startDist:0,length:0,segments:[]})}var w=r.rstyle.bezierPts,b=i.bezierProjPcts.length;function E(v,P,k,B,N){var M=fi(P,k),z=v.segments[v.segments.length-1],R={p0:P,p1:k,t0:B,t1:N,startDist:z?z.startDist+z.length:0,length:M};v.segments.push(R),v.length+=M}for(var S=0;S<d.length;S++){var x=d[S],A=d[S-1];A&&(x.startDist=A.startDist+A.length),E(x,x.p0,w[S*b],0,i.bezierProjPcts[0]);for(var _=0;_<b-1;_++)E(x,w[S*b+_],w[S*b+_+1],i.bezierProjPcts[_],i.bezierProjPcts[_+1]);E(x,w[S*b+b-1],x.p2,i.bezierProjPcts[b-1],1)}return c.cache=d},u=function(d){var p,m=d==="source";if(a[d]){var h=t.pstyle(d+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=l(),w,b=0,E=0,S=0;S<y.length;S++){for(var x=y[m?S:y.length-1-S],A=0;A<x.segments.length;A++){var _=x.segments[m?A:x.segments.length-1-A],v=S===y.length-1&&A===x.segments.length-1;if(b=E,E+=_.length,E>=h||v){w={cp:x,segment:_};break}}if(w)break}var P=w.cp,k=w.segment,B=(h-b)/k.length,N=k.t1-k.t0,M=m?k.t0+N*B:k.t1-N*B;M=$a(0,M,1),e=Ri(P.p0,P.p1,P.p2,M),p=zE(P.p0,P.p1,P.p2,M);break}case"straight":case"segments":case"haystack":{for(var z=0,R,q,H,U,X=n.allpts.length,re=0;re+3<X&&(m?(H={x:n.allpts[re],y:n.allpts[re+1]},U={x:n.allpts[re+2],y:n.allpts[re+3]}):(H={x:n.allpts[X-2-re],y:n.allpts[X-1-re]},U={x:n.allpts[X-4-re],y:n.allpts[X-3-re]}),R=fi(H,U),q=z,z+=R,!(z>=h));re+=2);var j=h-q,F=j/R;F=$a(0,F,1),e=Jw(H,U,F),p=Hh(H,U);break}}o("labelX",d,e.x),o("labelY",d,e.y),o("labelAutoAngle",d,p)}};u("source"),u("target"),this.applyLabelDimensions(t)}};on.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};on.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,n),a=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,s=qr(r.rscratch,"labelWrapCachedLines",e)||[],l=o!=="wrap"?1:Math.max(s.length,1),u=i.height/l,c=u*a,d=i.width,p=i.height+(l-1)*(a-1)*u;Dn(r.rstyle,"labelWidth",e,d),Dn(r.rscratch,"labelWidth",e,d),Dn(r.rstyle,"labelHeight",e,p),Dn(r.rscratch,"labelHeight",e,p),Dn(r.rscratch,"labelLineHeight",e,c)};on.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,a=t.pstyle("text-transform").value,o=function(j,F){return F?(Dn(r.rscratch,j,e,F),F):qr(r.rscratch,j,e)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u="â",c=i.split(`
`),d=t.pstyle("text-max-width").pfValue,p=t.pstyle("text-overflow-wrap").value,m=p==="anywhere",h=[],y=/[\s\u200b]+/,w=m?"":" ",b=0;b<c.length;b++){var E=c[b],S=this.calculateLabelDimensions(t,E),x=S.width;if(m){var A=E.split("").join(u);E=A}if(x>d){for(var _=E.split(y),v="",P=0;P<_.length;P++){var k=_[P],B=v.length===0?k:v+w+k,N=this.calculateLabelDimensions(t,B),M=N.width;M<=d?v+=k+w:(v&&h.push(v),v=k+w)}v.match(/^[\s\u200b]+$/)||h.push(v)}else h.push(E)}o("labelWrapCachedLines",h),i=o("labelWrapCachedText",h.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var z=t.pstyle("text-max-width").pfValue,R="",q="â¦",H=!1;if(this.calculateLabelDimensions(t,i).width<z)return i;for(var U=0;U<i.length;U++){var X=this.calculateLabelDimensions(t,R+i[U]+q).width;if(X>z)break;R+=i[U],U===i.length-1&&(H=!0)}return H||(R+=q),R}return i};on.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};on.calculateLabelDimensions=function(t,e){var r=this,n=ci(e,t._private.labelDimsKey),i=r.labelDimCache||(r.labelDimCache=[]),a=i[n];if(a!=null)return a;var o=0,s=t.pstyle("font-style").strValue,l=t.pstyle("font-size").pfValue,u=t.pstyle("font-family").strValue,c=t.pstyle("font-weight").strValue,d=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!d){d=this.labelCalcCanvas=document.createElement("canvas"),p=this.labelCalcCanvasContext=d.getContext("2d");var m=d.style;m.position="absolute",m.left="-9999px",m.top="-9999px",m.zIndex="-1",m.visibility="hidden",m.pointerEvents="none"}p.font="".concat(s," ").concat(c," ").concat(l,"px ").concat(u);for(var h=0,y=0,w=e.split(`
`),b=0;b<w.length;b++){var E=w[b],S=p.measureText(E),x=Math.ceil(S.width),A=l;h=Math.max(x,h),y+=A}return h+=o,y+=o,i[n]={width:h,height:y}};on.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),a=e?e+"-":"",o=t.pstyle(a+"text-rotation"),s=o.strValue;return s==="none"?0:i&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};on.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var qh={},wf=28,xf=!1;qh.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<wf||t.height()<wf))return xf||(yt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),xf=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Ns={};Ns.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),s)for(var l=0;l<o.length;l++){var u=o[l],c=u._private,d=c.rstyle;d.clean=!1,d.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var i=function(o){if(o){var s=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(n(u.connectedEdges()),c.cleanConnected=!0)}if(s)for(var d=0;d<s.length;d++){var p=s[d];p(o,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};Ns.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Ns.recalculateRenderedStyle=function(t,e){var r=function(x){return x._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<t.length;a++){var o=t[a],s=o._private,l=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(l.clean=!1),!(e&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(o):n.push(o),l.clean=!0)}for(var u=0;u<i.length;u++){var c=i[u],d=c._private,p=d.rstyle,m=c.position();this.recalculateNodeLabelProjection(c),p.nodeX=m.x,p.nodeY=m.y,p.nodeW=c.pstyle("width").pfValue,p.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var h=0;h<n.length;h++){var y=n[h],w=y._private,b=w.rstyle,E=w.rscratch;b.srcX=E.arrowStartX,b.srcY=E.arrowStartY,b.tgtX=E.arrowEndX,b.tgtY=E.arrowEndY,b.midX=E.midX,b.midY=E.midY,b.labelAngle=E.labelAngle,b.sourceLabelAngle=E.sourceLabelAngle,b.targetLabelAngle=E.targetLabelAngle}}};var Bs={};Bs.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Bs.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Bs.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Ah),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Vh={};[mi,us,or,oo,Pu,on,qh,Ns,Bs].forEach(function(t){Qe(Vh,t)});var Wh={};Wh.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[t];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[t]=i[t]||{};var o=a.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",l=t.substring(0,s.length).toLowerCase()===s;return l||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o};var ia={};ia.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(t);return a.on.apply(a,i)};ia.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||iw(t);if(e.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=i}var o=function(l,u,c){var d=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(d[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:d}),(t.addEventListener||t.on).apply(t,d),this};return{on:o,addEventListener:o,addListener:o,bind:o}};ia.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};ia.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};ia.load=function(){var t=this,e=t.cy.window(),r=function(L){return L.selected()},n=function(L,ne,ye,he){L==null&&(L=t.cy);for(var de=0;de<ne.length;de++){var Ye=ne[de];L.emit({originalEvent:ye,type:Ye,position:he})}},i=function(L){return L.shiftKey||L.metaKey||L.ctrlKey},a=function(L,ne){var ye=!0;if(t.cy.hasCompoundNodes()&&L&&L.pannable())for(var he=0;ne&&he<ne.length;he++){var L=ne[he];if(L.isNode()&&L.isParent()&&!L.pannable()){ye=!1;break}}else ye=!0;return ye},o=function(L){L[0]._private.grabbed=!0},s=function(L){L[0]._private.grabbed=!1},l=function(L){L[0]._private.rscratch.inDragLayer=!0},u=function(L){L[0]._private.rscratch.inDragLayer=!1},c=function(L){L[0]._private.rscratch.isGrabTarget=!0},d=function(L){L[0]._private.rscratch.isGrabTarget=!1},p=function(L,ne){var ye=ne.addToList,he=ye.has(L);!he&&L.grabbable()&&!L.locked()&&(ye.merge(L),o(L))},m=function(L,ne){if(L.cy().hasCompoundNodes()&&!(ne.inDragLayer==null&&ne.addToList==null)){var ye=L.descendants();ne.inDragLayer&&(ye.forEach(l),ye.connectedEdges().forEach(l)),ne.addToList&&p(ye,ne)}},h=function(L,ne){ne=ne||{};var ye=L.cy().hasCompoundNodes();ne.inDragLayer&&(L.forEach(l),L.neighborhood().stdFilter(function(he){return!ye||he.isEdge()}).forEach(l)),ne.addToList&&L.forEach(function(he){p(he,ne)}),m(L,ne),b(L,{inDragLayer:ne.inDragLayer}),t.updateCachedGrabbedEles()},y=h,w=function(L){L&&(t.getCachedZSortedEles().forEach(function(ne){s(ne),u(ne),d(ne)}),t.updateCachedGrabbedEles())},b=function(L,ne){if(!(ne.inDragLayer==null&&ne.addToList==null)&&L.cy().hasCompoundNodes()){var ye=L.ancestors().orphans();if(!ye.same(L)){var he=ye.descendants().spawnSelf().merge(ye).unmerge(L).unmerge(L.descendants()),de=he.connectedEdges();ne.inDragLayer&&(de.forEach(l),he.forEach(l)),ne.addToList&&he.forEach(function(Ye){p(Ye,ne)})}}},E=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},S=typeof MutationObserver<"u",x=typeof ResizeObserver<"u";S?(t.removeObserver=new MutationObserver(function(me){for(var L=0;L<me.length;L++){var ne=me[L],ye=ne.removedNodes;if(ye)for(var he=0;he<ye.length;he++){var de=ye[he];if(de===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(me){t.destroy()});var A=Cs.default(function(){t.cy.resize()},100);S&&(t.styleObserver=new MutationObserver(A),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",A),x&&(t.resizeObserver=new ResizeObserver(A),t.resizeObserver.observe(t.container));var _=function(L,ne){for(;L!=null;)ne(L),L=L.parentNode},v=function(){t.invalidateContainerClientCoordsCache()};_(t.container,function(me){t.registerBinding(me,"transitionend",v),t.registerBinding(me,"animationend",v),t.registerBinding(me,"scroll",v)}),t.registerBinding(t.container,"contextmenu",function(me){me.preventDefault()});var P=function(){return t.selection[4]!==0},k=function(L){for(var ne=t.findContainerClientCoords(),ye=ne[0],he=ne[1],de=ne[2],Ye=ne[3],ge=L.touches?L.touches:[L],ze=!1,Ke=0;Ke<ge.length;Ke++){var ae=ge[Ke];if(ye<=ae.clientX&&ae.clientX<=ye+de&&he<=ae.clientY&&ae.clientY<=he+Ye){ze=!0;break}}if(!ze)return!1;for(var Ce=t.container,De=L.target,Oe=De.parentNode,Be=!1;Oe;){if(Oe===Ce){Be=!0;break}Oe=Oe.parentNode}return!!Be};t.registerBinding(t.container,"mousedown",function(L){if(k(L)){L.preventDefault(),E(),t.hoverData.capture=!0,t.hoverData.which=L.which;var ne=t.cy,ye=[L.clientX,L.clientY],he=t.projectIntoViewport(ye[0],ye[1]),de=t.selection,Ye=t.findNearestElements(he[0],he[1],!0,!1),ge=Ye[0],ze=t.dragData.possibleDragElements;t.hoverData.mdownPos=he,t.hoverData.mdownGPos=ye;var Ke=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var rt=t.hoverData.down;rt?rt.emit({originalEvent:L,type:"taphold",position:{x:he[0],y:he[1]}}):ne.emit({originalEvent:L,type:"taphold",position:{x:he[0],y:he[1]}})}},t.tapholdDuration)};if(L.which==3){t.hoverData.cxtStarted=!0;var ae={originalEvent:L,type:"cxttapstart",position:{x:he[0],y:he[1]}};ge?(ge.activate(),ge.emit(ae),t.hoverData.down=ge):ne.emit(ae),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(L.which==1){ge&&ge.activate();{if(ge!=null&&t.nodeIsGrabbable(ge)){var Ce=function(rt){return{originalEvent:L,type:rt,position:{x:he[0],y:he[1]}}},De=function(rt){rt.emit(Ce("grab"))};if(c(ge),!ge.selected())ze=t.dragData.possibleDragElements=ne.collection(),y(ge,{addToList:ze}),ge.emit(Ce("grabon")).emit(Ce("grab"));else{ze=t.dragData.possibleDragElements=ne.collection();var Oe=ne.$(function(Be){return Be.isNode()&&Be.selected()&&t.nodeIsGrabbable(Be)});h(Oe,{addToList:ze}),ge.emit(Ce("grabon")),Oe.forEach(De)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ge,t.hoverData.downs=Ye,t.hoverData.downTime=new Date().getTime()}n(ge,["mousedown","tapstart","vmousedown"],L,{x:he[0],y:he[1]}),ge==null?(de[4]=1,t.data.bgActivePosistion={x:he[0],y:he[1]},t.redrawHint("select",!0),t.redraw()):ge.pannable()&&(de[4]=1),Ke()}de[0]=de[2]=he[0],de[1]=de[3]=he[1]}},!1),t.registerBinding(e,"mousemove",function(L){var ne=t.hoverData.capture;if(!(!ne&&!k(L))){var ye=!1,he=t.cy,de=he.zoom(),Ye=[L.clientX,L.clientY],ge=t.projectIntoViewport(Ye[0],Ye[1]),ze=t.hoverData.mdownPos,Ke=t.hoverData.mdownGPos,ae=t.selection,Ce=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Ce=t.findNearestElement(ge[0],ge[1],!0,!1));var De=t.hoverData.last,Oe=t.hoverData.down,Be=[ge[0]-ae[2],ge[1]-ae[3]],rt=t.dragData.possibleDragElements,vt;if(Ke){var Dt=Ye[0]-Ke[0],zt=Dt*Dt,xt=Ye[1]-Ke[1],Ft=xt*xt,ct=zt+Ft;t.hoverData.isOverThresholdDrag=vt=ct>=t.desktopTapThreshold2}var mt=i(L);vt&&(t.hoverData.tapholdCancelled=!0);var fr=function(){var _r=t.hoverData.dragDelta=t.hoverData.dragDelta||[];_r.length===0?(_r.push(Be[0]),_r.push(Be[1])):(_r[0]+=Be[0],_r[1]+=Be[1])};ye=!0,n(Ce,["mousemove","vmousemove","tapdrag"],L,{x:ge[0],y:ge[1]});var kr=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||he.emit({originalEvent:L,type:"boxstart",position:{x:ge[0],y:ge[1]}}),ae[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(vt){var sr={originalEvent:L,type:"cxtdrag",position:{x:ge[0],y:ge[1]}};Oe?Oe.emit(sr):he.emit(sr),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Ce!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:L,type:"cxtdragout",position:{x:ge[0],y:ge[1]}}),t.hoverData.cxtOver=Ce,Ce&&Ce.emit({originalEvent:L,type:"cxtdragover",position:{x:ge[0],y:ge[1]}}))}}else if(t.hoverData.dragging){if(ye=!0,he.panningEnabled()&&he.userPanningEnabled()){var ln;if(t.hoverData.justStartedPan){var Rr=t.hoverData.mdownPos;ln={x:(ge[0]-Rr[0])*de,y:(ge[1]-Rr[1])*de},t.hoverData.justStartedPan=!1}else ln={x:Be[0]*de,y:Be[1]*de};he.panBy(ln),he.emit("dragpan"),t.hoverData.dragged=!0}ge=t.projectIntoViewport(L.clientX,L.clientY)}else if(ae[4]==1&&(Oe==null||Oe.pannable())){if(vt){if(!t.hoverData.dragging&&he.boxSelectionEnabled()&&(mt||!he.panningEnabled()||!he.userPanningEnabled()))kr();else if(!t.hoverData.selecting&&he.panningEnabled()&&he.userPanningEnabled()){var dr=a(Oe,t.hoverData.downs);dr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,ae[4]=0,t.data.bgActivePosistion=Li(ze),t.redrawHint("select",!0),t.redraw())}Oe&&Oe.pannable()&&Oe.active()&&Oe.unactivate()}}else{if(Oe&&Oe.pannable()&&Oe.active()&&Oe.unactivate(),(!Oe||!Oe.grabbed())&&Ce!=De&&(De&&n(De,["mouseout","tapdragout"],L,{x:ge[0],y:ge[1]}),Ce&&n(Ce,["mouseover","tapdragover"],L,{x:ge[0],y:ge[1]}),t.hoverData.last=Ce),Oe)if(vt){if(he.boxSelectionEnabled()&&mt)Oe&&Oe.grabbed()&&(w(rt),Oe.emit("freeon"),rt.emit("free"),t.dragData.didDrag&&(Oe.emit("dragfreeon"),rt.emit("dragfree"))),kr();else if(Oe&&Oe.grabbed()&&t.nodeIsDraggable(Oe)){var Ut=!t.dragData.didDrag;Ut&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||h(rt,{inDragLayer:!0});var Rt={x:0,y:0};if(Pe(Be[0])&&Pe(Be[1])&&(Rt.x+=Be[0],Rt.y+=Be[1],Ut)){var er=t.hoverData.dragDelta;er&&Pe(er[0])&&Pe(er[1])&&(Rt.x+=er[0],Rt.y+=er[1])}t.hoverData.draggingEles=!0,rt.silentShift(Rt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else fr();ye=!0}if(ae[2]=ge[0],ae[3]=ge[1],ye)return L.stopPropagation&&L.stopPropagation(),L.preventDefault&&L.preventDefault(),!1}},!1);var B,N,M;t.registerBinding(e,"mouseup",function(L){var ne=t.hoverData.capture;if(ne){t.hoverData.capture=!1;var ye=t.cy,he=t.projectIntoViewport(L.clientX,L.clientY),de=t.selection,Ye=t.findNearestElement(he[0],he[1],!0,!1),ge=t.dragData.possibleDragElements,ze=t.hoverData.down,Ke=i(L);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,ze&&ze.unactivate(),t.hoverData.which===3){var ae={originalEvent:L,type:"cxttapend",position:{x:he[0],y:he[1]}};if(ze?ze.emit(ae):ye.emit(ae),!t.hoverData.cxtDragged){var Ce={originalEvent:L,type:"cxttap",position:{x:he[0],y:he[1]}};ze?ze.emit(Ce):ye.emit(Ce)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(n(Ye,["mouseup","tapend","vmouseup"],L,{x:he[0],y:he[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(n(ze,["click","tap","vclick"],L,{x:he[0],y:he[1]}),N=!1,L.timeStamp-M<=ye.multiClickDebounceTime()?(B&&clearTimeout(B),N=!0,M=null,n(ze,["dblclick","dbltap","vdblclick"],L,{x:he[0],y:he[1]})):(B=setTimeout(function(){N||n(ze,["oneclick","onetap","voneclick"],L,{x:he[0],y:he[1]})},ye.multiClickDebounceTime()),M=L.timeStamp)),ze==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!i(L)&&(ye.$(r).unselect(["tapunselect"]),ge.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ge=ye.collection()),Ye==ze&&!t.dragData.didDrag&&!t.hoverData.selecting&&Ye!=null&&Ye._private.selectable&&(t.hoverData.dragging||(ye.selectionType()==="additive"||Ke?Ye.selected()?Ye.unselect(["tapunselect"]):Ye.select(["tapselect"]):Ke||(ye.$(r).unmerge(Ye).unselect(["tapunselect"]),Ye.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var De=ye.collection(t.getAllInBox(de[0],de[1],de[2],de[3]));t.redrawHint("select",!0),De.length>0&&t.redrawHint("eles",!0),ye.emit({type:"boxend",originalEvent:L,position:{x:he[0],y:he[1]}});var Oe=function(vt){return vt.selectable()&&!vt.selected()};ye.selectionType()==="additive"||Ke||ye.$(r).unmerge(De).unselect(),De.emit("box").stdFilter(Oe).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!de[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Be=ze&&ze.grabbed();w(ge),Be&&(ze.emit("freeon"),ge.emit("free"),t.dragData.didDrag&&(ze.emit("dragfreeon"),ge.emit("dragfree")))}}de[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1);var z=function(L){if(!t.scrollingPage){var ne=t.cy,ye=ne.zoom(),he=ne.pan(),de=t.projectIntoViewport(L.clientX,L.clientY),Ye=[de[0]*ye+he.x,de[1]*ye+he.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||P()){L.preventDefault();return}if(ne.panningEnabled()&&ne.userPanningEnabled()&&ne.zoomingEnabled()&&ne.userZoomingEnabled()){L.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ge;L.deltaY!=null?ge=L.deltaY/-250:L.wheelDeltaY!=null?ge=L.wheelDeltaY/1e3:ge=L.wheelDelta/1e3,ge=ge*t.wheelSensitivity;var ze=L.deltaMode===1;ze&&(ge*=33);var Ke=ne.zoom()*Math.pow(10,ge);L.type==="gesturechange"&&(Ke=t.gestureStartZoom*L.scale),ne.zoom({level:Ke,renderedPosition:{x:Ye[0],y:Ye[1]}}),ne.emit(L.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",z,!0),t.registerBinding(e,"scroll",function(L){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(L){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||L.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(me){t.hasTouchStarted||z(me)},!0),t.registerBinding(t.container,"mouseout",function(L){var ne=t.projectIntoViewport(L.clientX,L.clientY);t.cy.emit({originalEvent:L,type:"mouseout",position:{x:ne[0],y:ne[1]}})},!1),t.registerBinding(t.container,"mouseover",function(L){var ne=t.projectIntoViewport(L.clientX,L.clientY);t.cy.emit({originalEvent:L,type:"mouseover",position:{x:ne[0],y:ne[1]}})},!1);var R,q,H,U,X,re,j,F,W,$,Y,Z,ee,G=function(L,ne,ye,he){return Math.sqrt((ye-L)*(ye-L)+(he-ne)*(he-ne))},ie=function(L,ne,ye,he){return(ye-L)*(ye-L)+(he-ne)*(he-ne)},pe;t.registerBinding(t.container,"touchstart",pe=function(L){if(t.hasTouchStarted=!0,!!k(L)){E(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var ne=t.cy,ye=t.touchData.now,he=t.touchData.earlier;if(L.touches[0]){var de=t.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);ye[0]=de[0],ye[1]=de[1]}if(L.touches[1]){var de=t.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);ye[2]=de[0],ye[3]=de[1]}if(L.touches[2]){var de=t.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);ye[4]=de[0],ye[5]=de[1]}if(L.touches[1]){t.touchData.singleTouchMoved=!0,w(t.dragData.touchDragEles);var Ye=t.findContainerClientCoords();W=Ye[0],$=Ye[1],Y=Ye[2],Z=Ye[3],R=L.touches[0].clientX-W,q=L.touches[0].clientY-$,H=L.touches[1].clientX-W,U=L.touches[1].clientY-$,ee=0<=R&&R<=Y&&0<=H&&H<=Y&&0<=q&&q<=Z&&0<=U&&U<=Z;var ge=ne.pan(),ze=ne.zoom();X=G(R,q,H,U),re=ie(R,q,H,U),j=[(R+H)/2,(q+U)/2],F=[(j[0]-ge.x)/ze,(j[1]-ge.y)/ze];var Ke=200,ae=Ke*Ke;if(re<ae&&!L.touches[2]){var Ce=t.findNearestElement(ye[0],ye[1],!0,!0),De=t.findNearestElement(ye[2],ye[3],!0,!0);Ce&&Ce.isNode()?(Ce.activate().emit({originalEvent:L,type:"cxttapstart",position:{x:ye[0],y:ye[1]}}),t.touchData.start=Ce):De&&De.isNode()?(De.activate().emit({originalEvent:L,type:"cxttapstart",position:{x:ye[0],y:ye[1]}}),t.touchData.start=De):ne.emit({originalEvent:L,type:"cxttapstart",position:{x:ye[0],y:ye[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(L.touches[2])ne.boxSelectionEnabled()&&L.preventDefault();else if(!L.touches[1]){if(L.touches[0]){var Oe=t.findNearestElements(ye[0],ye[1],!0,!0),Be=Oe[0];if(Be!=null&&(Be.activate(),t.touchData.start=Be,t.touchData.starts=Oe,t.nodeIsGrabbable(Be))){var rt=t.dragData.touchDragEles=ne.collection(),vt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Be.selected()?(vt=ne.$(function(ct){return ct.selected()&&t.nodeIsGrabbable(ct)}),h(vt,{addToList:rt})):y(Be,{addToList:rt}),c(Be);var Dt=function(mt){return{originalEvent:L,type:mt,position:{x:ye[0],y:ye[1]}}};Be.emit(Dt("grabon")),vt?vt.forEach(function(ct){ct.emit(Dt("grab"))}):Be.emit(Dt("grab"))}n(Be,["touchstart","tapstart","vmousedown"],L,{x:ye[0],y:ye[1]}),Be==null&&(t.data.bgActivePosistion={x:de[0],y:de[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&n(t.touchData.start,["taphold"],L,{x:ye[0],y:ye[1]})},t.tapholdDuration)}}if(L.touches.length>=1){for(var zt=t.touchData.startPosition=[null,null,null,null,null,null],xt=0;xt<ye.length;xt++)zt[xt]=he[xt]=ye[xt];var Ft=L.touches[0];t.touchData.startGPosition=[Ft.clientX,Ft.clientY]}}},!1);var ce;t.registerBinding(window,"touchmove",ce=function(L){var ne=t.touchData.capture;if(!(!ne&&!k(L))){var ye=t.selection,he=t.cy,de=t.touchData.now,Ye=t.touchData.earlier,ge=he.zoom();if(L.touches[0]){var ze=t.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);de[0]=ze[0],de[1]=ze[1]}if(L.touches[1]){var ze=t.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);de[2]=ze[0],de[3]=ze[1]}if(L.touches[2]){var ze=t.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);de[4]=ze[0],de[5]=ze[1]}var Ke=t.touchData.startGPosition,ae;if(ne&&L.touches[0]&&Ke){for(var Ce=[],De=0;De<de.length;De++)Ce[De]=de[De]-Ye[De];var Oe=L.touches[0].clientX-Ke[0],Be=Oe*Oe,rt=L.touches[0].clientY-Ke[1],vt=rt*rt,Dt=Be+vt;ae=Dt>=t.touchTapThreshold2}if(ne&&t.touchData.cxt){L.preventDefault();var zt=L.touches[0].clientX-W,xt=L.touches[0].clientY-$,Ft=L.touches[1].clientX-W,ct=L.touches[1].clientY-$,mt=ie(zt,xt,Ft,ct),fr=mt/re,kr=150,sr=kr*kr,ln=1.5,Rr=ln*ln;if(fr>=Rr||mt>=sr){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var dr={originalEvent:L,type:"cxttapend",position:{x:de[0],y:de[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(dr),t.touchData.start=null):he.emit(dr)}}if(ne&&t.touchData.cxt){var dr={originalEvent:L,type:"cxtdrag",position:{x:de[0],y:de[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(dr):he.emit(dr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Ut=t.findNearestElement(de[0],de[1],!0,!0);(!t.touchData.cxtOver||Ut!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:L,type:"cxtdragout",position:{x:de[0],y:de[1]}}),t.touchData.cxtOver=Ut,Ut&&Ut.emit({originalEvent:L,type:"cxtdragover",position:{x:de[0],y:de[1]}}))}else if(ne&&L.touches[2]&&he.boxSelectionEnabled())L.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||he.emit({originalEvent:L,type:"boxstart",position:{x:de[0],y:de[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,ye[4]=1,!ye||ye.length===0||ye[0]===void 0?(ye[0]=(de[0]+de[2]+de[4])/3,ye[1]=(de[1]+de[3]+de[5])/3,ye[2]=(de[0]+de[2]+de[4])/3+1,ye[3]=(de[1]+de[3]+de[5])/3+1):(ye[2]=(de[0]+de[2]+de[4])/3,ye[3]=(de[1]+de[3]+de[5])/3),t.redrawHint("select",!0),t.redraw();else if(ne&&L.touches[1]&&!t.touchData.didSelect&&he.zoomingEnabled()&&he.panningEnabled()&&he.userZoomingEnabled()&&he.userPanningEnabled()){L.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Rt=t.dragData.touchDragEles;if(Rt){t.redrawHint("drag",!0);for(var er=0;er<Rt.length;er++){var bi=Rt[er]._private;bi.grabbed=!1,bi.rscratch.inDragLayer=!1}}var _r=t.touchData.start,zt=L.touches[0].clientX-W,xt=L.touches[0].clientY-$,Ft=L.touches[1].clientX-W,ct=L.touches[1].clientY-$,la=G(zt,xt,Ft,ct),$s=la/X;if(ee){var Hs=zt-R,ho=xt-q,qs=Ft-H,En=ct-U,vo=(Hs+qs)/2,ua=(ho+En)/2,un=he.zoom(),Cn=un*$s,jn=he.pan(),po=F[0]*un+jn.x,Sn=F[1]*un+jn.y,go={x:-Cn/un*(po-jn.x-vo)+po,y:-Cn/un*(Sn-jn.y-ua)+Sn};if(_r&&_r.active()){var Rt=t.dragData.touchDragEles;w(Rt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),_r.unactivate().emit("freeon"),Rt.emit("free"),t.dragData.didDrag&&(_r.emit("dragfreeon"),Rt.emit("dragfree"))}he.viewport({zoom:Cn,pan:go,cancelOnFailedZoom:!0}),he.emit("pinchzoom"),X=la,R=zt,q=xt,H=Ft,U=ct,t.pinching=!0}if(L.touches[0]){var ze=t.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);de[0]=ze[0],de[1]=ze[1]}if(L.touches[1]){var ze=t.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);de[2]=ze[0],de[3]=ze[1]}if(L.touches[2]){var ze=t.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);de[4]=ze[0],de[5]=ze[1]}}else if(L.touches[0]&&!t.touchData.didSelect){var hr=t.touchData.start,wi=t.touchData.last,Ut;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Ut=t.findNearestElement(de[0],de[1],!0,!0)),ne&&hr!=null&&L.preventDefault(),ne&&hr!=null&&t.nodeIsDraggable(hr))if(ae){var Rt=t.dragData.touchDragEles,ca=!t.dragData.didDrag;ca&&h(Rt,{inDragLayer:!0}),t.dragData.didDrag=!0;var Kn={x:0,y:0};if(Pe(Ce[0])&&Pe(Ce[1])&&(Kn.x+=Ce[0],Kn.y+=Ce[1],ca)){t.redrawHint("eles",!0);var lr=t.touchData.dragDelta;lr&&Pe(lr[0])&&Pe(lr[1])&&(Kn.x+=lr[0],Kn.y+=lr[1])}t.hoverData.draggingEles=!0,Rt.silentShift(Kn).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Ye[0]&&t.touchData.startPosition[1]==Ye[1]&&t.redrawHint("eles",!0),t.redraw()}else{var lr=t.touchData.dragDelta=t.touchData.dragDelta||[];lr.length===0?(lr.push(Ce[0]),lr.push(Ce[1])):(lr[0]+=Ce[0],lr[1]+=Ce[1])}if(n(hr||Ut,["touchmove","tapdrag","vmousemove"],L,{x:de[0],y:de[1]}),(!hr||!hr.grabbed())&&Ut!=wi&&(wi&&wi.emit({originalEvent:L,type:"tapdragout",position:{x:de[0],y:de[1]}}),Ut&&Ut.emit({originalEvent:L,type:"tapdragover",position:{x:de[0],y:de[1]}})),t.touchData.last=Ut,ne)for(var er=0;er<de.length;er++)de[er]&&t.touchData.startPosition[er]&&ae&&(t.touchData.singleTouchMoved=!0);if(ne&&(hr==null||hr.pannable())&&he.panningEnabled()&&he.userPanningEnabled()){var Vs=a(hr,t.touchData.starts);Vs&&(L.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Li(t.touchData.startPosition)),t.swipePanning?(he.panBy({x:Ce[0]*ge,y:Ce[1]*ge}),he.emit("dragpan")):ae&&(t.swipePanning=!0,he.panBy({x:Oe*ge,y:rt*ge}),he.emit("dragpan"),hr&&(hr.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var ze=t.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);de[0]=ze[0],de[1]=ze[1]}}for(var De=0;De<de.length;De++)Ye[De]=de[De];ne&&L.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Se;t.registerBinding(e,"touchcancel",Se=function(L){var ne=t.touchData.start;t.touchData.capture=!1,ne&&ne.unactivate()});var Ne,qe,ke,Ee;if(t.registerBinding(e,"touchend",Ne=function(L){var ne=t.touchData.start,ye=t.touchData.capture;if(ye)L.touches.length===0&&(t.touchData.capture=!1),L.preventDefault();else return;var he=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var de=t.cy,Ye=de.zoom(),ge=t.touchData.now,ze=t.touchData.earlier;if(L.touches[0]){var Ke=t.projectIntoViewport(L.touches[0].clientX,L.touches[0].clientY);ge[0]=Ke[0],ge[1]=Ke[1]}if(L.touches[1]){var Ke=t.projectIntoViewport(L.touches[1].clientX,L.touches[1].clientY);ge[2]=Ke[0],ge[3]=Ke[1]}if(L.touches[2]){var Ke=t.projectIntoViewport(L.touches[2].clientX,L.touches[2].clientY);ge[4]=Ke[0],ge[5]=Ke[1]}ne&&ne.unactivate();var ae;if(t.touchData.cxt){if(ae={originalEvent:L,type:"cxttapend",position:{x:ge[0],y:ge[1]}},ne?ne.emit(ae):de.emit(ae),!t.touchData.cxtDragged){var Ce={originalEvent:L,type:"cxttap",position:{x:ge[0],y:ge[1]}};ne?ne.emit(Ce):de.emit(Ce)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!L.touches[2]&&de.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var De=de.collection(t.getAllInBox(he[0],he[1],he[2],he[3]));he[0]=void 0,he[1]=void 0,he[2]=void 0,he[3]=void 0,he[4]=0,t.redrawHint("select",!0),de.emit({type:"boxend",originalEvent:L,position:{x:ge[0],y:ge[1]}});var Oe=function(sr){return sr.selectable()&&!sr.selected()};De.emit("box").stdFilter(Oe).select().emit("boxselect"),De.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(ne!=null&&ne.unactivate(),L.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!L.touches[1]){if(!L.touches[0]){if(!L.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Be=t.dragData.touchDragEles;if(ne!=null){var rt=ne._private.grabbed;w(Be),t.redrawHint("drag",!0),t.redrawHint("eles",!0),rt&&(ne.emit("freeon"),Be.emit("free"),t.dragData.didDrag&&(ne.emit("dragfreeon"),Be.emit("dragfree"))),n(ne,["touchend","tapend","vmouseup","tapdragout"],L,{x:ge[0],y:ge[1]}),ne.unactivate(),t.touchData.start=null}else{var vt=t.findNearestElement(ge[0],ge[1],!0,!0);n(vt,["touchend","tapend","vmouseup","tapdragout"],L,{x:ge[0],y:ge[1]})}var Dt=t.touchData.startPosition[0]-ge[0],zt=Dt*Dt,xt=t.touchData.startPosition[1]-ge[1],Ft=xt*xt,ct=zt+Ft,mt=ct*Ye*Ye;t.touchData.singleTouchMoved||(ne||de.$(":selected").unselect(["tapunselect"]),n(ne,["tap","vclick"],L,{x:ge[0],y:ge[1]}),qe=!1,L.timeStamp-Ee<=de.multiClickDebounceTime()?(ke&&clearTimeout(ke),qe=!0,Ee=null,n(ne,["dbltap","vdblclick"],L,{x:ge[0],y:ge[1]})):(ke=setTimeout(function(){qe||n(ne,["onetap","voneclick"],L,{x:ge[0],y:ge[1]})},de.multiClickDebounceTime()),Ee=L.timeStamp)),ne!=null&&!t.dragData.didDrag&&ne._private.selectable&&mt<t.touchTapThreshold2&&!t.pinching&&(de.selectionType()==="single"?(de.$(r).unmerge(ne).unselect(["tapunselect"]),ne.select(["tapselect"])):ne.selected()?ne.unselect(["tapunselect"]):ne.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var fr=0;fr<ge.length;fr++)ze[fr]=ge[fr];t.dragData.didDrag=!1,L.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),L.touches.length<2&&(L.touches.length===1&&(t.touchData.startGPosition=[L.touches[0].clientX,L.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var xe=[],fe=function(L){return{clientX:L.clientX,clientY:L.clientY,force:1,identifier:L.pointerId,pageX:L.pageX,pageY:L.pageY,radiusX:L.width/2,radiusY:L.height/2,screenX:L.screenX,screenY:L.screenY,target:L.target}},le=function(L){return{event:L,touch:fe(L)}},Ae=function(L){xe.push(le(L))},Le=function(L){for(var ne=0;ne<xe.length;ne++){var ye=xe[ne];if(ye.event.pointerId===L.pointerId){xe.splice(ne,1);return}}},Ge=function(L){var ne=xe.filter(function(ye){return ye.event.pointerId===L.pointerId})[0];ne.event=L,ne.touch=fe(L)},Re=function(L){L.touches=xe.map(function(ne){return ne.touch})},Me=function(L){return L.pointerType==="mouse"||L.pointerType===4};t.registerBinding(t.container,"pointerdown",function(me){Me(me)||(me.preventDefault(),Ae(me),Re(me),pe(me))}),t.registerBinding(t.container,"pointerup",function(me){Me(me)||(Le(me),Re(me),Ne(me))}),t.registerBinding(t.container,"pointercancel",function(me){Me(me)||(Le(me),Re(me),Se(me))}),t.registerBinding(t.container,"pointermove",function(me){Me(me)||(me.preventDefault(),Ge(me),Re(me),ce(me))})}};var wn={};wn.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,a,o,s){this.renderer.nodeShapeImpl("polygon",n,i,a,o,s,this.points)},intersectLine:function(n,i,a,o,s,l,u){return Ha(s,l,this.points,n,i,a/2,o/2,u)},checkPoint:function(n,i,a,o,s,l,u){return pn(n,i,this.points,l,u,o,s,[0,-1],a)}}};wn.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,o,s){return d1(a,o,e,r,n/2+s,i/2+s)},checkPoint:function(e,r,n,i,a,o,s){return si(e,r,i,a,o,s,n)}}};wn.generateRoundPolygon=function(t,e){for(var r=new Array(e.length*2),n=0;n<e.length/2;n++){var i=n*2,a=void 0;n<e.length/2-1?a=(n+1)*2:a=0,r[n*4]=e[i],r[n*4+1]=e[i+1];var o=e[a]-e[i],s=e[a+1]-e[i+1],l=Math.sqrt(o*o+s*s);r[n*4+2]=o/l,r[n*4+3]=s/l}return this.nodeShapes[t]={renderer:this,name:t,points:r,draw:function(c,d,p,m,h){this.renderer.nodeShapeImpl("round-polygon",c,d,p,m,h,this.points)},intersectLine:function(c,d,p,m,h,y,w){return h1(h,y,this.points,c,d,p,m)},checkPoint:function(c,d,p,m,h,y,w){return f1(c,d,this.points,y,w,m,h)}}};wn.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:cr(4,0),draw:function(e,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,o,s){return Jd(a,o,e,r,n,i,s)},checkPoint:function(e,r,n,i,a,o,s){var l=no(i,a),u=l*2;return!!(pn(e,r,this.points,o,s,i,a-u,[0,-1],n)||pn(e,r,this.points,o,s,i-u,a,[0,-1],n)||si(e,r,u,u,o-i/2+l,s-a/2+l,n)||si(e,r,u,u,o+i/2-l,s-a/2+l,n)||si(e,r,u,u,o+i/2-l,s+a/2-l,n)||si(e,r,u,u,o-i/2+l,s+a/2-l,n))}}};wn.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:nh(),points:cr(4,0),draw:function(e,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},generateCutTrianglePts:function(e,r,n,i){var a=this.cornerLength,o=r/2,s=e/2,l=n-s,u=n+s,c=i-o,d=i+o;return{topLeft:[l,c+a,l+a,c,l+a,c+a],topRight:[u-a,c,u,c+a,u-a,c+a],bottomRight:[u,d-a,u-a,d,u-a,d-a],bottomLeft:[l+a,d,l,d-a,l+a,d-a]}},intersectLine:function(e,r,n,i,a,o,s){var l=this.generateCutTrianglePts(n+2*s,i+2*s,e,r),u=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Ha(a,o,u,e,r)},checkPoint:function(e,r,n,i,a,o,s){if(pn(e,r,this.points,o,s,i,a-2*this.cornerLength,[0,-1],n)||pn(e,r,this.points,o,s,i-2*this.cornerLength,a,[0,-1],n))return!0;var l=this.generateCutTrianglePts(i,a,o,s);return gr(e,r,l.topLeft)||gr(e,r,l.topRight)||gr(e,r,l.bottomRight)||gr(e,r,l.bottomLeft)}}};wn.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:cr(4,0),draw:function(e,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,o,s){var l=.15,u=.5,c=.85,d=this.generateBarrelBezierPts(n+2*s,i+2*s,e,r),p=function(y){var w=Ri({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},l),b=Ri({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},u),E=Ri({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},c);return[y[0],y[1],w.x,w.y,b.x,b.y,E.x,E.y,y[4],y[5]]},m=[].concat(p(d.topLeft),p(d.topRight),p(d.bottomRight),p(d.bottomLeft));return Ha(a,o,m,e,r)},generateBarrelBezierPts:function(e,r,n,i){var a=r/2,o=e/2,s=n-o,l=n+o,u=i-a,c=i+a,d=$l(e,r),p=d.heightOffset,m=d.widthOffset,h=d.ctrlPtOffsetPct*e,y={topLeft:[s,u+p,s+h,u,s+m,u],topRight:[l-m,u,l-h,u,l,u+p],bottomRight:[l,c-p,l-h,c,l-m,c],bottomLeft:[s+m,c,s+h,c,s,c-p]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(e,r,n,i,a,o,s){var l=$l(i,a),u=l.heightOffset,c=l.widthOffset;if(pn(e,r,this.points,o,s,i,a-2*u,[0,-1],n)||pn(e,r,this.points,o,s,i-2*c,a,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(i,a,o,s),p=function(v,P,k){var B=k[4],N=k[2],M=k[0],z=k[5],R=k[1],q=Math.min(B,M),H=Math.max(B,M),U=Math.min(z,R),X=Math.max(z,R);if(q<=v&&v<=H&&U<=P&&P<=X){var re=v1(B,N,M),j=s1(re[0],re[1],re[2],v),F=j.filter(function(W){return 0<=W&&W<=1});if(F.length>0)return F[0]}return null},m=Object.keys(d),h=0;h<m.length;h++){var y=m[h],w=d[y],b=p(e,r,w);if(b!=null){var E=w[5],S=w[3],x=w[1],A=Gt(E,S,x,b);if(w.isTop&&A<=r||w.isBottom&&r<=A)return!0}}return!1}}};wn.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:cr(4,0),draw:function(e,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,o,s){var l=e-(n/2+s),u=r-(i/2+s),c=u,d=e+(n/2+s),p=Mn(a,o,e,r,l,u,d,c,!1);return p.length>0?p:Jd(a,o,e,r,n,i,s)},checkPoint:function(e,r,n,i,a,o,s){var l=no(i,a),u=2*l;if(pn(e,r,this.points,o,s,i,a-u,[0,-1],n)||pn(e,r,this.points,o,s,i-u,a,[0,-1],n))return!0;var c=i/2+2*n,d=a/2+2*n,p=[o-c,s-d,o-c,s,o+c,s,o+c,s-d];return!!(gr(e,r,p)||si(e,r,u,u,o+i/2-l,s+a/2-l,n)||si(e,r,u,u,o-i/2+l,s+a/2-l,n))}}};wn.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",cr(3,0)),this.generateRoundPolygon("round-triangle",cr(3,0)),this.generatePolygon("rectangle",cr(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",cr(5,0)),this.generateRoundPolygon("round-pentagon",cr(5,0)),this.generatePolygon("hexagon",cr(6,0)),this.generateRoundPolygon("round-hexagon",cr(6,0)),this.generatePolygon("heptagon",cr(7,0)),this.generateRoundPolygon("round-heptagon",cr(7,0)),this.generatePolygon("octagon",cr(8,0)),this.generateRoundPolygon("round-octagon",cr(8,0));var n=new Array(20);{var i=Fl(5,0),a=Fl(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[s*2]*=o,a[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=i[s*2],n[s*4+1]=i[s*2+1],n[s*4+2]=a[s*2],n[s*4+3]=a[s*2+1]}n=rh(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var c=u.join("$"),d="polygon-"+c,p;return(p=this[d])?p:e.generatePolygon(d,u)}};var so={};so.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};so.redraw=function(t){t=t||Yd();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};so.beforeRender=function(t,e){if(!this.destroyed){e==null&&Nt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var Ef=function(e,r,n){for(var i=e.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(r,n)};so.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Ef(t,!0,i);var a=vn();t.render(t.renderOptions);var o=t.lastDrawTime=vn();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-a),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=o-a;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else Ef(t,!1,i);t.skipFrame=!1,ns(n)}};ns(r)}};var FE=function(e){this.init(e)},Uh=FE,aa=Uh.prototype;aa.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];aa.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,a=i.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=i.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var u=i.createElement("style");u.id=o,u.textContent="."+s+" { position: relative; }",a.insertBefore(u,a.children[0])}var c=n.getComputedStyle(r),d=c.getPropertyValue("position");d==="static"&&yt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Pe(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};aa.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};aa.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};aa.isHeadless=function(){return!1};[Mu,Vh,Wh,ia,wn,so].forEach(function(t){Qe(aa,t)});var ml=1e3/60,Gh={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=Cs.default(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),o=function(u,c){var d=vn(),p=i.averageRedrawTime,m=i.lastRedrawTime,h=[],y=i.cy.extent(),w=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var b=vn(),E=b-d,S=b-c;if(m<ml){var x=ml-(u?p:0);if(S>=e.deqFastCost*x)break}else if(u){if(E>=e.deqCost*m||E>=e.deqAvgCost*p)break}else if(S>=e.deqNoDrawCost*ml)break;var A=e.deq(n,w,y);if(A.length>0)for(var _=0;_<A.length;_++)h.push(A[_]);else break}h.length>0&&(e.onDeqd(n,h),!u&&e.shouldRedraw(n,h,w,y)&&a())},s=e.priority||bu;i.beforeRender(o,s(n))}}}},$E=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is;vu(this,t),this.idsByKey=new Jr,this.keyForId=new Jr,this.cachesByLvl=new Jr,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return pu(t,[{key:"getIdsFor",value:function(r){r==null&&Nt("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new ea,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);return i!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,a=n.get(r);return a||(a=new Jr,n.set(r,a),i.push(r)),a}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var a=this.getKey(r);this.setCache(a,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}]),t}(),Cf=25,Ro=50,Zo=-4,jl=3,HE=7.99,qE=8,VE=1024,WE=1024,UE=1024,GE=.2,jE=.8,KE=10,YE=.15,XE=.1,QE=.9,ZE=.9,JE=100,eC=1,Oi={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},tC=Zt({getKey:null,doesEleInvalidateKey:is,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Gd,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),_a=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=tC(r);Qe(n,i),n.lookup=new $E(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Wt=_a.prototype;Wt.reasons=Oi;Wt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Wt.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Wt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new eo.default(function(r,n){return n.reqs-r.reqs});return e};Wt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Wt.getElement=function(t,e,r,n,i){var a=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!a.allowEdgeTxrCaching&&t.isEdge()||!a.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(xu(s*r))),n<Zo)n=Zo;else if(s>=HE||n>jl)return null;var u=Math.pow(2,n),c=e.h*u,d=e.w*u,p=o.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,p))return null;var m=l.get(t,n);if(m&&m.invalidated&&(m.invalidated=!1,m.texture.invalidatedWidth-=m.width),m)return m;var h;if(c<=Cf?h=Cf:c<=Ro?h=Ro:h=Math.ceil(c/Ro)*Ro,c>UE||d>WE)return null;var y=a.getTextureQueue(h),w=y[y.length-2],b=function(){return a.recycleTexture(h,d)||a.addTexture(h,d)};w||(w=y[y.length-1]),w||(w=b()),w.width-w.usedWidth<d&&(w=b());for(var E=function(H){return H&&H.scaledLabelShown===p},S=i&&i===Oi.dequeue,x=i&&i===Oi.highQuality,A=i&&i===Oi.downscale,_,v=n+1;v<=jl;v++){var P=l.get(t,v);if(P){_=P;break}}var k=_&&_.level===n+1?_:null,B=function(){w.context.drawImage(k.texture.canvas,k.x,0,k.width,k.height,w.usedWidth,0,d,c)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,d,h),E(k))B();else if(E(_))if(x){for(var N=_.level;N>n;N--)k=a.getElement(t,e,r,N,Oi.downscale);B()}else return a.queueElement(t,_.level-1),_;else{var M;if(!S&&!x&&!A)for(var z=n-1;z>=Zo;z--){var R=l.get(t,z);if(R){M=R;break}}if(E(M))return a.queueElement(t,n),M;w.context.translate(w.usedWidth,0),w.context.scale(u,u),this.drawElement(w.context,t,e,p,!1),w.context.scale(1/u,1/u),w.context.translate(-w.usedWidth,0)}return m={x:w.usedWidth,texture:w,level:n,scale:u,width:d,height:c,scaledLabelShown:p},w.usedWidth+=Math.ceil(d+qE),w.eleCaches.push(m),l.set(t,n,m),a.checkTextureFullness(w),m};Wt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Wt.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var a=Zo;a<=jl;a++){var o=r.getForCachedKey(t,a);o&&n.push(o)}var s=r.invalidate(t);if(s)for(var l=0;l<n.length;l++){var u=n[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};Wt.checkTextureUtility=function(t){t.invalidatedWidth>=GE*t.width&&this.retireTexture(t)};Wt.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>jE&&t.fullnessChecks>=KE?Rn(r,t):t.fullnessChecks++};Wt.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;Rn(n,t),t.retired=!0;for(var a=t.eleCaches,o=0;o<a.length;o++){var s=a[o];i.deleteCache(s.key,s.level)}wu(a);var l=e.getRetiredTextureQueue(r);l.push(t)};Wt.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(VE,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Wt.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),a=0;a<i.length;a++){var o=i[a];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,wu(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Rn(i,o),n.push(o),o}};Wt.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(t),o=i[a];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:a};n.push(s),i[a]=s}};Wt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],a=e.lookup,o=0;o<eC&&r.size()>0;o++){var s=r.pop(),l=s.key,u=s.eles[0],c=a.hasCache(u,s.level);if(n[l]=null,c)continue;i.push(s);var d=e.getBoundingBox(u);e.getElement(u,d,t,s.level,Oi.dequeue)}return i};Wt.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=yu,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(t))};Wt.onDequeue=function(t){this.onDequeues.push(t)};Wt.offDequeue=function(t){Rn(this.onDequeues,t)};Wt.setupDequeueing=Gh.setupDequeueing({deqRedrawThreshold:JE,deqCost:YE,deqAvgCost:XE,deqNoDrawCost:QE,deqFastCost:ZE,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var a=0;a<r.length;a++)for(var o=r[a].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(Eu(l,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var rC=1,Da=-4,cs=2,nC=3.99,iC=50,aC=50,oC=.15,sC=.1,lC=.9,uC=.9,cC=1,Sf=250,fC=4e3*4e3,dC=!0,jh=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=vn()-2*Sf,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=Cs.default(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},aC),n.beforeRender(function(o,s){s-r.lastInvalidationTime<=Sf?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(s,l){return l.reqs-s.reqs};r.layersQueue=new eo.default(a),r.setupDequeueing()},Jt=jh.prototype,Tf=0,hC=Math.pow(2,53)-1;Jt.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),a=this.renderer.makeOffscreenCanvas(n,i),o={id:Tf=++Tf%hC,bb:t,level:e,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(r,r),s.translate(l,u),o};Jt.getLayers=function(t,e,r){var n=this,i=n.renderer,a=i.cy,o=a.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(xu(o*e)),r<Da)r=Da;else if(o>=nC||r>cs)return null}n.validateLayersElesOrdering(r,t);var l=n.layersByLevel,u=Math.pow(2,r),c=l[r]=l[r]||[],d,p=n.levelIsComplete(r,t),m,h=function(){var B=function(q){if(n.validateLayersElesOrdering(q,t),n.levelIsComplete(q,t))return m=l[q],!0},N=function(q){if(!m)for(var H=r+q;Da<=H&&H<=cs&&!B(H);H+=q);};N(1),N(-1);for(var M=c.length-1;M>=0;M--){var z=c[M];z.invalid&&Rn(c,z)}};if(!p)h();else return c;var y=function(){if(!d){d=br();for(var B=0;B<t.length;B++)r1(d,t[B].boundingBox())}return d},w=function(B){B=B||{};var N=B.after;y();var M=d.w*u*(d.h*u);if(M>fC)return null;var z=n.makeLayer(d,r);if(N!=null){var R=c.indexOf(N)+1;c.splice(R,0,z)}else(B.insert===void 0||B.insert)&&c.unshift(z);return z};if(n.skipping&&!s)return null;for(var b=null,E=t.length/rC,S=!s,x=0;x<t.length;x++){var A=t[x],_=A._private.rscratch,v=_.imgLayerCaches=_.imgLayerCaches||{},P=v[r];if(P){b=P;continue}if((!b||b.eles.length>=E||!Zd(b.bb,A.boundingBox()))&&(b=w({insert:!0,after:b}),!b))return null;m||S?n.queueLayer(b,A):n.drawEleInLayer(b,A,r,e),b.eles.push(A),v[r]=b}return m||(S?null:c)};Jt.getEleLevelForLayerLevel=function(t,e){return t};Jt.drawEleInLayer=function(t,e,r,n){var i=this,a=this.renderer,o=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(o,!1),a.drawCachedElement(o,e,null,null,r,dC),a.setImgSmoothing(o,!0))};Jt.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var o=n[a];if(o.reqs>0||o.invalid)return!1;i+=o.eles.length}return i===e.length};Jt.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,o=0;o<e.length;o++)if(i.eles[0]===e[o]){a=o;break}if(a<0){this.invalidateLayer(i);continue}for(var s=a,o=0;o<i.eles.length;o++)if(i.eles[o]!==e[s+o]){this.invalidateLayer(i);break}}};Jt.updateElementsInLayers=function(t,e){for(var r=this,n=ro(t[0]),i=0;i<t.length;i++)for(var a=n?null:t[i],o=n?t[i]:t[i].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},u=Da;u<=cs;u++){var c=l[u];c&&(a&&r.getEleLevelForLayerLevel(c.level)!==a.level||e(c,o,a))}};Jt.haveLayers=function(){for(var t=this,e=!1,r=Da;r<=cs;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Jt.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=vn(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,a){e.invalidateLayer(n)}))};Jt.invalidateLayer=function(t){if(this.lastInvalidationTime=vn(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];Rn(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};Jt.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,a){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)e.queueLayer(o,o.eles[s])})};Jt.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Jt.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,a=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(a[e.id()])return;i.push(e),a[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Jt.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<cC&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var o=a.elesQueue.shift();o&&(e.drawEleInLayer(a,o,a.level,t),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return n};Jt.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var a=0;a<t.eles.length;a++){var o=t.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};Jt.requestRedraw=Cs.default(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Jt.setupDequeueing=Gh.setupDequeueing({deqRedrawThreshold:iC,deqCost:oC,deqAvgCost:sC,deqNoDrawCost:lC,deqFastCost:uC,deq:function(e,r){return e.dequeue(r)},onDeqd:bu,shouldRedraw:Gd,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Kh={},kf;function vC(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function pC(t,e,r){for(var n,i=0;i<e.length;i++){var a=e[i];i===0&&(n=a),t.lineTo(a.x,a.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function _f(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var a=n[i];t.lineTo(a.x,a.y)}var o=r,s=r[0];t.moveTo(s.x,s.y);for(var i=1;i<o.length;i++){var a=o[i];t.lineTo(a.x,a.y)}t.closePath&&t.closePath()}function gC(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var a=e,o=a[0];t.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var l=a[s];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function mC(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}Kh.arrowShapeImpl=function(t){return(kf||(kf={polygon:vC,"triangle-backcurve":pC,"triangle-tee":_f,"circle-triangle":gC,"triangle-cross":_f,circle:mC}))[t]};var sn={};sn.drawElement=function(t,e,r,n,i,a){var o=this;e.isNode()?o.drawNode(t,e,r,n,i,a):o.drawEdge(t,e,r,n,i,a)};sn.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};sn.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};sn.drawCachedElementPortion=function(t,e,r,n,i,a,o,s){var l=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var c=r.getElement(e,u,n,i,a);if(c!=null){var d=s(l,e);if(d===0)return;var p=o(l,e),m=u.x1,h=u.y1,y=u.w,w=u.h,b,E,S,x,A;if(p!==0){var _=r.getRotationPoint(e);S=_.x,x=_.y,t.translate(S,x),t.rotate(p),A=l.getImgSmoothing(t),A||l.setImgSmoothing(t,!0);var v=r.getRotationOffset(e);b=v.x,E=v.y}else b=m,E=h;var P;d!==1&&(P=t.globalAlpha,t.globalAlpha=P*d),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,b,E,y,w),d!==1&&(t.globalAlpha=P),p!==0&&(t.rotate(-p),t.translate(-S,-x),A||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var yC=function(){return 0},bC=function(e,r){return e.getTextAngle(r,null)},wC=function(e,r){return e.getTextAngle(r,"source")},xC=function(e,r){return e.getTextAngle(r,"target")},EC=function(e,r){return r.effectiveOpacity()},yl=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};sn.drawCachedElement=function(t,e,r,n,i,a){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,d=s.tlbTxrCache,p=e.boundingBox(),m=a===!0?l.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!n||Eu(p,n))){var h=e.isEdge(),y=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,l,r,i,m,yC,EC),(!h||!y)&&o.drawCachedElementPortion(t,e,u,r,i,m,bC,yl),h&&!y&&(o.drawCachedElementPortion(t,e,c,r,i,m,wC,yl),o.drawCachedElementPortion(t,e,d,r,i,m,xC,yl)),o.drawElementOverlay(t,e)}};sn.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};sn.drawCachedElements=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var o=e[a];i.drawCachedElement(t,o,r,n)}};sn.drawCachedNodes=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var o=e[a];o.isNode()&&i.drawCachedElement(t,o,r,n)}};sn.drawLayeredElements=function(t,e,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(e,r);if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s.bb;l.w===0||l.h===0||t.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(t,e,r,n)};var xn={};xn.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=e._private.rscratch;if(!(a&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=a?e.pstyle("opacity").value:1,c=a?e.pstyle("line-opacity").value:1,d=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,m=e.pstyle("width").pfValue,h=e.pstyle("line-cap").value,y=u*c,w=u*c,b=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;d==="straight-triangle"?(o.eleStrokeStyle(t,e,M),o.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=m,t.lineCap=h,o.eleStrokeStyle(t,e,M),o.drawEdgePath(e,t,s.allpts,p),t.lineCap="butt")},E=function(){i&&o.drawEdgeOverlay(t,e)},S=function(){i&&o.drawEdgeUnderlay(t,e)},x=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;o.drawArrowheads(t,e,M)},A=function(){o.drawElementText(t,e,null,n)};t.lineJoin="round";var _=e.pstyle("ghost").value==="yes";if(_){var v=e.pstyle("ghost-offset-x").pfValue,P=e.pstyle("ghost-offset-y").pfValue,k=e.pstyle("ghost-opacity").value,B=y*k;t.translate(v,P),b(B),x(B),t.translate(-v,-P)}S(),b(),x(),E(),A(),r&&t.translate(l.x1,l.y1)}};var Yh=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var a=this,o=a.usePaths(),s=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=u,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,c[0],c[1],c[2],i),a.drawEdgePath(n,r,s.allpts,"solid")}}}};xn.drawEdgeOverlay=Yh("overlay");xn.drawEdgeUnderlay=Yh("underlay");xn.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,a=e,o,s=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(l){var d=r.join("$"),p=i.pathCacheKey&&i.pathCacheKey===d;p?(o=e=i.pathCache,s=!0):(o=e=new Path2D,i.pathCacheKey=d,i.pathCache=o)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!s&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var m=2;m+3<r.length;m+=4)e.quadraticCurveTo(r[m],r[m+1],r[m+2],r[m+3]);break;case"straight":case"segments":case"haystack":for(var h=2;h+1<r.length;h+=2)e.lineTo(r[h],r[h+1]);break}e=a,l?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};xn.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],l=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(r[i]-l[0],r[i+1]-l[1]),e.lineTo(r[i]+l[0],r[i+1]+l[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};xn.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};xn.drawArrowhead=function(t,e,r,n,i,a,o){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var s=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,d=e.pstyle("width").pfValue,p=e.pstyle("opacity").value;o===void 0&&(o=p);var m=t.globalCompositeOperation;(o!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,u,d,l,n,i,a),t.globalCompositeOperation=m);var h=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(t,h[0],h[1],h[2],o),s.colorStrokeStyle(t,h[0],h[1],h[2],o),s.drawArrowShape(e,t,c,d,l,n,i,a)}}};xn.drawArrowShape=function(t,e,r,n,i,a,o,s){var l=this,u=this.usePaths()&&i!=="triangle-cross",c=!1,d,p=e,m={x:a,y:o},h=t.pstyle("arrow-scale").value,y=this.getArrowWidth(n,h),w=l.arrowShapes[i];if(u){var b=l.arrowPathCache=l.arrowPathCache||[],E=ci(i),S=b[E];S!=null?(d=e=S,c=!0):(d=e=new Path2D,b[E]=d)}c||(e.beginPath&&e.beginPath(),u?w.draw(e,1,0,{x:0,y:0},1):w.draw(e,y,s,m,n),e.closePath&&e.closePath()),e=p,u&&(e.translate(a,o),e.rotate(s),e.scale(y,y)),(r==="filled"||r==="both")&&(u?e.fill(d):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=(w.matchEdgeWidth?n:1)/(u?y:1),e.lineJoin="miter",u?e.stroke(d):e.stroke()),u&&(e.scale(1/y,1/y),e.rotate(-s),e.translate(-a,-o))};var Lu={};Lu.safeDrawImage=function(t,e,r,n,i,a,o,s,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{t.drawImage(e,r,n,i,a,o,s,l,u)}catch(c){yt(c)}};Lu.drawInscribedImage=function(t,e,r,n,i){var a=this,o=r.position(),s=o.x,l=o.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),d=c(r,"background-fit","value",n),p=c(r,"background-repeat","value",n),m=r.width(),h=r.height(),y=r.padding()*2,w=m+(c(r,"background-width-relative-to","value",n)==="inner"?0:y),b=h+(c(r,"background-height-relative-to","value",n)==="inner"?0:y),E=r._private.rscratch,S=c(r,"background-clip","value",n),x=S==="node",A=c(r,"background-image-opacity","value",n)*i,_=c(r,"background-image-smoothing","value",n),v=e.width||e.cachedW,P=e.height||e.cachedH;(v==null||P==null)&&(document.body.appendChild(e),v=e.cachedW=e.width||e.offsetWidth,P=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var k=v,B=P;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?k=c(r,"background-width","pfValue",n)*w:k=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?B=c(r,"background-height","pfValue",n)*b:B=c(r,"background-height","pfValue",n)),!(k===0||B===0)){if(d==="contain"){var N=Math.min(w/k,b/B);k*=N,B*=N}else if(d==="cover"){var N=Math.max(w/k,b/B);k*=N,B*=N}var M=s-w/2,z=c(r,"background-position-x","units",n),R=c(r,"background-position-x","pfValue",n);z==="%"?M+=(w-k)*R:M+=R;var q=c(r,"background-offset-x","units",n),H=c(r,"background-offset-x","pfValue",n);q==="%"?M+=(w-k)*H:M+=H;var U=l-b/2,X=c(r,"background-position-y","units",n),re=c(r,"background-position-y","pfValue",n);X==="%"?U+=(b-B)*re:U+=re;var j=c(r,"background-offset-y","units",n),F=c(r,"background-offset-y","pfValue",n);j==="%"?U+=(b-B)*F:U+=F,E.pathCache&&(M-=s,U-=l,s=0,l=0);var W=t.globalAlpha;t.globalAlpha=A;var $=a.getImgSmoothing(t),Y=!1;if(_==="no"&&$?(a.setImgSmoothing(t,!1),Y=!0):_==="yes"&&!$&&(a.setImgSmoothing(t,!0),Y=!0),p==="no-repeat")x&&(t.save(),E.pathCache?t.clip(E.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(t,s,l,w,b),t.clip())),a.safeDrawImage(t,e,0,0,v,P,M,U,k,B),x&&t.restore();else{var Z=t.createPattern(e,p);t.fillStyle=Z,a.nodeShapes[a.getNodeShape(r)].draw(t,s,l,w,b),t.translate(M,U),t.fill(),t.translate(-M,-U)}t.globalAlpha=W,Y&&a.setImgSmoothing(t,$)}};var yi={};yi.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(xu(r*n));e=Math.pow(2,i)}var a=t.pstyle("font-size").pfValue*e,o=t.pstyle("min-zoomed-font-size").pfValue;return!(a<o)};yi.drawElementText=function(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(a&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,c=e.pstyle("label"),d=e.pstyle("source-label"),p=e.pstyle("target-label");if(u||(!c||!c.value)&&(!d||!d.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var m=!r,h;r&&(h=r,t.translate(-h.x1,-h.y1)),i==null?(o.drawText(t,e,null,m,a),e.isEdge()&&(o.drawText(t,e,"source",m,a),o.drawText(t,e,"target",m,a))):o.drawText(t,e,i,m,a),r&&t.translate(h.x1,h.y1)};yi.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};yi.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*s,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+o+" "+i+" "+a,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],s),this.colorStrokeStyle(t,c[0],c[1],c[2],l)};function CC(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5;t.beginPath(),t.moveTo(e+a,r),t.lineTo(e+n-a,r),t.quadraticCurveTo(e+n,r,e+n,r+a),t.lineTo(e+n,r+i-a),t.quadraticCurveTo(e+n,r+i,e+n-a,r+i),t.lineTo(e+a,r+i),t.quadraticCurveTo(e,r+i,e,r+i-a),t.lineTo(e,r+a),t.quadraticCurveTo(e,r,e+a,r),t.closePath(),t.fill()}yi.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,a=e?e+"-":"",o=t.pstyle(a+"text-rotation"),s=qr(i,"labelAngle",e);return o.strValue==="autorotate"?r=t.isEdge()?s:0:o.strValue==="none"?r=0:r=o.pfValue,r};yi.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,o=a.rscratch,s=i?e.effectiveOpacity():1;if(!(i&&(s===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=qr(o,"labelX",r),u=qr(o,"labelY",r),c,d,p=this.getLabelText(e,r);if(p!=null&&p!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,i);var m=r?r+"-":"",h=qr(o,"labelWidth",r),y=qr(o,"labelHeight",r),w=e.pstyle(m+"text-margin-x").pfValue,b=e.pstyle(m+"text-margin-y").pfValue,E=e.isEdge(),S=e.pstyle("text-halign").value,x=e.pstyle("text-valign").value;E&&(S="center",x="center"),l+=w,u+=b;var A;switch(n?A=this.getTextAngle(e,r):A=0,A!==0&&(c=l,d=u,t.translate(c,d),t.rotate(A),l=0,u=0),x){case"top":break;case"center":u+=y/2;break;case"bottom":u+=y;break}var _=e.pstyle("text-background-opacity").value,v=e.pstyle("text-border-opacity").value,P=e.pstyle("text-border-width").pfValue,k=e.pstyle("text-background-padding").pfValue;if(_>0||P>0&&v>0){var B=l-k;switch(S){case"left":B-=h;break;case"center":B-=h/2;break}var N=u-y-k,M=h+2*k,z=y+2*k;if(_>0){var R=t.fillStyle,q=e.pstyle("text-background-color").value;t.fillStyle="rgba("+q[0]+","+q[1]+","+q[2]+","+_*s+")";var H=e.pstyle("text-background-shape").strValue;H.indexOf("round")===0?CC(t,B,N,M,z,2):t.fillRect(B,N,M,z),t.fillStyle=R}if(P>0&&v>0){var U=t.strokeStyle,X=t.lineWidth,re=e.pstyle("text-border-color").value,j=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+re[0]+","+re[1]+","+re[2]+","+v*s+")",t.lineWidth=P,t.setLineDash)switch(j){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=P/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(t.strokeRect(B,N,M,z),j==="double"){var F=P/2;t.strokeRect(B+F,N+F,M-F*2,z-F*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=X,t.strokeStyle=U}}var W=2*e.pstyle("text-outline-width").pfValue;if(W>0&&(t.lineWidth=W),e.pstyle("text-wrap").value==="wrap"){var $=qr(o,"labelWrapCachedLines",r),Y=qr(o,"labelLineHeight",r),Z=h/2,ee=this.getLabelJustification(e);switch(ee==="auto"||(S==="left"?ee==="left"?l+=-h:ee==="center"&&(l+=-Z):S==="center"?ee==="left"?l+=-Z:ee==="right"&&(l+=Z):S==="right"&&(ee==="center"?l+=Z:ee==="right"&&(l+=h))),x){case"top":u-=($.length-1)*Y;break;case"center":case"bottom":u-=($.length-1)*Y;break}for(var G=0;G<$.length;G++)W>0&&t.strokeText($[G],l,u),t.fillText($[G],l,u),u+=Y}else W>0&&t.strokeText(p,l,u),t.fillText(p,l,u);A!==0&&(t.rotate(-A),t.translate(-c,-d))}}};var oa={};oa.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,u=e._private,c=u.rscratch,d=e.position();if(!(!Pe(d.x)||!Pe(d.y))&&!(a&&!e.visible())){var p=a?e.effectiveOpacity():1,m=o.usePaths(),h,y=!1,w=e.padding();s=e.width()+2*w,l=e.height()+2*w;var b;r&&(b=r,t.translate(-b.x1,-b.y1));for(var E=e.pstyle("background-image"),S=E.value,x=new Array(S.length),A=new Array(S.length),_=0,v=0;v<S.length;v++){var P=S[v],k=x[v]=P!=null&&P!=="none";if(k){var B=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",v);_++,A[v]=o.getCachedImage(P,B,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var N=e.pstyle("background-blacken").value,M=e.pstyle("border-width").pfValue,z=e.pstyle("background-opacity").value*p,R=e.pstyle("border-color").value,q=e.pstyle("border-style").value,H=e.pstyle("border-opacity").value*p;t.lineJoin="miter";var U=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z;o.eleFillStyle(t,e,le)},X=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H;o.colorStrokeStyle(t,R[0],R[1],R[2],le)},re=e.pstyle("shape").strValue,j=e.pstyle("shape-polygon-points").pfValue;if(m){t.translate(d.x,d.y);var F=o.nodePathCache=o.nodePathCache||[],W=Ud(re==="polygon"?re+","+j.join(","):re,""+l,""+s),$=F[W];$!=null?(h=$,y=!0,c.pathCache=h):(h=new Path2D,F[W]=c.pathCache=h)}var Y=function(){if(!y){var le=d;m&&(le={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(h||t,le.x,le.y,s,l)}m?t.fill(h):t.fill()},Z=function(){for(var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Le=u.backgrounding,Ge=0,Re=0;Re<A.length;Re++){var Me=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Re);if(Ae&&Me==="over"||!Ae&&Me==="inside"){Ge++;continue}x[Re]&&A[Re].complete&&!A[Re].error&&(Ge++,o.drawInscribedImage(t,A[Re],e,Re,le))}u.backgrounding=Ge!==_,Le!==u.backgrounding&&e.updateStyle(!1)},ee=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;o.hasPie(e)&&(o.drawPie(t,e,Ae),le&&(m||o.nodeShapes[o.getNodeShape(e)].draw(t,d.x,d.y,s,l)))},G=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,Ae=(N>0?N:-N)*le,Le=N>0?0:255;N!==0&&(o.colorFillStyle(t,Le,Le,Le,Ae),m?t.fill(h):t.fill())},ie=function(){if(M>0){if(t.lineWidth=M,t.lineCap="butt",t.setLineDash)switch(q){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}if(m?t.stroke(h):t.stroke(),q==="double"){t.lineWidth=M/3;var le=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(h):t.stroke(),t.globalCompositeOperation=le}t.setLineDash&&t.setLineDash([])}},pe=function(){i&&o.drawNodeOverlay(t,e,d,s,l)},ce=function(){i&&o.drawNodeUnderlay(t,e,d,s,l)},Se=function(){o.drawElementText(t,e,null,n)},Ne=e.pstyle("ghost").value==="yes";if(Ne){var qe=e.pstyle("ghost-offset-x").pfValue,ke=e.pstyle("ghost-offset-y").pfValue,Ee=e.pstyle("ghost-opacity").value,xe=Ee*p;t.translate(qe,ke),U(Ee*z),Y(),Z(xe,!0),X(Ee*H),ie(),ee(N!==0||M!==0),Z(xe,!1),G(xe),t.translate(-qe,-ke)}m&&t.translate(-d.x,-d.y),ce(),m&&t.translate(d.x,d.y),U(),Y(),Z(p,!0),X(),ie(),ee(N!==0||M!==0),Z(p,!1),G(),m&&t.translate(-d.x,-d.y),Se(),pe(),r&&t.translate(b.x1,b.y1)}};var Xh=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,a,o){var s=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,d=n.pstyle("".concat(e,"-shape")).value;if(u>0){if(i=i||n.position(),a==null||o==null){var p=n.padding();a=n.width()+2*p,o=n.height()+2*p}s.colorFillStyle(r,c[0],c[1],c[2],u),s.nodeShapes[d].draw(r,i.x,i.y,a+l*2,o+l*2),r.fill()}}}};oa.drawNodeOverlay=Xh("overlay");oa.drawNodeUnderlay=Xh("underlay");oa.hasPie=function(t){return t=t[0],t._private.hasPie};oa.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=e.pstyle("pie-size"),o=n.x,s=n.y,l=e.width(),u=e.height(),c=Math.min(l,u)/2,d=0,p=this.usePaths();p&&(o=0,s=0),a.units==="%"?c=c*a.pfValue:a.pfValue!==void 0&&(c=a.pfValue/2);for(var m=1;m<=i.pieBackgroundN;m++){var h=e.pstyle("pie-"+m+"-background-size").value,y=e.pstyle("pie-"+m+"-background-color").value,w=e.pstyle("pie-"+m+"-background-opacity").value*r,b=h/100;b+d>1&&(b=1-d);var E=1.5*Math.PI+2*Math.PI*d,S=2*Math.PI*b,x=E+S;h===0||d>=1||d+b>1||(t.beginPath(),t.moveTo(o,s),t.arc(o,s,c,E,x),t.closePath(),this.colorFillStyle(t,y[0],y[1],y[2],w),t.fill(),d+=b)}};var Tr={},SC=100;Tr.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e};Tr.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Tr.createGradientStyleFor=function(t,e,r,n,i){var a,o=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),c=r.targetEndpoint(),d=r.midpoint(),p=fi(u,d),m=fi(c,d);a=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(p,m))}else{var h=o?{x:0,y:0}:r.position(),y=r.paddedWidth(),w=r.paddedHeight();a=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(y,w))}else if(r.isEdge()){var b=r.sourceEndpoint(),E=r.targetEndpoint();a=t.createLinearGradient(b.x,b.y,E.x,E.y)}else{var S=o?{x:0,y:0}:r.position(),x=r.paddedWidth(),A=r.paddedHeight(),_=x/2,v=A/2,P=r.pstyle("background-gradient-direction").value;switch(P){case"to-bottom":a=t.createLinearGradient(S.x,S.y-v,S.x,S.y+v);break;case"to-top":a=t.createLinearGradient(S.x,S.y+v,S.x,S.y-v);break;case"to-left":a=t.createLinearGradient(S.x+_,S.y,S.x-_,S.y);break;case"to-right":a=t.createLinearGradient(S.x-_,S.y,S.x+_,S.y);break;case"to-bottom-right":case"to-right-bottom":a=t.createLinearGradient(S.x-_,S.y-v,S.x+_,S.y+v);break;case"to-top-right":case"to-right-top":a=t.createLinearGradient(S.x-_,S.y+v,S.x+_,S.y-v);break;case"to-bottom-left":case"to-left-bottom":a=t.createLinearGradient(S.x+_,S.y-v,S.x-_,S.y+v);break;case"to-top-left":case"to-left-top":a=t.createLinearGradient(S.x+_,S.y+v,S.x-_,S.y-v);break}}if(!a)return null;for(var k=l.length===s.length,B=s.length,N=0;N<B;N++)a.addColorStop(k?l[N]:N/(B-1),"rgba("+s[N][0]+","+s[N][1]+","+s[N][2]+","+i+")");return a};Tr.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};Tr.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};Tr.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};Tr.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};Tr.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};Tr.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};Tr.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],a=n[3],o=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=i*o,u=a*o,c;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var d=r.canvasContainer;d.style.width=i+"px",d.style.height=a+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)c=r.canvases[p],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";for(var p=0;p<e.BUFFER_COUNT;p++)c=r.bufferCanvases[p],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";e.textureMult=1,o<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=l*e.textureMult,c.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u}};Tr.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Tr.render=function(t){t=t||Yd();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,i=t.forcedZoom,a=t.forcedPan,o=this,s=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=o.cy,u=o.data,c=u.canvasNeedsRedraw,d=o.textureOnViewport&&!e&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),p=t.motionBlur!==void 0?t.motionBlur:o.motionBlur,m=o.motionBlurPxRatio,h=l.hasCompoundNodes(),y=o.hoverData.draggingEles,w=!!(o.hoverData.selecting||o.touchData.selecting);p=p&&!e&&o.motionBlurEnabled&&!w;var b=p;e||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!e&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),p&&(o.mbFrames==null&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(b=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!d&&(c[o.NODE]=!0,c[o.SELECT_BOX]=!0);var E=l.style(),S=l.zoom(),x=i!==void 0?i:S,A=l.pan(),_={x:A.x,y:A.y},v={zoom:S,pan:{x:A.x,y:A.y}},P=o.prevViewport,k=P===void 0||v.zoom!==P.zoom||v.pan.x!==P.pan.x||v.pan.y!==P.pan.y;!k&&!(y&&!h)&&(o.motionBlurPxRatio=1),a&&(_=a),x*=s,_.x*=s,_.y*=s;var B=o.getCachedZSortedEles();function N(ke,Ee,xe,fe,le){var Ae=ke.globalCompositeOperation;ke.globalCompositeOperation="destination-out",o.colorFillStyle(ke,255,255,255,o.motionBlurTransparency),ke.fillRect(Ee,xe,fe,le),ke.globalCompositeOperation=Ae}function M(ke,Ee){var xe,fe,le,Ae;!o.clearingMotionBlur&&(ke===u.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]||ke===u.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])?(xe={x:A.x*m,y:A.y*m},fe=S*m,le=o.canvasWidth*m,Ae=o.canvasHeight*m):(xe=_,fe=x,le=o.canvasWidth,Ae=o.canvasHeight),ke.setTransform(1,0,0,1,0,0),Ee==="motionBlur"?N(ke,0,0,le,Ae):!e&&(Ee===void 0||Ee)&&ke.clearRect(0,0,le,Ae),r||(ke.translate(xe.x,xe.y),ke.scale(fe,fe)),a&&ke.translate(a.x,a.y),i&&ke.scale(i,i)}if(d||(o.textureDrawLastFrame=!1),d){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=l.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var z=o.data.bufferContexts[o.TEXTURE_BUFFER];z.setTransform(1,0,0,1,0,0),z.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:z,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult});var v=o.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:o.canvasWidth,height:o.canvasHeight};v.mpan={x:(0-v.pan.x)/v.zoom,y:(0-v.pan.y)/v.zoom}}c[o.DRAG]=!1,c[o.NODE]=!1;var R=u.contexts[o.NODE],q=o.textureCache.texture,v=o.textureCache.viewport;R.setTransform(1,0,0,1,0,0),p?N(R,0,0,v.width,v.height):R.clearRect(0,0,v.width,v.height);var H=E.core("outside-texture-bg-color").value,U=E.core("outside-texture-bg-opacity").value;o.colorFillStyle(R,H[0],H[1],H[2],U),R.fillRect(0,0,v.width,v.height);var S=l.zoom();M(R,!1),R.clearRect(v.mpan.x,v.mpan.y,v.width/v.zoom/s,v.height/v.zoom/s),R.drawImage(q,v.mpan.x,v.mpan.y,v.width/v.zoom/s,v.height/v.zoom/s)}else o.textureOnViewport&&!e&&(o.textureCache=null);var X=l.extent(),re=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),j=o.hideEdgesOnViewport&&re,F=[];if(F[o.NODE]=!c[o.NODE]&&p&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,F[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),F[o.DRAG]=!c[o.DRAG]&&p&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,F[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),c[o.NODE]||r||n||F[o.NODE]){var W=p&&!F[o.NODE]&&m!==1,R=e||(W?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:u.contexts[o.NODE]),$=p&&!W?"motionBlur":void 0;M(R,$),j?o.drawCachedNodes(R,B.nondrag,s,X):o.drawLayeredElements(R,B.nondrag,s,X),o.debug&&o.drawDebugPoints(R,B.nondrag),!r&&!p&&(c[o.NODE]=!1)}if(!n&&(c[o.DRAG]||r||F[o.DRAG])){var W=p&&!F[o.DRAG]&&m!==1,R=e||(W?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:u.contexts[o.DRAG]);M(R,p&&!W?"motionBlur":void 0),j?o.drawCachedNodes(R,B.drag,s,X):o.drawCachedElements(R,B.drag,s,X),o.debug&&o.drawDebugPoints(R,B.drag),!r&&!p&&(c[o.DRAG]=!1)}if(o.showFps||!n&&c[o.SELECT_BOX]&&!r){var R=e||u.contexts[o.SELECT_BOX];if(M(R),o.selection[4]==1&&(o.hoverData.selecting||o.touchData.selecting)){var S=o.cy.zoom(),Y=E.core("selection-box-border-width").value/S;R.lineWidth=Y,R.fillStyle="rgba("+E.core("selection-box-color").value[0]+","+E.core("selection-box-color").value[1]+","+E.core("selection-box-color").value[2]+","+E.core("selection-box-opacity").value+")",R.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),Y>0&&(R.strokeStyle="rgba("+E.core("selection-box-border-color").value[0]+","+E.core("selection-box-border-color").value[1]+","+E.core("selection-box-border-color").value[2]+","+E.core("selection-box-opacity").value+")",R.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(u.bgActivePosistion&&!o.hoverData.selecting){var S=o.cy.zoom(),Z=u.bgActivePosistion;R.fillStyle="rgba("+E.core("active-bg-color").value[0]+","+E.core("active-bg-color").value[1]+","+E.core("active-bg-color").value[2]+","+E.core("active-bg-opacity").value+")",R.beginPath(),R.arc(Z.x,Z.y,E.core("active-bg-size").pfValue/S,0,2*Math.PI),R.fill()}var ee=o.lastRedrawTime;if(o.showFps&&ee){ee=Math.round(ee);var G=Math.round(1e3/ee);R.setTransform(1,0,0,1,0,0),R.fillStyle="rgba(255, 0, 0, 0.75)",R.strokeStyle="rgba(255, 0, 0, 0.75)",R.lineWidth=1,R.fillText("1 frame = "+ee+" ms = "+G+" fps",0,20);var ie=60;R.strokeRect(0,30,250,20),R.fillRect(0,30,250*Math.min(G/ie,1),20)}r||(c[o.SELECT_BOX]=!1)}if(p&&m!==1){var pe=u.contexts[o.NODE],ce=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],Se=u.contexts[o.DRAG],Ne=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],qe=function(Ee,xe,fe){Ee.setTransform(1,0,0,1,0,0),fe||!b?Ee.clearRect(0,0,o.canvasWidth,o.canvasHeight):N(Ee,0,0,o.canvasWidth,o.canvasHeight);var le=m;Ee.drawImage(xe,0,0,o.canvasWidth*le,o.canvasHeight*le,0,0,o.canvasWidth,o.canvasHeight)};(c[o.NODE]||F[o.NODE])&&(qe(pe,ce,F[o.NODE]),c[o.NODE]=!1),(c[o.DRAG]||F[o.DRAG])&&(qe(Se,Ne,F[o.DRAG]),c[o.DRAG]=!1)}o.prevViewport=v,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),p&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!d,o.mbFrames=0,c[o.NODE]=!0,c[o.DRAG]=!0,o.redraw()},SC)),e||l.emit("render")};var Wn={};Wn.drawPolygonPath=function(t,e,r,n,i,a){var o=n/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*a[0],r+s*a[1]);for(var l=1;l<a.length/2;l++)t.lineTo(e+o*a[l*2],r+s*a[l*2+1]);t.closePath()};Wn.drawRoundPolygonPath=function(t,e,r,n,i,a){var o=n/2,s=i/2,l=Cu(n,i);t.beginPath&&t.beginPath();for(var u=0;u<a.length/4;u++){var c=void 0,d=void 0;u===0?c=a.length-2:c=u*4-2,d=u*4+2;var p=e+o*a[u*4],m=r+s*a[u*4+1],h=-a[c]*a[d]-a[c+1]*a[d+1],y=l/Math.tan(Math.acos(h)/2),w=p-y*a[c],b=m-y*a[c+1],E=p+y*a[d],S=m+y*a[d+1];u===0?t.moveTo(w,b):t.lineTo(w,b),t.arcTo(p,m,E,S,l)}t.closePath()};Wn.drawRoundRectanglePath=function(t,e,r,n,i){var a=n/2,o=i/2,s=no(n,i);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+a,r-o,e+a,r,s),t.arcTo(e+a,r+o,e,r+o,s),t.arcTo(e-a,r+o,e-a,r,s),t.arcTo(e-a,r-o,e,r-o,s),t.lineTo(e,r-o),t.closePath()};Wn.drawBottomRoundRectanglePath=function(t,e,r,n,i){var a=n/2,o=i/2,s=no(n,i);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+a,r-o),t.lineTo(e+a,r),t.arcTo(e+a,r+o,e,r+o,s),t.arcTo(e-a,r+o,e-a,r,s),t.lineTo(e-a,r-o),t.lineTo(e,r-o),t.closePath()};Wn.drawCutRectanglePath=function(t,e,r,n,i){var a=n/2,o=i/2,s=nh();t.beginPath&&t.beginPath(),t.moveTo(e-a+s,r-o),t.lineTo(e+a-s,r-o),t.lineTo(e+a,r-o+s),t.lineTo(e+a,r+o-s),t.lineTo(e+a-s,r+o),t.lineTo(e-a+s,r+o),t.lineTo(e-a,r+o-s),t.lineTo(e-a,r-o+s),t.closePath()};Wn.drawBarrelPath=function(t,e,r,n,i){var a=n/2,o=i/2,s=e-a,l=e+a,u=r-o,c=r+o,d=$l(n,i),p=d.widthOffset,m=d.heightOffset,h=d.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(s,u+m),t.lineTo(s,c-m),t.quadraticCurveTo(s+h,c,s+p,c),t.lineTo(l-p,c),t.quadraticCurveTo(l-h,c,l,c-m),t.lineTo(l,u+m),t.quadraticCurveTo(l-h,u,l-p,u),t.lineTo(s+p,u),t.quadraticCurveTo(s+h,u,s,u+m),t.closePath()};var Af=Math.sin(0),If=Math.cos(0),Kl={},Yl={},Qh=Math.PI/40;for(var Ai=0*Math.PI;Ai<2*Math.PI;Ai+=Qh)Kl[Ai]=Math.sin(Ai),Yl[Ai]=Math.cos(Ai);Wn.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var a,o,s=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=Qh)a=e-s*Kl[u]*Af+s*Yl[u]*If,o=r+l*Yl[u]*Af+l*Kl[u]*If,u===0?t.moveTo(a,o):t.lineTo(a,o);t.closePath()};var lo={};lo.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};lo.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=t.full?Math.ceil(n.w):i[2],o=t.full?Math.ceil(n.h):i[3],s=Pe(t.maxWidth)||Pe(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)a*=t.scale,o*=t.scale,u=t.scale;else if(s){var c=1/0,d=1/0;Pe(t.maxWidth)&&(c=u*t.maxWidth/a),Pe(t.maxHeight)&&(d=u*t.maxHeight/o),u=Math.min(c,d),a*=u,o*=u}s||(a*=l,o*=l,u*=l);var p=document.createElement("canvas");p.width=a,p.height=o,p.style.width=a+"px",p.style.height=o+"px";var m=p.getContext("2d");if(a>0&&o>0){m.clearRect(0,0,a,o),m.globalCompositeOperation="source-over";var h=this.getCachedZSortedEles();if(t.full)m.translate(-n.x1*u,-n.y1*u),m.scale(u,u),this.drawElements(m,h),m.scale(1/u,1/u),m.translate(n.x1*u,n.y1*u);else{var y=e.pan(),w={x:y.x*u,y:y.y*u};u*=e.zoom(),m.translate(w.x,w.y),m.scale(u,u),this.drawElements(m,h),m.scale(1/u,1/u),m.translate(-w.x,-w.y)}t.bg&&(m.globalCompositeOperation="destination-over",m.fillStyle=t.bg,m.rect(0,0,a,o),m.fill())}return p};function TC(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:e})}function Df(t){var e=t.indexOf(",");return t.substr(e+1)}function Zh(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new ta(function(i,a){try{e.toBlob(function(o){o!=null?i(o):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(o){a(o)}});case"blob":return TC(Df(n()),r);case"base64":return Df(n());case"base64uri":default:return n()}}lo.png=function(t){return Zh(t,this.bufferCanvasImage(t),"image/png")};lo.jpg=function(t){return Zh(t,this.bufferCanvasImage(t),"image/jpeg")};var Jh={};Jh.nodeShapeImpl=function(t,e,r,n,i,a,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,a);case"polygon":return this.drawPolygonPath(e,r,n,i,a,o);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,a,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,a);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,a);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,a);case"barrel":return this.drawBarrelPath(e,r,n,i,a)}};var kC=ev,pt=ev.prototype;pt.CANVAS_LAYERS=3;pt.SELECT_BOX=0;pt.DRAG=1;pt.NODE=2;pt.BUFFER_COUNT=3;pt.TEXTURE_BUFFER=0;pt.MOTIONBLUR_BUFFER_NODE=1;pt.MOTIONBLUR_BUFFER_DRAG=2;function ev(t){var e=this;e.data={canvases:new Array(pt.CANVAS_LAYERS),contexts:new Array(pt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(pt.CANVAS_LAYERS),bufferCanvases:new Array(pt.BUFFER_COUNT),bufferContexts:new Array(pt.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var i=e.data.canvasContainer.style;e.data.canvasContainer.style[r]=n,i.position="relative",i.zIndex="0",i.overflow="hidden";var a=t.cy.container();a.appendChild(e.data.canvasContainer),a.style[r]=n;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};sw()&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var s=0;s<pt.CANVAS_LAYERS;s++){var l=e.data.canvases[s]=document.createElement("canvas");e.data.contexts[s]=l.getContext("2d"),Object.keys(o).forEach(function(ee){l.style[ee]=o[ee]}),l.style.position="absolute",l.setAttribute("data-id","layer"+s),l.style.zIndex=String(pt.CANVAS_LAYERS-s),e.data.canvasContainer.appendChild(l),e.data.canvasNeedsRedraw[s]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[pt.NODE].setAttribute("data-id","layer"+pt.NODE+"-node"),e.data.canvases[pt.SELECT_BOX].setAttribute("data-id","layer"+pt.SELECT_BOX+"-selectbox"),e.data.canvases[pt.DRAG].setAttribute("data-id","layer"+pt.DRAG+"-drag");for(var s=0;s<pt.BUFFER_COUNT;s++)e.data.bufferCanvases[s]=document.createElement("canvas"),e.data.bufferContexts[s]=e.data.bufferCanvases[s].getContext("2d"),e.data.bufferCanvases[s].style.position="absolute",e.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),e.data.bufferCanvases[s].style.zIndex=String(-s-1),e.data.bufferCanvases[s].style.visibility="hidden";e.pathsEnabled=!0;var u=br(),c=function(G){return{x:(G.x1+G.x2)/2,y:(G.y1+G.y2)/2}},d=function(G){return{x:-G.w/2,y:-G.h/2}},p=function(G){var ie=G[0]._private,pe=ie.oldBackgroundTimestamp===ie.backgroundTimestamp;return!pe},m=function(G){return G[0]._private.nodeKey},h=function(G){return G[0]._private.labelStyleKey},y=function(G){return G[0]._private.sourceLabelStyleKey},w=function(G){return G[0]._private.targetLabelStyleKey},b=function(G,ie,pe,ce,Se){return e.drawElement(G,ie,pe,!1,!1,Se)},E=function(G,ie,pe,ce,Se){return e.drawElementText(G,ie,pe,ce,"main",Se)},S=function(G,ie,pe,ce,Se){return e.drawElementText(G,ie,pe,ce,"source",Se)},x=function(G,ie,pe,ce,Se){return e.drawElementText(G,ie,pe,ce,"target",Se)},A=function(G){return G.boundingBox(),G[0]._private.bodyBounds},_=function(G){return G.boundingBox(),G[0]._private.labelBounds.main||u},v=function(G){return G.boundingBox(),G[0]._private.labelBounds.source||u},P=function(G){return G.boundingBox(),G[0]._private.labelBounds.target||u},k=function(G,ie){return ie},B=function(G){return c(A(G))},N=function(G,ie,pe){var ce=G?G+"-":"";return{x:ie.x+pe.pstyle(ce+"text-margin-x").pfValue,y:ie.y+pe.pstyle(ce+"text-margin-y").pfValue}},M=function(G,ie,pe){var ce=G[0]._private.rscratch;return{x:ce[ie],y:ce[pe]}},z=function(G){return N("",M(G,"labelX","labelY"),G)},R=function(G){return N("source",M(G,"sourceLabelX","sourceLabelY"),G)},q=function(G){return N("target",M(G,"targetLabelX","targetLabelY"),G)},H=function(G){return d(A(G))},U=function(G){return d(v(G))},X=function(G){return d(P(G))},re=function(G){var ie=_(G),pe=d(_(G));if(G.isNode()){switch(G.pstyle("text-halign").value){case"left":pe.x=-ie.w;break;case"right":pe.x=0;break}switch(G.pstyle("text-valign").value){case"top":pe.y=-ie.h;break;case"bottom":pe.y=0;break}}return pe},j=e.data.eleTxrCache=new _a(e,{getKey:m,doesEleInvalidateKey:p,drawElement:b,getBoundingBox:A,getRotationPoint:B,getRotationOffset:H,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),F=e.data.lblTxrCache=new _a(e,{getKey:h,drawElement:E,getBoundingBox:_,getRotationPoint:z,getRotationOffset:re,isVisible:k}),W=e.data.slbTxrCache=new _a(e,{getKey:y,drawElement:S,getBoundingBox:v,getRotationPoint:R,getRotationOffset:U,isVisible:k}),$=e.data.tlbTxrCache=new _a(e,{getKey:w,drawElement:x,getBoundingBox:P,getRotationPoint:q,getRotationOffset:X,isVisible:k}),Y=e.data.lyrTxrCache=new jh(e);e.onUpdateEleCalcs(function(G,ie){j.invalidateElements(ie),F.invalidateElements(ie),W.invalidateElements(ie),$.invalidateElements(ie),Y.invalidateElements(ie);for(var pe=0;pe<ie.length;pe++){var ce=ie[pe]._private;ce.oldBackgroundTimestamp=ce.backgroundTimestamp}});var Z=function(G){for(var ie=0;ie<G.length;ie++)Y.enqueueElementRefinement(G[ie].ele)};j.onDequeue(Z),F.onDequeue(Z),W.onDequeue(Z),$.onDequeue(Z)}pt.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[pt.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[pt.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[pt.SELECT_BOX]=e;break}};var _C=typeof Path2D<"u";pt.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};pt.usePaths=function(){return _C&&this.pathsEnabled};pt.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};pt.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};pt.makeOffscreenCanvas=function(t,e){var r;return(typeof OffscreenCanvas>"u"?"undefined":Vt(OffscreenCanvas))!=="undefined"?r=new OffscreenCanvas(t,e):(r=document.createElement("canvas"),r.width=t,r.height=e),r};[Kh,sn,xn,Lu,yi,oa,Tr,Wn,lo,Jh].forEach(function(t){Qe(pt,t)});var AC=[{name:"null",impl:zh},{name:"base",impl:Uh},{name:"canvas",impl:kC}],IC=[{type:"layout",extensions:BE},{type:"renderer",extensions:AC}],tv={},rv={};function nv(t,e,r){var n=r,i=function(P){yt("Can not register `"+e+"` for `"+t+"` since `"+P+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Ua.prototype[e])return i(e);Ua.prototype[e]=r}else if(t==="collection"){if(Qt.prototype[e])return i(e);Qt.prototype[e]=r}else if(t==="layout"){for(var a=function(P){this.options=P,r.call(this,P),ht(this._private)||(this._private={}),this._private.cy=P.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=r.prototype.stop;o.stop=function(){var v=this.options;if(v&&v.animate){var P=this.animations;if(P)for(var k=0;k<P.length;k++)P[k].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var d=function(P){return P._private.cy},p={addEventFields:function(P,k){k.layout=P,k.cy=d(P),k.target=P},bubble:function(){return!0},parent:function(P){return d(P)}};Qe(o,{createEmitter:function(){return this._private.emitter=new Is(p,this),this},emitter:function(){return this._private.emitter},on:function(P,k){return this.emitter().on(P,k),this},one:function(P,k){return this.emitter().one(P,k),this},once:function(P,k){return this.emitter().one(P,k),this},removeListener:function(P,k){return this.emitter().removeListener(P,k),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(P,k){return this.emitter().emit(P,k),this}}),bt.eventAliasesOn(o),n=a}else if(t==="renderer"&&e!=="null"&&e!=="base"){var m=iv("renderer","base"),h=m.prototype,y=r,w=r.prototype,b=function(){m.apply(this,arguments),y.apply(this,arguments)},E=b.prototype;for(var S in h){var x=h[S],A=w[S]!=null;if(A)return i(S);E[S]=x}for(var _ in w)E[_]=w[_];h.clientFunctions.forEach(function(v){E[v]=E[v]||function(){Nt("Renderer does not implement `renderer."+v+"()` on its prototype")}}),n=b}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Nt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return $d({map:tv,keys:[t,e],value:n})}function iv(t,e){return Hd({map:tv,keys:[t,e]})}function DC(t,e,r,n,i){return $d({map:rv,keys:[t,e,r,n],value:i})}function MC(t,e,r,n){return Hd({map:rv,keys:[t,e,r,n]})}var Xl=function(){if(arguments.length===2)return iv.apply(null,arguments);if(arguments.length===3)return nv.apply(null,arguments);if(arguments.length===4)return MC.apply(null,arguments);if(arguments.length===5)return DC.apply(null,arguments);Nt("Invalid extension access syntax")};Ua.prototype.extension=Xl;IC.forEach(function(t){t.extensions.forEach(function(e){nv(t.type,e.name,e.impl)})});var av=function t(){if(!(this instanceof t))return new t;this.length=0},vi=av.prototype;vi.instanceString=function(){return"stylesheet"};vi.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};vi.css=function(t,e){var r=this.length-1;if(je(t))this[r].properties.push({name:t,value:e});else if(ht(t))for(var n=t,i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o];if(s!=null){var l=rr.properties[o]||rr.properties[Ss(o)];if(l!=null){var u=l.name,c=s;this[r].properties.push({name:u,value:c})}}}return this};vi.style=vi.css;vi.generateStyle=function(t){var e=new rr(t);return this.appendToStyle(e)};vi.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var a=0;a<i.length;a++){var o=i[a];t.css(o.name,o.value)}}return t};var PC="3.27.0",pi=function(e){if(e===void 0&&(e={}),ht(e))return new Ua(e);if(je(e))return Xl.apply(Xl,arguments)};pi.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(pi),t.apply(null,e),this};pi.warnings=function(t){return jd(t)};pi.version=PC;pi.stylesheet=pi.Stylesheet=av;var LC=pi;const Rs=qn(LC);var ov={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(window,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var l in a)i.d(s,l,(function(u){return a[u]}).bind(null,l));return s},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=0)}([function(r,n,i){var a=i(1),o=function(s){s&&s("core","svg",a.svg)};typeof cytoscape<"u"&&o(cytoscape),r.exports=o},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o=i(2),s={},l={};l.number=function(u){return u!=null&&(u===void 0?"undefined":a(u))===a(1)&&!isNaN(u)},s.bufferCanvasImage=function(u,c){var d=c.renderer().usePaths;c.renderer().usePaths=function(){return!1},c.elements().forEach(function(N){N._private.rscratch.pathCacheKey=null,N._private.rscratch.pathCache=null});var p=c.renderer(),m=c.mutableElements().boundingBox(),h=p.findContainerClientCoords(),y=u.full?Math.ceil(m.w):h[2],w=u.full?Math.ceil(m.h):h[3],b=l.number(u.maxWidth)||l.number(u.maxHeight),E=p.getPixelRatio(),S=1;if(u.scale!==void 0)y*=u.scale,w*=u.scale,S=u.scale;else if(b){var x=1/0,A=1/0;l.number(u.maxWidth)&&(x=S*u.maxWidth/y),l.number(u.maxHeight)&&(A=S*u.maxHeight/w),y*=S=Math.min(x,A),w*=S}b||(y*=E,w*=E,S*=E);var _=null,v=_=new o(y,w);if(y>0&&w>0){_.clearRect(0,0,y,w),u.bg&&(_.globalCompositeOperation="destination-over",_.fillStyle=u.bg,_.fillRect(0,0,y,w)),_.globalCompositeOperation="source-over";var P=p.getCachedZSortedEles();if(u.full)_.translate(-m.x1*S,-m.y1*S),_.scale(S,S),p.drawElements(_,P),_.scale(1/S,1/S),_.translate(m.x1*S,m.y1*S);else{var k=c.pan(),B={x:k.x*S,y:k.y*S};S*=c.zoom(),_.translate(B.x,B.y),_.scale(S,S),p.drawElements(_,P),_.scale(1/S,1/S),_.translate(-B.x,-B.y)}}return c.renderer().usePaths=d,v},s.svg=function(u){return s.bufferCanvasImage(u||{},this).getSerializedSvg()},r.exports=s},function(r,n,i){(function(){var a,o,s,l,u;function c(h,y){var w,b=Object.keys(y);for(w=0;w<b.length;w++)h=h.replace(new RegExp("\\{"+b[w]+"\\}","gi"),y[b[w]]);return h}function d(h){var y,w,b;if(!h)throw new Error("cannot create a random attribute name for an undefined object");y="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",w="";do for(w="",b=0;b<12;b++)w+=y[Math.floor(Math.random()*y.length)];while(h[w]);return w}function p(h){var y={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return y[h]||y.alphabetic}u=function(h,y){var w,b,E,S={};for(h=h.split(","),y=y||10,w=0;w<h.length;w+=2)b="&"+h[w+1]+";",E=parseInt(h[w],y),S[b]="&#"+E+";";return S["\\xa0"]="&#160;",S}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),a={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(s=function(h,y){this.__root=h,this.__ctx=y}).prototype.addColorStop=function(h,y){var w,b=this.__ctx.__createElement("stop");b.setAttribute("offset",h),y.indexOf("rgba")!==-1?(w=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(y),b.setAttribute("stop-color",c("rgb({r},{g},{b})",{r:w[1],g:w[2],b:w[3]})),b.setAttribute("stop-opacity",w[4])):b.setAttribute("stop-color",y),this.__root.appendChild(b)},l=function(h,y){this.__root=h,this.__ctx=y},(o=function(h){var y,w={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((y=w).width=arguments[0],y.height=arguments[1]):y=h||w,!(this instanceof o))return new o(y);this.width=y.width||w.width,this.height=y.height||w.height,this.enableMirroring=y.enableMirroring!==void 0?y.enableMirroring:w.enableMirroring,this.canvas=this,this.__document=y.document||document,y.ctx?this.__ctx=y.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(h,y,w){y===void 0&&(y={});var b,E,S=this.__document.createElementNS("http://www.w3.org/2000/svg",h),x=Object.keys(y);for(w&&(S.setAttribute("fill","none"),S.setAttribute("stroke","none")),b=0;b<x.length;b++)E=x[b],S.setAttribute(E,y[E]);return S},o.prototype.__setDefaultStyles=function(){var h,y,w=Object.keys(a);for(h=0;h<w.length;h++)this[y=w[h]]=a[y].canvas},o.prototype.__applyStyleState=function(h){if(h){var y,w,b=Object.keys(h);for(y=0;y<b.length;y++)this[w=b[y]]=h[w]}},o.prototype.__getStyleState=function(){var h,y,w={},b=Object.keys(a);for(h=0;h<b.length;h++)w[y=b[h]]=this[y];return w},o.prototype.__applyStyleToCurrentElement=function(h){var y=this.__currentElement;this.__currentElementsToStyle;var w,b,E,S,x,A=Object.keys(a);for(w=0;w<A.length;w++)if(b=a[A[w]],E=this[A[w]],b.apply){if(E instanceof l){if(E.__ctx)for(;E.__ctx.__defs.childNodes.length;)S=E.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[S]=S,this.__defs.appendChild(E.__ctx.__defs.childNodes[0]);y.setAttribute(b.apply,c("url(#{id})",{id:E.__root.getAttribute("id")}))}else if(E instanceof s)y.setAttribute(b.apply,c("url(#{id})",{id:E.__root.getAttribute("id")}));else if(b.apply.indexOf(h)!==-1&&b.svg!==E)if(b.svgAttr!=="stroke"&&b.svgAttr!=="fill"||E.indexOf("rgba")===-1){var _=b.svgAttr;if(A[w]==="globalAlpha"&&(_=h+"-"+b.svgAttr,y.getAttribute(_)))continue;y.setAttribute(_,E)}else{x=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(E),y.setAttribute(b.svgAttr,c("rgb({r},{g},{b})",{r:x[1],g:x[2],b:x[3]}));var v=x[4],P=this.globalAlpha;P!=null&&(v*=P),y.setAttribute(b.svgAttr+"-opacity",v)}}},o.prototype.__closestGroupOrSvg=function(h){return(h=h||this.__currentElement).nodeName==="g"||h.nodeName==="svg"?h:this.__closestGroupOrSvg(h.parentNode)},o.prototype.getSerializedSvg=function(h){var y,w,b,E,S,x=new XMLSerializer().serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(x)&&(x=x.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),h)for(y=Object.keys(u),w=0;w<y.length;w++)b=y[w],E=u[b],(S=new RegExp(b,"gi")).test(x)&&(x=x.replace(S,E));return x},o.prototype.getSvg=function(){return this.__root},o.prototype.save=function(){var h=this.__createElement("g"),y=this.__closestGroupOrSvg();this.__groupStack.push(y),y.appendChild(h),this.__currentElement=h,this.__stack.push(this.__getStyleState())},o.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var h=this.__stack.pop();this.__applyStyleState(h)},o.prototype.__addTransform=function(h){var y=this.__closestGroupOrSvg();if(y.childNodes.length>0){this.__currentElement.nodeName==="path"&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:y,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var w=this.__createElement("g");y.appendChild(w),this.__currentElement=w}var b=this.__currentElement.getAttribute("transform");b?b+=" ":b="",b+=h,this.__currentElement.setAttribute("transform",b)},o.prototype.scale=function(h,y){y===void 0&&(y=h),this.__addTransform(c("scale({x},{y})",{x:h,y}))},o.prototype.rotate=function(h){var y=180*h/Math.PI;this.__addTransform(c("rotate({angle},{cx},{cy})",{angle:y,cx:0,cy:0}))},o.prototype.translate=function(h,y){this.__addTransform(c("translate({x},{y})",{x:h,y}))},o.prototype.transform=function(h,y,w,b,E,S){this.__addTransform(c("matrix({a},{b},{c},{d},{e},{f})",{a:h,b:y,c:w,d:b,e:E,f:S}))},o.prototype.beginPath=function(){var h;this.__currentDefaultPath="",this.__currentPosition={},h=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(h),this.__currentElement=h},o.prototype.__applyCurrentDefaultPath=function(){var h=this.__currentElement;h.nodeName==="path"?h.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",h.nodeName)},o.prototype.__addPathCommand=function(h){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=h},o.prototype.moveTo=function(h,y){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:h,y},this.__addPathCommand(c("M {x} {y}",{x:h,y}))},o.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},o.prototype.lineTo=function(h,y){this.__currentPosition={x:h,y},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(c("L {x} {y}",{x:h,y})):this.__addPathCommand(c("M {x} {y}",{x:h,y}))},o.prototype.bezierCurveTo=function(h,y,w,b,E,S){this.__currentPosition={x:E,y:S},this.__addPathCommand(c("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:h,cp1y:y,cp2x:w,cp2y:b,x:E,y:S}))},o.prototype.quadraticCurveTo=function(h,y,w,b){this.__currentPosition={x:w,y:b},this.__addPathCommand(c("Q {cpx} {cpy} {x} {y}",{cpx:h,cpy:y,x:w,y:b}))};var m=function(h){var y=Math.sqrt(h[0]*h[0]+h[1]*h[1]);return[h[0]/y,h[1]/y]};o.prototype.arcTo=function(h,y,w,b,E){var S=this.__currentPosition&&this.__currentPosition.x,x=this.__currentPosition&&this.__currentPosition.y;if(S!==void 0&&x!==void 0){if(E<0)throw new Error("IndexSizeError: The radius provided ("+E+") is negative.");if(S===h&&x===y||h===w&&y===b||E===0)this.lineTo(h,y);else{var A=m([S-h,x-y]),_=m([w-h,b-y]);if(A[0]*_[1]!=A[1]*_[0]){var v=A[0]*_[0]+A[1]*_[1],P=Math.acos(Math.abs(v)),k=m([A[0]+_[0],A[1]+_[1]]),B=E/Math.sin(P/2),N=h+B*k[0],M=y+B*k[1],z=[-A[1],A[0]],R=[_[1],-_[0]],q=function(X){var re=X[0];return X[1]>=0?Math.acos(re):-Math.acos(re)},H=q(z),U=q(R);this.lineTo(N+z[0]*E,M+z[1]*E),this.arc(N,M,E,H,U)}else this.lineTo(h,y)}}},o.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},o.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},o.prototype.rect=function(h,y,w,b){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(h,y),this.lineTo(h+w,y),this.lineTo(h+w,y+b),this.lineTo(h,y+b),this.lineTo(h,y),this.closePath()},o.prototype.fillRect=function(h,y,w,b){var E;E=this.__createElement("rect",{x:h,y,width:w,height:b},!0),this.__closestGroupOrSvg().appendChild(E),this.__currentElement=E,this.__applyStyleToCurrentElement("fill")},o.prototype.strokeRect=function(h,y,w,b){var E;E=this.__createElement("rect",{x:h,y,width:w,height:b},!0),this.__closestGroupOrSvg().appendChild(E),this.__currentElement=E,this.__applyStyleToCurrentElement("stroke")},o.prototype.__clearCanvas=function(){for(var h=this.__closestGroupOrSvg().getAttribute("transform"),y=this.__root.childNodes[1],w=y.childNodes,b=w.length-1;b>=0;b--)w[b]&&y.removeChild(w[b]);this.__currentElement=y,this.__groupStack=[],h&&this.__addTransform(h)},o.prototype.clearRect=function(h,y,w,b){if(h!==0||y!==0||w!==this.width||b!==this.height){var E,S=this.__closestGroupOrSvg();E=this.__createElement("rect",{x:h,y,width:w,height:b,fill:"#FFFFFF"},!0),S.appendChild(E)}else this.__clearCanvas()},o.prototype.createLinearGradient=function(h,y,w,b){var E=this.__createElement("linearGradient",{id:d(this.__ids),x1:h+"px",x2:w+"px",y1:y+"px",y2:b+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(E),new s(E,this)},o.prototype.createRadialGradient=function(h,y,w,b,E,S){var x=this.__createElement("radialGradient",{id:d(this.__ids),cx:b+"px",cy:E+"px",r:S+"px",fx:h+"px",fy:y+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(x),new s(x,this)},o.prototype.__parseFont=function(){var h=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),y={style:h[1]||"normal",size:h[4]||"10px",family:h[6]||"sans-serif",weight:h[3]||"normal",decoration:h[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(y.decoration="underline"),this.__fontHref&&(y.href=this.__fontHref),y},o.prototype.__wrapTextLink=function(h,y){if(h.href){var w=this.__createElement("a");return w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h.href),w.appendChild(y),w}return y},o.prototype.__applyText=function(h,y,w,b){var E,S,x=this.__parseFont(),A=this.__closestGroupOrSvg(),_=this.__createElement("text",{"font-family":x.family,"font-size":x.size,"font-style":x.style,"font-weight":x.weight,"text-decoration":x.decoration,x:y,y:w,"text-anchor":(E=this.textAlign,S={left:"start",right:"end",center:"middle",start:"start",end:"end"},S[E]||S.start),"dominant-baseline":p(this.textBaseline)},!0);_.appendChild(this.__document.createTextNode(h)),this.__currentElement=_,this.__applyStyleToCurrentElement(b),A.appendChild(this.__wrapTextLink(x,_))},o.prototype.fillText=function(h,y,w){this.__applyText(h,y,w,"fill")},o.prototype.strokeText=function(h,y,w){this.__applyText(h,y,w,"stroke")},o.prototype.measureText=function(h){return this.__ctx.font=this.font,this.__ctx.measureText(h)},o.prototype.arc=function(h,y,w,b,E,S){if(b!==E){(b%=2*Math.PI)===(E%=2*Math.PI)&&(E=(E+2*Math.PI-.001*(S?-1:1))%(2*Math.PI));var x=h+w*Math.cos(E),A=y+w*Math.sin(E),_=h+w*Math.cos(b),v=y+w*Math.sin(b),P=S?0:1,k=0,B=E-b;B<0&&(B+=2*Math.PI),k=S?B>Math.PI?0:1:B>Math.PI?1:0,this.lineTo(_,v),this.__addPathCommand(c("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:w,ry:w,xAxisRotation:0,largeArcFlag:k,sweepFlag:P,endX:x,endY:A})),this.__currentPosition={x,y:A}}},o.prototype.clip=function(){var h=this.__closestGroupOrSvg(),y=this.__createElement("clipPath"),w=d(this.__ids),b=this.__createElement("g");this.__applyCurrentDefaultPath(),h.removeChild(this.__currentElement),y.setAttribute("id",w),y.appendChild(this.__currentElement),this.__defs.appendChild(y),h.setAttribute("clip-path",c("url(#{id})",{id:w})),h.appendChild(b),this.__currentElement=b},o.prototype.drawImage=function(){var h,y,w,b,E,S,x,A,_,v,P,k,B,N=Array.prototype.slice.call(arguments),M=N[0],z=0,R=0;if(N.length===3)h=N[1],y=N[2],w=E=M.width,b=S=M.height;else if(N.length===5)h=N[1],y=N[2],w=N[3],b=N[4],E=M.width,S=M.height;else{if(N.length!==9)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);z=N[1],R=N[2],E=N[3],S=N[4],h=N[5],y=N[6],w=N[7],b=N[8]}x=this.__closestGroupOrSvg(),this.__currentElement;var q="translate("+h+", "+y+")";if(M instanceof o){if((A=M.getSvg().cloneNode(!0)).childNodes&&A.childNodes.length>1){for(_=A.childNodes[0];_.childNodes.length;)B=_.childNodes[0].getAttribute("id"),this.__ids[B]=B,this.__defs.appendChild(_.childNodes[0]);if(v=A.childNodes[1]){var H,U=v.getAttribute("transform");H=U?U+" "+q:q,v.setAttribute("transform",H),x.appendChild(v)}}}else M.nodeName!=="CANVAS"&&M.nodeName!=="IMG"||((P=this.__createElement("image")).setAttribute("width",w),P.setAttribute("height",b),P.setAttribute("opacity",this.globalAlpha),P.setAttribute("preserveAspectRatio","none"),(k=this.__document.createElement("canvas")).width=w,k.height=b,k.getContext("2d").drawImage(M,z,R,E,S,0,0,w,b),M=k,P.setAttribute("transform",q),P.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",M.nodeName==="CANVAS"?M.toDataURL():M.getAttribute("src")),x.appendChild(P))},o.prototype.createPattern=function(h,y){var w,b=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),E=d(this.__ids);return b.setAttribute("id",E),b.setAttribute("width",h.width),b.setAttribute("height",h.height),h.nodeName==="CANVAS"||h.nodeName==="IMG"?((w=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",h.width),w.setAttribute("height",h.height),w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h.nodeName==="CANVAS"?h.toDataURL():h.getAttribute("src")),b.appendChild(w),this.__defs.appendChild(b)):h instanceof o&&(b.appendChild(h.__root.childNodes[1]),this.__defs.appendChild(b)),new l(b,this)},o.prototype.setLineDash=function(h){h&&h.length>0?this.lineDash=h.join(","):this.lineDash=null},o.prototype.drawFocusRing=function(){},o.prototype.createImageData=function(){},o.prototype.getImageData=function(){},o.prototype.putImageData=function(){},o.prototype.globalCompositeOperation=function(){},o.prototype.setTransform=function(){},typeof window=="object"&&(window.C2S=o),typeof r.exports=="object"&&(r.exports=o)})()}])})})(ov);var OC=ov.exports;const NC=qn(OC);Rs.use(NC);const Nn=document.createElement("a");document.body.appendChild(Nn);Nn.style.display="none";function Ou(t,e){const r=JSON.stringify(t),n=new Blob([r],{type:"application/json"}),i=window.URL.createObjectURL(n);Nn.href=i,Nn.download=e,Nn.click(),window.URL.revokeObjectURL(i),_e.debug("JSON File saved: "+e)}function sv(t,e){Nn.href=t,Nn.download=e,Nn.click(),window.URL.revokeObjectURL(t),_e.debug("File saved: "+e)}function BC(t){const e=t.cy.json();delete e.style,Ou(e,"snik.json")}function RC(t){const e={title:We.mainView.state.title,graph:We.mainView.state.cy.json(),options:t};delete e.graph.style;const r={tabs:[],state:wv(),mainGraph:e};for(const n of We.partViews){const i={title:n.state.title,graph:n.state.cy.json()};delete i.graph.style,r.tabs.push(i)}Ou(r,"snik-session.json")}function zC(t){const e={version:ui,title:t.title,graph:t.cy.json()};delete e.graph.style,Ou(e,"snik-view.json")}function zo(t,e,r,n){const i={bg:e?"white":"black",full:r,maxWidth:void 0,maxHeight:void 0};n?(i.maxWidth=it.download.image.max.width,i.maxHeight=it.download.image.max.height):r&&(i.maxWidth=it.download.image.standard.width,i.maxHeight=it.download.image.standard.height);const a=t.cy.png(i);sv(a,"snik.png")}function Mf(t,e,r=!0){const n={full:r,scale:1,bg:e?"white":"black"},i=t.cy.svg(n),a=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),o=window.URL.createObjectURL(a);sv(o,"snik.svg")}var lv={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(dn,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=11)}([function(r,n,i){r.exports=Object.assign!=null?Object.assign.bind(Object):function(a){for(var o=arguments.length,s=Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return s.forEach(function(u){Object.keys(u).forEach(function(c){return a[c]=u[c]})}),a}},function(r,n,i){var a=i(0),o=Object.freeze({source:null,target:null,length:80,coeff:2e-4,weight:1});function s(u){return a({},o,u)}function l(u){var c=u.source,d=u.target,p=u.length<0?o.length:u.length,m=d.pos.x-c.pos.x,h=d.pos.y-c.pos.y,y=Math.sqrt(m*m+h*h);y===0&&(m=(Math.random()-.5)/50,h=(Math.random()-.5)/50,y=Math.sqrt(m*m+h*h));var w=y-p,b=(!u.coeff||u.coeff<0?o.springCoeff:u.coeff)*w/y*u.weight;c.force.x+=b*m,c.force.y+=b*h,d.force.x-=b*m,d.force.y-=b*h}r.exports={makeSpring:s,applySpring:l}},function(r,n,i){var a=function(){function R(q,H){for(var U=0;U<H.length;U++){var X=H[U];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(q,X.key,X)}}return function(q,H,U){return H&&R(q.prototype,H),U&&R(q,U),q}}();function o(R,q){if(!(R instanceof q))throw new TypeError("Cannot call a class as a function")}function s(R,q){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:R}function l(R,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);R.prototype=Object.create(q&&q.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(R,q):R.__proto__=q)}var u=i(13),c=i(0),d=i(4),p=i(10),m=p.tick,h=i(7),y=h.makeQuadtree,w=i(3),b=w.makeBody,E=i(1),S=E.makeSpring,x=function(q){return typeof q=="function"},A=function(q){return q.isParent()},_=function(q){return!A(q)},v=function(q){return A(q.source())||A(q.target())},P=function(q){return!v(q)},k=function(q){return q.scratch("euler").body},B=function(q){return A(q)?q.descendants().filter(_):q},N=function(q){var H=q.scratch("euler");return H||(H={},q.scratch("euler",H)),H},M=function(q,H){return x(q)?q(H):q},z=function(R){l(q,R);function q(H){return o(this,q),s(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,c({},d,H)))}return a(q,[{key:"prerun",value:function(U){var X=U;X.quadtree=y();var re=X.bodies=[];X.nodes.filter(function(F){return _(F)}).forEach(function(F){var W=N(F),$=b({pos:{x:W.x,y:W.y},mass:M(X.mass,F),locked:W.locked});$._cyNode=F,W.body=$,$._scratch=W,re.push($)});var j=X.springs=[];X.edges.filter(P).forEach(function(F){var W=S({source:k(F.source()),target:k(F.target()),length:M(X.springLength,F),coeff:M(X.springCoeff,F)});W._cyEdge=F;var $=N(F);W._scratch=$,$.spring=W,j.push(W)}),X.edges.filter(v).forEach(function(F){var W=B(F.source()),$=B(F.target());W=[W[0]],$=[$[0]],W.forEach(function(Y){$.forEach(function(Z){j.push(S({source:k(Y),target:k(Z),length:M(X.springLength,F),coeff:M(X.springCoeff,F)}))})})})}},{key:"tick",value:function(U){var X=m(U),re=X<=U.movementThreshold;return re}}]),q}(u);r.exports=z},function(r,n,i){var a=Object.freeze({pos:{x:0,y:0},prevPos:{x:0,y:0},force:{x:0,y:0},velocity:{x:0,y:0},mass:1}),o=function(d){return{x:d.x,y:d.y}},s=function(d,p){return d??p},l=function(d,p){return o(s(d,p))};function u(c){var d={};return d.pos=l(c.pos,a.pos),d.prevPos=l(c.prevPos,d.pos),d.force=l(c.force,a.force),d.velocity=l(c.velocity,a.velocity),d.mass=c.mass!=null?c.mass:a.mass,d.locked=c.locked,d}r.exports={makeBody:u}},function(r,n,i){var a=Object.freeze({springLength:function(s){return 80},springCoeff:function(s){return 8e-4},mass:function(s){return 4},gravity:-1.2,pull:.001,theta:.666,dragCoeff:.02,movementThreshold:1,timeStep:20});r.exports=a},function(r,n,i){var a=.02;function o(s,l){var u=void 0;l!=null?u=l:s.dragCoeff!=null?u=s.dragCoeff:u=a,s.force.x-=u*s.velocity.x,s.force.y-=u*s.velocity.y}r.exports={applyDrag:o}},function(r,n,i){function a(o,s){var l=0,u=0,c=0,d=0,p,m=o.length;if(m===0)return 0;for(p=0;p<m;++p){var h=o[p],y=s/h.mass;if(!h.grabbed){h.locked?(h.velocity.x=0,h.velocity.y=0):(h.velocity.x+=y*h.force.x,h.velocity.y+=y*h.force.y);var w=h.velocity.x,b=h.velocity.y,E=Math.sqrt(w*w+b*b);E>1&&(h.velocity.x=w/E,h.velocity.y=b/E),l=s*h.velocity.x,c=s*h.velocity.y,h.pos.x+=l,h.pos.y+=c,u+=Math.abs(l),d+=Math.abs(c)}}return(u*u+d*d)/m}r.exports={integrate:a}},function(r,n,i){var a=i(9),o=i(8),s=function(m){m.x=0,m.y=0},l=function(m,h){var y=1e-8,w=Math.abs(m.x-h.x),b=Math.abs(m.y-h.y);return w<y&&b<y};function u(){var p=[],m=new o,h=[],y=0,w=b();function b(){var A=h[y];return A?(A.quad0=null,A.quad1=null,A.quad2=null,A.quad3=null,A.body=null,A.mass=A.massX=A.massY=0,A.left=A.right=A.top=A.bottom=0):(A=new a,h[y]=A),++y,A}function E(A,_,v,P){var k=p,B=void 0,N=void 0,M=void 0,z=void 0,R=0,q=0,H=1,U=0,X=1;k[0]=w,s(A.force);var re=-A.pos.x,j=-A.pos.y,F=Math.sqrt(re*re+j*j),W=A.mass*P/F;for(R+=W*re,q+=W*j;H;){var $=k[U],Y=$.body;H-=1,U+=1;var Z=Y!==A;Y&&Z?(N=Y.pos.x-A.pos.x,M=Y.pos.y-A.pos.y,z=Math.sqrt(N*N+M*M),z===0&&(N=(Math.random()-.5)/50,M=(Math.random()-.5)/50,z=Math.sqrt(N*N+M*M)),B=_*Y.mass*A.mass/(z*z*z),R+=B*N,q+=B*M):Z&&(N=$.massX/$.mass-A.pos.x,M=$.massY/$.mass-A.pos.y,z=Math.sqrt(N*N+M*M),z===0&&(N=(Math.random()-.5)/50,M=(Math.random()-.5)/50,z=Math.sqrt(N*N+M*M)),($.right-$.left)/z<v?(B=_*$.mass*A.mass/(z*z*z),R+=B*N,q+=B*M):($.quad0&&(k[X]=$.quad0,H+=1,X+=1),$.quad1&&(k[X]=$.quad1,H+=1,X+=1),$.quad2&&(k[X]=$.quad2,H+=1,X+=1),$.quad3&&(k[X]=$.quad3,H+=1,X+=1)))}A.force.x+=R,A.force.y+=q}function S(A){if(A.length!==0){var _=Number.MAX_VALUE,v=Number.MAX_VALUE,P=Number.MIN_VALUE,k=Number.MIN_VALUE,B=void 0,N=A.length;for(B=N;B--;){var M=A[B].pos.x,z=A[B].pos.y;M<_&&(_=M),M>P&&(P=M),z<v&&(v=z),z>k&&(k=z)}var R=P-_,q=k-v;for(R>q?k=v+R:P=_+q,y=0,w=b(),w.left=_,w.right=P,w.top=v,w.bottom=k,B=N-1,B>=0&&(w.body=A[B]);B--;)x(A[B])}}function x(A){for(m.reset(),m.push(w,A);!m.isEmpty();){var _=m.pop(),v=_.node,P=_.body;if(v.body){var U=v.body;if(v.body=null,l(U.pos,P.pos)){var X=3;do{var re=Math.random(),j=(v.right-v.left)*re,F=(v.bottom-v.top)*re;U.pos.x=v.left+j,U.pos.y=v.top+F,X-=1}while(X>0&&l(U.pos,P.pos));if(X===0&&l(U.pos,P.pos))return}m.push(v,U),m.push(v,P)}else{var k=P.pos.x,B=P.pos.y;v.mass=v.mass+P.mass,v.massX=v.massX+P.mass*k,v.massY=v.massY+P.mass*B;var N=0,M=v.left,z=(v.right+M)/2,R=v.top,q=(v.bottom+R)/2;k>z&&(N=N+1,M=z,z=v.right),B>q&&(N=N+2,R=q,q=v.bottom);var H=c(v,N);H?m.push(H,P):(H=b(),H.left=M,H.top=R,H.right=z,H.bottom=q,H.body=P,d(v,N,H))}}}return{insertBodies:S,updateBodyForce:E}}function c(p,m){return m===0?p.quad0:m===1?p.quad1:m===2?p.quad2:m===3?p.quad3:null}function d(p,m,h){m===0?p.quad0=h:m===1?p.quad1=h:m===2?p.quad2=h:m===3&&(p.quad3=h)}r.exports={makeQuadtree:u}},function(r,n,i){r.exports=a;function a(){this.stack=[],this.popIdx=0}a.prototype={isEmpty:function(){return this.popIdx===0},push:function(l,u){var c=this.stack[this.popIdx];c?(c.node=l,c.body=u):this.stack[this.popIdx]=new o(l,u),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};function o(s,l){this.node=s,this.body=l}},function(r,n,i){r.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},function(r,n,i){var a=i(6),o=a.integrate,s=i(5),l=s.applyDrag,u=i(1),c=u.applySpring;function d(p){var m=p.bodies,h=p.springs,y=p.quadtree,w=p.timeStep,b=p.gravity,E=p.theta,S=p.dragCoeff,x=p.pull;m.forEach(function(B){var N=B._scratch;N&&(B.locked=N.locked,B.grabbed=N.grabbed,B.pos.x=N.x,B.pos.y=N.y)}),y.insertBodies(m);for(var A=0;A<m.length;A++){var _=m[A];y.updateBodyForce(_,b,E,x),l(_,S)}for(var v=0;v<h.length;v++){var P=h[v];c(P)}var k=o(m,w);return m.forEach(function(B){var N=B._scratch;N&&(N.x=B.pos.x,N.y=B.pos.y)}),k}r.exports={tick:d}},function(r,n,i){var a=i(2),o=function(l){l&&l("layout","euler",a)};typeof cytoscape<"u"&&o(cytoscape),r.exports=o},function(r,n,i){r.exports=Object.freeze({animate:!0,refresh:10,maxIterations:1e3,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(r,n,i){var a=function(){function b(E,S){for(var x=0;x<S.length;x++){var A=S[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,S,x){return S&&b(E.prototype,S),x&&b(E,x),E}}();function o(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}var s=i(0),l=i(12),u=i(14),c=i(15),d=c.setInitialPositionState,p=c.refreshPositions,m=c.getNodePositionData,h=i(16),y=h.multitick,w=function(){function b(E){o(this,b);var S=this.options=s({},l,E),x=this.state=s({},S,{layout:this,nodes:S.eles.nodes(),edges:S.eles.edges(),tickIndex:0,firstUpdate:!0});x.animateEnd=S.animate&&S.animate==="end",x.animateContinuously=S.animate&&!x.animateEnd}return a(b,[{key:"run",value:function(){var S=this,x=this.state;if(x.tickIndex=0,x.firstUpdate=!0,x.startTime=Date.now(),x.running=!0,x.currentBoundingBox=u(x.boundingBox,x.cy),x.ready&&S.one("ready",x.ready),x.stop&&S.one("stop",x.stop),x.nodes.forEach(function(j){return d(j,x)}),S.prerun(x),x.animateContinuously){var A=function(F){if(x.ungrabifyWhileSimulating){var W=m(F,x).grabbable=F.grabbable();W&&F.ungrabify()}},_=function(F){if(x.ungrabifyWhileSimulating){var W=m(F,x).grabbable;W&&F.grabify()}},v=function(F){return m(F,x).grabbed=F.grabbed()},P=function(F){var W=F.target;v(W)},k=P,B=function(F){var W=F.target,$=m(W,x),Y=W.position();$.x=Y.x,$.y=Y.y},N=function(F){F.on("grab",P),F.on("free",k),F.on("drag",B)},M=function(F){F.removeListener("grab",P),F.removeListener("free",k),F.removeListener("drag",B)},z=function(){x.fit&&x.animateContinuously&&x.cy.fit(x.padding)},R=function(){p(x.nodes,x),z(),requestAnimationFrame(q)},q=function(){y(x,R,H)},H=function(){p(x.nodes,x),z(),x.nodes.forEach(function(F){_(F),M(F)}),x.running=!1,S.emit("layoutstop")};S.emit("layoutstart"),x.nodes.forEach(function(j){A(j),N(j)}),q()}else{for(var U=!1,X=function(){},re=function(){return U=!0};!U;)y(x,X,re);x.eles.layoutPositions(this,x,function(j){var F=m(j,x);return{x:F.x,y:F.y}})}return S.postrun(x),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),b}();r.exports=w},function(r,n,i){r.exports=function(a,o){return a==null?a={x1:0,y1:0,w:o.width(),h:o.height()}:a={x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2,w:a.w,h:a.h},a.x2==null&&(a.x2=a.x1+a.w),a.w==null&&(a.w=a.x2-a.x1),a.y2==null&&(a.y2=a.y1+a.h),a.h==null&&(a.h=a.y2-a.y1),a}},function(r,n,i){var a=i(0),o=function(c,d){var p=c.position(),m=d.currentBoundingBox,h=c.scratch(d.name);h==null&&(h={},c.scratch(d.name,h)),a(h,d.randomize?{x:m.x1+Math.random()*m.w,y:m.y1+Math.random()*m.h}:{x:p.x,y:p.y}),h.locked=c.locked()},s=function(c,d){return c.scratch(d.name)},l=function(c,d){c.positions(function(p){var m=p.scratch(d.name);return{x:m.x,y:m.y}})};r.exports={setInitialPositionState:o,getNodePositionData:s,refreshPositions:l}},function(r,n,i){var a=function(){},o=function(u){var c=u,d=u.layout,p=d.tick(c);c.firstUpdate&&(c.animateContinuously&&c.layout.emit("layoutready"),c.firstUpdate=!1),c.tickIndex++;var m=Date.now()-c.startTime;return!c.infinite&&(p||c.tickIndex>=c.maxIterations||m>=c.maxSimulationTime)},s=function(u){for(var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a,p=!1,m=u,h=0;h<m.refresh&&(p=!m.running||o(m),!p);h++);p?d():c()};r.exports={tick:o,multitick:s}}])})})(lv);var FC=lv.exports;const $C=qn(FC);Rs.use($C);const HC=500;let Ii;function uv(t,e,r=!1){return"layout"+t+e.sort().toString().replace(/[^a-z]/g,"")+!!r}function cv(t){const e=[];for(let r=0;r<t.size();r++){const n=t[r];e.push([n.data(Ue.ID),n.position()])}return e}function Pf(t){const e={x:0,y:0};for(let r=0;r<t.length;r++){const n=t[r].position();e.x+=n.x,e.y+=n.y}return e.x/=t.length,e.y/=t.length,e}async function Lr(t,e,r,n=!1,i=!1){if(t.nodes().size()===0)return _e.warn("layout.js#run: Graph empty. Nothing to layout."),!1;const a=Xi("layout");if(n){const p=new Set,m=[],h=t.nodes();for(let y=0;y<h.length;y++){const w=h[y],b=w.data(Ue.SOURCE);b&&(p.has(b)||(t.add({group:"nodes",data:{id:b,mass:400,type:"virtual"}}),p.add(b)),m.push({group:"edges",data:{source:w.data(Ue.ID),target:b,springLength:180}}))}_e.debug("Separate subontologies checked"),_e.debug(`Adding ${m.length} virtual edges.`),t.add(m)}else _e.debug("Separate subontologies unchecked");Ii&&Ii.stop();let o,s;t.nodes(":selected").size()>1?(o=t.elements(":selected"),s=!0):(o=t.elements(":visible"),s=!1);let l;s&&(l=Pf(o.nodes()));const u=o.size()>HC&&typeof window<"u",c={...e,animate:u};Ii=o.layout(c),Ii.on("layoutstop",()=>{if(s){const p=Pf(o.nodes());o.nodes().shift({x:l.x-p.x,y:l.y-p.y})}if(a.stop(),r&&n){const p=t.nodes("[type='virtual']");_e.debug(`Removing ${p.length} virtual nodes.`),t.remove(p)}if(r&&i){if(typeof localStorage>"u")return _e.warn("web storage not available, could not write to cache."),!0;const p=cv(t.nodes()),m=uv(e.name,r,n);localStorage.setItem(m,JSON.stringify(p)),_e.info("Replaced layout cache.")}});const d=Ii.promiseOn("layoutready");return Ii.run(),await d,!0}async function qC(t,e){const r=new Map(e);let n=0,i=0;const o=await Lr(t,{name:"preset",fit:!0,positions:s=>{let l;return(l=r.get(s.data(Ue.ID)))?(n++,l):(i++,{x:0,y:0})}});if(i>0||n<cv.length){_e.debug(`...${n}/${t.nodes().size()} node positions set. ${e.length-n} superfluous layout positions .`);const s=n/e.length,l=n/t.nodes().size();if(s<it.layoutCacheMinPrecision)return _e.warn(`Precision of ${s} less than minimal required precision of ${it.layoutCacheMinPrecision}.`),!1;if(l<it.layoutCacheMinRecall)return _e.warn(`Recall of ${l} less than minimal required of recall of ${it.layoutCacheMinRecall}.`),!1}else _e.debug("...layout applied with 100% overlap.");return n===0?!1:o}async function fv(t,e,r,n=!1){if(typeof localStorage>"u")return _e.error("Web storage not available, could not access browser-based cache."),Lr(t,e,r,n,!1);const i=uv(e.name,r,n),a=localStorage.getItem(i);if(a)try{const o=JSON.parse(a);if(_e.debug(`Loaded layout from cache, applying ${o.length} positions...`),await qC(t,o))return!0;_e.warn("Could not apply layout to active graph, recalculating layout...")}catch(o){_e.warn("Could not load cache item, recalculating layout...",o)}else _e.warn("Layout not in cache, recalculating layout...");return Lr(t,e,r,n,!0)}function VC(t){const e=t.data("springLength");return e||800}const Ma={name:"euler",springLength:t=>VC(t),animate:!0,refresh:50,maxSimulationTime:4e4,maxIterations:500,timeStep:80,randomize:!0,movementThreshold:1,fit:!1,mass:t=>t.data("mass")|40},fs={name:"euler",springLength:40,animate:!1,maxSimulationTime:1e4,maxIterations:100,timeStep:80,refresh:50,randomize:!1,movementThreshold:1,fit:!1,mass:40},dv={name:"cose",animate:!0,refresh:50,numIter:500,initialTemp:1e3,nestingFactor:1.01,randomize:!1,fit:!0};function WC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Fo(t){return function(e){if(Array.isArray(e))return bl(e)}(t)||function(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return bl(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bl(e,r)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bl(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Lf,wl,Jn,xl,Of,Vr=(Lf=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],wl=function(){function t(n){var i=n.targetModal,a=n.triggers,o=a===void 0?[]:a,s=n.onShow,l=s===void 0?function(){}:s,u=n.onClose,c=u===void 0?function(){}:u,d=n.openTrigger,p=d===void 0?"data-micromodal-trigger":d,m=n.closeTrigger,h=m===void 0?"data-micromodal-close":m,y=n.openClass,w=y===void 0?"is-open":y,b=n.disableScroll,E=b!==void 0&&b,S=n.disableFocus,x=S!==void 0&&S,A=n.awaitCloseAnimation,_=A!==void 0&&A,v=n.awaitOpenAnimation,P=v!==void 0&&v,k=n.debugMode,B=k!==void 0&&k;(function(N,M){if(!(N instanceof M))throw new TypeError("Cannot call a class as a function")})(this,t),this.modal=document.getElementById(i),this.config={debugMode:B,disableScroll:E,openTrigger:p,closeTrigger:h,openClass:w,onShow:l,onClose:c,awaitCloseAnimation:_,awaitOpenAnimation:P,disableFocus:x},o.length>0&&this.registerTriggers.apply(this,Fo(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e,r;return e=t,(r=[{key:"registerTriggers",value:function(){for(var n=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.filter(Boolean).forEach(function(s){s.addEventListener("click",function(l){return n.showModal(l)})})}},{key:"showModal",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var a=function o(){n.modal.removeEventListener("animationend",o,!1),n.setFocusToFirstNode()};this.modal.addEventListener("animationend",a,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,i)}},{key:"closeModal",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,n),this.config.awaitCloseAnimation){var a=this.config.openClass;this.modal.addEventListener("animationend",function o(){i.classList.remove(a),i.removeEventListener("animationend",o,!1)},!1)}else i.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(n){this.modal=document.getElementById(n),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(n){if(this.config.disableScroll){var i=document.querySelector("body");switch(n){case"enable":Object.assign(i.style,{overflow:""});break;case"disable":Object.assign(i.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(n){(n.target.hasAttribute(this.config.closeTrigger)||n.target.parentNode.hasAttribute(this.config.closeTrigger))&&(n.preventDefault(),n.stopPropagation(),this.closeModal(n))}},{key:"onKeydown",value:function(n){n.keyCode===27&&this.closeModal(n),n.keyCode===9&&this.retainFocus(n)}},{key:"getFocusableNodes",value:function(){var n=this.modal.querySelectorAll(Lf);return Array.apply(void 0,Fo(n))}},{key:"setFocusToFirstNode",value:function(){var n=this;if(!this.config.disableFocus){var i=this.getFocusableNodes();if(i.length!==0){var a=i.filter(function(o){return!o.hasAttribute(n.config.closeTrigger)});a.length>0&&a[0].focus(),a.length===0&&i[0].focus()}}}},{key:"retainFocus",value:function(n){var i=this.getFocusableNodes();if(i.length!==0)if(i=i.filter(function(o){return o.offsetParent!==null}),this.modal.contains(document.activeElement)){var a=i.indexOf(document.activeElement);n.shiftKey&&a===0&&(i[i.length-1].focus(),n.preventDefault()),!n.shiftKey&&i.length>0&&a===i.length-1&&(i[0].focus(),n.preventDefault())}else i[0].focus()}}])&&WC(e.prototype,r),t}(),Jn=null,xl=function(t){if(!document.getElementById(t))return console.warn("MicroModal: âSeems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},Of=function(t,e){if(function(n){n.length<=0&&(console.warn("MicroModal: âPlease specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var r in e)xl(r);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),r=Fo(document.querySelectorAll("[".concat(e.openTrigger,"]"))),n=function(o,s){var l=[];return o.forEach(function(u){var c=u.attributes[s].value;l[c]===void 0&&(l[c]=[]),l[c].push(u)}),l}(r,e.openTrigger);if(e.debugMode!==!0||Of(r,n)!==!1)for(var i in n){var a=n[i];e.targetModal=i,e.triggers=Fo(a),Jn=new wl(e)}},show:function(t,e){var r=e||{};r.targetModal=t,r.debugMode===!0&&xl(t)===!1||(Jn&&Jn.removeEventListeners(),(Jn=new wl(r)).showModal())},close:function(t){t?Jn.closeModalById(t):Jn.closeModal()}});typeof window<"u"&&(window.MicroModal=Vr);const hv=new Map,vv=new Map,$o=new Set;async function Nf(t,e){const r=`SELECT DISTINCT(?class) ?label
  FROM <http://www.snik.eu/ontology/${t}>
  {
    ?class  ?p ?o;
            a owl:Class;
            rdfs:label ?label.
    {?class meta:chapter <${e}>.}
    UNION
    {?class meta:chapter/meta:subChapterOf <${e}>.}
    UNION
    {?class meta:chapter/meta:subChapterOf/meta:subChapterOf <${e}>.}
    UNION
    {?class meta:chapter/meta:subChapterOf/meta:subChapterOf/meta:subChapterOf <${e}>.}

    FILTER(LANGMATCHES(LANG(?label),"en"))
  }
  ORDER BY ASC(?class)`,n=await bn(r);n.forEach(a=>{vv.set(a.class.value,a.label.value)});const i=n.map(a=>a.class.value);return hv.set(e,i),new Set(i)}async function Bf(t,e){const r=Er("tab:chapter-search-classes");for(;r.rows.length>0;)r.deleteRow(0);const n=(o,s)=>{const u=r.insertRow().insertCell(),c=document.createElement("a");u.appendChild(c),c.innerText=o,c.addEventListener("click",()=>{Vr.close("chapter-search"),t.resetStyle(),t.presentUris(Array.from(e),s)})};n("Show Only those in Graph",!0),n("Highlight All in Graph",!1);const a=r.insertRow().insertCell();a.innerHTML="&nbsp;";for(const o of e){const l=r.insertRow().insertCell(),u=document.createElement("a");l.appendChild(u),u.innerText=vv.get(o),u.addEventListener("click",()=>{Vr.close("chapter-search"),t.presentUri(o)})}}async function Rf(t,e){Vr.show("chapter-search");const r=Er("tab:chapter-search-chapters");for(;r.rows.length>0;)r.deleteRow(0);{const s=Er("tab:chapter-search-classes");for(;s.rows.length>0;)s.deleteRow(0)}$o.clear();const n=r.insertRow().insertCell(),i=document.createElement("a");n.appendChild(i),i.setAttribute("data-i18n","deselect-all"),i.innerText=md("deselect-all"),i.addEventListener("click",()=>{for(const s of document.getElementsByClassName("chaptersearch-checkbox"))s.checked&&s.click()});const a=`SELECT COUNT(DISTINCT(?c)) AS ?count ?ch
  FROM <http://www.snik.eu/ontology/${e}>
  {
    ?c ?p ?o; a owl:Class.
    ?c meta:chapter/meta:subChapterOf* ?ch.
  } ORDER BY ASC(?ch)`,o=await bn(a);for(const s of o){const l=s.ch.value,u=r.insertRow(),c=u.insertCell();c.addEventListener("click",async()=>Bf(t,await Nf(e,l)));const d=document.createElement("a");c.appendChild(d),d.innerText=s.ch.value;const p=u.insertCell();p.innerHTML=s.count.value;const m=u.insertCell(),h=document.createElement("input");m.appendChild(h),h.setAttribute("type","checkbox"),h.classList.add("chaptersearch-checkbox"),m.addEventListener("input",async()=>{h.checked?(await Nf(e,l),$o.add(l)):$o.delete(l),Bf(t,new Set([...$o].map(y=>hv.get(y)).flat().sort()))})}}var El=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Cl(t,e,r,n){t.addEventListener?t.addEventListener(e,r,n):t.attachEvent&&t.attachEvent("on".concat(e),function(){r(window.event)})}function pv(t,e){for(var r=e.slice(0,e.length-1),n=0;n<r.length;n++)r[n]=t[r[n].toLowerCase()];return r}function gv(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");for(var e=t.split(","),r=e.lastIndexOf("");r>=0;)e[r-1]+=",",e.splice(r,1),r=e.lastIndexOf("");return e}function UC(t,e){for(var r=t.length>=e.length?t:e,n=t.length>=e.length?e:t,i=!0,a=0;a<r.length;a++)n.indexOf(r[a])===-1&&(i=!1);return i}var Ga={backspace:8,"â«":8,tab:9,clear:12,enter:13,"â©":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"âª":20,",":188,".":190,"/":191,"`":192,"-":El?173:189,"=":El?61:187,";":El?59:186,"'":222,"[":219,"]":221,"\\":220},nn={"â§":16,shift:16,"â¥":18,alt:18,option:18,"â":17,ctrl:17,control:17,"â":91,cmd:91,command:91},Ql={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Yt={16:!1,18:!1,17:!1,91:!1},Ot={};for(var Ho=1;Ho<20;Ho++)Ga["f".concat(Ho)]=111+Ho;var At=[],zf=!1,mv="all",yv=[],uo=function(e){return Ga[e.toLowerCase()]||nn[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},GC=function(e){return Object.keys(Ga).find(function(r){return Ga[r]===e})},jC=function(e){return Object.keys(nn).find(function(r){return nn[r]===e})};function bv(t){mv=t||"all"}function ja(){return mv||"all"}function KC(){return At.slice(0)}function YC(){return At.map(function(t){return GC(t)||jC(t)||String.fromCharCode(t)})}function XC(){var t=[];return Object.keys(Ot).forEach(function(e){Ot[e].forEach(function(r){var n=r.key,i=r.scope,a=r.mods,o=r.shortcut;t.push({scope:i,shortcut:o,mods:a,keys:n.split("+").map(function(s){return uo(s)})})})}),t}function QC(t){var e=t.target||t.srcElement,r=e.tagName,n=!0;return(e.isContentEditable||(r==="INPUT"||r==="TEXTAREA"||r==="SELECT")&&!e.readOnly)&&(n=!1),n}function ZC(t){return typeof t=="string"&&(t=uo(t)),At.indexOf(t)!==-1}function JC(t,e){var r,n;t||(t=ja());for(var i in Ot)if(Object.prototype.hasOwnProperty.call(Ot,i))for(r=Ot[i],n=0;n<r.length;)r[n].scope===t?r.splice(n,1):n++;ja()===t&&bv(e||"all")}function eS(t){var e=t.keyCode||t.which||t.charCode,r=At.indexOf(e);if(r>=0&&At.splice(r,1),t.key&&t.key.toLowerCase()==="meta"&&At.splice(0,At.length),(e===93||e===224)&&(e=91),e in Yt){Yt[e]=!1;for(var n in nn)nn[n]===e&&(hn[n]=!1)}}function tS(t){if(typeof t>"u")Object.keys(Ot).forEach(function(o){return delete Ot[o]});else if(Array.isArray(t))t.forEach(function(o){o.key&&Sl(o)});else if(typeof t=="object")t.key&&Sl(t);else if(typeof t=="string"){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=r[0],a=r[1];typeof i=="function"&&(a=i,i=""),Sl({key:t,scope:i,method:a,splitKey:"+"})}}var Sl=function(e){var r=e.key,n=e.scope,i=e.method,a=e.splitKey,o=a===void 0?"+":a,s=gv(r);s.forEach(function(l){var u=l.split(o),c=u.length,d=u[c-1],p=d==="*"?"*":uo(d);if(Ot[p]){n||(n=ja());var m=c>1?pv(nn,u):[];Ot[p]=Ot[p].filter(function(h){var y=i?h.method===i:!0;return!(y&&h.scope===n&&UC(h.mods,m))})}})};function Ff(t,e,r,n){if(e.element===n){var i;if(e.scope===r||e.scope==="all"){i=e.mods.length>0;for(var a in Yt)Object.prototype.hasOwnProperty.call(Yt,a)&&(!Yt[a]&&e.mods.indexOf(+a)>-1||Yt[a]&&e.mods.indexOf(+a)===-1)&&(i=!1);(e.mods.length===0&&!Yt[16]&&!Yt[18]&&!Yt[17]&&!Yt[91]||i||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(At),e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}}function $f(t,e){var r=Ot["*"],n=t.keyCode||t.which||t.charCode;if(hn.filter.call(this,t)){if((n===93||n===224)&&(n=91),At.indexOf(n)===-1&&n!==229&&At.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(h){var y=Ql[h];t[h]&&At.indexOf(y)===-1?At.push(y):!t[h]&&At.indexOf(y)>-1?At.splice(At.indexOf(y),1):h==="metaKey"&&t[h]&&At.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(At=At.slice(At.indexOf(y))))}),n in Yt){Yt[n]=!0;for(var i in nn)nn[i]===n&&(hn[i]=!0);if(!r)return}for(var a in Yt)Object.prototype.hasOwnProperty.call(Yt,a)&&(Yt[a]=t[Ql[a]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(At.indexOf(17)===-1&&At.push(17),At.indexOf(18)===-1&&At.push(18),Yt[17]=!0,Yt[18]=!0);var o=ja();if(r)for(var s=0;s<r.length;s++)r[s].scope===o&&(t.type==="keydown"&&r[s].keydown||t.type==="keyup"&&r[s].keyup)&&Ff(t,r[s],o,e);if(n in Ot){for(var l=0;l<Ot[n].length;l++)if((t.type==="keydown"&&Ot[n][l].keydown||t.type==="keyup"&&Ot[n][l].keyup)&&Ot[n][l].key){for(var u=Ot[n][l],c=u.splitKey,d=u.key.split(c),p=[],m=0;m<d.length;m++)p.push(uo(d[m]));p.sort().join("")===At.sort().join("")&&Ff(t,u,o,e)}}}}function rS(t){return yv.indexOf(t)>-1}function hn(t,e,r){At=[];var n=gv(t),i=[],a="all",o=document,s=0,l=!1,u=!0,c="+",d=!1;for(r===void 0&&typeof e=="function"&&(r=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(a=e.scope),e.element&&(o=e.element),e.keyup&&(l=e.keyup),e.keydown!==void 0&&(u=e.keydown),e.capture!==void 0&&(d=e.capture),typeof e.splitKey=="string"&&(c=e.splitKey)),typeof e=="string"&&(a=e);s<n.length;s++)t=n[s].split(c),i=[],t.length>1&&(i=pv(nn,t)),t=t[t.length-1],t=t==="*"?"*":uo(t),t in Ot||(Ot[t]=[]),Ot[t].push({keyup:l,keydown:u,scope:a,mods:i,shortcut:n[s],method:r,key:n[s],splitKey:c,element:o});typeof o<"u"&&!rS(o)&&window&&(yv.push(o),Cl(o,"keydown",function(p){$f(p,o)},d),zf||(zf=!0,Cl(window,"focus",function(){At=[]},d)),Cl(o,"keyup",function(p){$f(p,o),eS(p)},d))}function nS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Ot).forEach(function(r){var n=Ot[r].filter(function(i){return i.scope===e&&i.shortcut===t});n.forEach(function(i){i&&i.method&&i.method()})})}var Tl={getPressedKeyString:YC,setScope:bv,getScope:ja,deleteScope:JC,getPressedKeyCodes:KC,getAllKeyCodes:XC,isPressed:ZC,filter:QC,trigger:nS,unbind:tS,keyMap:Ga,modifier:nn,modifierMap:Ql};for(var kl in Tl)Object.prototype.hasOwnProperty.call(Tl,kl)&&(hn[kl]=Tl[kl]);if(typeof window<"u"){var iS=window.hotkeys;hn.noConflict=function(t){return t&&window.hotkeys===hn&&(window.hotkeys=iS),hn},window.hotkeys=hn}function aS(){Vr.show("subontology-connectivity");const t=document.getElementById("subontology-connectivity-form");t.listener||(t.listener=async e=>{e.preventDefault(),Vr.close("subontology-connectivity");const r=new We;await r.initialized;const n=[t[0].value,t[1].value];_e.debug(`Showing connectivity between the subontologies ${n[0]} and ${n[1]}.`);const i=n.map(s=>r.state.cy.nodes(`[source="${s}"]`)),o=i[0].edgesWith(i[1]).connectedNodes();St.setVisible(r.state.cy.elements(),!1),St.setVisible(o,!0),St.setVisible(o.edgesWith(o),!0),o.layout({name:"concentric",fit:!0,levelWidth:function(){return 1},minNodeSpacing:60,concentric:function(s){return i[0].contains(s)?2:1}}).run()},t.addEventListener("submit",t.listener))}let ds=null;class ai{constructor(){Et(this,"separateSubsBox");Et(this,"dayModeBox");Et(this,"coloredEdgesBox");Et(this,"showPropertyBox");if(ds)throw Error("Menu already exists.");document.body.addEventListener("click",ai.closeListener),this.showCloseMatches=this.showCloseMatches.bind(this),this.addMenu(),ds=this}separateSubs(){return this.separateSubsBox.checked}coloredEdges(){return this.coloredEdgesBox.checked}showProperty(){return this.showPropertyBox.checked}setLanguage(e){if(zp(e)){$p();for(const r of We.views()){const n=r.state.graph.cy.elements();r.state.graph.cy.remove(n),n.restore()}}}static gitInfo(){return`SNIK Graph version ${ui}
commit date 2023-11-29T16:37:33+01:00
fix tsdoc by correcting TypeScript module resolution
master/f9033bfe5d0a0afa9ee5baa135bc8c4e006f68e7`}static about(){window.alert(ai.gitInfo())}static visualizationFeedback(){Aa(Vp,"",`## Issue

## Version Info
${ai.gitInfo()}`,_e.logs)}showCloseMatches(){_e.debug("show close matches start");const r=We.activeState().graph.cy.elements(".unfiltered").not(".hidden").connectedEdges(".unfiltered").filter('[pl="closeMatch"]');St.setVisible(r,!0),St.setVisible(r.connectedNodes(".unfiltered"),!0),_e.debug("show close matches end")}menuData(){return[{label:"File",i18n:"file",id:"file",entries:[[async()=>{await Cd(this.graph.cy,[]),Na(async()=>await fv(this.graph.cy,Ma,it.defaultSubOntologies,this.separateSubs()))},"Load from SPARQL Endpoint","load-sparql"],[()=>RC(this.optionsToJSON()),"Save Session","save-session"],[()=>BC(We.activeState().graph),"Export Graph to Cytoscape","save-snik-graph"],[()=>zC(We.activeState()),"Save currently active view (partial graph)","save-view"],[()=>{Na(()=>Lr(We.activeState().cy,Ma,it.defaultSubOntologies,this.separateSubs(),!0))},"Recalculate Layout and Replace in Browser Cache","recalculate-layout-replace"],[()=>zo(We.activeState().graph,this.dayModeBox.checked,!1,!1),"Save PNG Image of Current View","save-image-current-view"],[()=>zo(We.activeState().graph,this.dayModeBox.checked,!0,!1),"Save PNG Image of Whole Graph","save-image-whole-graph"],[()=>zo(We.activeState().graph,this.dayModeBox.checked,!1,!0),"Save PNG Image of Current View (high res)","save-image-current-view-high-res"],[()=>zo(We.activeState().graph,this.dayModeBox.checked,!0,!0),"Save PNG Image of Whole Graph (high res)","save-image-whole-graph-high-res"],[()=>Mf(We.activeState().graph,this.dayModeBox.checked,!1),"Save SVG Image of Current View"],[()=>Mf(We.activeState().graph,this.dayModeBox.checked,!0),"Save SVG Image of Whole Graph"]]},{label:"Filter",i18n:"filter",id:"filter",entries:[]},{label:"Options",i18n:"options",id:"options",entries:[]},{label:"Layout",i18n:"layout",entries:[[this.showCloseMatches,"show close matches","show-close-matches"],[()=>{Lr(We.activeState().graph.cy,Ma,it.defaultSubOntologies,this.separateSubs()&&!We.activeState().graph.starMode,!0)},"recalculate layout","recalculate-layout","ctrl+alt+l"],[()=>{Lr(We.activeState().graph.cy,fs,it.defaultSubOntologies,this.separateSubs()&&!We.activeState().graph.starMode,!1)},"tight layout","tight-layout","ctrl+alt+t"],[()=>{Lr(We.activeState().graph.cy,dv,it.defaultSubOntologies,this.separateSubs()&&!We.activeState().graph.starMode,!1)},"compound layout","compound-layout","ctrl+alt+c"],[()=>We.activeState().graph.moveAllMatches(0),"move matches on top of each other","move-match-on-top"],[()=>We.activeState().graph.moveAllMatches(100),"move matches nearby","move-match-nearby"],[()=>{Rf(We.activeState().graph,"bb")},"BB chapter search","bb-chapter-search"],[()=>{Rf(We.activeState().graph,"ob")},"OB chapter search","ob-chapter-search"],[aS,"subontology connectivity","subontology-connectivity"],[We.mainView.state.graph.resetStyle,"reset main view","reset-view","ctrl+alt+r"],[()=>{We.activeView().setTitle(prompt("Rename: "+We.activeView().config.title)||We.activeView().config.title),We.activeState().title=We.activeView().config.title},"change title of active View","change-title"]]},{label:"Services",i18n:"services",entries:[["http://www.snik.eu/sparql","SPARQL Endpoint","sparql-endpoint"],["http://www.snik.eu/ontology","RDF Browser","rdf-browser"]]},{label:"Language",i18n:"language",entries:[[()=>this.setLanguage(Ue.LABEL_ENGLISH),"english","english"],[()=>this.setLanguage(Ue.LABEL_GERMAN),"german","german"],[()=>this.setLanguage(Ue.LABEL_PERSIAN),"persian","persian"]]},{label:"Help",i18n:"help",entries:[["html/manual.html","Manual"],["html/layoutHelp.html","Layout Help"],["doc/index.html","Developer Documentation"],["html/troubleshooting.html","Troubleshooting"],["html/contribute.html","Contribute"],["https://www.snik.eu/","Project Homepage"],["https://www.snik.eu/public/SNIK_Metamodell_V10.svg","SNIK Meta Model"],[ai.about,"About SNIK Graph"],["https://github.com/snikproject/ontology/issues","Submit Feedback about the Ontology"],[ai.visualizationFeedback,"Submit Feedback about the Visualization"]]}]}addOptions(e){const r=Er("options-menu-content"),n=["separateSubs","cumulativeSearch","grid","combineMatchMode","dayMode","coloredEdges","showProperty"];this.optionBoxes={};for(const i of n){_e.trace("Add option "+i);const a=document.createElement("a");e.push(a),r.appendChild(a),a.setAttribute("tabindex","-1"),a.classList.add("dropdown-entry");const o=document.createElement("input");this.optionBoxes[i]=o,a.appendChild(o),o.type="checkbox",o.autocomplete="off",this[i+"Box"]=o,o.id=i+"Box",a.addEventListener("keydown",yd(o)),a.appendChild(bd(o,md(i),i))}this.separateSubsBox.addEventListener("change",()=>{_e.debug("Set separate Subontologies to "+this.separateSubsBox.checked)}),this.dayModeBox.addEventListener("change",()=>{for(const i of We.views())i.state.graph.applyStyle(this.dayModeBox.checked,this.coloredEdgesBox.checked,this.showPropertyBox.checked);_e.debug("Set dayMode to "+this.dayModeBox.checked)}),this.showPropertyBox.addEventListener("change",()=>{for(const i of We.views())i.state.graph.applyStyle(this.dayModeBox.checked,this.coloredEdgesBox.checked,this.showPropertyBox.checked);_e.debug("Set showProperty to "+this.showPropertyBox.checked)}),this.gridBox.addEventListener("change",()=>{document.body.classList[this.gridBox.checked?"add":"remove"]("grid"),_e.debug("set gridBox to "+this.gridBox.checked)}),it.activeOptions.includes("day")&&this.dayModeBox.click(),it.activeOptions.includes("showproperty")&&this.showPropertyBox.click(),this.cumulativeSearchBox.addEventListener("change",()=>{_e.debug("Set cumulative search to "+this.cumulativeSearchBox.checked)}),this.combineMatchModeBox.addEventListener("change",()=>{_e.debug("Set combine match mode to "+this.combineMatchModeBox.checked),setTimeout(()=>{We.views().map(i=>i.state.graph).forEach(i=>i.combineMatch(this.combineMatchModeBox.checked))},10)}),this.coloredEdgesBox.addEventListener("change",()=>{const i=this.coloredEdgesBox.checked;_e.debug("Set coloredEdges to "+i),it.edgesColorized=i;for(const a of We.views())a.state.graph.applyStyle(this.dayModeBox.checked,this.coloredEdgesBox.checked,this.showPropertyBox.checked)}),it.activeOptions.includes("edgecolor")&&setTimeout(()=>this.coloredEdgesBox.click(),100)}addMenu(){console.groupCollapsed("Add menu");const e=document.createElement("ul");Er("top").prepend(e),e.classList.add("dropdown-bar"),e.setAttribute("tabindex","0");const r=this.menuData(),n=[],i=[];for(let a=0;a<r.length;a++){const o=r[a],s=document.createElement("li");s.setAttribute("tabindex","-1"),e.appendChild(s);const l=document.createElement("span");n.push(l),s.appendChild(l),l.classList.add("dropdown-menu"),l.innerText=o.label,l.setAttribute("data-i18n",o.i18n),l.setAttribute("tabindex","-1");const u=document.createElement("div");s.appendChild(u),u.classList.add("dropdown-content"),u.setAttribute("tabindex","-1"),o.id&&(u.id=o.id+"-menu-content"),l.addEventListener("click",()=>{for(const d of document.getElementsByClassName("dropdown-content"))u!==d&&d.classList.remove("show");u.classList.toggle("show")});const c=[];i.push(c);for(const d of o.entries){const p=document.createElement("a");switch(c.push(p),p.classList.add("dropdown-entry"),p.setAttribute("data-i18n",d[2]),p.setAttribute("tabindex","-1"),u.appendChild(p),p.innerHTML=d[1],typeof d[0]){case"string":{p.href=d[0],p.target="_blank";break}case"function":{p.addEventListener("click",d[0]);const m=d[3];m&&(hn(m,d[0]),p.innerHTML=p.innerHTML+` (${m.toUpperCase()})`);break}default:_e.error("unknown menu entry action type: "+typeof d[0])}}l.addEventListener("keydown",d=>{switch(d.key){case"ArrowLeft":n[(a-1+n.length)%n.length].focus(),n[(a-1+n.length)%n.length].click();break;case"ArrowRight":n[(a+1)%n.length].focus(),n[(a+1)%n.length].click();break;case"ArrowDown":c[0].focus();break}})}fS(We.activeState().graph,Er("file-menu-content"),i[0]),_e.debug("fileLoadEntries added"),Xa.addFilterEntries(Er("filter-menu-content"),i[1]),_e.debug("filter entries added"),this.addOptions(i[2]);for(let a=0;a<i.length;a++){const o=i[a];for(let s=0;s<o.length;s++)o[s].addEventListener("keydown",l=>{switch(l.key){case"ArrowLeft":n[(a-1+n.length)%n.length].focus(),n[(a-1+n.length)%n.length].click();break;case"ArrowRight":n[(a+1)%n.length].focus(),n[(a+1)%n.length].click();break;case"ArrowUp":o[(s-1+o.length)%o.length].focus();break;case"ArrowDown":o[(s+1)%o.length].focus();break}})}_e.debug("Menu added"),console.groupEnd()}static closeListener(e){if(e&&e.target&&e.target.matches&&!e.target.matches(".dropdown-entry")&&!e.target.matches(".dropdown-menu")&&!e.target.matches("input.filterbox")){const r=document.getElementsByClassName("dropdown-content");Array.from(r).forEach(n=>n.classList.remove("show"))}}optionsToJSON(){const e=["separateSubs","cumulativeSearch","grid","combineMatchMode","dayMode","coloredEdges"],r={};for(const n of e)r[n]=this.optionBoxes[n].checked;return r}optionsFromJSON(e){const r=this.optionsToJSON();for(const[n,i]of Object.entries(e))r[n]!==i&&this.optionBoxes[n].click()}}const oS={version:ui};function wv(){const t={filters:Xa.toJSON(),options:ds.optionsToJSON()};return Object.assign(t,oS),t}function sS(t){Xa.fromJSON(t.filters),ds.optionsFromJSON(t.options)}function Nu(t,e){const r=t.target.files[0],n=new FileReader;n.onload=()=>e(JSON.parse(n.result)),n.readAsText(r)}function hs(t,e){const r=t.cy;r.elements().remove(),r.json(e),r.elements().addClass("unfiltered");const n=1*t.cy.elements(":visible").size()/t.cy.elements().size(),i=n<.8;_e.debug("Load Graph from File: Visible fraction: "+n+" set star mode to "+i),t.cy.nodes(":child").size()>0&&(document.getElementById("combineMatchModeBox").checked=!0),t.starMode=i;const a=r.nodes(":visible");r.center(a),r.fit(a),r.elements().removeClass("highlighted"),r.elements().removeClass("source")}const lS=t=>e=>{Nu(e,r=>{hs(t,r)})};async function uS(t){confirm("This will override the current session. Continue?")&&Nu(t,async e=>{if(e.state.version!==ui&&!confirm(`Your file was saved in version ${e.state.version}, but SNIK Graph has version ${ui}, so it may not work properly. Continue anyway?`))return;We.reset();const r=new We(!1),n=[r.initialized];hs(r.state.graph,e.mainGraph.graph),We.activeView().setTitle(e.mainGraph.title);for(let i=0;i<e.tabs.length;i++){const a=new We(!1);n.push(a.initialized),hs(a.state.graph,e.tabs[i].graph),We.activeView().setTitle(e.tabs[i].title)}await Promise.all(n),sS(e.state)})}function cS(t){Nu(t,e=>{if(e.version!==ui&&!confirm(`Your file was saved in version ${e.version}, but SNIK Graph has version ${ui}, so it may not work properly. Continue anyway?`))return;const r=new We(!1);hs(r.state.graph,e.graph),We.activeView().setTitle(e.title)})}function Hf(t,e,r,n,i){const a=document.createElement("a");i.push(a),a.classList.add("dropdown-entry"),a.setAttribute("tabindex","-1"),t.appendChild(a);const o=document.createElement("input");o.type="file",o.style.display="none",a.appendChild(o);const s=document.createElement("span");s.innerText=r,s.setAttribute("data-i18n",e),a.appendChild(s),a.addEventListener("click",()=>o.click()),o.addEventListener("change",n)}function fS(t,e,r){Hf(e,"load-view","Load Partial Graph into Session",cS,r),Hf(e,"load-session","Load Session",uS,r)}function mn(t){return Array.isArray?Array.isArray(t):Cv(t)==="[object Array]"}const dS=1/0;function hS(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-dS?"-0":e}function vS(t){return t==null?"":hS(t)}function en(t){return typeof t=="string"}function xv(t){return typeof t=="number"}function pS(t){return t===!0||t===!1||gS(t)&&Cv(t)=="[object Boolean]"}function Ev(t){return typeof t=="object"}function gS(t){return Ev(t)&&t!==null}function xr(t){return t!=null}function _l(t){return!t.trim().length}function Cv(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const mS="Incorrect 'index' type",yS=t=>`Invalid value for key ${t}`,bS=t=>`Pattern length exceeds max of ${t}.`,wS=t=>`Missing ${t} property in key`,xS=t=>`Property 'weight' in key '${t}' must be a positive integer`,qf=Object.prototype.hasOwnProperty;class ES{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let i=Sv(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Sv(t){let e=null,r=null,n=null,i=1,a=null;if(en(t)||mn(t))n=t,e=Vf(t),r=Zl(t);else{if(!qf.call(t,"name"))throw new Error(wS("name"));const o=t.name;if(n=o,qf.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(xS(o));e=Vf(o),r=Zl(o),a=t.getFn}return{path:e,id:r,weight:i,src:n,getFn:a}}function Vf(t){return mn(t)?t:t.split(".")}function Zl(t){return mn(t)?t.join("."):t}function CS(t,e){let r=[],n=!1;const i=(a,o,s)=>{if(xr(a))if(!o[s])r.push(a);else{let l=o[s];const u=a[l];if(!xr(u))return;if(s===o.length-1&&(en(u)||xv(u)||pS(u)))r.push(vS(u));else if(mn(u)){n=!0;for(let c=0,d=u.length;c<d;c+=1)i(u[c],o,s+1)}else o.length&&i(u,o,s+1)}};return i(t,en(e)?e.split("."):e,0),n?r:r[0]}const SS={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},TS={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},kS={location:0,threshold:.6,distance:100},_S={useExtendedSearch:!1,getFn:CS,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var tt={...TS,...SS,...kS,..._S};const AS=/[^ ]+/g;function IS(t=1,e=3){const r=new Map,n=Math.pow(10,e);return{get(i){const a=i.match(AS).length;if(r.has(a))return r.get(a);const o=1/Math.pow(a,.5*t),s=parseFloat(Math.round(o*n)/n);return r.set(a,s),s},clear(){r.clear()}}}class Bu{constructor({getFn:e=tt.getFn,fieldNormWeight:r=tt.fieldNormWeight}={}){this.norm=IS(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,en(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){const r=this.size();en(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!xr(e)||_l(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((i,a)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(xr(o)){if(mn(o)){let s=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:c}=l.pop();if(xr(c))if(en(c)&&!_l(c)){let d={v:c,i:u,n:this.norm.get(c)};s.push(d)}else mn(c)&&c.forEach((d,p)=>{l.push({nestedArrIndex:p,value:d})})}n.$[a]=s}else if(en(o)&&!_l(o)){let s={v:o,n:this.norm.get(o)};n.$[a]=s}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Tv(t,e,{getFn:r=tt.getFn,fieldNormWeight:n=tt.fieldNormWeight}={}){const i=new Bu({getFn:r,fieldNormWeight:n});return i.setKeys(t.map(Sv)),i.setSources(e),i.create(),i}function DS(t,{getFn:e=tt.getFn,fieldNormWeight:r=tt.fieldNormWeight}={}){const{keys:n,records:i}=t,a=new Bu({getFn:e,fieldNormWeight:r});return a.setKeys(n),a.setIndexRecords(i),a}function qo(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:i=tt.distance,ignoreLocation:a=tt.ignoreLocation}={}){const o=e/t.length;if(a)return o;const s=Math.abs(n-r);return i?o+s/i:s?1:o}function MS(t=[],e=tt.minMatchCharLength){let r=[],n=-1,i=-1,a=0;for(let o=t.length;a<o;a+=1){let s=t[a];s&&n===-1?n=a:!s&&n!==-1&&(i=a-1,i-n+1>=e&&r.push([n,i]),n=-1)}return t[a-1]&&a-n>=e&&r.push([n,a-1]),r}const oi=32;function PS(t,e,r,{location:n=tt.location,distance:i=tt.distance,threshold:a=tt.threshold,findAllMatches:o=tt.findAllMatches,minMatchCharLength:s=tt.minMatchCharLength,includeMatches:l=tt.includeMatches,ignoreLocation:u=tt.ignoreLocation}={}){if(e.length>oi)throw new Error(bS(oi));const c=e.length,d=t.length,p=Math.max(0,Math.min(n,d));let m=a,h=p;const y=s>1||l,w=y?Array(d):[];let b;for(;(b=t.indexOf(e,h))>-1;){let v=qo(e,{currentLocation:b,expectedLocation:p,distance:i,ignoreLocation:u});if(m=Math.min(v,m),h=b+c,y){let P=0;for(;P<c;)w[b+P]=1,P+=1}}h=-1;let E=[],S=1,x=c+d;const A=1<<c-1;for(let v=0;v<c;v+=1){let P=0,k=x;for(;P<k;)qo(e,{errors:v,currentLocation:p+k,expectedLocation:p,distance:i,ignoreLocation:u})<=m?P=k:x=k,k=Math.floor((x-P)/2+P);x=k;let B=Math.max(1,p-k+1),N=o?d:Math.min(p+k,d)+c,M=Array(N+2);M[N+1]=(1<<v)-1;for(let R=N;R>=B;R-=1){let q=R-1,H=r[t.charAt(q)];if(y&&(w[q]=+!!H),M[R]=(M[R+1]<<1|1)&H,v&&(M[R]|=(E[R+1]|E[R])<<1|1|E[R+1]),M[R]&A&&(S=qo(e,{errors:v,currentLocation:q,expectedLocation:p,distance:i,ignoreLocation:u}),S<=m)){if(m=S,h=q,h<=p)break;B=Math.max(1,2*p-h)}}if(qo(e,{errors:v+1,currentLocation:p,expectedLocation:p,distance:i,ignoreLocation:u})>m)break;E=M}const _={isMatch:h>=0,score:Math.max(.001,S)};if(y){const v=MS(w,s);v.length?l&&(_.indices=v):_.isMatch=!1}return _}function LS(t){let e={};for(let r=0,n=t.length;r<n;r+=1){const i=t.charAt(r);e[i]=(e[i]||0)|1<<n-r-1}return e}class kv{constructor(e,{location:r=tt.location,threshold:n=tt.threshold,distance:i=tt.distance,includeMatches:a=tt.includeMatches,findAllMatches:o=tt.findAllMatches,minMatchCharLength:s=tt.minMatchCharLength,isCaseSensitive:l=tt.isCaseSensitive,ignoreLocation:u=tt.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(p,m)=>{this.chunks.push({pattern:p,alphabet:LS(p),startIndex:m})},d=this.pattern.length;if(d>oi){let p=0;const m=d%oi,h=d-m;for(;p<h;)c(this.pattern.substr(p,oi),p),p+=oi;if(m){const y=d-oi;c(this.pattern.substr(y),y)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let h={isMatch:!0,score:0};return n&&(h.indices=[[0,e.length-1]]),h}const{location:i,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:l,ignoreLocation:u}=this.options;let c=[],d=0,p=!1;this.chunks.forEach(({pattern:h,alphabet:y,startIndex:w})=>{const{isMatch:b,score:E,indices:S}=PS(e,h,y,{location:i+w,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:l,includeMatches:n,ignoreLocation:u});b&&(p=!0),d+=E,b&&S&&(c=[...c,...S])});let m={isMatch:p,score:p?d/this.chunks.length:1};return p&&n&&(m.indices=c),m}}class Un{constructor(e){this.pattern=e}static isMultiMatch(e){return Wf(e,this.multiRegex)}static isSingleMatch(e){return Wf(e,this.singleRegex)}search(){}}function Wf(t,e){const r=t.match(e);return r?r[1]:null}class OS extends Un{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class NS extends Un{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class BS extends Un{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class RS extends Un{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class zS extends Un{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class FS extends Un{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class _v extends Un{constructor(e,{location:r=tt.location,threshold:n=tt.threshold,distance:i=tt.distance,includeMatches:a=tt.includeMatches,findAllMatches:o=tt.findAllMatches,minMatchCharLength:s=tt.minMatchCharLength,isCaseSensitive:l=tt.isCaseSensitive,ignoreLocation:u=tt.ignoreLocation}={}){super(e),this._bitapSearch=new kv(e,{location:r,threshold:n,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Av extends Un{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,n;const i=[],a=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+a,i.push([n,r-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const Jl=[OS,Av,BS,RS,FS,zS,NS,_v],Uf=Jl.length,$S=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,HS="|";function qS(t,e={}){return t.split(HS).map(r=>{let n=r.trim().split($S).filter(a=>a&&!!a.trim()),i=[];for(let a=0,o=n.length;a<o;a+=1){const s=n[a];let l=!1,u=-1;for(;!l&&++u<Uf;){const c=Jl[u];let d=c.isMultiMatch(s);d&&(i.push(new c(d,e)),l=!0)}if(!l)for(u=-1;++u<Uf;){const c=Jl[u];let d=c.isSingleMatch(s);if(d){i.push(new c(d,e));break}}}return i})}const VS=new Set([_v.type,Av.type]);class WS{constructor(e,{isCaseSensitive:r=tt.isCaseSensitive,includeMatches:n=tt.includeMatches,minMatchCharLength:i=tt.minMatchCharLength,ignoreLocation:a=tt.ignoreLocation,findAllMatches:o=tt.findAllMatches,location:s=tt.location,threshold:l=tt.threshold,distance:u=tt.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:i,findAllMatches:o,ignoreLocation:a,location:s,threshold:l,distance:u},this.pattern=r?e:e.toLowerCase(),this.query=qS(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let a=0,o=[],s=0;for(let l=0,u=r.length;l<u;l+=1){const c=r[l];o.length=0,a=0;for(let d=0,p=c.length;d<p;d+=1){const m=c[d],{isMatch:h,indices:y,score:w}=m.search(e);if(h){if(a+=1,s+=w,n){const b=m.constructor.type;VS.has(b)?o=[...o,...y]:o.push(y)}}else{s=0,a=0,o.length=0;break}}if(a){let d={isMatch:!0,score:s/a};return n&&(d.indices=o),d}}return{isMatch:!1,score:1}}}const eu=[];function US(...t){eu.push(...t)}function tu(t,e){for(let r=0,n=eu.length;r<n;r+=1){let i=eu[r];if(i.condition(t,e))return new i(t,e)}return new kv(t,e)}const vs={AND:"$and",OR:"$or"},ru={PATH:"$path",PATTERN:"$val"},nu=t=>!!(t[vs.AND]||t[vs.OR]),GS=t=>!!t[ru.PATH],jS=t=>!mn(t)&&Ev(t)&&!nu(t),Gf=t=>({[vs.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Iv(t,e,{auto:r=!0}={}){const n=i=>{let a=Object.keys(i);const o=GS(i);if(!o&&a.length>1&&!nu(i))return n(Gf(i));if(jS(i)){const l=o?i[ru.PATH]:a[0],u=o?i[ru.PATTERN]:i[l];if(!en(u))throw new Error(yS(l));const c={keyId:Zl(l),pattern:u};return r&&(c.searcher=tu(u,e)),c}let s={children:[],operator:a[0]};return a.forEach(l=>{const u=i[l];mn(u)&&u.forEach(c=>{s.children.push(n(c))})}),s};return nu(t)||(t=Gf(t)),n(t)}function KS(t,{ignoreFieldNorm:e=tt.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:a,score:o})=>{const s=i?i.weight:null;n*=Math.pow(o===0&&s?Number.EPSILON:o,(s||1)*(e?1:a))}),r.score=n})}function YS(t,e){const r=t.matches;e.matches=[],xr(r)&&r.forEach(n=>{if(!xr(n.indices)||!n.indices.length)return;const{indices:i,value:a}=n;let o={indices:i,value:a};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),e.matches.push(o)})}function XS(t,e){e.score=t.score}function QS(t,e,{includeMatches:r=tt.includeMatches,includeScore:n=tt.includeScore}={}){const i=[];return r&&i.push(YS),n&&i.push(XS),t.map(a=>{const{idx:o}=a,s={item:e[o],refIndex:o};return i.length&&i.forEach(l=>{l(a,s)}),s})}class sa{constructor(e,r={},n){this.options={...tt,...r},this.options.useExtendedSearch,this._keyStore=new ES(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof Bu))throw new Error(mS);this._myIndex=r||Tv(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){xr(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const a=this._docs[n];e(a,n)&&(this.removeAt(n),n-=1,i-=1,r.push(a))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:a,sortFn:o,ignoreFieldNorm:s}=this.options;let l=en(e)?en(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return KS(l,{ignoreFieldNorm:s}),a&&l.sort(o),xv(r)&&r>-1&&(l=l.slice(0,r)),QS(l,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const r=tu(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:a,i:o,n:s})=>{if(!xr(a))return;const{isMatch:l,score:u,indices:c}=r.searchIn(a);l&&i.push({item:a,idx:o,matches:[{score:u,value:a,norm:s,indices:c}]})}),i}_searchLogical(e){const r=Iv(e,this.options),n=(s,l,u)=>{if(!s.children){const{keyId:d,searcher:p}=s,m=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:p});return m&&m.length?[{idx:u,item:l,matches:m}]:[]}const c=[];for(let d=0,p=s.children.length;d<p;d+=1){const m=s.children[d],h=n(m,l,u);if(h.length)c.push(...h);else if(s.operator===vs.AND)return[]}return c},i=this._myIndex.records,a={},o=[];return i.forEach(({$:s,i:l})=>{if(xr(s)){let u=n(r,s,l);u.length&&(a[l]||(a[l]={idx:l,item:s,matches:[]},o.push(a[l])),u.forEach(({matches:c})=>{a[l].matches.push(...c)}))}}),o}_searchObjectList(e){const r=tu(e,this.options),{keys:n,records:i}=this._myIndex,a=[];return i.forEach(({$:o,i:s})=>{if(!xr(o))return;let l=[];n.forEach((u,c)=>{l.push(...this._findMatches({key:u,value:o[c],searcher:r}))}),l.length&&a.push({idx:s,item:o,matches:l})}),a}_findMatches({key:e,value:r,searcher:n}){if(!xr(r))return[];let i=[];if(mn(r))r.forEach(({v:a,i:o,n:s})=>{if(!xr(a))return;const{isMatch:l,score:u,indices:c}=n.searchIn(a);l&&i.push({score:u,key:e,value:a,idx:o,norm:s,indices:c})});else{const{v:a,n:o}=r,{isMatch:s,score:l,indices:u}=n.searchIn(a);s&&i.push({score:l,key:e,value:a,norm:o,indices:u})}return i}}sa.version="7.0.0";sa.createIndex=Tv;sa.parseIndex=DS;sa.config=tt;sa.parseQuery=Iv;US(WS);let iu=null;const ZS={shouldSort:!0,tokenize:!0,threshold:.25,maxPatternLength:40,minMatchCharLength:3,matchAllTokens:!0,location:0,ignoreLocation:!0,distance:100,id:"uri",keys:[{name:"l",weight:.7},{name:"def",weight:.3}]};async function JS(){typeof window<"u"&&console.groupCollapsed("Create Fuse.js index");const t=Xi("Create Fuse search index");_e.debug("Create Fuse Search Index with searchCloseMatch = "+it.searchCloseMatch);const e=`select
  ?c as ?uri
  group_concat(distinct(str(?l));separator="|") as ?l
  group_concat(distinct(str(?def));separator="|") as ?def
  from <${it.sparql.graph}>
  {
    {
     {?c a owl:Class.} UNION {?c a [a owl:Class]}
     ?c rdfs:label ?l.
    }
    UNION {?c skos:altLabel ?l.}
    UNION {?c skos:closeMatch|^skos:closeMatch ?cm. ?cm rdfs:label|skos:altLabel ?l.}
    OPTIONAL {?c skos:definition ?def.}
  }`,r=await bn(e),n=[];for(const i of r){const a=i.uri.value.replace(/.*\//,""),o={uri:i.uri.value,l:[...i.l.value.split("|"),a]};n.push(o),o.l=[...new Set(o.l)],i.def.value&&(o.def=i.def.value)}return iu=new sa(n,ZS),t.stop(n.length+" items"),typeof window<"u"&&console.groupEnd(),n}async function eT(t){return iu||await JS(),iu.search(t)}const Al=100;class tT{constructor(e){Et(this,"resultNodes",[]);e.addEventListener("submit",r=>{r.preventDefault(),Na(()=>this.showSearch(r.target.children.query.value))}),_e.debug("search initialized")}showSearchResults(e,r){this.resultNodes=[];const n=Er("tab:search-results");for(;n.rows.length>0;)n.deleteRow(0);if(r.length===0)return Er("h2:search-results").innerHTML=`No Search Results for "${e}"`,!1;if(r.length===1)return Vr.close("search-results"),We.activeState().graph.presentUri(r[0]),!0;r.length===Al?Er("h2:search-results").innerHTML=`First ${Al} Search Results for "${e}"`:Er("h2:search-results").innerHTML=`${r.length} Search Results for "${e}"`;const i={};r.forEach(s=>{const l=We.activeState().cy.getElementById(s)[0];l?(i[s]=0,l.hasClass("hidden")&&!l.hasClass("filtered")?i[s]=1:l.hasClass("filtered")&&(i[s]=2)):i[s]=3});const a=new Set;r.sort((s,l)=>i[s]-i[l]),r.forEach(s=>{const l=n.insertRow(),u=l.insertCell(),c=document.createElement("input");c.type="checkbox",u.appendChild(c),u.addEventListener("change",h=>{a[h.target.checked?"add":"remove"](s)});const d=l.insertCell(),p=l.insertCell();window.presentUri=We.activeState().graph.presentUri,d.innerHTML=`<a class="search-class${i[s]}" href="javascript:MicroModal.close('search-results');window.presentUri('${s}');void(0)">
          ${s.replace(wd.PREFIX,"")}</a>`;const m=`<a class="search-class${i[s]}" href="${s}" target="_blank">Description</a>`;p.innerHTML=m});const o=n.insertRow(0);o.insertCell();{const s=o.insertCell();s.innerHTML="<a href='#'>Highlight All</a>",s.addEventListener("click",l=>{Vr.close("search-results"),We.activeState().graph.presentUris(r),l.preventDefault()})}{const s=o.insertCell();s.innerHTML="<a href='#'>Highlight Selected</a>",s.addEventListener("click",l=>{Vr.close("search-results"),We.activeState().graph.presentUris([...a]),l.preventDefault()})}return!0}async search(e){const n=`select distinct(?s) { {?s a owl:Class.} UNION {?s a rdf:Property.}
        {?s rdfs:label ?l.} UNION {?s skos:altLabel ?l.}	filter(regex(lcase(replace(str(?l),"[ -]","")),lcase("${e.replace(/[\x22\x27\x5C\x0A\x0D -]/g,"")}"))) } order by asc(strlen(str(?l))) limit ${Al}`;return _e.debug(n),(await bn(n)).map(a=>a.s.value)}async showSearch(e){Vr.show("search-results");const n=(await eT(e)).map(i=>i.item.uri);return this.showSearchResults(e,n),!1}}var mr="top",Nr="bottom",Br="right",yr="left",Ru="auto",co=[mr,Nr,Br,yr],Wi="start",Ka="end",rT="clippingParents",Dv="viewport",Ea="popper",nT="reference",jf=co.reduce(function(t,e){return t.concat([e+"-"+Wi,e+"-"+Ka])},[]),Mv=[].concat(co,[Ru]).reduce(function(t,e){return t.concat([e,e+"-"+Wi,e+"-"+Ka])},[]),iT="beforeRead",aT="read",oT="afterRead",sT="beforeMain",lT="main",uT="afterMain",cT="beforeWrite",fT="write",dT="afterWrite",hT=[iT,aT,oT,sT,lT,uT,cT,fT,dT];function an(t){return t?(t.nodeName||"").toLowerCase():null}function Sr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function gi(t){var e=Sr(t).Element;return t instanceof e||t instanceof Element}function Or(t){var e=Sr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function zu(t){if(typeof ShadowRoot>"u")return!1;var e=Sr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function vT(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},a=e.elements[r];!Or(a)||!an(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function pT(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),s=o.reduce(function(l,u){return l[u]="",l},{});!Or(i)||!an(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}const Pv={name:"applyStyles",enabled:!0,phase:"write",fn:vT,effect:pT,requires:["computeStyles"]};function tn(t){return t.split("-")[0]}var li=Math.max,ps=Math.min,Ui=Math.round;function au(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Lv(){return!/^((?!chrome|android).)*safari/i.test(au())}function Gi(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,a=1;e&&Or(t)&&(i=t.offsetWidth>0&&Ui(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Ui(n.height)/t.offsetHeight||1);var o=gi(t)?Sr(t):window,s=o.visualViewport,l=!Lv()&&r,u=(n.left+(l&&s?s.offsetLeft:0))/i,c=(n.top+(l&&s?s.offsetTop:0))/a,d=n.width/i,p=n.height/a;return{width:d,height:p,top:c,right:u+d,bottom:c+p,left:u,x:u,y:c}}function Fu(t){var e=Gi(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function Ov(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&zu(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function yn(t){return Sr(t).getComputedStyle(t)}function gT(t){return["table","td","th"].indexOf(an(t))>=0}function Gn(t){return((gi(t)?t.ownerDocument:t.document)||window.document).documentElement}function zs(t){return an(t)==="html"?t:t.assignedSlot||t.parentNode||(zu(t)?t.host:null)||Gn(t)}function Kf(t){return!Or(t)||yn(t).position==="fixed"?null:t.offsetParent}function mT(t){var e=/firefox/i.test(au()),r=/Trident/i.test(au());if(r&&Or(t)){var n=yn(t);if(n.position==="fixed")return null}var i=zs(t);for(zu(i)&&(i=i.host);Or(i)&&["html","body"].indexOf(an(i))<0;){var a=yn(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function fo(t){for(var e=Sr(t),r=Kf(t);r&&gT(r)&&yn(r).position==="static";)r=Kf(r);return r&&(an(r)==="html"||an(r)==="body"&&yn(r).position==="static")?e:r||mT(t)||e}function $u(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Pa(t,e,r){return li(t,ps(e,r))}function yT(t,e,r){var n=Pa(t,e,r);return n>r?r:n}function Nv(){return{top:0,right:0,bottom:0,left:0}}function Bv(t){return Object.assign({},Nv(),t)}function Rv(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var bT=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Bv(typeof e!="number"?e:Rv(e,co))};function wT(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=tn(r.placement),l=$u(s),u=[yr,Br].indexOf(s)>=0,c=u?"height":"width";if(!(!a||!o)){var d=bT(i.padding,r),p=Fu(a),m=l==="y"?mr:yr,h=l==="y"?Nr:Br,y=r.rects.reference[c]+r.rects.reference[l]-o[l]-r.rects.popper[c],w=o[l]-r.rects.reference[l],b=fo(a),E=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,S=y/2-w/2,x=d[m],A=E-p[c]-d[h],_=E/2-p[c]/2+S,v=Pa(x,_,A),P=l;r.modifiersData[n]=(e={},e[P]=v,e.centerOffset=v-_,e)}}function xT(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Ov(e.elements.popper,i)&&(e.elements.arrow=i))}const ET={name:"arrow",enabled:!0,phase:"main",fn:wT,effect:xT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ji(t){return t.split("-")[1]}var CT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ST(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:Ui(r*i)/i||0,y:Ui(n*i)/i||0}}function Yf(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,p=o.x,m=p===void 0?0:p,h=o.y,y=h===void 0?0:h,w=typeof c=="function"?c({x:m,y}):{x:m,y};m=w.x,y=w.y;var b=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),S=yr,x=mr,A=window;if(u){var _=fo(r),v="clientHeight",P="clientWidth";if(_===Sr(r)&&(_=Gn(r),yn(_).position!=="static"&&s==="absolute"&&(v="scrollHeight",P="scrollWidth")),_=_,i===mr||(i===yr||i===Br)&&a===Ka){x=Nr;var k=d&&_===A&&A.visualViewport?A.visualViewport.height:_[v];y-=k-n.height,y*=l?1:-1}if(i===yr||(i===mr||i===Nr)&&a===Ka){S=Br;var B=d&&_===A&&A.visualViewport?A.visualViewport.width:_[P];m-=B-n.width,m*=l?1:-1}}var N=Object.assign({position:s},u&&CT),M=c===!0?ST({x:m,y},Sr(r)):{x:m,y};if(m=M.x,y=M.y,l){var z;return Object.assign({},N,(z={},z[x]=E?"0":"",z[S]=b?"0":"",z.transform=(A.devicePixelRatio||1)<=1?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",z))}return Object.assign({},N,(e={},e[x]=E?y+"px":"",e[S]=b?m+"px":"",e.transform="",e))}function TT(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,l=s===void 0?!0:s,u={placement:tn(e.placement),variation:ji(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Yf(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Yf(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const kT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:TT,data:{}};var Vo={passive:!0};function _T(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,l=Sr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",r.update,Vo)}),s&&l.addEventListener("resize",r.update,Vo),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",r.update,Vo)}),s&&l.removeEventListener("resize",r.update,Vo)}}const AT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_T,data:{}};var IT={left:"right",right:"left",bottom:"top",top:"bottom"};function Jo(t){return t.replace(/left|right|bottom|top/g,function(e){return IT[e]})}var DT={start:"end",end:"start"};function Xf(t){return t.replace(/start|end/g,function(e){return DT[e]})}function Hu(t){var e=Sr(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function qu(t){return Gi(Gn(t)).left+Hu(t).scrollLeft}function MT(t,e){var r=Sr(t),n=Gn(t),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var u=Lv();(u||!u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+qu(t),y:l}}function PT(t){var e,r=Gn(t),n=Hu(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=li(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=li(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+qu(t),l=-n.scrollTop;return yn(i||r).direction==="rtl"&&(s+=li(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function Vu(t){var e=yn(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function zv(t){return["html","body","#document"].indexOf(an(t))>=0?t.ownerDocument.body:Or(t)&&Vu(t)?t:zv(zs(t))}function La(t,e){var r;e===void 0&&(e=[]);var n=zv(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=Sr(n),o=i?[a].concat(a.visualViewport||[],Vu(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(La(zs(o)))}function ou(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function LT(t,e){var r=Gi(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function Qf(t,e,r){return e===Dv?ou(MT(t,r)):gi(e)?LT(e,r):ou(PT(Gn(t)))}function OT(t){var e=La(zs(t)),r=["absolute","fixed"].indexOf(yn(t).position)>=0,n=r&&Or(t)?fo(t):t;return gi(n)?e.filter(function(i){return gi(i)&&Ov(i,n)&&an(i)!=="body"}):[]}function NT(t,e,r,n){var i=e==="clippingParents"?OT(t):[].concat(e),a=[].concat(i,[r]),o=a[0],s=a.reduce(function(l,u){var c=Qf(t,u,n);return l.top=li(c.top,l.top),l.right=ps(c.right,l.right),l.bottom=ps(c.bottom,l.bottom),l.left=li(c.left,l.left),l},Qf(t,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Fv(t){var e=t.reference,r=t.element,n=t.placement,i=n?tn(n):null,a=n?ji(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,l;switch(i){case mr:l={x:o,y:e.y-r.height};break;case Nr:l={x:o,y:e.y+e.height};break;case Br:l={x:e.x+e.width,y:s};break;case yr:l={x:e.x-r.width,y:s};break;default:l={x:e.x,y:e.y}}var u=i?$u(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case Wi:l[u]=l[u]-(e[c]/2-r[c]/2);break;case Ka:l[u]=l[u]+(e[c]/2-r[c]/2);break}}return l}function Ya(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.strategy,o=a===void 0?t.strategy:a,s=r.boundary,l=s===void 0?rT:s,u=r.rootBoundary,c=u===void 0?Dv:u,d=r.elementContext,p=d===void 0?Ea:d,m=r.altBoundary,h=m===void 0?!1:m,y=r.padding,w=y===void 0?0:y,b=Bv(typeof w!="number"?w:Rv(w,co)),E=p===Ea?nT:Ea,S=t.rects.popper,x=t.elements[h?E:p],A=NT(gi(x)?x:x.contextElement||Gn(t.elements.popper),l,c,o),_=Gi(t.elements.reference),v=Fv({reference:_,element:S,strategy:"absolute",placement:i}),P=ou(Object.assign({},S,v)),k=p===Ea?P:_,B={top:A.top-k.top+b.top,bottom:k.bottom-A.bottom+b.bottom,left:A.left-k.left+b.left,right:k.right-A.right+b.right},N=t.modifiersData.offset;if(p===Ea&&N){var M=N[i];Object.keys(B).forEach(function(z){var R=[Br,Nr].indexOf(z)>=0?1:-1,q=[mr,Nr].indexOf(z)>=0?"y":"x";B[z]+=M[q]*R})}return B}function BT(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?Mv:l,c=ji(n),d=c?s?jf:jf.filter(function(h){return ji(h)===c}):co,p=d.filter(function(h){return u.indexOf(h)>=0});p.length===0&&(p=d);var m=p.reduce(function(h,y){return h[y]=Ya(t,{placement:y,boundary:i,rootBoundary:a,padding:o})[tn(y)],h},{});return Object.keys(m).sort(function(h,y){return m[h]-m[y]})}function RT(t){if(tn(t)===Ru)return[];var e=Jo(t);return[Xf(t),e,Xf(e)]}function zT(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,c=r.boundary,d=r.rootBoundary,p=r.altBoundary,m=r.flipVariations,h=m===void 0?!0:m,y=r.allowedAutoPlacements,w=e.options.placement,b=tn(w),E=b===w,S=l||(E||!h?[Jo(w)]:RT(w)),x=[w].concat(S).reduce(function(Y,Z){return Y.concat(tn(Z)===Ru?BT(e,{placement:Z,boundary:c,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:y}):Z)},[]),A=e.rects.reference,_=e.rects.popper,v=new Map,P=!0,k=x[0],B=0;B<x.length;B++){var N=x[B],M=tn(N),z=ji(N)===Wi,R=[mr,Nr].indexOf(M)>=0,q=R?"width":"height",H=Ya(e,{placement:N,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),U=R?z?Br:yr:z?Nr:mr;A[q]>_[q]&&(U=Jo(U));var X=Jo(U),re=[];if(a&&re.push(H[M]<=0),s&&re.push(H[U]<=0,H[X]<=0),re.every(function(Y){return Y})){k=N,P=!1;break}v.set(N,re)}if(P)for(var j=h?3:1,F=function(Z){var ee=x.find(function(G){var ie=v.get(G);if(ie)return ie.slice(0,Z).every(function(pe){return pe})});if(ee)return k=ee,"break"},W=j;W>0;W--){var $=F(W);if($==="break")break}e.placement!==k&&(e.modifiersData[n]._skip=!0,e.placement=k,e.reset=!0)}}const FT={name:"flip",enabled:!0,phase:"main",fn:zT,requiresIfExists:["offset"],data:{_skip:!1}};function Zf(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Jf(t){return[mr,Br,Nr,yr].some(function(e){return t[e]>=0})}function $T(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=Ya(e,{elementContext:"reference"}),s=Ya(e,{altBoundary:!0}),l=Zf(o,n),u=Zf(s,i,a),c=Jf(l),d=Jf(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const HT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$T};function qT(t,e,r){var n=tn(t),i=[yr,mr].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[yr,Br].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function VT(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,o=Mv.reduce(function(c,d){return c[d]=qT(d,e.rects,a),c},{}),s=o[e.placement],l=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=o}const WT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:VT};function UT(t){var e=t.state,r=t.name;e.modifiersData[r]=Fv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const GT={name:"popperOffsets",enabled:!0,phase:"read",fn:UT,data:{}};function jT(t){return t==="x"?"y":"x"}function KT(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,d=r.padding,p=r.tether,m=p===void 0?!0:p,h=r.tetherOffset,y=h===void 0?0:h,w=Ya(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),b=tn(e.placement),E=ji(e.placement),S=!E,x=$u(b),A=jT(x),_=e.modifiersData.popperOffsets,v=e.rects.reference,P=e.rects.popper,k=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,B=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(_){if(a){var z,R=x==="y"?mr:yr,q=x==="y"?Nr:Br,H=x==="y"?"height":"width",U=_[x],X=U+w[R],re=U-w[q],j=m?-P[H]/2:0,F=E===Wi?v[H]:P[H],W=E===Wi?-P[H]:-v[H],$=e.elements.arrow,Y=m&&$?Fu($):{width:0,height:0},Z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Nv(),ee=Z[R],G=Z[q],ie=Pa(0,v[H],Y[H]),pe=S?v[H]/2-j-ie-ee-B.mainAxis:F-ie-ee-B.mainAxis,ce=S?-v[H]/2+j+ie+G+B.mainAxis:W+ie+G+B.mainAxis,Se=e.elements.arrow&&fo(e.elements.arrow),Ne=Se?x==="y"?Se.clientTop||0:Se.clientLeft||0:0,qe=(z=N==null?void 0:N[x])!=null?z:0,ke=U+pe-qe-Ne,Ee=U+ce-qe,xe=Pa(m?ps(X,ke):X,U,m?li(re,Ee):re);_[x]=xe,M[x]=xe-U}if(s){var fe,le=x==="x"?mr:yr,Ae=x==="x"?Nr:Br,Le=_[A],Ge=A==="y"?"height":"width",Re=Le+w[le],Me=Le-w[Ae],me=[mr,yr].indexOf(b)!==-1,L=(fe=N==null?void 0:N[A])!=null?fe:0,ne=me?Re:Le-v[Ge]-P[Ge]-L+B.altAxis,ye=me?Le+v[Ge]+P[Ge]-L-B.altAxis:Me,he=m&&me?yT(ne,Le,ye):Pa(m?ne:Re,Le,m?ye:Me);_[A]=he,M[A]=he-Le}e.modifiersData[n]=M}}const YT={name:"preventOverflow",enabled:!0,phase:"main",fn:KT,requiresIfExists:["offset"]};function XT(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function QT(t){return t===Sr(t)||!Or(t)?Hu(t):XT(t)}function ZT(t){var e=t.getBoundingClientRect(),r=Ui(e.width)/t.offsetWidth||1,n=Ui(e.height)/t.offsetHeight||1;return r!==1||n!==1}function JT(t,e,r){r===void 0&&(r=!1);var n=Or(e),i=Or(e)&&ZT(e),a=Gn(e),o=Gi(t,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((an(e)!=="body"||Vu(a))&&(s=QT(e)),Or(e)?(l=Gi(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=qu(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function ek(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var l=e.get(s);l&&i(l)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function tk(t){var e=ek(t);return hT.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function rk(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function nk(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var ed={placement:"bottom",modifiers:[],strategy:"absolute"};function td(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function ik(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?ed:i;return function(s,l,u){u===void 0&&(u=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},ed,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],p=!1,m={state:c,setOptions:function(b){var E=typeof b=="function"?b(c.options):b;y(),c.options=Object.assign({},a,c.options,E),c.scrollParents={reference:gi(s)?La(s):s.contextElement?La(s.contextElement):[],popper:La(l)};var S=tk(nk([].concat(n,c.options.modifiers)));return c.orderedModifiers=S.filter(function(x){return x.enabled}),h(),m.update()},forceUpdate:function(){if(!p){var b=c.elements,E=b.reference,S=b.popper;if(td(E,S)){c.rects={reference:JT(E,fo(S),c.options.strategy==="fixed"),popper:Fu(S)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(B){return c.modifiersData[B.name]=Object.assign({},B.data)});for(var x=0;x<c.orderedModifiers.length;x++){if(c.reset===!0){c.reset=!1,x=-1;continue}var A=c.orderedModifiers[x],_=A.fn,v=A.options,P=v===void 0?{}:v,k=A.name;typeof _=="function"&&(c=_({state:c,options:P,name:k,instance:m})||c)}}}},update:rk(function(){return new Promise(function(w){m.forceUpdate(),w(c)})}),destroy:function(){y(),p=!0}};if(!td(s,l))return m;m.setOptions(u).then(function(w){!p&&u.onFirstUpdate&&u.onFirstUpdate(w)});function h(){c.orderedModifiers.forEach(function(w){var b=w.name,E=w.options,S=E===void 0?{}:E,x=w.effect;if(typeof x=="function"){var A=x({state:c,name:b,instance:m,options:S}),_=function(){};d.push(A||_)}})}function y(){d.forEach(function(w){return w()}),d=[]}return m}}var ak=[AT,GT,kT,Pv,WT,FT,YT,ET,HT],ok=ik({defaultModifiers:ak}),sk="tippy-box",$v="tippy-content",lk="tippy-backdrop",Hv="tippy-arrow",qv="tippy-svg-arrow",ni={passive:!0,capture:!0},Vv=function(){return document.body};function Il(t,e,r){if(Array.isArray(t)){var n=t[e];return n??(Array.isArray(r)?r[e]:r)}return t}function Wu(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function Wv(t,e){return typeof t=="function"?t.apply(void 0,e):t}function rd(t,e){if(e===0)return t;var r;return function(n){clearTimeout(r),r=setTimeout(function(){t(n)},e)}}function uk(t){return t.split(/\s+/).filter(Boolean)}function Mi(t){return[].concat(t)}function nd(t,e){t.indexOf(e)===-1&&t.push(e)}function ck(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function fk(t){return t.split("-")[0]}function gs(t){return[].slice.call(t)}function id(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function Oa(){return document.createElement("div")}function Fs(t){return["Element","Fragment"].some(function(e){return Wu(t,e)})}function dk(t){return Wu(t,"NodeList")}function hk(t){return Wu(t,"MouseEvent")}function vk(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function pk(t){return Fs(t)?[t]:dk(t)?gs(t):Array.isArray(t)?t:gs(document.querySelectorAll(t))}function Dl(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function ad(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function gk(t){var e,r=Mi(t),n=r[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function mk(t,e){var r=e.clientX,n=e.clientY;return t.every(function(i){var a=i.popperRect,o=i.popperState,s=i.props,l=s.interactiveBorder,u=fk(o.placement),c=o.modifiersData.offset;if(!c)return!0;var d=u==="bottom"?c.top.y:0,p=u==="top"?c.bottom.y:0,m=u==="right"?c.left.x:0,h=u==="left"?c.right.x:0,y=a.top-n+d>l,w=n-a.bottom-p>l,b=a.left-r+m>l,E=r-a.right-h>l;return y||w||b||E})}function Ml(t,e,r){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[n](i,r)})}function od(t,e){for(var r=e;r;){var n;if(t.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var Qr={isTouch:!1},sd=0;function yk(){Qr.isTouch||(Qr.isTouch=!0,window.performance&&document.addEventListener("mousemove",Uv))}function Uv(){var t=performance.now();t-sd<20&&(Qr.isTouch=!1,document.removeEventListener("mousemove",Uv)),sd=t}function bk(){var t=document.activeElement;if(vk(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function wk(){document.addEventListener("touchstart",yk,ni),window.addEventListener("blur",bk)}var xk=typeof window<"u"&&typeof document<"u",Ek=xk?!!window.msCrypto:!1,Ck={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Sk={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Wr=Object.assign({appendTo:Vv,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ck,Sk),Tk=Object.keys(Wr),kk=function(e){var r=Object.keys(e);r.forEach(function(n){Wr[n]=e[n]})};function Gv(t){var e=t.plugins||[],r=e.reduce(function(n,i){var a=i.name,o=i.defaultValue;if(a){var s;n[a]=t[a]!==void 0?t[a]:(s=Wr[a])!=null?s:o}return n},{});return Object.assign({},t,r)}function _k(t,e){var r=e?Object.keys(Gv(Object.assign({},Wr,{plugins:e}))):Tk,n=r.reduce(function(i,a){var o=(t.getAttribute("data-tippy-"+a)||"").trim();if(!o)return i;if(a==="content")i[a]=o;else try{i[a]=JSON.parse(o)}catch{i[a]=o}return i},{});return n}function ld(t,e){var r=Object.assign({},e,{content:Wv(e.content,[t])},e.ignoreAttributes?{}:_k(t,e.plugins));return r.aria=Object.assign({},Wr.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var Ak=function(){return"innerHTML"};function su(t,e){t[Ak()]=e}function ud(t){var e=Oa();return t===!0?e.className=Hv:(e.className=qv,Fs(t)?e.appendChild(t):su(e,t)),e}function cd(t,e){Fs(e.content)?(su(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?su(t,e.content):t.textContent=e.content)}function lu(t){var e=t.firstElementChild,r=gs(e.children);return{box:e,content:r.find(function(n){return n.classList.contains($v)}),arrow:r.find(function(n){return n.classList.contains(Hv)||n.classList.contains(qv)}),backdrop:r.find(function(n){return n.classList.contains(lk)})}}function jv(t){var e=Oa(),r=Oa();r.className=sk,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=Oa();n.className=$v,n.setAttribute("data-state","hidden"),cd(n,t.props),e.appendChild(r),r.appendChild(n),i(t.props,t.props);function i(a,o){var s=lu(e),l=s.box,u=s.content,c=s.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(a.content!==o.content||a.allowHTML!==o.allowHTML)&&cd(u,t.props),o.arrow?c?a.arrow!==o.arrow&&(l.removeChild(c),l.appendChild(ud(o.arrow))):l.appendChild(ud(o.arrow)):c&&l.removeChild(c)}return{popper:e,onUpdate:i}}jv.$$tippy=!0;var Ik=1,Wo=[],Pl=[];function Dk(t,e){var r=ld(t,Object.assign({},Wr,Gv(id(e)))),n,i,a,o=!1,s=!1,l=!1,u=!1,c,d,p,m=[],h=rd(ke,r.interactiveDebounce),y,w=Ik++,b=null,E=ck(r.plugins),S={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},x={id:w,reference:t,popper:Oa(),popperInstance:b,props:r,state:S,plugins:E,clearDelayTimeouts:ne,setProps:ye,setContent:he,show:de,hide:Ye,hideWithInteractivity:ge,enable:me,disable:L,unmount:ze,destroy:Ke};if(!r.render)return x;var A=r.render(x),_=A.popper,v=A.onUpdate;_.setAttribute("data-tippy-root",""),_.id="tippy-"+x.id,x.popper=_,t._tippy=x,_._tippy=x;var P=E.map(function(ae){return ae.fn(x)}),k=t.hasAttribute("aria-expanded");return Se(),j(),U(),X("onCreate",[x]),r.showOnCreate&&Re(),_.addEventListener("mouseenter",function(){x.props.interactive&&x.state.isVisible&&x.clearDelayTimeouts()}),_.addEventListener("mouseleave",function(){x.props.interactive&&x.props.trigger.indexOf("mouseenter")>=0&&R().addEventListener("mousemove",h)}),x;function B(){var ae=x.props.touch;return Array.isArray(ae)?ae:[ae,0]}function N(){return B()[0]==="hold"}function M(){var ae;return!!((ae=x.props.render)!=null&&ae.$$tippy)}function z(){return y||t}function R(){var ae=z().parentNode;return ae?gk(ae):document}function q(){return lu(_)}function H(ae){return x.state.isMounted&&!x.state.isVisible||Qr.isTouch||c&&c.type==="focus"?0:Il(x.props.delay,ae?0:1,Wr.delay)}function U(ae){ae===void 0&&(ae=!1),_.style.pointerEvents=x.props.interactive&&!ae?"":"none",_.style.zIndex=""+x.props.zIndex}function X(ae,Ce,De){if(De===void 0&&(De=!0),P.forEach(function(Be){Be[ae]&&Be[ae].apply(Be,Ce)}),De){var Oe;(Oe=x.props)[ae].apply(Oe,Ce)}}function re(){var ae=x.props.aria;if(ae.content){var Ce="aria-"+ae.content,De=_.id,Oe=Mi(x.props.triggerTarget||t);Oe.forEach(function(Be){var rt=Be.getAttribute(Ce);if(x.state.isVisible)Be.setAttribute(Ce,rt?rt+" "+De:De);else{var vt=rt&&rt.replace(De,"").trim();vt?Be.setAttribute(Ce,vt):Be.removeAttribute(Ce)}})}}function j(){if(!(k||!x.props.aria.expanded)){var ae=Mi(x.props.triggerTarget||t);ae.forEach(function(Ce){x.props.interactive?Ce.setAttribute("aria-expanded",x.state.isVisible&&Ce===z()?"true":"false"):Ce.removeAttribute("aria-expanded")})}}function F(){R().removeEventListener("mousemove",h),Wo=Wo.filter(function(ae){return ae!==h})}function W(ae){if(!(Qr.isTouch&&(l||ae.type==="mousedown"))){var Ce=ae.composedPath&&ae.composedPath()[0]||ae.target;if(!(x.props.interactive&&od(_,Ce))){if(Mi(x.props.triggerTarget||t).some(function(De){return od(De,Ce)})){if(Qr.isTouch||x.state.isVisible&&x.props.trigger.indexOf("click")>=0)return}else X("onClickOutside",[x,ae]);x.props.hideOnClick===!0&&(x.clearDelayTimeouts(),x.hide(),s=!0,setTimeout(function(){s=!1}),x.state.isMounted||ee())}}}function $(){l=!0}function Y(){l=!1}function Z(){var ae=R();ae.addEventListener("mousedown",W,!0),ae.addEventListener("touchend",W,ni),ae.addEventListener("touchstart",Y,ni),ae.addEventListener("touchmove",$,ni)}function ee(){var ae=R();ae.removeEventListener("mousedown",W,!0),ae.removeEventListener("touchend",W,ni),ae.removeEventListener("touchstart",Y,ni),ae.removeEventListener("touchmove",$,ni)}function G(ae,Ce){pe(ae,function(){!x.state.isVisible&&_.parentNode&&_.parentNode.contains(_)&&Ce()})}function ie(ae,Ce){pe(ae,Ce)}function pe(ae,Ce){var De=q().box;function Oe(Be){Be.target===De&&(Ml(De,"remove",Oe),Ce())}if(ae===0)return Ce();Ml(De,"remove",d),Ml(De,"add",Oe),d=Oe}function ce(ae,Ce,De){De===void 0&&(De=!1);var Oe=Mi(x.props.triggerTarget||t);Oe.forEach(function(Be){Be.addEventListener(ae,Ce,De),m.push({node:Be,eventType:ae,handler:Ce,options:De})})}function Se(){N()&&(ce("touchstart",qe,{passive:!0}),ce("touchend",Ee,{passive:!0})),uk(x.props.trigger).forEach(function(ae){if(ae!=="manual")switch(ce(ae,qe),ae){case"mouseenter":ce("mouseleave",Ee);break;case"focus":ce(Ek?"focusout":"blur",xe);break;case"focusin":ce("focusout",xe);break}})}function Ne(){m.forEach(function(ae){var Ce=ae.node,De=ae.eventType,Oe=ae.handler,Be=ae.options;Ce.removeEventListener(De,Oe,Be)}),m=[]}function qe(ae){var Ce,De=!1;if(!(!x.state.isEnabled||fe(ae)||s)){var Oe=((Ce=c)==null?void 0:Ce.type)==="focus";c=ae,y=ae.currentTarget,j(),!x.state.isVisible&&hk(ae)&&Wo.forEach(function(Be){return Be(ae)}),ae.type==="click"&&(x.props.trigger.indexOf("mouseenter")<0||o)&&x.props.hideOnClick!==!1&&x.state.isVisible?De=!0:Re(ae),ae.type==="click"&&(o=!De),De&&!Oe&&Me(ae)}}function ke(ae){var Ce=ae.target,De=z().contains(Ce)||_.contains(Ce);if(!(ae.type==="mousemove"&&De)){var Oe=Ge().concat(_).map(function(Be){var rt,vt=Be._tippy,Dt=(rt=vt.popperInstance)==null?void 0:rt.state;return Dt?{popperRect:Be.getBoundingClientRect(),popperState:Dt,props:r}:null}).filter(Boolean);mk(Oe,ae)&&(F(),Me(ae))}}function Ee(ae){var Ce=fe(ae)||x.props.trigger.indexOf("click")>=0&&o;if(!Ce){if(x.props.interactive){x.hideWithInteractivity(ae);return}Me(ae)}}function xe(ae){x.props.trigger.indexOf("focusin")<0&&ae.target!==z()||x.props.interactive&&ae.relatedTarget&&_.contains(ae.relatedTarget)||Me(ae)}function fe(ae){return Qr.isTouch?N()!==ae.type.indexOf("touch")>=0:!1}function le(){Ae();var ae=x.props,Ce=ae.popperOptions,De=ae.placement,Oe=ae.offset,Be=ae.getReferenceClientRect,rt=ae.moveTransition,vt=M()?lu(_).arrow:null,Dt=Be?{getBoundingClientRect:Be,contextElement:Be.contextElement||z()}:t,zt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ct){var mt=ct.state;if(M()){var fr=q(),kr=fr.box;["placement","reference-hidden","escaped"].forEach(function(sr){sr==="placement"?kr.setAttribute("data-placement",mt.placement):mt.attributes.popper["data-popper-"+sr]?kr.setAttribute("data-"+sr,""):kr.removeAttribute("data-"+sr)}),mt.attributes.popper={}}}},xt=[{name:"offset",options:{offset:Oe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!rt}},zt];M()&&vt&&xt.push({name:"arrow",options:{element:vt,padding:3}}),xt.push.apply(xt,(Ce==null?void 0:Ce.modifiers)||[]),x.popperInstance=ok(Dt,_,Object.assign({},Ce,{placement:De,onFirstUpdate:p,modifiers:xt}))}function Ae(){x.popperInstance&&(x.popperInstance.destroy(),x.popperInstance=null)}function Le(){var ae=x.props.appendTo,Ce,De=z();x.props.interactive&&ae===Vv||ae==="parent"?Ce=De.parentNode:Ce=Wv(ae,[De]),Ce.contains(_)||Ce.appendChild(_),x.state.isMounted=!0,le()}function Ge(){return gs(_.querySelectorAll("[data-tippy-root]"))}function Re(ae){x.clearDelayTimeouts(),ae&&X("onTrigger",[x,ae]),Z();var Ce=H(!0),De=B(),Oe=De[0],Be=De[1];Qr.isTouch&&Oe==="hold"&&Be&&(Ce=Be),Ce?n=setTimeout(function(){x.show()},Ce):x.show()}function Me(ae){if(x.clearDelayTimeouts(),X("onUntrigger",[x,ae]),!x.state.isVisible){ee();return}if(!(x.props.trigger.indexOf("mouseenter")>=0&&x.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ae.type)>=0&&o)){var Ce=H(!1);Ce?i=setTimeout(function(){x.state.isVisible&&x.hide()},Ce):a=requestAnimationFrame(function(){x.hide()})}}function me(){x.state.isEnabled=!0}function L(){x.hide(),x.state.isEnabled=!1}function ne(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(a)}function ye(ae){if(!x.state.isDestroyed){X("onBeforeUpdate",[x,ae]),Ne();var Ce=x.props,De=ld(t,Object.assign({},Ce,id(ae),{ignoreAttributes:!0}));x.props=De,Se(),Ce.interactiveDebounce!==De.interactiveDebounce&&(F(),h=rd(ke,De.interactiveDebounce)),Ce.triggerTarget&&!De.triggerTarget?Mi(Ce.triggerTarget).forEach(function(Oe){Oe.removeAttribute("aria-expanded")}):De.triggerTarget&&t.removeAttribute("aria-expanded"),j(),U(),v&&v(Ce,De),x.popperInstance&&(le(),Ge().forEach(function(Oe){requestAnimationFrame(Oe._tippy.popperInstance.forceUpdate)})),X("onAfterUpdate",[x,ae])}}function he(ae){x.setProps({content:ae})}function de(){var ae=x.state.isVisible,Ce=x.state.isDestroyed,De=!x.state.isEnabled,Oe=Qr.isTouch&&!x.props.touch,Be=Il(x.props.duration,0,Wr.duration);if(!(ae||Ce||De||Oe)&&!z().hasAttribute("disabled")&&(X("onShow",[x],!1),x.props.onShow(x)!==!1)){if(x.state.isVisible=!0,M()&&(_.style.visibility="visible"),U(),Z(),x.state.isMounted||(_.style.transition="none"),M()){var rt=q(),vt=rt.box,Dt=rt.content;Dl([vt,Dt],0)}p=function(){var xt;if(!(!x.state.isVisible||u)){if(u=!0,_.offsetHeight,_.style.transition=x.props.moveTransition,M()&&x.props.animation){var Ft=q(),ct=Ft.box,mt=Ft.content;Dl([ct,mt],Be),ad([ct,mt],"visible")}re(),j(),nd(Pl,x),(xt=x.popperInstance)==null||xt.forceUpdate(),X("onMount",[x]),x.props.animation&&M()&&ie(Be,function(){x.state.isShown=!0,X("onShown",[x])})}},Le()}}function Ye(){var ae=!x.state.isVisible,Ce=x.state.isDestroyed,De=!x.state.isEnabled,Oe=Il(x.props.duration,1,Wr.duration);if(!(ae||Ce||De)&&(X("onHide",[x],!1),x.props.onHide(x)!==!1)){if(x.state.isVisible=!1,x.state.isShown=!1,u=!1,o=!1,M()&&(_.style.visibility="hidden"),F(),ee(),U(!0),M()){var Be=q(),rt=Be.box,vt=Be.content;x.props.animation&&(Dl([rt,vt],Oe),ad([rt,vt],"hidden"))}re(),j(),x.props.animation?M()&&G(Oe,x.unmount):x.unmount()}}function ge(ae){R().addEventListener("mousemove",h),nd(Wo,h),h(ae)}function ze(){x.state.isVisible&&x.hide(),x.state.isMounted&&(Ae(),Ge().forEach(function(ae){ae._tippy.unmount()}),_.parentNode&&_.parentNode.removeChild(_),Pl=Pl.filter(function(ae){return ae!==x}),x.state.isMounted=!1,X("onHidden",[x]))}function Ke(){x.state.isDestroyed||(x.clearDelayTimeouts(),x.unmount(),Ne(),delete t._tippy,x.state.isDestroyed=!0,X("onDestroy",[x]))}}function Ki(t,e){e===void 0&&(e={});var r=Wr.plugins.concat(e.plugins||[]);wk();var n=Object.assign({},e,{plugins:r}),i=pk(t),a=i.reduce(function(o,s){var l=s&&Dk(s,n);return l&&o.push(l),o},[]);return Fs(t)?a[0]:a}Ki.defaultProps=Wr;Ki.setDefaultProps=kk;Ki.currentInput=Qr;Object.assign({},Pv,{effect:function(e){var r=e.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});Ki.setDefaultProps({render:jv});const Mk={"SNIK Graph Manual":{img:"graph.png"},"Multiview-Functionality":{"":"SNIK Graph supports the organization and management of different partial models in separate views.To copy a part of the whole graph, press 'C' or 'S' and to insert it into a new model press 'V' or 'P'.","search-field":"Search the currently active view for resources by entering a full or partial name.","View-specific menu":{"":"The view-specific menu can be found in the upper right position of each view, described from left to right.",img:"viewmenu.png",recalculatesign:"Recalculate Layout",tightlayoutsign:"Tight layout",compoundlayoutsign:"Compound layout",addsign:"Open new Tab",plussign:"Zoom in",minussign:"Zoom out"}},menu:{file:{"":"Holds different file options like loading and saving the graph in different ways.","load-sparql":"Discard the currently loaded graph and load all ontologies of SNIK.","load-session":"Load a complete session from a Cytoscape JSON File. Caution: Discards all changes!","load-view":"Load a saved view (partial graph) and include it in the current session.","save-session":"Save the complete Session (all views).","save-snik-graph":"Save the complete SNIK graph to a Cytoscape file.","save-view":"Save only the currently active view (partial graph).","recalculate-layout-replace":"Recalculate the position of all visible nodes. May take a while when a large number of nodes are visible.","save-image-current-view":"Save a screenshot of the currently active view.","save-image-whole-graph":"Save an image of the whole graph with the same pixel density as the current view.","save-image-current-view-high-res":"Save an image of the current view with a high resolution, for example for printing.","save-image-whole-graph-high-res":"Save an image of the whole graph with a high resolution, for example for printing."},filter:{"":"A collection of filters to display relevant subgraphs. Filters are applied to all open views.",meta:"The Meta Ontology provides common superclasses and properties for the subontologies of SNIK.",bb:'Based on the book "Health Information Systems OntologyâArchitectures and Strategies".',ob:'Based on the book"IT-Projektmanagement im Gesundheitswesen - Lehrbuch und Projektleitfaden.',he:'Based on the book "Informationsmanagement: Grundlagen, Aufgaben, Methoden".',ciox:"Based on interviews about the Health Information System with Department B1, the Department for Information Management, of the Uniklinikum Leipzig.",role:"Who...",function:"...does what...",entitytype:"...and which information is therefore needed."},options:{"":"Here you can find different checkboxes that toggle the behaviour of SNIK Graph. These are applied to all open views.","separate-subs":"Spread the SNIK Graph into subgraphs of the subontologies.","cumulative-search":"Keep previous search results visible when searching again.",grid:"shows a grid that supports better organizing of nodes.","combine-match":'Highlights groups of classes representing the same concept from different subontologies (matches) by placing them in boxes. Use "move matches on top of each other" or "move matches nearby" to shrink those boxes.',showInstances:"Display instances of SNIK Classes, if loaded via parameter.","day-mode":"White background. Saves ink when printing.","dev-mode":"Additional context menu entries for developers.","ext-mode":"Additional context menu entries for power users."},layout:{"":"This part of the menu holds the layout features.","show-close-matches":"Shows (unhides) all nodes that are connected via close matches to visible nodes.","recalculate-layout":"Hotkey: Ctrl+Alt+L. Recalculates the position of all selected nodes, or all visible nodes if there are not at least two selected nodes. Can take a while if there are many visible nodes.","tight-layout":"Hotkey: Ctrl+Alt+T. You can use this for a more narrow view.","compound-layout":"Hotkey: Ctrl+Alt+C. Layout that tries to places combined matches next to each other.","move-match-on-top":'Requires enabled "Combine Matching" option. Places all matching nodes in the center of their group.',"move-match-nearby":'Requires enabled "Combine Matching" option. Places all matching nodes in a small circle in their group.',"bb-chapter-search":'Presents you all chapters of the "blue book" and lets you build a subgraph out of selected chapters .',"ob-chapter-search":'Presents you all chapters of the "orange book" and lets you build a subgraph out of selected chapters .',"subontology-connectivity":"Shows the connectivity between chosen Subontologies, i.e. between BB and OB, in a new tab.",img:"subontologyConnectivity.png","reset-view":"Resets all the layout operations to get you back to the starting point of the visualization.","change-title":"Opens a prompt to change the title of the currently active view."},services:{"":"Other ways to access SNIK.","sparql-endpoint":"Expert interface for the SPARQL Protocol and RDF Query Language endpoint.","rdf-browser":"Browse complete descriptions of resources in the RDF browser."},language:"Language switch, you can choose between English, German and Persian. Ontologies may not or not fully support all available languages.",help:"Common Help Menu, holds e.g. this manual"},"context-menu":{"":"Right click on a node/edge to open the context menu and choose among:","base-mode":{description:"Opens the node in an RDF browser, which shows all its properties and values.",star:{"":"Highlights and expands the node and all its directly connected nodes.",img:"star.png"},"incoming-star":"Highlights and expands the node and all neighbours directly connected via incoming edges.","outgoing-star":"Highlights and expands the node and all neighbours directly connected via outgoing edges.",path:{"":"Shortest Path between a selected source and this node.",img:"star.png"},spiderworm:{"":"The Spider Worm consists of the shortest path between a selected source and this node plus all direct neighbours. Displaying a spiderworm hides all other nodes and edges.",img:"spiderworm.png"},edit:"If you are a domain expert and notice incorrectly modelled facts or connections of a node, feel free to send us an issue.","combine-close-matches":"Merge equivalent classes from different subontologies.","class-use":"Visualize the interplay of role, function and entity type (related to the Meta model).",hide:"Hide the selected item until the view is resetted.","set-path-source":"Set the starting point for path operations.","confirm-link":"Confirm that the automatically generated interlink is correct."},"dev-mode":{"remove-permanently":"Send us an issue to delete the selected item permanently. Also removes it until graph is reloaded.",ontowiki:"Access restricted ontology editing tool.",debug:"Get debug information to the edge/node from the JSON File"},"ext-mode":{doublestar:{"":"The double star is like the spiderworm but shows connected nodes for both source and target, not just the target.",img:"doublestar.png"},starpath:{"":"Creates a path and star (expand) every node along it.",img:"starpath.png"},circlestar:{"":"A star (expansion of the node) using a circular layout. Hides all other nodes.",img:"circlestar.png"},lodlive:"Third party data visualization exploration tool."}}};function Kv(t){const e={};for(const r in t){if(r===""||r==="img")continue;const n=t[r];if(typeof n=="string"){e[r]=n;continue}n[""]&&(e[r]=n[""]),Object.assign(e,Kv(n))}return e}const ms=Kv(Mk);function fd(){const t="right-end",e="reddark";for(const r in ms){const n=ms[r];if(typeof n!="string"&&console.error("value "+n+" for key "+r+" not a string"),document.getElementById(r))Ki("#"+r,{content:n,placement:t,theme:e});else{const a=`[data-i18n="${r}"]`;document.querySelectorAll(a).length>0?Ki(a,{content:n,placement:t,theme:e}):_e.trace(`tooltip init: found none of #${r} and [data-i18n="${r}"]`)}}}var Yv={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(dn,function(){var r=function(){function n(m){return o.appendChild(m.dom),m}function i(m){for(var h=0;h<o.children.length;h++)o.children[h].style.display=h===m?"block":"none";a=m}var a=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(m){m.preventDefault(),i(++a%o.children.length)},!1);var s=(performance||Date).now(),l=s,u=0,c=n(new r.Panel("FPS","#0ff","#002")),d=n(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=n(new r.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:o,addPanel:n,showPanel:i,begin:function(){s=(performance||Date).now()},end:function(){u++;var m=(performance||Date).now();if(d.update(m-s,200),m>l+1e3&&(c.update(1e3*u/(m-l),100),l=m,u=0,p)){var h=performance.memory;p.update(h.usedJSHeapSize/1048576,h.jsHeapSizeLimit/1048576)}return m},update:function(){s=this.end()},domElement:o,setMode:i}};return r.Panel=function(n,i,a){var o=1/0,s=0,l=Math.round,u=l(window.devicePixelRatio||1),c=80*u,d=48*u,p=3*u,m=2*u,h=3*u,y=15*u,w=74*u,b=30*u,E=document.createElement("canvas");E.width=c,E.height=d,E.style.cssText="width:80px;height:48px";var S=E.getContext("2d");return S.font="bold "+9*u+"px Helvetica,Arial,sans-serif",S.textBaseline="top",S.fillStyle=a,S.fillRect(0,0,c,d),S.fillStyle=i,S.fillText(n,p,m),S.fillRect(h,y,w,b),S.fillStyle=a,S.globalAlpha=.9,S.fillRect(h,y,w,b),{dom:E,update:function(x,A){o=Math.min(o,x),s=Math.max(s,x),S.fillStyle=a,S.globalAlpha=1,S.fillRect(0,0,c,y),S.fillStyle=i,S.fillText(l(x)+" "+n+" ("+l(o)+"-"+l(s)+")",p,m),S.drawImage(E,h+u,y,w-u,b,h,y,w-u,b),S.fillRect(h+w-u,y,u,b),S.fillStyle=a,S.globalAlpha=.9,S.fillRect(h+w-u,y,u,l((1-x/A)*b))}}},r})})(Yv);var Pk=Yv.exports;const Ll=qn(Pk);function Lk(t){const e=[];for(let o=0;o<4;o++){const s=new Ll;s.domElement.style.cssText=`position:absolute;top:0px;right:${100*o}px;`,document.body.appendChild(s.dom),e.push(s)}const n=e[2].addPanel(new Ll.Panel("Nodes","#ff8","#221")),i=e[3].addPanel(new Ll.Panel("Edges","#f8f","#212"));for(let o=0;o<e.length;o++)e[o].showPanel(Math.min(o,e.length-2));let a=0;requestAnimationFrame(function o(){for(const s of e)s.update();a=(a+1)%30,a===0&&(n.update(t.nodes(":visible").size()),i.update(t.edges(":visible").size())),requestAnimationFrame(o)})}function Ok(){const t=new URL(window.location.href),e={endpoint:it.sparql.endpoint,instances:it.sparql.instances};return Object.assign(e,{empty:t.searchParams.get("empty")!==null,clazz:t.searchParams.get("class"),jsonUrl:t.searchParams.get("json"),...t.searchParams.get("sparql")&&{endpoint:t.searchParams.get("sparql")},...t.searchParams.get("instances")!==null&&{instances:t.searchParams.get("instances")===""||t.searchParams.get("instances")==="true"},virtual:t.searchParams.get("virtual")!==null,rdfGraph:t.searchParams.get("graph"),sub:t.searchParams.get("sub"),benchmark:t.searchParams.get("benchmark")!==null})}async function Nk(t,e){try{if(e.benchmark&&Lk(t.cy),e.empty){_e.info('Parameter "empty" detected. Skip loading and display file load prompt.');const n=document.getElementById("loadarea"),i=document.createElement("center");n.appendChild(i),i.innerHTML+=`<button id="load-button" style="font-size:10vh;margin-top:20vh">Datei Laden
      <input id="load-input" type="file" style="display:none"></input>
      </button>`;const a=document.getElementById("load-input"),o=document.getElementById("load-button");o.onclick=()=>{a.click()},a.addEventListener("change",s=>{n.removeChild(i),t.cy.resize(),lS(t)(s)});return}if(e.jsonUrl){_e.info("Loading from JSON URL "+e.jsonUrl);const n=await(await fetch(e.jsonUrl)).json();t.cy.add(n),Lr(t.cy,fs);return}_e.debug("Loading from SPARQL Endpoint "+e.endpoint),it.sparql.endpoint=e.endpoint;const r=[];if(it.sparql.isSnik){let n=[];e.sub&&(n=e.sub.split(",")),n.length===0&&(n=[...it.helperGraphs,...it.defaultSubOntologies]),r.push(...n.map(i=>wd.PREFIX+i))}if(console.debug(`Loading graph with${e.instances?"":"out"} instances.`),await Cd(t.cy,r,e.instances,e.virtual),t.instancesLoaded=e.instances,it.sparql.isSnik){await fv(t.cy,Ma,it.defaultSubOntologies,!1),St.setVisible(t.cy.elements(),!1);const n=t.cy.nodes("node[id='http://www.snik.eu/ontology/bb/ChiefInformationOfficer']");t.showStar(n),await Lr(t.cy,fs),t.cy.elements().unselect(),t.cy.center(n),t.cy.fit(t.cy.elements(":visible")),St.setVisible(n,!0),t.starMode=!0}e.clazz&&(_e.info(`Parameter "class" detected. Centering on URI ${e.clazz}.`),setTimeout(()=>t.presentUri(e.clazz),300))}catch(r){_e.error(r),_e.error("Error initializing SNIK Graph "+r)}}async function Bk(t){await Na(async()=>{const e=Ok();await Nk(t,e),t.menu=new ai,new tT(Er("search")),fd()}),fd()}var Xv={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(self,function(){return(()=>{var r={621:(a,o,s)=>{function l(j,F){(F==null||F>j.length)&&(F=j.length);for(var W=0,$=new Array(F);W<F;W++)$[W]=j[W];return $}function u(j){for(var F="",W=0;W<j.length;W++)F+=j[W],W!==j.length-1&&(F+=" ");return F}function c(j,F,W){W?j.setAttribute(F,""):j.removeAttribute(F)}function d(j,F,W){customElements.get(j)===void 0&&customElements.define(j,F,{extends:W})}s.r(o),s.d(o,{contextMenus:()=>re});var p="cy-context-menus-divider",m={evtType:"cxttap",menuItems:[],menuItemClasses:["cy-context-menus-cxt-menuitem"],contextMenuClasses:["cy-context-menus-cxt-menu"],submenuIndicator:{src:"assets/submenu-indicator-default.svg",width:12,height:12}};function h(j){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(j)}function y(j,F){var W;if(typeof Symbol>"u"||j[Symbol.iterator]==null){if(Array.isArray(j)||(W=function(ie,pe){if(ie){if(typeof ie=="string")return w(ie,pe);var ce=Object.prototype.toString.call(ie).slice(8,-1);return ce==="Object"&&ie.constructor&&(ce=ie.constructor.name),ce==="Map"||ce==="Set"?Array.from(ie):ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce)?w(ie,pe):void 0}}(j))||F&&j&&typeof j.length=="number"){W&&(j=W);var $=0,Y=function(){};return{s:Y,n:function(){return $>=j.length?{done:!0}:{done:!1,value:j[$++]}},e:function(ie){throw ie},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z,ee=!0,G=!1;return{s:function(){W=j[Symbol.iterator]()},n:function(){var ie=W.next();return ee=ie.done,ie},e:function(ie){G=!0,Z=ie},f:function(){try{ee||W.return==null||W.return()}finally{if(G)throw Z}}}}function w(j,F){(F==null||F>j.length)&&(F=j.length);for(var W=0,$=new Array(F);W<F;W++)$[W]=j[W];return $}function b(j,F){if(!(j instanceof F))throw new TypeError("Cannot call a class as a function")}function E(j,F){for(var W=0;W<F.length;W++){var $=F[W];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(j,$.key,$)}}function S(j,F,W){return F&&E(j.prototype,F),W&&E(j,W),j}function x(j,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(F&&F.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),F&&M(j,F)}function A(j){var F=N();return function(){var W,$=z(j);if(F){var Y=z(this).constructor;W=Reflect.construct($,arguments,Y)}else W=$.apply(this,arguments);return _(this,W)}}function _(j,F){return!F||h(F)!=="object"&&typeof F!="function"?v(j):F}function v(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function P(j,F,W){return(P=typeof Reflect<"u"&&Reflect.get?Reflect.get:function($,Y,Z){var ee=function(ie,pe){for(;!Object.prototype.hasOwnProperty.call(ie,pe)&&(ie=z(ie))!==null;);return ie}($,Y);if(ee){var G=Object.getOwnPropertyDescriptor(ee,Y);return G.get?G.get.call(Z):G.value}})(j,F,W||j)}function k(j){var F=typeof Map=="function"?new Map:void 0;return(k=function(W){if(W===null||($=W,Function.toString.call($).indexOf("[native code]")===-1))return W;var $;if(typeof W!="function")throw new TypeError("Super expression must either be null or a function");if(F!==void 0){if(F.has(W))return F.get(W);F.set(W,Y)}function Y(){return B(W,arguments,z(this).constructor)}return Y.prototype=Object.create(W.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),M(Y,W)})(j)}function B(j,F,W){return(B=N()?Reflect.construct:function($,Y,Z){var ee=[null];ee.push.apply(ee,Y);var G=new(Function.bind.apply($,ee));return Z&&M(G,Z.prototype),G}).apply(null,arguments)}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function M(j,F){return(M=Object.setPrototypeOf||function(W,$){return W.__proto__=$,W})(j,F)}function z(j){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)})(j)}function R(j){j.preventDefault(),j.stopPropagation()}var q=function(j){x(W,j);var F=A(W);function W($,Y,Z){var ee,G,ie,pe,ce,Se,Ne,qe,ke,Ee;b(this,W),P((G=v(Ee=F.call(this)),z(W.prototype)),"setAttribute",G).call(G,"id",$.id);var xe=Ee._getMenuItemClassStr(Z.cxtMenuItemClasses,$.hasTrailingDivider);if(P((ie=v(Ee),z(W.prototype)),"setAttribute",ie).call(ie,"class",xe),P((pe=v(Ee),z(W.prototype)),"setAttribute",pe).call(pe,"title",(ee=$.tooltipText)!==null&&ee!==void 0?ee:""),$.disabled&&c(v(Ee),"disabled",!0),$.image){var fe=document.createElement("img");fe.src=$.image.src,fe.width=$.image.width,fe.height=$.image.height,fe.style.position="absolute",fe.style.top=$.image.y+"px",fe.style.left=$.image.x+"px",P((ce=v(Ee),z(W.prototype)),"appendChild",ce).call(ce,fe)}if(Ee.innerHTML+=$.content,Ee.onMenuItemClick=Y,Ee.data={},Ee.clickFns=[],Ee.selector=$.selector,Ee.hasTrailingDivider=$.hasTrailingDivider,Ee.show=$.show===void 0||$.show,Ee.coreAsWell=$.coreAsWell||!1,Ee.scratchpad=Z,$.onClickFunction===void 0&&$.submenu===void 0)throw new Error("A menu item must either have click function or a submenu or both");return Ee.onClickFunction=$.onClickFunction,$.submenu instanceof Array&&Ee._createSubmenu($.submenu),P((Se=v(Ee),z(W.prototype)),"addEventListener",Se).call(Se,"mousedown",R),P((Ne=v(Ee),z(W.prototype)),"addEventListener",Ne).call(Ne,"mouseup",R),P((qe=v(Ee),z(W.prototype)),"addEventListener",qe).call(qe,"touchstart",R),P((ke=v(Ee),z(W.prototype)),"addEventListener",ke).call(ke,"touchend",R),Ee}return S(W,[{key:"bindOnClickFunction",value:function($){this.clickFns.push($),P(z(W.prototype),"addEventListener",this).call(this,"click",$)}},{key:"unbindOnClickFunctions",value:function(){var $,Y=y(this.clickFns);try{for(Y.s();!($=Y.n()).done;){var Z=$.value;P(z(W.prototype),"removeEventListener",this).call(this,"click",Z)}}catch(ee){Y.e(ee)}finally{Y.f()}this.clickFns=[]}},{key:"enable",value:function(){c(this,"disabled",!1),this.hasSubmenu()&&this.addEventListener("mouseenter",this.mouseEnterHandler)}},{key:"disable",value:function(){c(this,"disabled",!0),this.hasSubmenu()&&this.removeEventListener("mouseenter",this.mouseEnterHandler)}},{key:"hide",value:function(){this.show=!1,this.style.display="none"}},{key:"getHasTrailingDivider",value:function(){return!!this.hasTrailingDivider}},{key:"setHasTrailingDivider",value:function($){this.hasTrailingDivider=$}},{key:"hasSubmenu",value:function(){return this.submenu instanceof H}},{key:"appendSubmenuItem",value:function($){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this.hasSubmenu()||this._createSubmenu(),this.submenu.appendMenuItem($,Y)}},{key:"isClickable",value:function(){return this.onClickFunction!==void 0}},{key:"display",value:function(){this.show=!0,this.style.display="block"}},{key:"isVisible",value:function(){return this.show===!0&&this.style.display!=="none"}},{key:"removeSubmenu",value:function(){this.hasSubmenu()&&(this.submenu.removeAllMenuItems(),this.detachSubmenu())}},{key:"detachSubmenu",value:function(){this.hasSubmenu()&&(this.removeChild(this.submenu),this.removeChild(this.indicator),this.removeEventListener("mouseenter",this.mouseEnterHandler),this.removeEventListener("mouseleave",this.mouseLeaveHandler),this.submenu=void 0,this.indicator=void 0)}},{key:"_onMouseEnter",value:function($){var Y=this.getBoundingClientRect(),Z=function(ce){ce.style.opacity="0",ce.style.display="block";var Se=ce.getBoundingClientRect();return ce.style.opacity="1",ce.style.display="none",Se}(this.submenu),ee=Y.right+Z.width>window.innerWidth,G=Y.top+Z.height>window.innerHeight;ee||G?ee&&!G?(this.submenu.style.right=this.clientWidth+"px",this.submenu.style.top="0px",this.submenu.style.left="auto",this.submenu.style.bottom="auto"):ee&&G?(this.submenu.style.right=this.clientWidth+"px",this.submenu.style.bottom="0px",this.submenu.style.top="auto",this.submenu.style.left="auto"):(this.submenu.style.left=this.clientWidth+"px",this.submenu.style.bottom="0px",this.submenu.style.right="auto",this.submenu.style.top="auto"):(this.submenu.style.left=this.clientWidth+"px",this.submenu.style.top="0px",this.submenu.style.right="auto",this.submenu.style.bottom="auto"),this.submenu.display();var ie=Array.from(this.submenu.children).filter(function(ce){if(ce instanceof W)return ce.isVisible()}),pe=ie.length;ie.forEach(function(ce,Se){ce instanceof W&&(Se<pe-1&&ce.getHasTrailingDivider()?ce.classList.add(p):ce.getHasTrailingDivider()&&ce.classList.remove(p))})}},{key:"_onMouseLeave",value:function($){var Y,Z,ee,G,ie;Y={x:$.clientX,y:$.clientY},Z=this.submenu,G=Y.y,(ee=Y.x)>=(ie=Z.getBoundingClientRect()).left&&ee<=ie.right&&G>=ie.top&&G<=ie.bottom||this.submenu.hide()}},{key:"_createSubmenu",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.indicator=this.scratchpad.submenuIndicatorGen(),this.submenu=new H(this.onMenuItemClick,this.scratchpad),this.appendChild(this.indicator),this.appendChild(this.submenu);var Y,Z=y($);try{for(Z.s();!(Y=Z.n()).done;){var ee=Y.value,G=new W(ee,this.onMenuItemClick,this.scratchpad);this.submenu.appendMenuItem(G)}}catch(ie){Z.e(ie)}finally{Z.f()}this.mouseEnterHandler=this._onMouseEnter.bind(this),this.mouseLeaveHandler=this._onMouseLeave.bind(this),this.addEventListener("mouseenter",this.mouseEnterHandler),this.addEventListener("mouseleave",this.mouseLeaveHandler)}},{key:"_getMenuItemClassStr",value:function($,Y){return Y?$+" "+p:$}}],[{key:"define",value:function(){d("ctx-menu-item",W,"button")}}]),W}(k(HTMLButtonElement)),H=function(j){x(W,j);var F=A(W);function W($,Y){var Z,ee;return b(this,W),P((Z=v(ee=F.call(this)),z(W.prototype)),"setAttribute",Z).call(Z,"class",Y.cxtMenuClasses),ee.style.position="absolute",ee.onMenuItemClick=$,ee.scratchpad=Y,ee}return S(W,[{key:"hide",value:function(){this.isVisible()&&(this.hideSubmenus(),this.style.display="none")}},{key:"display",value:function(){this.style.display="block"}},{key:"isVisible",value:function(){return this.style.display!=="none"}},{key:"hideMenuItems",value:function(){var $,Y=y(this.children);try{for(Y.s();!($=Y.n()).done;){var Z=$.value;Z instanceof HTMLElement?Z.style.display="none":console.warn("".concat(Z," is not a HTMLElement"))}}catch(ee){Y.e(ee)}finally{Y.f()}}},{key:"hideSubmenus",value:function(){var $,Y=y(this.children);try{for(Y.s();!($=Y.n()).done;){var Z=$.value;Z instanceof q&&Z.submenu&&Z.submenu.hide()}}catch(ee){Y.e(ee)}finally{Y.f()}}},{key:"appendMenuItem",value:function($){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(Y!==void 0){if(Y.parentNode!==this)throw new Error("The item with id='".concat(Y.id,"' is not a child of the context menu"));this.insertBefore($,Y)}else this.appendChild($);$.isClickable()&&this._performBindings($)}},{key:"moveBefore",value:function($,Y){if($.parentNode!==this)throw new Error("The item with id='".concat($.id,"' is not a child of context menu"));if(Y.parentNode!==this)throw new Error("The item with id='".concat(Y.id,"' is not a child of context menu"));this.removeChild($),this.insertBefore($,Y)}},{key:"removeAllMenuItems",value:function(){for(;this.firstChild;){var $=this.lastChild;$ instanceof q?this._removeImmediateMenuItem($):(console.warn("Found non menu item in the context menu: ",$),this.removeChild($))}}},{key:"_removeImmediateMenuItem",value:function($){if(!this._detachImmediateMenuItem($))throw new Error("menu item(id=".concat($.id,") is not in the context menu"));$.detachSubmenu(),$.unbindOnClickFunctions()}},{key:"_detachImmediateMenuItem",value:function($){if($.parentNode===this){if(this.removeChild($),this.children.length<=0){var Y=this.parentNode;Y instanceof q&&Y.detachSubmenu()}return!0}return!1}},{key:"_performBindings",value:function($){var Y=this._bindOnClick($.onClickFunction);$.bindOnClickFunction(Y),$.bindOnClickFunction(this.onMenuItemClick)}},{key:"_bindOnClick",value:function($){var Y=this;return function(){var Z=Y.scratchpad.currentCyEvent;$(Z)}}}],[{key:"define",value:function(){d("menu-item-list",W,"div")}}]),W}(k(HTMLDivElement)),U=function(j){x(W,j);var F=A(W);function W($,Y){var Z;return b(this,W),(Z=F.call(this,$,Y)).onMenuItemClick=function(ee){R(ee),Z.hide(),$()},Z}return S(W,[{key:"removeMenuItem",value:function($){var Y=$.parentElement;Y instanceof H&&this.contains(Y)&&Y._removeImmediateMenuItem($)}},{key:"appendMenuItem",value:function($){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this.ensureDoesntContain($.id),P(z(W.prototype),"appendMenuItem",this).call(this,$,Y)}},{key:"insertMenuItem",value:function($){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=Y.before,ee=Y.parent;if(this.ensureDoesntContain($.id),Z!==void 0){if(!this.contains(Z))throw new Error("before(id=".concat(Z.id,") is not in the context menu"));var G=Z.parentNode;if(!(G instanceof H))throw new Error("Parent of before(id=".concat(Z.id,") is not a submenu"));G.appendMenuItem($,Z)}else if(ee!==void 0){if(!this.contains(ee))throw new Error("parent(id=".concat(ee.id,") is not a descendant of the context menu"));ee.appendSubmenuItem($)}else this.appendMenuItem($)}},{key:"moveBefore",value:function($,Y){var Z=$.parentElement;if(!this.contains(Z))throw new Error("parent(id=".concat(Z.id,") is not in the contex menu"));if(!this.contains(Y))throw new Error("before(id=".concat(Y.id,") is not in the context menu"));Z.removeChild($),this.insertMenuItem($,{before:Y})}},{key:"moveToSubmenu",value:function($){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ee=$.parentElement;if(!(ee instanceof H))throw new Error("current parent(id=".concat(ee.id,") is not a submenu"));if(!this.contains(ee))throw new Error("parent of the menu item(id=".concat(ee.id,") is not in the context menu"));if(Y!==null){if(!this.contains(Y))throw new Error("parent(id=".concat(Y.id,") is not in the context menu"));ee._detachImmediateMenuItem($),Y.appendSubmenuItem($)}else Z!==null&&($.selector=Z.selector,$.coreAsWell=Z.coreAsWell),ee._detachImmediateMenuItem($),this.appendMenuItem($)}},{key:"ensureDoesntContain",value:function($){var Y=document.getElementById($);if(Y!==void 0&&this.contains(Y))throw new Error("There is already an element with id=".concat($," in the context menu"))}}],[{key:"define",value:function(){d("ctx-menu",W,"div")}}]),W}(H);function X(j,F){(F==null||F>j.length)&&(F=j.length);for(var W=0,$=new Array(F);W<F;W++)$[W]=j[W];return $}function re(j){var F=this;F.scratch("cycontextmenus")||F.scratch("cycontextmenus",{});var W,$,Y=function(xe){return F.scratch("cycontextmenus")[xe]},Z=function(xe,fe){return F.scratch("cycontextmenus")[xe]=fe},ee=Y("options"),G=Y("cxtMenu"),ie=function(xe){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,le=ce(xe);if(fe!==void 0){var Ae=Ne(fe);G.insertMenuItem(le,{parent:Ae})}else G.insertMenuItem(le)},pe=function(xe){for(var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,le=0;le<xe.length;le++)ie(xe[le],fe)},ce=function(xe){var fe=F.scratch("cycontextmenus");return new q(xe,G.onMenuItemClick,fe)},Se=function(){Y("active")&&(G.removeAllMenuItems(),F.off("tapstart",Y("eventCyTapStart")),F.off(ee.evtType,Y("onCxttap")),F.off("viewport",Y("onViewport")),document.removeEventListener("mouseup",Y("hideOnNonCyClick")),G.parentNode.removeChild(G),G=void 0,Z("cxtMenu",void 0),Z("active",!1),Z("anyVisibleChild",!1),Z("onCxttap",void 0),Z("onViewport",void 0),Z("hideOnNonCyClick",void 0))},Ne=function(xe){var fe=document.getElementById(xe);if(fe instanceof q)return fe;throw new Error("The item with id=".concat(xe," is not a menu item"))};if(j!=="get"){q.define(),H.define(),U.define(),ee=function(xe,fe){var le={};for(var Ae in xe)le[Ae]=xe[Ae];for(var Le in fe)le[Le]instanceof Array?le[Le]=le[Le].concat(fe[Le]):le[Le]=fe[Le];return le}(m,j),Z("options",ee),Y("active")&&Se(),Z("active",!0),Z("submenuIndicatorGen",(function(xe){var fe=document.createElement("img");return fe.src=xe.src,fe.width=xe.width,fe.height=xe.height,fe.classList.add("cy-context-menus-submenu-indicator"),fe}).bind(void 0,ee.submenuIndicator));var qe=u(ee.contextMenuClasses);Z("cxtMenuClasses",qe);var ke=F.scratch("cycontextmenus");G=new U(function(){return Z("cxtMenuPosition",void 0)},ke),Z("cxtMenu",G),F.container().appendChild(G),Z("cxtMenuItemClasses",u(ee.menuItemClasses));var Ee=ee.menuItems;pe(Ee),$=function(xe){Z("currentCyEvent",xe),function(Me){var me,L=F.container(),ne=Y("cxtMenuPosition"),ye=Me.position||Me.cyPosition;if(ne!=ye){G.hideMenuItems(),Z("anyVisibleChild",!1),Z("cxtMenuPosition",ye);var he={top:(me=L.getBoundingClientRect()).top,left:me.left},de=Me.renderedPosition||Me.cyRenderedPosition,Ye=getComputedStyle(L)["border-width"],ge=parseInt(Ye.replace("px",""))||0;ge>0&&(he.top+=ge,he.left+=ge);var ze=L.clientHeight,Ke=L.clientWidth,ae=ze/2,Ce=Ke/2;de.y>ae&&de.x<=Ce?(G.style.left=de.x+"px",G.style.bottom=ze-de.y+"px",G.style.right="auto",G.style.top="auto"):de.y>ae&&de.x>Ce?(G.style.right=Ke-de.x+"px",G.style.bottom=ze-de.y+"px",G.style.left="auto",G.style.top="auto"):de.y<=ae&&de.x<=Ce?(G.style.left=de.x+"px",G.style.top=de.y+"px",G.style.right="auto",G.style.bottom="auto"):(G.style.right=Ke-de.x+"px",G.style.top=de.y+"px",G.style.left="auto",G.style.bottom="auto")}}(xe);var fe,le=xe.target||xe.cyTarget,Ae=function(Me,me){var L;if(typeof Symbol>"u"||Me[Symbol.iterator]==null){if(Array.isArray(Me)||(L=function(ge,ze){if(ge){if(typeof ge=="string")return X(ge,ze);var Ke=Object.prototype.toString.call(ge).slice(8,-1);return Ke==="Object"&&ge.constructor&&(Ke=ge.constructor.name),Ke==="Map"||Ke==="Set"?Array.from(ge):Ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ke)?X(ge,ze):void 0}}(Me))||me&&Me&&typeof Me.length=="number"){L&&(Me=L);var ne=0,ye=function(){};return{s:ye,n:function(){return ne>=Me.length?{done:!0}:{done:!1,value:Me[ne++]}},e:function(ge){throw ge},f:ye}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var he,de=!0,Ye=!1;return{s:function(){L=Me[Symbol.iterator]()},n:function(){var ge=L.next();return de=ge.done,ge},e:function(ge){Ye=!0,he=ge},f:function(){try{de||L.return==null||L.return()}finally{if(Ye)throw he}}}}(G.children);try{for(Ae.s();!(fe=Ae.n()).done;){var Le=fe.value;Le instanceof q&&(le===F?Le.coreAsWell:le.is(Le.selector))&&Le.show&&(G.display(),Z("anyVisibleChild",!0),Le.display())}}catch(Me){Ae.e(Me)}finally{Ae.f()}var Ge=Array.from(G.children).filter(function(Me){if(Me instanceof q)return Me.isVisible()}),Re=Ge.length;Ge.forEach(function(Me,me){Me instanceof q&&(me<Re-1&&Me.getHasTrailingDivider()?Me.classList.add(p):Me.getHasTrailingDivider()&&Me.classList.remove(p))}),!Y("anyVisibleChild")&&!function(Me){return Me.offsetWidth<=0&&Me.offsetHeight<=0||Me.style&&Me.style.display||getComputedStyle(Me).display}(G)&&G.hide()},F.on(ee.evtType,$),Z("onCxttap",$),function(){var xe=function(le){if(G.contains(le.originalEvent.target))return!1;G.hide(),Z("cxtMenuPosition",void 0),Z("currentCyEvent",void 0)};F.on("tapstart",xe),Z("eventCyTapStart",xe);var fe=function(){G.hide()};F.on("viewport",fe),Z("onViewport",fe)}(),W=function(xe){F.container().contains(xe.target)||G.contains(xe.target)||(G.hide(),Z("cxtMenuPosition",void 0))},document.addEventListener("mouseup",W),Z("hideOnNonCyClick",W),function(){var xe,fe=function(le,Ae){var Le;if(typeof Symbol>"u"||le[Symbol.iterator]==null){if(Array.isArray(le)||(Le=function(ne,ye){if(ne){if(typeof ne=="string")return l(ne,ye);var he=Object.prototype.toString.call(ne).slice(8,-1);return he==="Object"&&ne.constructor&&(he=ne.constructor.name),he==="Map"||he==="Set"?Array.from(ne):he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he)?l(ne,ye):void 0}}(le))||Ae&&le&&typeof le.length=="number"){Le&&(le=Le);var Ge=0,Re=function(){};return{s:Re,n:function(){return Ge>=le.length?{done:!0}:{done:!1,value:le[Ge++]}},e:function(ne){throw ne},f:Re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Me,me=!0,L=!1;return{s:function(){Le=le[Symbol.iterator]()},n:function(){var ne=Le.next();return me=ne.done,ne},e:function(ne){L=!0,Me=ne},f:function(){try{me||Le.return==null||Le.return()}finally{if(L)throw Me}}}}(document.getElementsByClassName("cy-context-menus-cxt-menu"));try{for(fe.s();!(xe=fe.n()).done;)xe.value.addEventListener("contextmenu",function(le){return le.preventDefault()})}catch(le){fe.e(le)}finally{fe.f()}}()}return function(xe){return{isActive:function(){return Y("active")},appendMenuItem:function(fe){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return ie(fe,le),xe},appendMenuItems:function(fe){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return pe(fe,le),xe},removeMenuItem:function(fe){var le=Ne(fe);return G.removeMenuItem(le),xe},setTrailingDivider:function(fe,le){var Ae=Ne(fe);return Ae.setHasTrailingDivider(le),le?Ae.classList.add(p):Ae.classList.remove(p),xe},insertBeforeMenuItem:function(fe,le){var Ae=ce(fe),Le=Ne(le);return G.insertMenuItem(Ae,{before:Le}),xe},moveToSubmenu:function(fe){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ae=Ne(fe);if(le===null)G.moveToSubmenu(Ae);else if(typeof le=="string"){var Le=Ne(le.toString());G.moveToSubmenu(Ae,Le)}else le.coreAsWell!==void 0||le.selector!==void 0?G.moveToSubmenu(Ae,null,le):console.warn("options neither has coreAsWell nor selector property but it is an object. Are you sure that this is what you want to do?");return xe},moveBeforeOtherMenuItem:function(fe,le){var Ae=Ne(fe),Le=Ne(le);return G.moveBefore(Ae,Le),xe},disableMenuItem:function(fe){return Ne(fe).disable(),xe},enableMenuItem:function(fe){return Ne(fe).enable(),xe},hideMenuItem:function(fe){return Ne(fe).hide(),xe},showMenuItem:function(fe){return Ne(fe).display(),xe},destroy:function(){return Se(),xe}}}(this)}},579:(a,o,s)=>{var l=s(621).contextMenus,u=function(c){c&&c("core","contextMenus",l)};typeof cytoscape<"u"&&u(cytoscape),a.exports=u}},n={};function i(a){var o=n[a];if(o!==void 0)return o.exports;var s=n[a]={exports:{}};return r[a](s,s.exports,i),s.exports}return i.d=(a,o)=>{for(var s in o)i.o(o,s)&&!i.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:o[s]})},i.o=(a,o)=>Object.prototype.hasOwnProperty.call(a,o),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i(579)})()})})(Xv);var Rk=Xv.exports;const zk=qn(Rk);Rs.use(zk);const Ol={menuItems:[],evtType:"cxttap"};class Hn{constructor(e,r){Et(this,"graph");this.graph=e,_e.debug("Register Context Menu."),Ol.menuItems=r,Ol.menuItems.forEach(n=>Hn.addTooltip(n)),e.cy.contextMenus(Ol)}static logWrap(e,r){if(!e.onClickFunction||e.onClickFunction.wrapped)return;const n=e.onClickFunction;e.onClickFunction=i=>{_e.debug("Context Menu: Operation "+e.content+" on "+r(i)),n(i)},e.onClickFunction.wrapped=!0}static ontoWikiUrl(e){return"https://www.snik.eu/ontowiki/view/?r="+e+"&m="+Xp(e)}static addTooltip(e){(e.submenu??[]).forEach(Hn.addTooltip),e.tooltipText=ms[e.id]||ms[e.id.replace("edge-","")]}}let Fk=0;async function $k(t,e){const r={R:["meta:Role","meta:Function","meta:EntityType"],F:["meta:Function","meta:Role","meta:EntityType"],E:["meta:EntityType","meta:Function","meta:Role"]};if(!(e in r)){_e.error("Unknown subtop '"+e+"'. Cannot display class use.");return}const[n,i,a]=r[e],o=`select distinct ?inner ?middle ?outer ?outerx
    {
      <${t}> (rdfs:subClassOf|skos:closeMatch|^skos:closeMatch)* ?inner.
      ?inner rdf:type ${n}.
      OPTIONAL
      {
        ?inner ?p ?middle.
        ?middle rdf:type ${i}.
        OPTIONAL
        {
          ?middle ?q ?outer.
          ?outer rdf:type ${a}.
          OPTIONAL {?outer (skos:closeMatch|^skos:closeMatch|^rdfs:subClassOf)+ ?outerx.}
        }
      }
    }`,s=await bn(o),[l,u,c,d]=[...new Array(4)].map(()=>new Set);for(let x=0;x<s.length;x++)l.add(s[x].inner.value),s[x].middle&&u.add(s[x].middle.value),s[x].outer&&c.add(s[x].outer.value),s[x].outerx&&d.add(s[x].outerx.value);if(u.size===0){_e.warn("Class "+t+" is not used.");return}const m=document.getElementById("combineMatchModeBox").checked;m&&We.mainView.state.graph.combineMatch(!1);const h=new We(!0,"Class Use "+ ++Fk+" "+Bi(t));await h.initialized;const y=h.state.graph;y.cy.startBatch(),y.resetStyle(),St.setVisible(y.cy.elements(),!1),y.starMode=!0;const w=new Set([...l,...u,...c,...d]),b=y.cy.collection(`node[id='${t}']`);for(const x of w){const A=y.cy.nodes(`node[id='${x}']`);b.merge(A)}const E=b.merge(b.edgesWith(b));b.layout({name:"concentric",fit:!0,levelWidth:function(){return 1},minNodeSpacing:20,concentric:function(x){const A=x.data(Ue.ID);return A===t?10:l.has(A)?9:u.has(A)?8:c.has(A)?7:d.has(A)?6:10}}).run(),St.setVisible(E,!0),m&&[We.mainView,h].forEach(x=>x.state.graph.combineMatch(!0));const S=y.cy.nodes(`node[id='${t}']`);y.cy.center(S),y.cy.fit(b),y.cy.endBatch()}const dd=t=>e=>t(e.target);function Hk(t){return[{content:"compound",id:"compound",selector:"node:compound",submenu:[{content:"open",id:"open",onClickFunction:e=>{e.target.children().move({event:null}),t.cy.remove(e.target)}},{content:"move matches on top of each other",id:"move-match-on-top",onClickFunction:e=>t.moveNodes(e.target.children(),0)},{content:"move matches nearby",id:"move-match-nearby",onClickFunction:e=>t.moveNodes(e.target.children(),100)},{content:"star",id:"compound-star",onClickFunction:e=>t.multiplex(t.showStar,e.target.children(),!0)()},{content:"incoming star",id:"compound-incoming-star",onClickFunction:e=>t.multiplex(r=>t.showStar(r,!1,ii.IN),e.target.children(),!0)()},{content:"outgoing star",id:"compound-outgoing-star",onClickFunction:e=>t.multiplex(r=>t.showStar(r,!1,ii.OUT),e.target.children(),!0)()},{content:"set as path source",id:"compound-path-source",onClickFunction:e=>{t.setSource(e.target.children()[0])}}]},{content:"edit/report",id:"edit",selector:"node",onClickFunction:e=>{const r=e.target,n=`Problem with the class [${Bi(r.data(Ue.ID))}](${r.data(Ue.ID)}) ([OntoWiki URL](${Hn.ontoWikiUrl(r.data(Ue.ID))})):

`;Aa(Uo,r.data(Ue.ID),n)}},{content:"class use",id:"class-use",selector:"node",onClickFunction:e=>{const r=e.target;$k(r.data(Ue.ID),r.data(Ue.SUBTOP))}},{content:"hide",id:"hide",selector:"node",onClickFunction:dd(t.multiplex(e=>St.setVisible(e,!1)))},{content:"set as path source",id:"set-path-source",selector:"node",onClickFunction:e=>{t.setSource(e.target)}},{content:"description",id:"description",selector:"node",onClickFunction:e=>{window.open(e.target.data(Ue.ID))}},{content:"star",id:"star",selector:"node",onClickFunction:async e=>{(await t.showStarMultiplexedNew(!1,ii.BOTH))(e.target)}},{content:"incoming star",id:"incoming-star",selector:"node",onClickFunction:async e=>{(await t.showStarMultiplexedNew(!1,ii.IN))(e.target)}},{content:"outgoing star",id:"outgoing-star",selector:"node",onClickFunction:async e=>{(await t.showStarMultiplexedNew(!1,ii.OUT))(e.target)}},{content:"path",id:"path",selector:"node",onClickFunction:e=>t.multiplex(t.showPath(e.target))(t.getSource())},{content:"spiderworm",id:"spiderworm",selector:"node",onClickFunction:e=>t.showWorm(t.getSource(),e.target)},{content:"developer",id:"dev",selector:"node",submenu:[{content:"remove permanently",id:"remove-permanently",selector:"node",onClickFunction:e=>t.createRemoveIssue(e.target)},{content:"OntoWiki",id:"ontowiki",selector:"node",onClickFunction:e=>window.open(Hn.ontoWikiUrl(e.target.data(Ue.ID)))},{content:"debug",id:"debug",selector:"node",onClickFunction:e=>alert(JSON.stringify(e.target.data(),null,2))}]},{content:"extended",id:"ext",selector:"node",submenu:[{content:"doublestar",id:"doublestar",selector:"node",onClickFunction:e=>t.multiplex(t.showDoubleStar)(e.target)},{content:"starpath",id:"starpath",selector:"node",onClickFunction:e=>t.multiplex(t.showPath(e.target,!0))(t.getSource())},{content:"circle star",id:"circlestar",selector:"node",onClickFunction:async e=>{(await t.showStarMultiplexedNew(!0,ii.BOTH,!0))(e.target)}},{content:"LodLive",id:"lodlive",selector:"node",onClickFunction:e=>{window.open("http://en.lodlive.it/?"+e.target.data(Ue.ID))}},{content:"move all selected here",id:"move-selected",selector:"node",onClickFunction:e=>{t.cy.nodes(":selected").positions(()=>e.target.position())}},{content:"close matches",id:"close-match",selector:"node",onClickFunction:dd(t.multiplex(t.showCloseMatch,void 0,!0))},{content:"show instances",id:"show-instances",onClickFunction:async e=>{const n=e.target.data(Ue.ID),i=`SELECT ?i STR(SAMPLE(?label)) AS ?l {
        ?i a <${n}>
        OPTIONAL {?i rdfs:label ?label. FILTER(LANGMATCHES(LANG(?label),"${gd()}"))}
        }`;let o=(await bn(i)).map(s=>s.i.value+" "+(s.l?s.l.value:"")).reduce((s,l)=>s+`
`+l,"");o===""&&(o=`Class ${n} does not have any instances.`),alert(o)}}]}]}function Di(t){return Bi(t.data(st.SOURCE))+" "+Bi(t.data(st.PROPERTY))+" "+Bi(t.data(st.TARGET))}function qk(t){return[{content:"edit / report",id:"edge-edit",selector:"edge",onClickFunction:r=>{const n=r.target,i=`Problem with the edge [${Di(n)}](${n.data(st.SOURCE)}) ([OntoWiki URL](${Hn.ontoWikiUrl(n.data(st.SOURCE))})):

`;Aa(Uo,Di(n),i)}},{content:"hide",id:"edge-hide",selector:"edge",onClickFunction:r=>St.setVisible(r.target,!1)},{content:"description (if it exists)",id:"edge-description",selector:"edge",onClickFunction:r=>{const n=r.target;n.data(st.AXIOM)?window.open(n.data(st.AXIOM)):_e.warn("There is no description for this edge.")}},{content:"confirm link",id:"edge-confirm-link",selector:"edge",onClickFunction:r=>{const n=r.target;n.data(st.GRAPH,"http://www.snik.eu/ontology/match");const i=`Please confirm the automatic interlink ${Di(n)}:
					\`\`\`

					sparql
					DELETE DATA FROM <http://www.snik.eu/ontology/limes-exact>
					{<${n.data(st.SOURCE)}> <${n.data(st.PROPERTY)}> <${n.data(st.TARGET)}>.}
					INSERT DATA INTO <http://www.snik.eu/ontology/match>
					{<${n.data(st.SOURCE)}> <${n.data(st.PROPERTY)}> <${n.data(st.TARGET)}>.}
					
\`\`\`
					Undo with
					\`\`\`

					sparql
					DELETE DATA FROM <http://www.snik.eu/ontology/match>
					{<${n.data(st.SOURCE)}> <${n.data(st.PROPERTY)}> <${n.data(st.TARGET)}>.}
					INSERT DATA INTO <http://www.snik.eu/ontology/limes-exact>
					{<${n.data(st.SOURCE)}> <${n.data(st.PROPERTY)}> <${n.data(st.TARGET)}>.}
					
\`\`\`
					${Rl.SPARUL_WARNING}`;Aa(Uo,Di(n),i)}},{content:"developer",id:"edge-dev",selector:"edge",submenu:[{content:"remove permanently",id:"remove-permanently",onClickFunction:r=>{const n=r.target;t.cy.remove(n);const i=`Please permanently delete the edge ${Di(n)}:
					\`\`\`

					sparql
					DELETE DATA FROM <${es(n.data(st.SOURCE))}>
					{<${n.data(st.SOURCE)}> <${n.data(st.PROPERTY)}> <${n.data(st.TARGET)}>.}
					
\`\`\`
					Undo with
					\`\`\`

					sparql
					INSERT DATA INTO <${es(n.data(st.SOURCE))}>
					{<${n.data(st.SOURCE)}> <${n.data(st.PROPERTY)}> <${n.data(st.TARGET)}>.}
					
\`\`\`
					${Rl.SPARUL_WARNING}`;Aa(Uo,Di(n),i)}},{content:"OntoWiki",id:"edge-ontowiki",onClickFunction:r=>{window.open(Hn.ontoWikiUrl(r.target.data(st.SOURCE)))}},{content:"debug",id:"edge-debug",onClickFunction:r=>{alert(JSON.stringify(r.target.data(),null,2))}}]}]}var Qv={exports:{}};(function(t,e){(function(r){var n={config:{},container:{},controls:{},errors:{},items:{},utils:{}};n.utils.F=function(){},n.utils.extend=function(i,a){i.prototype=n.utils.createObject(a.prototype),i.prototype.contructor=i},n.utils.createObject=function(i){return typeof Object.create=="function"?Object.create(i):(n.utils.F.prototype=i,new n.utils.F)},n.utils.objectKeys=function(i){var a,o;if(typeof Object.keys=="function")return Object.keys(i);a=[];for(o in i)a.push(o);return a},n.utils.getHashValue=function(i){var a=location.hash.match(new RegExp(i+"=([^&]*)"));return a?a[1]:null},n.utils.getQueryStringParam=function(i){if(window.location.hash)return n.utils.getHashValue(i);if(!window.location.search)return null;var a=window.location.search.substr(1).split("&"),o={},s,l;for(l=0;l<a.length;l++)s=a[l].split("="),o[s[0]]=s[1];return o[i]||null},n.utils.copy=function(i,a){for(var o in a)i[o]=a[o];return i},n.utils.animFrame=function(i){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)})(function(){i()})},n.utils.indexOf=function(i,a){if(!(a instanceof Array))throw new Error("Haystack is not an Array");if(a.indexOf)return a.indexOf(i);for(var o=0;o<a.length;o++)if(a[o]===i)return o;return-1},typeof/./!="function"&&typeof Int8Array!="object"?n.utils.isFunction=function(i){return typeof i=="function"||!1}:n.utils.isFunction=function(i){return toString.call(i)==="[object Function]"},n.utils.fnBind=function(i,a,o){if(Function.prototype.bind!==void 0)return Function.prototype.bind.apply(i,[a].concat(o||[]));var s=function(){var l=(o||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof s))return i.apply(a,l);i.apply(this,l)};return s.prototype=i.prototype,s},n.utils.removeFromArray=function(i,a){var o=n.utils.indexOf(i,a);if(o===-1)throw new Error("Can't remove item from array. Item is not in the array");a.splice(o,1)},n.utils.now=function(){return typeof Date.now=="function"?Date.now():new Date().getTime()},n.utils.getUniqueId=function(){return(Math.random()*1e15).toString(36).replace(".","")},n.utils.filterXss=function(i,a){var o=i.replace(/javascript/gi,"j&#97;vascript").replace(/expression/gi,"expr&#101;ssion").replace(/onload/gi,"onlo&#97;d").replace(/script/gi,"&#115;cript").replace(/onerror/gi,"on&#101;rror");return a===!0?o:o.replace(/>/g,"&gt;").replace(/</g,"&lt;")},n.utils.stripTags=function(i){return r.trim(i.replace(/(<([^>]+)>)/ig,""))},n.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT]=[],this.on=function(i,a,o){if(!n.utils.isFunction(a))throw new Error("Tried to listen to event "+i+" with non-function callback "+a);this._mSubscriptions[i]||(this._mSubscriptions[i]=[]),this._mSubscriptions[i].push({fn:a,ctx:o})},this.emit=function(i){var a,o,s;s=Array.prototype.slice.call(arguments,1);var l=this._mSubscriptions[i];if(l)for(l=l.slice(),a=0;a<l.length;a++)o=l[a].ctx||{},l[a].fn.apply(o,s);s.unshift(i);var u=this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT].slice();for(a=0;a<u.length;a++)o=u[a].ctx||{},u[a].fn.apply(o,s)},this.unbind=function(i,a,o){if(!this._mSubscriptions[i])throw new Error("No subscribtions to unsubscribe for event "+i);var s,l=!1;for(s=0;s<this._mSubscriptions[i].length;s++)(!a||this._mSubscriptions[i][s].fn===a)&&(!o||o===this._mSubscriptions[i][s].ctx)&&(this._mSubscriptions[i].splice(s,1),l=!0);if(l===!1)throw new Error("Nothing to unbind for "+i)},this.off=this.unbind,this.trigger=this.emit},n.utils.EventEmitter.ALL_EVENT="__all",n.utils.DragListener=function(i,a){n.utils.EventEmitter.call(this),this._eElement=r(i),this._oDocument=r(document),this._eBody=r(document.body),this._nButtonCode=a||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=n.utils.fnBind(this.onMouseMove,this),this._fUp=n.utils.fnBind(this.onMouseUp,this),this._fDown=n.utils.fnBind(this.onMouseDown,this),this._eElement.on("mousedown touchstart",this._fDown)},n.utils.DragListener.timeout=null,n.utils.copy(n.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind("mousedown touchstart",this._fDown),this._oDocument.unbind("mouseup touchend",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(i){if(i.preventDefault(),i.button==0||i.type==="touchstart"){var a=this._getCoordinates(i);this._nOriginalX=a.x,this._nOriginalY=a.y,this._oDocument.on("mousemove touchmove",this._fMove),this._oDocument.one("mouseup touchend",this._fUp),this._timeout=setTimeout(n.utils.fnBind(this._startDrag,this),this._nDelay)}},onMouseMove:function(i){if(this._timeout!=null){i.preventDefault();var a=this._getCoordinates(i);this._nX=a.x-this._nOriginalX,this._nY=a.y-this._nOriginalY,this._bDragging===!1&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag()),this._bDragging&&this.emit("drag",this._nX,this._nY,i)}},onMouseUp:function(i){this._timeout!=null&&(clearTimeout(this._timeout),this._eBody.removeClass("lm_dragging"),this._eElement.removeClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events",""),this._oDocument.unbind("mousemove touchmove",this._fMove),this._oDocument.unbind("mouseup touchend",this._fUp),this._bDragging===!0&&(this._bDragging=!1,this.emit("dragStop",i,this._nOriginalX+this._nX)))},_startDrag:function(){this._bDragging=!0,this._eBody.addClass("lm_dragging"),this._eElement.addClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events","none"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)},_getCoordinates:function(i){return i=i.originalEvent&&i.originalEvent.touches?i.originalEvent.touches[0]:i,{x:i.pageX,y:i.pageY}}}),n.LayoutManager=function(i,a){if(!r||typeof r.noConflict!="function"){var o="jQuery is missing as dependency for GoldenLayout. ";throw o+=`Please either expose $ on GoldenLayout's scope (e.g. window) or add "jquery" to `,o+="your paths when using RequireJS/AMD",new Error(o)}n.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={"lm-react-component":n.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=n.utils.fnBind(this._onResize,this),this._unloadFunction=n.utils.fnBind(this._onUnload,this),this._maximisedItem=null,this._maximisePlaceholder=r('<div class="lm_maximise_place"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new n.utils.EventHub(this),this.config=this._createConfig(i),this.container=a,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=r('<div class="lm_drop_tab_placeholder"></div>'),this.isSubWindow===!0&&r("body").css("visibility","hidden"),this._typeToItem={column:n.utils.fnBind(n.items.RowOrColumn,this,[!0]),row:n.utils.fnBind(n.items.RowOrColumn,this,[!1]),stack:n.items.Stack,component:n.items.Component}},n.LayoutManager.__lm=n,n.LayoutManager.minifyConfig=function(i){return new n.utils.ConfigMinifier().minifyConfig(i)},n.LayoutManager.unminifyConfig=function(i){return new n.utils.ConfigMinifier().unminifyConfig(i)},n.utils.copy(n.LayoutManager.prototype,{registerComponent:function(i,a){if(typeof a!="function")throw new Error("Please register a constructor function");if(this._components[i]!==void 0)throw new Error("Component "+i+" is already registered");this._components[i]=a},toConfig:function(i){var a,o,s;if(this.isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");if(i&&!(i instanceof n.items.AbstractContentItem))throw new Error("Root must be a ContentItem");for(a={settings:n.utils.copy({},this.config.settings),dimensions:n.utils.copy({},this.config.dimensions),labels:n.utils.copy({},this.config.labels)},a.content=[],o=function(l,u){var c,d;for(c in u.config)c!=="content"&&(l[c]=u.config[c]);if(u.contentItems.length)for(l.content=[],d=0;d<u.contentItems.length;d++)l.content[d]={},o(l.content[d],u.contentItems[d])},i?o(a,{contentItems:[i]}):o(a,this.root),this._$reconcilePopoutWindows(),a.openPopouts=[],s=0;s<this.openPopouts.length;s++)a.openPopouts.push(this.openPopouts[s].toConfig());return a.maximisedItemId=this._maximisedItem?"__glMaximised":null,a},getComponent:function(i){if(this._components[i]===void 0)throw new n.errors.ConfigurationError('Unknown component "'+i+'"');return this._components[i]},init:function(){if(this._subWindowsCreated===!1&&(this._createSubWindows(),this._subWindowsCreated=!0),document.readyState==="loading"||document.body===null){r(document).ready(n.utils.fnBind(this.init,this));return}if(this.isSubWindow===!0&&this._creationTimeoutPassed===!1){setTimeout(n.utils.fnBind(this.init,this),7),this._creationTimeoutPassed=!0;return}this.isSubWindow===!0&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new n.controls.DropTargetIndicator(this.container),this.transitionIndicator=new n.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit("initialised")},updateSize:function(i,a){arguments.length===2?(this.width=i,this.height=a):(this.width=this.container.width(),this.height=this.container.height()),this.isInitialised===!0&&(this.root.callDownwards("setSize",[this.width,this.height]),this._maximisedItem&&(this._maximisedItem.element.width(this.container.width()),this._maximisedItem.element.height(this.container.height()),this._maximisedItem.callDownwards("setSize")),this._adjustColumnsResponsive())},destroy:function(){this.isInitialised!==!1&&(this._onUnload(),r(window).off("resize",this._resizeFunction),r(window).off("unload beforeunload",this._unloadFunction),this.root.callDownwards("_$destroy",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach(function(i){i._dragListener.destroy(),i._element=null,i._itemConfig=null,i._dragListener=null}),this._dragSources=[])},createContentItem:function(i,a){var o,s;if(typeof i.type!="string")throw new n.errors.ConfigurationError("Missing parameter 'type'",i);if(i.type==="react-component"&&(i.type="component",i.componentName="lm-react-component"),!this._typeToItem[i.type])throw o="Unknown type '"+i.type+"'. Valid types are "+n.utils.objectKeys(this._typeToItem).join(","),new n.errors.ConfigurationError(o);return i.type==="component"&&!(a instanceof n.items.Stack)&&a&&!(this.isSubWindow===!0&&a instanceof n.items.Root)&&(i={type:"stack",width:i.width,height:i.height,content:[i]}),s=new this._typeToItem[i.type](this,i,a),s},createPopout:function(i,a,o,s){var l=i,u=i instanceof n.items.AbstractContentItem,c=this,d,p,m,h,y,w;if(o=o||null,u){for(l=this.toConfig(i).content,o=n.utils.getUniqueId(),h=i.parent,y=i;h.contentItems.length===1&&!h.isRoot;)h=h.parent,y=y.parent;h.addId(o),isNaN(s)&&(s=n.utils.indexOf(y,h.contentItems))}else l instanceof Array||(l=[l]);return!a&&u&&(d=window.screenX||window.screenLeft,p=window.screenY||window.screenTop,m=i.element.offset(),a={left:d+m.left,top:p+m.top,width:i.element.width(),height:i.element.height()}),!a&&!u&&(a={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&i.remove(),w=new n.controls.BrowserPopout(l,a,o,s,this),w.on("initialised",function(){c.emit("windowOpened",w)}),w.on("closed",function(){c._$reconcilePopoutWindows()}),this.openPopouts.push(w),w},createDragSource:function(i,a){this.config.settings.constrainDragToContainer=!1;var o=new n.controls.DragSource(r(i),a,this);return this._dragSources.push(o),o},selectItem:function(i,a){if(this.config.settings.selectionEnabled!==!0)throw new Error("Please set selectionEnabled to true to use this feature");i!==this.selectedItem&&(this.selectedItem!==null&&this.selectedItem.deselect(),i&&a!==!0&&i.select(),this.selectedItem=i,this.emit("selectionChanged",i))},_$maximiseItem:function(i){this._maximisedItem!==null&&this._$minimiseItem(this._maximisedItem),this._maximisedItem=i,this._maximisedItem.addId("__glMaximised"),i.element.addClass("lm_maximised"),i.element.after(this._maximisePlaceholder),this.root.element.prepend(i.element),i.element.width(this.container.width()),i.element.height(this.container.height()),i.callDownwards("setSize"),this._maximisedItem.emit("maximised"),this.emit("stateChanged")},_$minimiseItem:function(i){i.element.removeClass("lm_maximised"),i.removeId("__glMaximised"),this._maximisePlaceholder.after(i.element),this._maximisePlaceholder.remove(),i.parent.callDownwards("setSize"),this._maximisedItem=null,i.emit("minimised"),this.emit("stateChanged")},_$closeWindow:function(){window.setTimeout(function(){window.close()},1)},_$getArea:function(i,a){var o,s,l=1/0,u=null;for(o=0;o<this._itemAreas.length;o++)s=this._itemAreas[o],i>s.x1&&i<s.x2&&a>s.y1&&a<s.y2&&l>s.surface&&(l=s.surface,u=s);return u},_$createRootItemAreas:function(){var i=50,a={y2:0,x2:0,y1:"y2",x1:"x2"};for(var o in a){var s=this.root._$getArea();s.side=o,a[o]?s[o]=s[a[o]]-i:s[o]=i,s.surface=(s.x2-s.x1)*(s.y2-s.y1),this._itemAreas.push(s)}},_$calculateItemAreas:function(){var i,a,o=this._getAllContentItems();if(this._itemAreas=[],o.length===1){this._itemAreas.push(this.root._$getArea());return}for(this._$createRootItemAreas(),i=0;i<o.length;i++)if(o[i].isStack&&(a=o[i]._$getArea(),a!==null))if(a instanceof Array)this._itemAreas=this._itemAreas.concat(a);else{this._itemAreas.push(a);var s={};n.utils.copy(s,a),n.utils.copy(s,a.contentItem._contentAreaDimensions.header.highlightArea),s.surface=(s.x2-s.x1)*(s.y2-s.y1),this._itemAreas.push(s)}},_$normalizeContentItem:function(i,a){if(!i)throw new Error("No content item defined");if(n.utils.isFunction(i)&&(i=i()),i instanceof n.items.AbstractContentItem)return i;if(r.isPlainObject(i)&&i.type){var o=this.createContentItem(i,a);return o.callDownwards("_$init"),o}else throw new Error("Invalid contentItem")},_$reconcilePopoutWindows:function(){var i=[],a;for(a=0;a<this.openPopouts.length;a++)this.openPopouts[a].getWindow().closed===!1?i.push(this.openPopouts[a]):this.emit("windowClosed",this.openPopouts[a]);this.openPopouts.length!==i.length&&(this.emit("stateChanged"),this.openPopouts=i)},_getAllContentItems:function(){var i=[],a=function(o){if(i.push(o),o.contentItems instanceof Array)for(var s=0;s<o.contentItems.length;s++)a(o.contentItems[s])};return a(this.root),i},_bindEvents:function(){this._isFullPage&&r(window).resize(this._resizeFunction),r(window).on("unload beforeunload",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(n.utils.fnBind(this.updateSize,this),100)},_createConfig:function(i){var a=n.utils.getQueryStringParam("gl-window");a&&(this.isSubWindow=!0,i=localStorage.getItem(a),i=JSON.parse(i),i=new n.utils.ConfigMinifier().unminifyConfig(i),localStorage.removeItem(a)),i=r.extend(!0,{},n.config.defaultConfig,i);var o=function(s){for(var l in s)l!=="props"&&typeof s[l]=="object"?o(s[l]):l==="type"&&s[l]==="react-component"&&(s.type="component",s.componentName="lm-react-component")};return o(i),i.settings.hasHeaders===!1&&(i.dimensions.headerHeight=0),i},_adjustToWindowMode:function(){var i=r('<div class="lm_popin" title="'+this.config.labels.popin+'"><div class="lm_icon"></div><div class="lm_bg"></div></div>');i.click(n.utils.fnBind(function(){this.emit("popIn")},this)),document.title=n.utils.stripTags(this.config.content[0].title),r("head").append(r("body link, body style, template, .gl_keep")),this.container=r("body").html("").css("visibility","visible").append(i),document.body.offsetHeight,window.__glInstance=this},_createSubWindows:function(){var i,a;for(i=0;i<this.config.openPopouts.length;i++)a=this.config.openPopouts[i],this.createPopout(a.content,a.dimensions,a.parentId,a.indexInParent)},_setContainer:function(){var i=r(this.container||"body");if(i.length===0)throw new Error("GoldenLayout container not found");if(i.length>1)throw new Error("GoldenLayout more than one container element specified");i[0]===document.body&&(this._isFullPage=!0,r("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"})),this.container=i},_create:function(i){var a;if(!(i.content instanceof Array))throw i.content===void 0?a="Missing setting 'content' on top level of configuration":a="Configuration parameter 'content' must be an array",new n.errors.ConfigurationError(a,i);if(i.content.length>1)throw a="Top level content can't contain more then one element.",new n.errors.ConfigurationError(a,i);this.root=new n.items.Root(this,{content:i.content},this.container),this.root.callDownwards("_$init"),i.maximisedItemId==="__glMaximised"&&this.root.getItemsById(i.maximisedItemId)[0].toggleMaximise()},_onUnload:function(){if(this.config.settings.closePopoutsOnUnload===!0)for(var i=0;i<this.openPopouts.length;i++)this.openPopouts[i].close()},_adjustColumnsResponsive:function(){if(!this._useResponsiveLayout()||this._updatingColumnsResponsive||!this.config.dimensions||!this.config.dimensions.minItemWidth||this.root.contentItems.length===0||!this.root.contentItems[0].isRow){this._firstLoad=!1;return}this._firstLoad=!1;var i=this.root.contentItems[0].contentItems.length;if(!(i<=1)){var a=this.config.dimensions.minItemWidth,o=i*a;if(!(o<=this.width)){this._updatingColumnsResponsive=!0;for(var s=Math.max(Math.floor(this.width/a),1),l=i-s,u=this.root.contentItems[0],c=this._findAllStackContainers()[0],d=0;d<l;d++){var p=u.contentItems[u.contentItems.length-1];this._addChildContentItemsToContainer(c,p)}this._updatingColumnsResponsive=!1}}},_useResponsiveLayout:function(){return this.config.settings&&(this.config.settings.responsiveMode=="always"||this.config.settings.responsiveMode=="onload"&&this._firstLoad)},_addChildContentItemsToContainer:function(i,a){a.type==="stack"?a.contentItems.forEach(function(o){i.addChild(o),a.removeChild(o,!0)}):a.contentItems.forEach(n.utils.fnBind(function(o){this._addChildContentItemsToContainer(i,o)},this))},_findAllStackContainers:function(){var i=[];return this._findAllStackContainersRecursive(i,this.root),i},_findAllStackContainersRecursive:function(i,a){a.contentItems.forEach(n.utils.fnBind(function(o){o.type=="stack"?i.push(o):o.isComponent||this._findAllStackContainersRecursive(i,o)},this))}}),function(){t.exports=n.LayoutManager}(),n.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:""},n.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!0,showMaximiseIcon:!0,showCloseIcon:!0,responsiveMode:"onload",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200},labels:{close:"close",maximise:"maximise",minimise:"minimise",popout:"open in new window",popin:"pop in",tabDropdown:"additional tabs"}},n.container.ItemContainer=function(i,a,o){n.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=i.componentName,this.parent=a,this.layoutManager=o,this.isHidden=!1,this._config=i,this._element=r(['<div class="lm_item_container">','<div class="lm_content"></div>',"</div>"].join("")),this._contentElement=this._element.find(".lm_content")},n.utils.copy(n.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit("hide"),this.isHidden=!0,this._element.hide()},show:function(){this.emit("show"),this.isHidden=!1,this._element.show(),(this.height!=0||this.width!=0)&&this.emit("shown")},setSize:function(i,a){for(var o=this.parent,s=this,l,u,c,d,p,m;!o.isColumn&&!o.isRow;)if(s=o,o=o.parent,o.isRoot)return!1;for(c=o.isColumn?"height":"width",d=c==="height"?a:i,l=this[c]*(1/(s.config[c]/100)),u=d/l*100,p=(s.config[c]-u)/(o.contentItems.length-1),m=0;m<o.contentItems.length;m++)o.contentItems[m]===s?o.contentItems[m].config[c]=u:o.contentItems[m].config[c]+=p;return o.callDownwards("setSize"),!0},close:function(){this._config.isClosable&&(this.emit("close"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(i){this.setState(r.extend(!0,this.getState(),i))},setState:function(i){this._config.componentState=i,this.parent.emitBubblingEvent("stateChanged")},setTitle:function(i){this.parent.setTitle(i)},_$setSize:function(i,a){if(i!==this.width||a!==this.height){this.width=i,this.height=a;var o=this._contentElement[0],s=o.offsetWidth-o.clientWidth,l=o.offsetHeight-o.clientHeight;this._contentElement.width(this.width-s).height(this.height-l),this.emit("resize")}}}),n.controls.BrowserPopout=function(i,a,o,s,l){n.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=i,this._dimensions=a,this._parentId=o,this._indexInParent=s,this._layoutManager=l,this._popoutWindow=null,this._id=null,this._createWindow()},n.utils.copy(n.controls.BrowserPopout.prototype,{toConfig:function(){if(this.isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch{}},popIn:function(){var i,a;this._indexInParent,this._parentId&&(i=r.extend(!0,{},this.getGlInstance().toConfig()).content[0],a=this._layoutManager.root.getItemsById(this._parentId)[0],a||(this._layoutManager.root.contentItems.length>0?a=this._layoutManager.root.contentItems[0]:a=this._layoutManager.root)),a.addChild(i,this._indexInParent),this.close()},_createWindow:function(){var i,a=this._createUrl(),o=Math.floor(Math.random()*1e6).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=window.open(a,o,s),!this._popoutWindow)if(this._layoutManager.config.settings.blockedPopoutsThrowError===!0){var l=new Error("Popout blocked");throw l.type="popoutBlocked",l}else return;r(this._popoutWindow).on("load",n.utils.fnBind(this._positionWindow,this)).on("unload beforeunload",n.utils.fnBind(this._onClose,this)),i=setInterval(n.utils.fnBind(function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(i))},this),10)},_serializeWindowOptions:function(i){var a=[],o;for(o in i)a.push(o+"="+i[o]);return a.join(",")},_createUrl:function(){var i={content:this._config},a="gl-window-config-"+n.utils.getUniqueId(),o;i=new n.utils.ConfigMinifier().minifyConfig(i);try{localStorage.setItem(a,JSON.stringify(i))}catch(s){throw new Error("Error while writing to localStorage "+s.toString())}return o=document.location.href.split("?"),o.length===1?o[0]+"?gl-window="+a:document.location.href+"&gl-window="+a},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on("popIn",this.popIn,this),this.emit("initialised")},_onClose:function(){setTimeout(n.utils.fnBind(this.emit,this,["closed"]),50)}}),n.controls.DragProxy=function(i,a,o,s,l,u){n.utils.EventEmitter.call(this),this._dragListener=o,this._layoutManager=s,this._contentItem=l,this._originalParent=u,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",this._onDrag,this),this._dragListener.on("dragStop",this._onDrop,this),this.element=r(n.controls.DragProxy._template),u&&u._side&&(this._sided=u._sided,this.element.addClass("lm_"+u._side),["right","bottom"].indexOf(u._side)>=0&&this.element.find(".lm_content").after(this.element.find(".lm_header"))),this.element.css({left:i,top:a}),this.element.find(".lm_tab").attr("title",n.utils.stripTags(this._contentItem.config.title)),this.element.find(".lm_title").html(this._contentItem.config.title),this.childElementContainer=this.element.find(".lm_content"),this.childElementContainer.append(l.element),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),r(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this.element.width(),this._height=this.element.height(),this._setDropPosition(i,a)},n.controls.DragProxy._template='<div class="lm_dragProxy"><div class="lm_header"><ul class="lm_tabs"><li class="lm_tab lm_active"><i class="lm_left"></i><span class="lm_title"></span><i class="lm_right"></i></li></ul></div><div class="lm_content"></div></div>',n.utils.copy(n.controls.DragProxy.prototype,{_onDrag:function(i,a,o){o=o.originalEvent&&o.originalEvent.touches?o.originalEvent.touches[0]:o;var s=o.pageX,l=o.pageY,u=s>this._minX&&s<this._maxX&&l>this._minY&&l<this._maxY;!u&&this._layoutManager.config.settings.constrainDragToContainer===!0||this._setDropPosition(s,l)},_setDropPosition:function(i,a){this.element.css({left:i,top:a}),this._area=this._layoutManager._$getArea(i,a),this._area!==null&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(i,a,this._area))},_onDrop:function(){this._layoutManager.dropTargetIndicator.hide(),this._area!==null?this._area.contentItem._$onDrop(this._contentItem,this._area):this._lastValidArea!==null?this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):this._originalParent?this._originalParent.addChild(this._contentItem):this._contentItem._$destroy(),this.element.remove(),this._layoutManager.emit("itemDropped",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){var i=this._layoutManager.config.dimensions,a=i.dragProxyWidth,o=i.dragProxyHeight;this.element.width(a),this.element.height(o),a-=this._sided?i.headerHeight:0,o-=this._sided?0:i.headerHeight,this.childElementContainer.width(a),this.childElementContainer.height(o),this._contentItem.element.width(a),this._contentItem.element.height(o),this._contentItem.callDownwards("_$show"),this._contentItem.callDownwards("setSize")}}),n.controls.DragSource=function(i,a,o){this._element=i,this._itemConfig=a,this._layoutManager=o,this._dragListener=null,this._createDragListener()},n.utils.copy(n.controls.DragSource.prototype,{_createDragListener:function(){this._dragListener!==null&&this._dragListener.destroy(),this._dragListener=new n.utils.DragListener(this._element),this._dragListener.on("dragStart",this._onDragStart,this),this._dragListener.on("dragStop",this._createDragListener,this)},_onDragStart:function(i,a){var o=this._itemConfig;n.utils.isFunction(o)&&(o=o());var s=this._layoutManager._$normalizeContentItem(r.extend(!0,{},o)),l=new n.controls.DragProxy(i,a,this._dragListener,this._layoutManager,s,null);this._layoutManager.transitionIndicator.transitionElements(this._element,l.element)}}),n.controls.DropTargetIndicator=function(){this.element=r(n.controls.DropTargetIndicator._template),r(document.body).append(this.element)},n.controls.DropTargetIndicator._template='<div class="lm_dropTargetIndicator"><div class="lm_inner"></div></div>',n.utils.copy(n.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(i,a,o,s){this.highlightArea({x1:i,y1:a,x2:o,y2:s})},highlightArea:function(i){this.element.css({left:i.x1,top:i.y1,width:i.x2-i.x1,height:i.y2-i.y1}).show()},hide:function(){this.element.hide()}}),n.controls.Header=function(i,a){n.utils.EventEmitter.call(this),this.layoutManager=i,this.element=r(n.controls.Header._template),this.layoutManager.config.settings.selectionEnabled===!0&&(this.element.addClass("lm_selectable"),this.element.on("click touchstart",n.utils.fnBind(this._onHeaderClick,this))),this.tabsContainer=this.element.find(".lm_tabs"),this.tabDropdownContainer=this.element.find(".lm_tabdropdown_list"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(".lm_controls"),this.parent=a,this.parent.on("resize",this._updateTabSizes,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=n.utils.fnBind(this._hideAdditionalTabsDropdown,this),r(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,this._createControls()},n.controls.Header._template=['<div class="lm_header">','<ul class="lm_tabs"></ul>','<ul class="lm_controls"></ul>','<ul class="lm_tabdropdown_list"></ul>',"</div>"].join(""),n.utils.copy(n.controls.Header.prototype,{createTab:function(i,a){var o,s;for(s=0;s<this.tabs.length;s++)if(this.tabs[s].contentItem===i)return;if(o=new n.controls.Tab(this,i),this.tabs.length===0){this.tabs.push(o),this.tabsContainer.append(o.element);return}a===void 0&&(a=this.tabs.length),a>0?this.tabs[a-1].element.after(o.element):this.tabs[0].element.before(o.element),this.tabs.splice(a,0,o),this._updateTabSizes()},removeTab:function(i){for(var a=0;a<this.tabs.length;a++)if(this.tabs[a].contentItem===i){this.tabs[a]._$destroy(),this.tabs.splice(a,1);return}throw new Error("contentItem is not controlled by this header")},setActiveContentItem:function(i){var a,o,s,l;for(a=0;a<this.tabs.length;a++)s=this.tabs[a].contentItem===i,this.tabs[a].setActive(s),s===!0&&(this.activeContentItem=i,this.parent.config.activeItemIndex=a);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&this._lastVisibleTabIndex!==-1&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(l=this.tabs[this.parent.config.activeItemIndex],o=this.parent.config.activeItemIndex;o>0;o--)this.tabs[o]=this.tabs[o-1];this.tabs[0]=l,this.parent.config.activeItemIndex=0}this._updateTabSizes(),this.parent.emitBubblingEvent("stateChanged")},position:function(i){var a=this.parent._header.show;return a&&!this.parent._side&&(a="top"),i!==void 0&&this.parent._header.show!=i&&(this.parent._header.show=i,this.parent._setupHeaderPosition()),a},_$setClosable:function(i){return this.closeButton&&this._isClosable()?(this.closeButton.element[i?"show":"hide"](),!0):!1},_$destroy:function(){this.emit("destroy",this);for(var i=0;i<this.tabs.length;i++)this.tabs[i]._$destroy();r(document).off("mouseup",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(i){if(i in this.parent._header)return this.parent._header[i]},_createControls:function(){var i,a,o,s,l,u,c,d,p;p=n.utils.fnBind(this._showAdditionalTabsDropdown,this),d=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new n.controls.HeaderButton(this,d,"lm_tabdropdown",p),this.tabDropdownButton.element.hide(),this._getHeaderSetting("popout")&&(a=n.utils.fnBind(this._onPopoutClick,this),o=this._getHeaderSetting("popout"),new n.controls.HeaderButton(this,o,"lm_popout",a)),this._getHeaderSetting("maximise")&&(u=n.utils.fnBind(this.parent.toggleMaximise,this.parent),s=this._getHeaderSetting("maximise"),l=this._getHeaderSetting("minimise"),c=new n.controls.HeaderButton(this,s,"lm_maximise",u),this.parent.on("maximised",function(){c.element.attr("title",l)}),this.parent.on("minimised",function(){c.element.attr("title",s)})),this._isClosable()&&(i=n.utils.fnBind(this.parent.remove,this.parent),o=this._getHeaderSetting("close"),this.closeButton=new n.controls.HeaderButton(this,o,"lm_close",i))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(i){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.layoutManager.config.settings.popoutWholeStack===!0?this.parent.popout():this.activeContentItem.popout()},_onHeaderClick:function(i){i.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(i){if(this.tabs.length!==0){this.tabDropdownButton.element.toggle(i===!0);var a=function(S){return S?"width":"height"};this.element.css(a(!this.parent._sided),""),this.element[a(this.parent._sided)](this.layoutManager.config.dimensions.headerHeight);var o=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,s=0,l=0,u,c,d,p,m=0,h,y=this.layoutManager.config.settings.tabOverlapAllowance,w=!1,b=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,E=this.tabs[b];for(this.parent._sided&&(o=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,c=0;c<this.tabs.length;c++)if(u=this.tabs[c].element,this.tabsContainer.append(u),h=u.outerWidth()+parseInt(u.css("margin-right"),10),s+=h,b<=c?l=s:l=s+E.element.outerWidth()+parseInt(E.element.css("margin-right"),10),l>o){if(w)c===b&&(u.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(u));else if(b>0&&b<=c?m=(l-o)/(c-1):m=(l-o)/c,m<y){for(d=0;d<=c;d++)p=d!==b&&d!==0?"-"+m+"px":"",this.tabs[d].element.css({"z-index":c-d,"margin-left":p});this._lastVisibleTabIndex=c,this.tabsContainer.append(u)}else w=!0;if(w&&c!==b)if(i)u.css({"z-index":"auto","margin-left":""}),this.tabDropdownContainer.append(u);else{this._updateTabSizes(!0);return}}else this._lastVisibleTabIndex=c,u.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(u)}}}),n.controls.HeaderButton=function(i,a,o,s){this._header=i,this.element=r('<li class="'+o+'" title="'+a+'"></li>'),this._header.on("destroy",this._$destroy,this),this._action=s,this.element.on("click touchstart",this._action),this._header.controlsContainer.append(this.element)},n.utils.copy(n.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),n.controls.Splitter=function(i,a,o){this._isVertical=i,this._size=a,this._grabSize=o<a?a:o,this.element=this._createElement(),this._dragListener=new n.utils.DragListener(this.element)},n.utils.copy(n.controls.Splitter.prototype,{on:function(i,a,o){this._dragListener.on(i,a,o)},_$destroy:function(){this.element.remove()},_createElement:function(){var i=r('<div class="lm_drag_handle"></div>'),a=r('<div class="lm_splitter"></div>');a.append(i);var o=this._grabSize-this._size,s=o/2;return this._isVertical?(i.css("top",-s),i.css("height",this._size+o),a.addClass("lm_vertical"),a.height(this._size)):(i.css("left",-s),i.css("width",this._size+o),a.addClass("lm_horizontal"),a.width(this._size)),a}}),n.controls.Tab=function(i,a){this.header=i,this.contentItem=a,this.element=r(n.controls.Tab._template),this.titleElement=this.element.find(".lm_title"),this.closeElement=this.element.find(".lm_close_tab"),this.closeElement[a.config.isClosable?"show":"hide"](),this.isActive=!1,this.setTitle(a.config.title),this.contentItem.on("titleChanged",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,this._layoutManager.config.settings.reorderEnabled===!0&&a.config.reorderEnabled===!0&&(this._dragListener=new n.utils.DragListener(this.element),this._dragListener.on("dragStart",this._onDragStart,this),this.contentItem.on("destroy",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=n.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=n.utils.fnBind(this._onCloseClick,this),this.element.on("mousedown touchstart",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on("click touchstart",this._onCloseClickFn),this.closeElement.on("mousedown",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit("tab",this),this.contentItem.layoutManager.emit("tabCreated",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit("tab",this))},n.controls.Tab._template='<li class="lm_tab"><i class="lm_left"></i><span class="lm_title"></span><div class="lm_close_tab"></div><i class="lm_right"></i></li>',n.utils.copy(n.controls.Tab.prototype,{setTitle:function(i){this.element.attr("title",n.utils.stripTags(i)),this.titleElement.html(i)},setActive:function(i){i!==this.isActive&&(this.isActive=i,i?this.element.addClass("lm_active"):this.element.removeClass("lm_active"))},_$destroy:function(){this.element.off("mousedown touchstart",this._onTabClickFn),this.closeElement.off("click touchstart",this._onCloseClickFn),this._dragListener&&(this.contentItem.off("destroy",this._dragListener.destroy,this._dragListener),this._dragListener.off("dragStart",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(i,a){this.contentItem.parent.isMaximised===!0&&this.contentItem.parent.toggleMaximise(),new n.controls.DragProxy(i,a,this._dragListener,this._layoutManager,this.contentItem,this.header.parent)},_onTabClick:function(i){if(i.button===0||i.type==="touchstart"){var a=this.header.parent.getActiveContentItem();this.contentItem!==a&&this.header.parent.setActiveContentItem(this.contentItem)}else i.button===1&&this.contentItem.config.isClosable&&this._onCloseClick(i)},_onCloseClick:function(i){i.stopPropagation(),this.header.parent.removeChild(this.contentItem)},_onCloseMousedown:function(i){i.stopPropagation()}}),n.controls.TransitionIndicator=function(){this._element=r('<div class="lm_transition_indicator"></div>'),r(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},n.utils.copy(n.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(i,a){},_nextAnimationFrame:function(){var i=this._measure(this._toElement),a=(n.utils.now()-this._animationStartTime)/this._totalAnimationDuration,o={},s;if(a>=1){this._element.hide();return}i.opacity=0;for(s in this._fromDimensions)o[s]=this._fromDimensions[s]+(i[s]-this._fromDimensions[s])*a;this._element.css(o),n.utils.animFrame(n.utils.fnBind(this._nextAnimationFrame,this))},_measure:function(i){var a=i.offset();return{left:a.left,top:a.top,width:i.outerWidth(),height:i.outerHeight()}}}),n.errors.ConfigurationError=function(i,a){Error.call(this),this.name="Configuration Error",this.message=i,this.node=a},n.errors.ConfigurationError.prototype=new Error,n.items.AbstractContentItem=function(i,a,o){n.utils.EventEmitter.call(this),this.config=this._extendItemNode(a),this.type=a.type,this.contentItems=[],this.parent=o,this.isInitialised=!1,this.isMaximised=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.layoutManager=i,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this.on(n.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),a.content&&this._createContentItems(a)},n.utils.copy(n.items.AbstractContentItem.prototype,{setSize:function(){throw new Error("Abstract Method")},callDownwards:function(i,a,o,s){var l;for(o!==!0&&s!==!0&&this[i].apply(this,a||[]),l=0;l<this.contentItems.length;l++)this.contentItems[l].callDownwards(i,a,o);o===!0&&s!==!0&&this[i].apply(this,a||[])},removeChild:function(i,a){var o=n.utils.indexOf(i,this.contentItems);if(o===-1)throw new Error("Can't remove child item. Unknown content item");a!==!0&&this.contentItems[o]._$destroy(),this.contentItems.splice(o,1),this.config.content.splice(o,1),this.contentItems.length>0?this.callDownwards("setSize"):!(this instanceof n.items.Root)&&this.config.isClosable===!0&&this.parent.removeChild(this)},addChild:function(i,a){a===void 0&&(a=this.contentItems.length),this.contentItems.splice(a,0,i),this.config.content===void 0&&(this.config.content=[]),this.config.content.splice(a,0,i.config),i.parent=this,i.parent.isInitialised===!0&&i.isInitialised===!1&&i._$init()},replaceChild:function(i,a,o){a=this.layoutManager._$normalizeContentItem(a);var s=n.utils.indexOf(i,this.contentItems),l=i.element[0].parentNode;if(s===-1)throw new Error("Can't replace child. oldChild is not child of this");l.replaceChild(a.element[0],i.element[0]),o===!0&&(i.parent=null,i._$destroy()),this.contentItems[s]=a,a.parent=this,this.isStack&&(this.header.tabs[s].contentItem=a),a.parent.isInitialised===!0&&a.isInitialised===!1&&a._$init(),this.callDownwards("setSize")},remove:function(){this.parent.removeChild(this)},popout:function(){var i=this.layoutManager.createPopout(this);return this.emitBubblingEvent("stateChanged"),i},toggleMaximise:function(i){i&&i.preventDefault(),this.isMaximised===!0?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximised=!this.isMaximised,this.emitBubblingEvent("stateChanged")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass("lm_selected"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass("lm_selected"))},setTitle:function(i){this.config.title=i,this.emit("titleChanged",i),this.emit("stateChanged")},hasId:function(i){if(this.config.id){if(typeof this.config.id=="string")return this.config.id===i;if(this.config.id instanceof Array)return n.utils.indexOf(i,this.config.id)!==-1}else return!1},addId:function(i){this.hasId(i)||(this.config.id?typeof this.config.id=="string"?this.config.id=[this.config.id,i]:this.config.id instanceof Array&&this.config.id.push(i):this.config.id=i)},removeId:function(i){if(!this.hasId(i))throw new Error("Id not found");if(typeof this.config.id=="string")delete this.config.id;else if(this.config.id instanceof Array){var a=n.utils.indexOf(i,this.config.id);this.config.id.splice(a,1)}},getItemsByFilter:function(i){var a=[],o=function(s){for(var l=0;l<s.contentItems.length;l++)i(s.contentItems[l])===!0&&a.push(s.contentItems[l]),o(s.contentItems[l])};return o(this),a},getItemsById:function(i){return this.getItemsByFilter(function(a){return a.config.id instanceof Array?n.utils.indexOf(i,a.config.id)!==-1:a.config.id===i})},getItemsByType:function(i){return this._$getItemsByProperty("type",i)},getComponentsByName:function(i){var a=this._$getItemsByProperty("componentName",i),o=[],s;for(s=0;s<a.length;s++)o.push(a[s].instance);return o},_$getItemsByProperty:function(i,a){return this.getItemsByFilter(function(o){return o[i]===a})},_$setParent:function(i){this.parent=i},_$highlightDropZone:function(i,a,o){this.layoutManager.dropTargetIndicator.highlightArea(o)},_$onDrop:function(i){this.addChild(i)},_$hide:function(){this._callOnActiveComponents("hide"),this.element.hide(),this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents("show"),this.element.show(),this.layoutManager.updateSize()},_callOnActiveComponents:function(i){var a=this.getItemsByType("stack"),o,s;for(s=0;s<a.length;s++)o=a[s].getActiveContentItem(),o&&o.isComponent&&o.container[i]()},_$destroy:function(){this.emitBubblingEvent("beforeItemDestroyed"),this.callDownwards("_$destroy",[],!0,!0),this.element.remove(),this.emitBubblingEvent("itemDestroyed")},_$getArea:function(i){i=i||this.element;var a=i.offset(),o=i.width(),s=i.height();return{x1:a.left,y1:a.top,x2:a.left+o,y2:a.top+s,surface:o*s,contentItem:this}},_$init:function(){var i;for(this.setSize(),i=0;i<this.contentItems.length;i++)this.childElementContainer.append(this.contentItems[i].element);this.isInitialised=!0,this.emitBubblingEvent("itemCreated"),this.emitBubblingEvent(this.type+"Created")},emitBubblingEvent:function(i){var a=new n.utils.BubblingEvent(i,this);this.emit(i,a)},_createContentItems:function(i){var a,o;if(!(i.content instanceof Array))throw new n.errors.ConfigurationError("content must be an Array",i);for(o=0;o<i.content.length;o++)a=this.layoutManager.createContentItem(i.content[o],this),this.contentItems.push(a)},_extendItemNode:function(i){for(var a in n.config.itemDefaultConfig)i[a]===void 0&&(i[a]=n.config.itemDefaultConfig[a]);return i},_propagateEvent:function(i,a){a instanceof n.utils.BubblingEvent&&a.isPropagationStopped===!1&&this.isInitialised===!0&&(this.isRoot===!1&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(i,a))},_scheduleEventPropagationToLayoutManager:function(i,a){n.utils.indexOf(i,this._throttledEvents)===-1?this.layoutManager.emit(i,a.origin):this._pendingEventPropagations[i]!==!0&&(this._pendingEventPropagations[i]=!0,n.utils.animFrame(n.utils.fnBind(this._propagateEventToLayoutManager,this,[i,a])))},_propagateEventToLayoutManager:function(i,a){this._pendingEventPropagations[i]=!1,this.layoutManager.emit(i,a)}}),n.items.Component=function(i,a,o){n.items.AbstractContentItem.call(this,i,a,o);var s=i.getComponent(this.config.componentName),l=r.extend(!0,{},this.config.componentState||{});l.componentName=this.config.componentName,this.componentName=this.config.componentName,this.config.title===""&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new n.container.ItemContainer(this.config,this,i),this.instance=new s(this.container,l),this.element=this.container._element},n.utils.extend(n.items.Component,n.items.AbstractContentItem),n.utils.copy(n.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(":visible")&&this.container._$setSize(this.element.width(),this.element.height())},_$init:function(){n.items.AbstractContentItem.prototype._$init.call(this),this.container.emit("open")},_$hide:function(){this.container.hide(),n.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),n.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),n.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit("destroy",this),n.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),n.items.Root=function(i,a,o){n.items.AbstractContentItem.call(this,i,a,null),this.isRoot=!0,this.type="root",this.element=r('<div class="lm_goldenlayout lm_item lm_root"></div>'),this.childElementContainer=this.element,this._containerElement=o,this._containerElement.append(this.element)},n.utils.extend(n.items.Root,n.items.AbstractContentItem),n.utils.copy(n.items.Root.prototype,{addChild:function(i){if(this.contentItems.length>0)throw new Error("Root node can only have a single child");i=this.layoutManager._$normalizeContentItem(i,this),this.childElementContainer.append(i.element),n.items.AbstractContentItem.prototype.addChild.call(this,i),this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(i,a){i=typeof i>"u"?this._containerElement.width():i,a=typeof a>"u"?this._containerElement.height():a,this.element.width(i),this.element.height(a),this.contentItems[0]&&(this.contentItems[0].element.width(i),this.contentItems[0].element.height(a))},_$highlightDropZone:function(i,a,o){this.layoutManager.tabDropPlaceholder.remove(),n.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(i,a){var o;if(i.isComponent&&(o=this.layoutManager.createContentItem({type:"stack",header:i.config.header||{}},this),o._$init(),o.addChild(i),i=o),!this.contentItems.length)this.addChild(i);else{var s=a.side[0]=="x"?"row":"column",l=a.side[0]=="x"?"width":"height",u=a.side[1]=="2",c=this.contentItems[0];if(!c instanceof n.items.RowOrColumn||c.type!=s){var d=this.layoutManager.createContentItem({type:s},this);this.replaceChild(c,d),d.addChild(i,u?0:void 0,!0),d.addChild(c,u?void 0:0,!0),c.config[l]=50,i.config[l]=50,d.callDownwards("setSize")}else{var p=c.contentItems[u?0:c.contentItems.length-1];c.addChild(i,u?0:void 0,!0),p.config[l]*=.5,i.config[l]=p.config[l],c.callDownwards("setSize")}}}}),n.items.RowOrColumn=function(i,a,o,s){n.items.AbstractContentItem.call(this,a,o,s),this.isRow=!i,this.isColumn=i,this.element=r('<div class="lm_item lm_'+(i?"column":"row")+'"></div>'),this.childElementContainer=this.element,this._splitterSize=a.config.dimensions.borderWidth,this._splitterGrabSize=a.config.dimensions.borderGrabWidth,this._isColumn=i,this._dimension=i?"height":"width",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null},n.utils.extend(n.items.RowOrColumn,n.items.AbstractContentItem),n.utils.copy(n.items.RowOrColumn.prototype,{addChild:function(i,a,o){var s,l,u,c;if(i=this.layoutManager._$normalizeContentItem(i,this),a===void 0&&(a=this.contentItems.length),this.contentItems.length>0?(c=this._createSplitter(Math.max(0,a-1)).element,a>0?(this.contentItems[a-1].element.after(c),c.after(i.element)):(this.contentItems[0].element.before(c),c.before(i.element))):this.childElementContainer.append(i.element),n.items.AbstractContentItem.prototype.addChild.call(this,i,a),s=1/this.contentItems.length*100,o===!0){this.emitBubblingEvent("stateChanged");return}for(u=0;u<this.contentItems.length;u++)this.contentItems[u]===i?i.config[this._dimension]=s:(l=this.contentItems[u].config[this._dimension]*=(100-s)/100,this.contentItems[u].config[this._dimension]=l);this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},removeChild:function(i,a){var o=i.config[this._dimension],s=n.utils.indexOf(i,this.contentItems),l=Math.max(s-1,0),u,c;if(s===-1)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");for(this._splitter[l]&&(this._splitter[l]._$destroy(),this._splitter.splice(l,1)),u=0;u<this.contentItems.length;u++)this.contentItems[u]!==i&&(this.contentItems[u].config[this._dimension]+=o/(this.contentItems.length-1));n.items.AbstractContentItem.prototype.removeChild.call(this,i,a),this.contentItems.length===1&&this.config.isClosable===!0?(c=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,c,!0)):(this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged"))},replaceChild:function(i,a){var o=i.config[this._dimension];n.items.AbstractContentItem.prototype.replaceChild.call(this,i,a),a.config[this._dimension]=o,this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent("stateChanged"),this.emit("resize")},_$init:function(){if(this.isInitialised!==!0){var i;for(n.items.AbstractContentItem.prototype._$init.call(this),i=0;i<this.contentItems.length-1;i++)this.contentItems[i].element.after(this._createSplitter(i).element)}},_setAbsoluteSizes:function(){var i,a=this._calculateAbsoluteSizes();for(i=0;i<this.contentItems.length;i++)a.additionalPixel-i>0&&a.itemSizes[i]++,this._isColumn?(this.contentItems[i].element.width(a.totalWidth),this.contentItems[i].element.height(a.itemSizes[i])):(this.contentItems[i].element.width(a.itemSizes[i]),this.contentItems[i].element.height(a.totalHeight))},_calculateAbsoluteSizes:function(){var i,a=(this.contentItems.length-1)*this._splitterSize,o=this.element.width(),s=this.element.height(),l=0,u,c,d=[];for(this._isColumn?s-=a:o-=a,i=0;i<this.contentItems.length;i++)this._isColumn?c=Math.floor(s*(this.contentItems[i].config.height/100)):c=Math.floor(o*(this.contentItems[i].config.width/100)),l+=c,d.push(c);return u=Math.floor((this._isColumn?s:o)-l),{itemSizes:d,additionalPixel:u,totalWidth:o,totalHeight:s}},_calculateRelativeSizes:function(){var i,a=0,o=[],s=this._isColumn?"height":"width";for(i=0;i<this.contentItems.length;i++)this.contentItems[i].config[s]!==void 0?a+=this.contentItems[i].config[s]:o.push(this.contentItems[i]);if(Math.round(a)===100){this._respectMinItemWidth();return}if(Math.round(a)<100&&o.length>0){for(i=0;i<o.length;i++)o[i].config[s]=(100-a)/o.length;this._respectMinItemWidth();return}if(Math.round(a)>100)for(i=0;i<o.length;i++)o[i].config[s]=50,a+=50;for(i=0;i<this.contentItems.length;i++)this.contentItems[i].config[s]=this.contentItems[i].config[s]/a*100;this._respectMinItemWidth()},_respectMinItemWidth:function(){var i=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,a=null,o=[],s=0,l=0,u=0,c=0,d,p,m=[],h;if(!(this._isColumn||!i||this.contentItems.length<=1)){a=this._calculateAbsoluteSizes();for(var y=0;y<this.contentItems.length;y++)this.contentItems[y],c=a.itemSizes[y],c<i?(l+=i-c,h={width:i}):(s+=c-i,h={width:c},o.push(h)),m.push(h);if(!(l===0||l>s)){for(d=l/s,u=l,y=0;y<o.length;y++)h=o[y],p=Math.round((h.width-i)*d),u-=p,h.width-=p;for(u!==0&&(m[m.length-1].width-=u),y=0;y<this.contentItems.length;y++)this.contentItems[y].config.width=m[y].width/a.totalWidth*100}}},_createSplitter:function(i){var a;return a=new n.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize),a.on("drag",n.utils.fnBind(this._onSplitterDrag,this,[a]),this),a.on("dragStop",n.utils.fnBind(this._onSplitterDragStop,this,[a]),this),a.on("dragStart",n.utils.fnBind(this._onSplitterDragStart,this,[a]),this),this._splitter.splice(i,0,a),a},_getItemsForSplitter:function(i){var a=n.utils.indexOf(i,this._splitter);return{before:this.contentItems[a],after:this.contentItems[a+1]}},_getMinimumDimensions:function(i){for(var a=0,o=0,s=0;s<i.length;++s)a=Math.max(i[s].minWidth||0,a),o=Math.max(i[s].minHeight||0,o);return{horizontal:a,vertical:o}},_onSplitterDragStart:function(i){var a=this._getItemsForSplitter(i),o=this.layoutManager.config.dimensions[this._isColumn?"minItemHeight":"minItemWidth"],s=this._getMinimumDimensions(a.before.config.content),l=this._isColumn?s.vertical:s.horizontal,u=this._getMinimumDimensions(a.after.config.content),c=this._isColumn?u.vertical:u.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(a.before.element[this._dimension]()-(l||o)),this._splitterMaxPosition=a.after.element[this._dimension]()-(c||o)},_onSplitterDrag:function(i,a,o){var s=this._isColumn?o:a;s>this._splitterMinPosition&&s<this._splitterMaxPosition&&(this._splitterPosition=s,i.element.css(this._isColumn?"top":"left",s))},_onSplitterDragStop:function(i){var a=this._getItemsForSplitter(i),o=a.before.element[this._dimension](),s=a.after.element[this._dimension](),l=(this._splitterPosition+o)/(o+s),u=a.before.config[this._dimension]+a.after.config[this._dimension];a.before.config[this._dimension]=l*u,a.after.config[this._dimension]=(1-l)*u,i.element.css({top:0,left:0}),n.utils.animFrame(n.utils.fnBind(this.callDownwards,this,["setSize"]))}}),n.items.Stack=function(i,a,o){n.items.AbstractContentItem.call(this,i,a,o),this.element=r('<div class="lm_item lm_stack"></div>'),this._activeContentItem=null;var s=i.config;this._header={show:s.settings.hasHeaders===!0&&a.hasHeaders!==!1,popout:s.settings.showPopoutIcon&&s.labels.popout,maximise:s.settings.showMaximiseIcon&&s.labels.maximise,close:s.settings.showCloseIcon&&s.labels.close,minimise:s.labels.minimise},s.header&&n.utils.copy(this._header,s.header),a.header&&n.utils.copy(this._header,a.header),a.content&&a.content[0]&&a.content[0].header&&n.utils.copy(this._header,a.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=r('<div class="lm_items"></div>'),this.header=new n.controls.Header(i,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},n.utils.extend(n.items.Stack,n.items.AbstractContentItem),n.utils.copy(n.items.Stack.prototype,{setSize:function(){var i,a=this._header.show?this.layoutManager.config.dimensions.headerHeight:0,o=this.element.width()-(this._sided?a:0),s=this.element.height()-(this._sided?0:a);for(this.childElementContainer.width(o),this.childElementContainer.height(s),i=0;i<this.contentItems.length;i++)this.contentItems[i].element.width(o).height(s);this.emit("resize"),this.emitBubblingEvent("stateChanged")},_$init:function(){var i,a;if(this.isInitialised!==!0){for(n.items.AbstractContentItem.prototype._$init.call(this),i=0;i<this.contentItems.length;i++)this.header.createTab(this.contentItems[i]),this.contentItems[i]._$hide();if(this.contentItems.length>0){if(a=this.contentItems[this.config.activeItemIndex||0],!a)throw new Error("Configured activeItemIndex out of bounds");this.setActiveContentItem(a)}}},setActiveContentItem:function(i){if(n.utils.indexOf(i,this.contentItems)===-1)throw new Error("contentItem is not a child of this stack");this._activeContentItem!==null&&this._activeContentItem._$hide(),this._activeContentItem=i,this.header.setActiveContentItem(i),i._$show(),this.emit("activeContentItemChanged",i),this.layoutManager.emit("activeContentItemChanged",i),this.emitBubblingEvent("stateChanged")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(i,a){i=this.layoutManager._$normalizeContentItem(i,this),n.items.AbstractContentItem.prototype.addChild.call(this,i,a),this.childElementContainer.append(i.element),this.header.createTab(i,a),this.setActiveContentItem(i),this.callDownwards("setSize"),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},removeChild:function(i,a){var o=n.utils.indexOf(i,this.contentItems);n.items.AbstractContentItem.prototype.removeChild.call(this,i,a),this.header.removeTab(i),this.header.activeContentItem===i&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(o-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},_$validateClosability:function(){var i,a,o;for(i=this.header._isClosable(),o=0,a=this.contentItems.length;o<a&&i;o++)i=this.contentItems[o].config.isClosable;this.header._$setClosable(i)},_$destroy:function(){n.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(i){if(this._dropSegment==="header"){this._resetHeaderDropZone(),this.addChild(i,this._dropIndex);return}if(this._dropSegment==="body"){this.addChild(i);return}var a=this._dropSegment==="top"||this._dropSegment==="bottom",o=this._dropSegment==="left"||this._dropSegment==="right",s=this._dropSegment==="top"||this._dropSegment==="left",l=a&&this.parent.isColumn||o&&this.parent.isRow,u=a?"column":"row",c=a?"height":"width",d,p,m;i.isComponent&&(p=this.layoutManager.createContentItem({type:"stack",header:i.config.header||{}},this),p._$init(),p.addChild(i),i=p),l?(d=n.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(i,s?d:d+1,!0),this.config[c]*=.5,i.config[c]=this.config[c],this.parent.callDownwards("setSize")):(u=a?"column":"row",m=this.layoutManager.createContentItem({type:u},this),this.parent.replaceChild(this,m),m.addChild(i,s?0:void 0,!0),m.addChild(this,s?void 0:0,!0),this.config[c]=50,i.config[c]=50,m.callDownwards("setSize"))},_$highlightDropZone:function(i,a){var o,s;for(o in this._contentAreaDimensions)if(s=this._contentAreaDimensions[o].hoverArea,s.x1<i&&s.x2>i&&s.y1<a&&s.y2>a){o==="header"?(this._dropSegment="header",this._highlightHeaderDropZone(this._sided?a:i)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(o));return}},_$getArea:function(){if(this.element.is(":visible")===!1)return null;var i=n.items.AbstractContentItem.prototype._$getArea,a=i.call(this,this.header.element),o=i.call(this,this.childElementContainer),s=o.x2-o.x1,l=o.y2-o.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},highlightArea:{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}}},this._activeContentItem&&this._activeContentItem.isComponent===!1?a:this.contentItems.length===0?(this._contentAreaDimensions.body={hoverArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}},i.call(this,this.element)):(this._contentAreaDimensions.left={hoverArea:{x1:o.x1,y1:o.y1,x2:o.x1+s*.25,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x1+s*.5,y2:o.y2}},this._contentAreaDimensions.top={hoverArea:{x1:o.x1+s*.25,y1:o.y1,x2:o.x1+s*.75,y2:o.y1+l*.5},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y1+l*.5}},this._contentAreaDimensions.right={hoverArea:{x1:o.x1+s*.75,y1:o.y1,x2:o.x2,y2:o.y2},highlightArea:{x1:o.x1+s*.5,y1:o.y1,x2:o.x2,y2:o.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:o.x1+s*.25,y1:o.y1+l*.5,x2:o.x1+s*.75,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1+l*.5,x2:o.x2,y2:o.y2}},i.call(this,this.element))},_highlightHeaderDropZone:function(i){var a,o,s=this.header.tabs.length,l=!1,u,c,d,p,m,h,y;if(s===0){m=this.header.element.offset(),this.layoutManager.dropTargetIndicator.highlightArea({x1:m.left,x2:m.left+100,y1:m.top+this.header.element.height()-20,y2:m.top+this.header.element.height()});return}for(a=0;a<s;a++)if(o=this.header.tabs[a].element,d=o.offset(),this._sided?(c=d.top,u=d.left,h=o.height()):(c=d.left,u=d.top,h=o.width()),i>c&&i<c+h){l=!0;break}if(!(l===!1&&i<c)){if(y=c+h/2,i<y?(this._dropIndex=a,o.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(a+1,s),o.after(this.layoutManager.tabDropPlaceholder)),this._sided){placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,this.layoutManager.dropTargetIndicator.highlightArea({x1:u,x2:u+o.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});return}p=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:p,x2:p+this.layoutManager.tabDropPlaceholder.width(),y1:u,y2:u+o.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var i=["right","left","bottom"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=i,this._sided=["right","left"].indexOf(this._side)>=0,this.element.removeClass("lm_left lm_right lm_bottom"),this._side&&this.element.addClass("lm_"+this._side),this.element.find(".lm_header").length&&this.childElementContainer){var a=["right","bottom"].indexOf(this._side)>=0?"before":"after";this.header.element[a](this.childElementContainer),this.callDownwards("setSize")}},_highlightBodyDropZone:function(i){var a=this._contentAreaDimensions[i].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(a),this._dropSegment=i}}),n.utils.BubblingEvent=function(i,a){this.name=i,this.origin=a,this.isPropagationStopped=!1},n.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},n.utils.ConfigMinifier=function(){if(this._keys=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentName","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled","borderGrabWidth"],this._keys.length>36)throw new Error("Too many keys in config minifier map");this._values=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"]},n.utils.copy(n.utils.ConfigMinifier.prototype,{minifyConfig:function(i){var a={};return this._nextLevel(i,a,"_min"),a},unminifyConfig:function(i){var a={};return this._nextLevel(i,a,"_max"),a},_nextLevel:function(i,a,o){var s,l;for(s in i)i instanceof Array&&(s=parseInt(s,10)),i.hasOwnProperty(s)&&(l=this[o](s,this._keys),typeof i[s]=="object"?(a[l]=i[s]instanceof Array?[]:{},this._nextLevel(i[s],a[l],o)):a[l]=this[o](i[s],this._values))},_min:function(i,a){if(typeof i=="string"&&i.length===1)return"___"+i;var o=n.utils.indexOf(i,a);return o===-1?i:o.toString(36)},_max:function(i,a){return typeof i=="string"&&i.length===1?a[parseInt(i,36)]:typeof i=="string"&&i.substr(0,3)==="___"?i[3]:i}}),n.utils.EventHub=function(i){n.utils.EventEmitter.call(this),this._layoutManager=i,this._dontPropagateToParent=null,this._childEventSource=null,this.on(n.utils.EventEmitter.ALL_EVENT,n.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=n.utils.fnBind(this._onEventFromChild,this),r(window).on("gl_child_event",this._boundOnEventFromChild)},n.utils.EventHub.prototype._onEventFromThis=function(){var i=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&i[0]!==this._dontPropagateToParent&&this._propagateToParent(i),this._propagateToChildren(i),this._dontPropagateToParent=null,this._childEventSource=null},n.utils.EventHub.prototype._$onEventFromParent=function(i){this._dontPropagateToParent=i[0],this.emit.apply(this,i)},n.utils.EventHub.prototype._onEventFromChild=function(i){this._childEventSource=i.originalEvent.__gl,this.emit.apply(this,i.originalEvent.__glArgs)},n.utils.EventHub.prototype._propagateToParent=function(i){var a,o="gl_child_event";document.createEvent?(a=window.opener.document.createEvent("HTMLEvents"),a.initEvent(o,!0,!0)):(a=window.opener.document.createEventObject(),a.eventType=o),a.eventName=o,a.__glArgs=i,a.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(a):window.opener.fireEvent("on"+a.eventType,a)},n.utils.EventHub.prototype._propagateToChildren=function(i){var a,o;for(o=0;o<this._layoutManager.openPopouts.length;o++)a=this._layoutManager.openPopouts[o].getGlInstance(),a&&a!==this._childEventSource&&a.eventHub._$onEventFromParent(i)},n.utils.EventHub.prototype.destroy=function(){r(window).off("gl_child_event",this._boundOnEventFromChild)},n.utils.ReactComponentHandler=function(i,a){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=i,this._initialState=a,this._reactClass=this._getReactClass(),this._container.on("open",this._render,this),this._container.on("destroy",this._destroy,this)},n.utils.copy(n.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off("open",this._render,this),this._container.off("destroy",this._destroy,this)},_onUpdate:function(i,a){this._container.setState(a),this._originalComponentWillUpdate.call(this._reactComponent,i,a)},_getReactClass:function(){var i=this._container._config.component,a;if(!i)throw new Error("No react component name. type: react-component needs a field `component`");if(a=this._container.layoutManager.getComponent(i),!a)throw new Error('React component "'+i+'" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return a},_getReactComponent:function(){var i={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},a=r.extend(i,this._container._config.props);return React.createElement(this._reactClass,a)}})})(window.$)})(Qv);var Vk=Qv.exports;const Wk=qn(Vk);function Zv(){const t={settings:{selectionEnabled:!0},content:[{type:"stack",content:[]}]},e=new Wk(t);return e.on("selectionChanged ",r=>{_e.info("SELECTION CHANGED"),_e.info(r)}),e.on("stackCreated",function(r){e.selectItem(r);const n=Er("goldenlayout-header"),i=document.importNode(n.content,!0);r.header.controlsContainer.prepend(i),r.on("activeContentItemChanged",()=>{e.selectItem(r)});const a=()=>r.getActiveContentItem().config.componentState,o=()=>a().cy,s=r.header.controlsContainer[0],l=()=>We.mainView.state.graph.menu.separateSubs()&&!a().graph.starMode,u=[[".plussign",()=>{o().zoom(o().zoom()*1.2)}],[".minussign",()=>{o().zoom(o().zoom()/1.2)}],[".addsign",()=>{new We}],[".recalculatesign",()=>{Lr(o(),Ma,t.defaultSubOntologies,l(),!0)}],[".tightlayoutsign",()=>{Lr(o(),fs,t.defaultSubOntologies,l(),!0)}],[".compoundlayoutsign",()=>{Lr(o(),dv,t.defaultSubOntologies,!1,!0)}]];for(const c of u)s.querySelector(c[0]).addEventListener("click",c[1])}),e.init(),e}let Nl=0,Bl=null,ei=Zv();function Jv(t,e){const r=[];if(t.type==="component"&&t.componentName!=="Gesamtmodell")return r.push(t),r;for(const n of t.contentItems)r.push(...Jv(n));return r}const wr=class wr{constructor(e=!0,r){Et(this,"initialized");Et(this,"state");Et(this,"cyContainer",document.createElement("div"));Et(this,"element");Et(this,"cxtMenu");r=r??(Nl++===0?"Gesamtmodell":"Teilmodell "+(Nl-1)),this.state={title:r,name:"unnamed"};const n={title:r,type:"component",componentName:r,componentState:this.state,isClosable:wr.mainView!==null},i=this;wr.mainView!==null&&wr.partViews.add(this),ei.registerComponent(r,function(s){i.element=s.getElement()[0],s.getElement()[0].appendChild(i.cyContainer),s.on("destroy",()=>{wr.partViews.delete(i)})}),ei.root.contentItems[0].addChild(n);const a=new St(i.cyContainer),o=a.cy;this.state.graph=a,this.state.cy=o,this.initialized=e?this.fill():Promise.resolve(),this.initialized.then(()=>{const s=wv().options;this.state.graph.applyStyle(s.dayMode,s.edgesColorized,s.showProperty);const l=[...Hk(a),...qk(a)];this.cxtMenu=new Hn(this.state.graph,l)})}static views(){return[this.mainView,...this.partViews]}static activeState(){var e,r,n;return(n=(r=(e=ei.selectedItem)==null?void 0:e.getActiveContentItem())==null?void 0:r.config)==null?void 0:n.componentState}static activeView(){var e;return(e=ei.selectedItem)==null?void 0:e.getActiveContentItem()}async fill(){const e=this.state.graph;if(wr.mainView===null)wr.mainView=this,Bl=Bk(e),await Bl,_e.debug(`Main view ${this.state.name} loaded with ${e.cy.elements().size()} elements.`);else{await Bl,e.cy.add(wr.mainView.state.cy.elements()),_e.debug(`Create view ${this.state.title} with ${e.cy.elements().size()} hidden elements copied from ${wr.mainView.state.title}.`);const r=e.cy.elements();St.setVisible(r,!1),St.setVisible(r.edgesWith(r),!1),r.removeClass("source"),e.starMode=!0}}static reset(){const e=Jv(ei.root);for(const r of e)r.remove();wr.partViews.clear(),Nl=0,ei.destroy(),ei=Zv()}};Et(wr,"mainView",null),Et(wr,"partViews",new Set);let We=wr;var ii=(t=>(t[t.IN=0]="IN",t[t.OUT=1]="OUT",t[t.BOTH=2]="BOTH",t))(ii||{});class St{constructor(e){Et(this,"cy");Et(this,"selectedNode",null);Et(this,"starMode",!1);Et(this,"matchComponents",[]);Et(this,"pathSource",null);Et(this,"container");Et(this,"instancesLoaded",!1);Et(this,"menu",null);const r=Xi("graph-init");this.container=e,this.container.style.backgroundColor="black",this.cy=Rs({container:e,style:uc.style.concat(fc),wheelSensitivity:.3,minZoom:.02,maxZoom:7}),this.cy.on("select","node",i=>{this.selectedNode=i.target});const n=["resetStyle","presentUri","showPath","showStar","showWorm","showDoubleStar","combineMatch","showCloseMatch","newGraph"];for(const i of n)this[i]=this[i].bind(this);r.stop()}cumulativeSearch(){return(document.getElementById("cumulativeSearchBox")||{}).checked}static setVisible(e,r=!0){if(r)e.removeClass("hidden");else{e.addClass("hidden"),e.removeClass("highlighted");const n=e.nodes().connectedEdges();n.addClass("hidden"),n.removeClass("highlighted")}}static starStyle(e){e.removeClass("hidden"),e.select()}resetStyle(){this.starMode=!1,this.cy.startBatch(),this.cy.elements().removeClass("highlighted"),this.cy.elements().removeClass("starmode"),this.cy.elements().removeClass("hidden"),this.cy.endBatch()}showPath(e,r){return n=>{if(!n)return _e.error("No path source."),!1;if(n===e)return _e.warn(`Path source ${n.data(Ue.ID)} equals target.`),!1;const i=this.cy.elements(".unfiltered"),o=i.aStar({root:n,goal:e}).path;if(o){if(this.cy.startBatch(),this.cy.add(o),r){const s=o.connectedEdges(".unfiltered");o.merge(s),o.merge(s.connectedNodes(".unfiltered"))}St.starStyle(o),this.starMode?o.select():(this.starMode=!0,St.setVisible(i.not(o),!1)),this.cy.endBatch()}else return this.starMode||this.resetStyle(),_e.warn("No path found!"),!1;return!0}}showStarMultiplexed(e=!1,r){return this.multiplex(n=>this.showStar(n,e,r),void 0,!0)}async showStarMultiplexedNew(e=!1,r=2,n=!1){const i=await this.newGraph(n);return o=>(i.multiplex(s=>i.showStar(i.assimilateNodes(s),e,r),i.assimilateNodes(this.cy.nodes(":selected")),!0)(o),i)}showStar(e,r=!1,n){console.log("center",e),this.cy.startBatch();let i=e,a;for(let d=0;d<i.size();)d=i.size(),a=i.connectedEdges(".unfiltered").filter('[pl="closeMatch"]'),i=i.union(a.connectedNodes(".unfiltered"));let o;switch(n){case 0:o=this.cy.elements(".unfiltered").edgesTo(i);break;case 1:o=i.edgesTo(".unfiltered");break;default:o=i.connectedEdges(".unfiltered")}const s=o.connectedNodes(".unfiltered"),l=i.union(s).union(o);l.merge(l.parent()),l.merge(l.children());const u=s.difference(i);(r||!this.starMode)&&(this.starMode=!0,St.setVisible(this.cy.elements().not(l),!1)),console.log("star",l),St.starStyle(l),r&&s.sort((p,m)=>{const h=Math.min(p.edgesTo(i).map(w=>w.data("pl").split("").reduce((b,E)=>b+E.charCodeAt(0),0))),y=Math.min(m.edgesTo(i).map(w=>w.data("pl").split("").reduce((b,E)=>b+E.charCodeAt(0),0)));return h-y}).layout({name:"concentric",fit:!0,levelWidth:function(){return 1},minNodeSpacing:175,concentric:function(p){if(i.contains(p))return 2;if(u.contains(p))return 1;throw new Error("unexpected node in star")}}).run(),this.cy.endBatch(),St.setVisible(u.edgesWith(this.cy.nodes(".unfiltered").not(".hidden")));const c=this.cy.nodes(":visible");c.size()<100&&this.cy.fit(c,100)}showWorm(e,r){return this.starMode=!0,this.showPath(r)(e)?(this.showStar(r),!0):!1}showDoubleStar(e){const r=this.getSource();return this.showPath(e)?(this.showStar(e),this.showStar(r),!0):!1}assimilate(e){return this.getElementsByIds(e.map(r=>r.id()))}assimilateNodes(e){return this.getElementsByIds(e.map(r=>r.id()))}getElementsByIds(e){const r=this.cy.collection();for(const n of e){const i=this.cy.getElementById(n);r.merge(i)}return r}getSource(){return this.pathSource?this.pathSource:this.selectedNode?(_e.debug("Path source not set, using selected node"),this.selectedNode):null}setSource(e){return _e.debug("Setting path source to "+e.data(Ue.ID)),e?e.length!==1?(_e.error("Invalid source. Length != 1"),!1):(this.pathTarget&&this.cy.resize(),this.pathSource&&this.pathSource.removeClass("source"),this.pathSource===e?(_e.info("Toggling path source off."),this.pathSource=null,!0):(this.pathSource=e,this.pathSource.addClass("source"),!0)):!1}applyStyle(e,r,n){let i=uc.style;e?(this.container.style.backgroundColor="white",i=i.concat(Kp)):(this.container.style.backgroundColor="black",i=i.concat(fc)),r&&(i=i.concat(Gp)),n&&(i=i.concat(jp)),this.cy.style().fromJson(i).update()}presentUri(e){this.cy.zoom(.6);const r=this.cy.elements().nodes().filter(`node[id= "${e}"]`);if(r.length<1)return _e.warn(`Node not in graph. ${e} may be available on the SPARQL endpoint but not in the graph.`),!1;const n=r[0];return n.hasClass("filtered")?(_e.warn(`Node is filtered out. ${e} is not visible. Please adjust filters.`),!1):(n.hasClass("hidden")&&(_e.debug(`Node is hidden. Unhiding ${e}.`),St.setVisible(n,!0),St.setVisible(n.edgesWith(this.cy.nodes(":visible")),!0)),this.starMode||this.cumulativeSearch()||this.resetStyle(),this.cy.elements().unselect(),n.select(),this.cy.center(n),!0)}presentUris(e,r=!1){if(e.length<1)return _e.warn("All search results are only available on the SPARQL endpoint but not in the graph."),!1;this.cumulativeSearch()||this.resetStyle();const n=this.cy.elements().nodes().filter(i=>e.includes(i.data(Ue.ID)));return r&&(St.setVisible(this.cy.elements(),!1),St.setVisible(n.edgesTo(n),!0),this.starMode=!0),this.cy.elements().unselect(),n.select(),n.edgesTo(n).select(),this.cy.fit(this.cy.elements(":selected")),!0}multiplex(e,r,n){return i=>{const a=this.cy.nodes(":selected");let o=r;if(!r&&a.size()>1&&(o=a),o)if(i&&(o=o.union(i)),_e.debug("multiplexing of "+o.size()+" elements (direct="+n+")"),n)e(o);else for(let s=0;s<o.length;s++)e(o[s]);else e(i)}}createRemoveIssue(e){this.cy.remove(e);const r=Bi(e.data(Ue.ID));Yp(e.data(Ue.ID)).then(n=>{const i=`Please permanently delete the class ${r}:
            \`\`\`

            sparql
            # WARNING: THIS WILL DELETE ALL TRIPLES THAT CONTAIN THE CLASS ${r} FROM THE GRAPH AS EITHER SUBJECT OR OBJECT
            # ALWAYS CREATE A BACKUP BEFORE THIS OPERATION AS A MISTAKE MAY DELETE THE WHOLE GRAPH.
            # THERE MAY BE DATA LEFT OVER IN OTHER GRAPHS, SUCH AS <http://www.snik.eu/ontology/limes-exact> or <http://www.snik.eu/ontology/match>.
            # THERE MAY BE LEFTOVER DATA IN AXIOMS OR ANNOTATIONS, CHECK THE UNDO DATA FOR SUCH THINGS.

            DELETE DATA FROM <${es(e.data(Ue.ID))}>
            {
              {<${e.data(Ue.ID)}> ?p ?y.} UNION {?x ?p <${e.data(Ue.ID)}>.}
            }
            
\`\`\`
            **Warning: Restoring a class with the following triples is not guaranteed to work and may have unintended consequences if other edits occur between the deletion and restoration.
            This only contains the triples from graph ${es(e.data(Ue.ID))}.**

            Undo based on these triples:
            \`\`\`

            ${n}
            
\`\`\`
            ${Rl.SPARUL_WARNING}`;window.open("https://github.com/IMISE/snik-ontology/issues/new?title="+encodeURIComponent("Remove class "+r)+"&body="+encodeURIComponent(i))})}moveAllMatches(e){for(let r=0;r<this.matchComponents.length;r++){const n=this.matchComponents[r];n.length!==1&&this.moveNodes(n.nodes(),e)}}moveNodes(e,r){e.positions(e[0].position());for(let n=1;n<e.length;n++)e[n].shift({x:r*Math.cos(2*Math.PI*n/(e.length-1)),y:r*Math.sin(2*Math.PI*n/(e.length-1))})}async combineMatch(e){await Na(()=>{if(!e){this.cy.startBatch(),this.cy.nodes(":child").move({parent:null}),this.cy.nodes("[id ^= 'parent']").remove(),this.matchComponents.length=0,this.cy.endBatch();return}this.cy.startBatch();const r=this.cy.edges('[pl="closeMatch"]').filter(".unfiltered").not(".hidden"),n=this.cy.nodes(".unfiltered").not(".hidden").union(r);!this.moveMatchNotified&&this.cy.nodes(":visible").size()>1e3&&(_e.info("Combining Matches. Consider using Move Matches Nearby or Move Matches on top of each other."),this.moveMatchNotified=!0),this.matchComponents.length=0,this.matchComponents.push(...n.components());for(let i=0;i<this.matchComponents.length;i++){const a=this.matchComponents[i];if(a.length===1)continue;const o="parent"+i,s={};let l=a.nodes();for(let d=0;d<l.length;d++){const p=l[d].data("l");for(const m in p)s[m]||(s[m]=new Set),p[m].forEach(h=>s[m].add(h))}for(const d in s)s[d]=[[...s[d]].reduce((p,m)=>p+", "+m)];const u=["bb","ob","he","it4it","ciox"],c=d=>{let p=u.indexOf(d);return p===-1&&(p=99),p};l=l.sort((d,p)=>c(d.data(Ue.SOURCE))-c(p.data(Ue.SOURCE))),this.cy.add({group:"nodes",data:{id:o,l:s}});for(let d=0;d<l.length;d++)l[d].move({parent:o})}this.cy.endBatch()})}showCloseMatch(e){const r=e.connectedEdges(".unfiltered").filter('[pl="closeMatch"]'),n=r.connectedNodes(".unfiltered");_e.debug(`Showing close matches of ${e.length} nodes ${JSON.stringify(e.map(a=>a.id()))}.
Results: ${JSON.stringify(n.map(a=>a.id()))}`);const i=n.union(r);St.setVisible(i,!0),St.starStyle(i)}async newGraph(e=!1){if(!e&&this!==We.mainView.state.graph)return this;const r=new We(!0);return await r.initialized,r.state.graph}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Dr=function(){return Dr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dr.apply(this,arguments)},Uk=function(){function t(e){this.options=e,this.listeners={}}return t.prototype.on=function(e,r){var n=this.listeners[e]||[];this.listeners[e]=n.concat([r])},t.prototype.triggerEvent=function(e,r){var n=this,i=this.listeners[e]||[];i.forEach(function(a){return a({target:n,event:r})})},t}(),Yi;(function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove"})(Yi||(Yi={}));var Gk=function(){function t(){this.notifications=[]}return t.prototype.push=function(e){this.notifications.push(e),this.updateFn(e,Yi.Add,this.notifications)},t.prototype.splice=function(e,r){var n=this.notifications.splice(e,r)[0];return this.updateFn(n,Yi.Remove,this.notifications),n},t.prototype.indexOf=function(e){return this.notifications.indexOf(e)},t.prototype.onUpdate=function(e){this.updateFn=e},t}(),Pn;(function(t){t.Dismiss="dismiss",t.Click="click"})(Pn||(Pn={}));var hd={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0,position:{x:"right",y:"bottom"},dismissible:!1},jk=function(){function t(){this.notifications=[],this.events={},this.X_POSITION_FLEX_MAP={left:"flex-start",center:"center",right:"flex-end"},this.Y_POSITION_FLEX_MAP={top:"flex-start",center:"center",bottom:"flex-end"};var e=document.createDocumentFragment(),r=this._createHTMLElement({tagName:"div",className:"notyf"});e.appendChild(r),document.body.appendChild(e),this.container=r,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return t.prototype.on=function(e,r){var n;this.events=Dr(Dr({},this.events),(n={},n[e]=r,n))},t.prototype.update=function(e,r){r===Yi.Add?this.addNotification(e):r===Yi.Remove&&this.removeNotification(e)},t.prototype.removeNotification=function(e){var r=this,n=this._popRenderedNotification(e),i;if(n){i=n.node,i.classList.add("notyf__toast--disappear");var a;i.addEventListener(this.animationEndEventName,a=function(o){o.target===i&&(i.removeEventListener(r.animationEndEventName,a),r.container.removeChild(i))})}},t.prototype.addNotification=function(e){var r=this._renderNotification(e);this.notifications.push({notification:e,node:r}),this._announce(e.options.message||"Notification")},t.prototype._renderNotification=function(e){var r,n=this._buildNotificationCard(e),i=e.options.className;return i&&(r=n.classList).add.apply(r,i.split(" ")),this.container.appendChild(n),n},t.prototype._popRenderedNotification=function(e){for(var r=-1,n=0;n<this.notifications.length&&r<0;n++)this.notifications[n].notification===e&&(r=n);if(r!==-1)return this.notifications.splice(r,1)[0]},t.prototype.getXPosition=function(e){var r;return((r=e==null?void 0:e.position)===null||r===void 0?void 0:r.x)||"right"},t.prototype.getYPosition=function(e){var r;return((r=e==null?void 0:e.position)===null||r===void 0?void 0:r.y)||"bottom"},t.prototype.adjustContainerAlignment=function(e){var r=this.X_POSITION_FLEX_MAP[this.getXPosition(e)],n=this.Y_POSITION_FLEX_MAP[this.getYPosition(e)],i=this.container.style;i.setProperty("justify-content",n),i.setProperty("align-items",r)},t.prototype._buildNotificationCard=function(e){var r=this,n=e.options,i=n.icon;this.adjustContainerAlignment(n);var a=this._createHTMLElement({tagName:"div",className:"notyf__toast"}),o=this._createHTMLElement({tagName:"div",className:"notyf__ripple"}),s=this._createHTMLElement({tagName:"div",className:"notyf__wrapper"}),l=this._createHTMLElement({tagName:"div",className:"notyf__message"});l.innerHTML=n.message||"";var u=n.background||n.backgroundColor;if(i){var c=this._createHTMLElement({tagName:"div",className:"notyf__icon"});if((typeof i=="string"||i instanceof String)&&(c.innerHTML=new String(i).valueOf()),typeof i=="object"){var d=i.tagName,p=d===void 0?"i":d,m=i.className,h=i.text,y=i.color,w=y===void 0?u:y,b=this._createHTMLElement({tagName:p,className:m,text:h});w&&(b.style.color=w),c.appendChild(b)}s.appendChild(c)}if(s.appendChild(l),a.appendChild(s),u&&(n.ripple?(o.style.background=u,a.appendChild(o)):a.style.background=u),n.dismissible){var E=this._createHTMLElement({tagName:"div",className:"notyf__dismiss"}),S=this._createHTMLElement({tagName:"button",className:"notyf__dismiss-btn"});E.appendChild(S),s.appendChild(E),a.classList.add("notyf__toast--dismissible"),S.addEventListener("click",function(A){var _,v;(v=(_=r.events)[Pn.Dismiss])===null||v===void 0||v.call(_,{target:e,event:A}),A.stopPropagation()})}a.addEventListener("click",function(A){var _,v;return(v=(_=r.events)[Pn.Click])===null||v===void 0?void 0:v.call(_,{target:e,event:A})});var x=this.getYPosition(n)==="top"?"upper":"lower";return a.classList.add("notyf__toast--"+x),a},t.prototype._createHTMLElement=function(e){var r=e.tagName,n=e.className,i=e.text,a=document.createElement(r);return n&&(a.className=n),a.textContent=i||null,a},t.prototype._createA11yContainer=function(){var e=this._createHTMLElement({tagName:"div",className:"notyf-announcer"});e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),e.style.border="0",e.style.clip="rect(0 0 0 0)",e.style.height="1px",e.style.margin="-1px",e.style.overflow="hidden",e.style.padding="0",e.style.position="absolute",e.style.width="1px",e.style.outline="0",document.body.appendChild(e),this.a11yContainer=e},t.prototype._announce=function(e){var r=this;this.a11yContainer.textContent="",setTimeout(function(){r.a11yContainer.textContent=e},100)},t.prototype._getAnimationEndEventName=function(){var e=document.createElement("_fake"),r={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"},n;for(n in r)if(e.style[n]!==void 0)return r[n];return"animationend"},t}(),Kk=function(){function t(e){var r=this;this.dismiss=this._removeNotification,this.notifications=new Gk,this.view=new jk;var n=this.registerTypes(e);this.options=Dr(Dr({},hd),e),this.options.types=n,this.notifications.onUpdate(function(i,a){return r.view.update(i,a)}),this.view.on(Pn.Dismiss,function(i){var a=i.target,o=i.event;r._removeNotification(a),a.triggerEvent(Pn.Dismiss,o)}),this.view.on(Pn.Click,function(i){var a=i.target,o=i.event;return a.triggerEvent(Pn.Click,o)})}return t.prototype.error=function(e){var r=this.normalizeOptions("error",e);return this.open(r)},t.prototype.success=function(e){var r=this.normalizeOptions("success",e);return this.open(r)},t.prototype.open=function(e){var r=this.options.types.find(function(a){var o=a.type;return o===e.type})||{},n=Dr(Dr({},r),e);this.assignProps(["ripple","position","dismissible"],n);var i=new Uk(n);return this._pushNotification(i),i},t.prototype.dismissAll=function(){for(;this.notifications.splice(0,1););},t.prototype.assignProps=function(e,r){var n=this;e.forEach(function(i){r[i]=r[i]==null?n.options[i]:r[i]})},t.prototype._pushNotification=function(e){var r=this;this.notifications.push(e);var n=e.options.duration!==void 0?e.options.duration:this.options.duration;n&&setTimeout(function(){return r._removeNotification(e)},n)},t.prototype._removeNotification=function(e){var r=this.notifications.indexOf(e);r!==-1&&this.notifications.splice(r,1)},t.prototype.normalizeOptions=function(e,r){var n={type:e};return typeof r=="string"?n.message=r:typeof r=="object"&&(n=Dr(Dr({},n),r)),n},t.prototype.registerTypes=function(e){var r=(e&&e.types||[]).slice(),n=hd.types.map(function(i){var a=-1;r.forEach(function(s,l){s.type===i.type&&(a=l)});var o=a!==-1?r.splice(a,1)[0]:{};return Dr(Dr({},i),o)});return n.concat(r)},t}();function Yk(){const t=new Kk({duration:1e4,types:[{type:"warn",backgroundColor:"orange",icon:{className:"material-icons",tagName:"i",text:"warning"}},{type:"info",backgroundColor:"green",icon:{className:"material-icons",tagName:"i",text:"info"}},{type:"debug",backgroundColor:"blue",icon:{className:"material-icons",tagName:"i",text:"debug"}},{type:"trace",backgroundColor:"darkgray",icon:{className:"material-icons",tagName:"i",text:"trace"}}]});_e.setLevel(it.logLevelConsole);const e=["error","warn","info","debug","trace"],r={silent:0,error:1,warn:2,info:3,debug:4,trace:5};for(const n of e){const i=_e[n];_e[n]=a=>{i(a),r[n]<=r[it.logLevelMemory]&&(_e.logs||(_e.logs=[]),_e.logs.push(a)),r[n]<=r[it.logLevelDisplay]&&t.open({type:n,message:a})}}}const Ca=[];function Xk(){document.documentElement.addEventListener("keydown",t=>{const e=t.target;if(!e||e.nodeName!=="BODY")return;const r=We.activeState();if(r){if((t.code==="Delete"||t.code==="Backspace")&&r.cy.remove(":selected"),t.code==="KeyS"||t.code==="KeyC"){const n=r.cy.nodes(":selected");if(n.size()===0)return;Ca.length=0,Ca.push(...n.map(i=>i.id())),_e.debug(`Copied ${Ca.length} elements from ${r.name}.`),_e.info("Partial graph copied!")}if(t.code==="KeyP"||t.code==="KeyV"){r.cy.startBatch(),r.cy.elements().unselect();const n=r.graph.getElementsByIds(Ca);St.setVisible(n,!0),r.cy.endBatch();const i=r.cy.nodes(".unfiltered").not(".hidden"),a=n.edgesWith(i),o=n.union(a);St.setVisible(o,!0),o.select(),r.cy.fit(r.cy.elements(".unfiltered").not(".hidden")),_e.debug(`Pasted ${Ca.length} elements into ${r.name}.`),_e.info("Partial graph inserted!")}}})}async function Qk(){if(window.mainCalled){_e.warn("main() is called multiple times for unknown reasons. Ignoring.");return}window.mainCalled=!0,console.groupCollapsed("Initializing"),console.time("Initializing"),Yk(),Xk(),Vr.init({openTrigger:"data-custom-open"});for(let t=0;t<it.multiview.initialTabs;t++)await new We().initialized;console.timeEnd("Initializing"),console.groupEnd()}document.addEventListener("DOMContentLoaded",Qk);
//# sourceMappingURL=main-lNufJV52.js.map
