var sg=Object.defineProperty;var lg=(t,e,n)=>e in t?sg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Et=(t,e,n)=>lg(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ti(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ss={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var ug=ss.exports,Oc;function cg(){return Oc||(Oc=1,function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:ug,function(e,n){var r=[],i=Object.getPrototypeOf,a=r.slice,o=r.flat?function(f){return r.flat.call(f)}:function(f){return r.concat.apply([],f)},s=r.push,l=r.indexOf,u={},c=u.toString,d=u.hasOwnProperty,p=d.toString,g=p.call(Object),h={},y=function(m){return typeof m=="function"&&typeof m.nodeType!="number"&&typeof m.item!="function"},w=function(m){return m!=null&&m===m.window},b=e.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function S(f,m,C){C=C||b;var T,M,A=C.createElement("script");if(A.text=f,m)for(T in E)M=m[T]||m.getAttribute&&m.getAttribute(T),M&&A.setAttribute(T,M);C.head.appendChild(A).parentNode.removeChild(A)}function x(f){return f==null?f+"":typeof f=="object"||typeof f=="function"?u[c.call(f)]||"object":typeof f}var _="3.7.1",k=/HTML$/i,v=function(f,m){return new v.fn.init(f,m)};v.fn=v.prototype={jquery:_,constructor:v,length:0,toArray:function(){return a.call(this)},get:function(f){return f==null?a.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var m=v.merge(this.constructor(),f);return m.prevObject=this,m},each:function(f){return v.each(this,f)},map:function(f){return this.pushStack(v.map(this,function(m,C){return f.call(m,C,m)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(v.grep(this,function(f,m){return(m+1)%2}))},odd:function(){return this.pushStack(v.grep(this,function(f,m){return m%2}))},eq:function(f){var m=this.length,C=+f+(f<0?m:0);return this.pushStack(C>=0&&C<m?[this[C]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:r.sort,splice:r.splice},v.extend=v.fn.extend=function(){var f,m,C,T,M,A,N=arguments[0]||{},Z=1,K=arguments.length,ae=!1;for(typeof N=="boolean"&&(ae=N,N=arguments[Z]||{},Z++),typeof N!="object"&&!y(N)&&(N={}),Z===K&&(N=this,Z--);Z<K;Z++)if((f=arguments[Z])!=null)for(m in f)T=f[m],!(m==="__proto__"||N===T)&&(ae&&T&&(v.isPlainObject(T)||(M=Array.isArray(T)))?(C=N[m],M&&!Array.isArray(C)?A=[]:!M&&!v.isPlainObject(C)?A={}:A=C,M=!1,N[m]=v.extend(ae,A,T)):T!==void 0&&(N[m]=T));return N},v.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var m,C;return!f||c.call(f)!=="[object Object]"?!1:(m=i(f),m?(C=d.call(m,"constructor")&&m.constructor,typeof C=="function"&&p.call(C)===g):!0)},isEmptyObject:function(f){var m;for(m in f)return!1;return!0},globalEval:function(f,m,C){S(f,{nonce:m&&m.nonce},C)},each:function(f,m){var C,T=0;if(D(f))for(C=f.length;T<C&&m.call(f[T],T,f[T])!==!1;T++);else for(T in f)if(m.call(f[T],T,f[T])===!1)break;return f},text:function(f){var m,C="",T=0,M=f.nodeType;if(!M)for(;m=f[T++];)C+=v.text(m);return M===1||M===11?f.textContent:M===9?f.documentElement.textContent:M===3||M===4?f.nodeValue:C},makeArray:function(f,m){var C=m||[];return f!=null&&(D(Object(f))?v.merge(C,typeof f=="string"?[f]:f):s.call(C,f)),C},inArray:function(f,m,C){return m==null?-1:l.call(m,f,C)},isXMLDoc:function(f){var m=f&&f.namespaceURI,C=f&&(f.ownerDocument||f).documentElement;return!k.test(m||C&&C.nodeName||"HTML")},merge:function(f,m){for(var C=+m.length,T=0,M=f.length;T<C;T++)f[M++]=m[T];return f.length=M,f},grep:function(f,m,C){for(var T,M=[],A=0,N=f.length,Z=!C;A<N;A++)T=!m(f[A],A),T!==Z&&M.push(f[A]);return M},map:function(f,m,C){var T,M,A=0,N=[];if(D(f))for(T=f.length;A<T;A++)M=m(f[A],A,C),M!=null&&N.push(M);else for(A in f)M=m(f[A],A,C),M!=null&&N.push(M);return o(N)},guid:1,support:h}),typeof Symbol=="function"&&(v.fn[Symbol.iterator]=r[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,m){u["[object "+m+"]"]=m.toLowerCase()});function D(f){var m=!!f&&"length"in f&&f.length,C=x(f);return y(f)||w(f)?!1:C==="array"||m===0||typeof m=="number"&&m>0&&m-1 in f}function I(f,m){return f.nodeName&&f.nodeName.toLowerCase()===m.toLowerCase()}var B=r.pop,P=r.sort,L=r.splice,R="[\\x20\\t\\r\\n\\f]",O=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g");v.contains=function(f,m){var C=m&&m.parentNode;return f===C||!!(C&&C.nodeType===1&&(f.contains?f.contains(C):f.compareDocumentPosition&&f.compareDocumentPosition(C)&16))};var F=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function $(f,m){return m?f==="\0"?"ï¿½":f.slice(0,-1)+"\\"+f.charCodeAt(f.length-1).toString(16)+" ":"\\"+f}v.escapeSelector=function(f){return(f+"").replace(F,$)};var W=b,Y=s;(function(){var f,m,C,T,M,A=Y,N,Z,K,ae,ge,xe=v.expando,fe=0,Le=0,nt=Oo(),dt=Oo(),st=Oo(),Qt=Oo(),Wt=function(V,ee){return V===ee&&(M=!0),0},Jn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",er="(?:\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ft="\\["+R+"*("+er+")(?:"+R+"*([*^$|!~]?=)"+R+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+er+"))|)"+R+"*\\]",ri=":("+er+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ft+")*)|.*)\\)|)",ht=new RegExp(R+"+","g"),Bt=new RegExp("^"+R+"*,"+R+"*"),ka=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),El=new RegExp(R+"|>"),tr=new RegExp(ri),_a=new RegExp("^"+er+"$"),nr={ID:new RegExp("^#("+er+")"),CLASS:new RegExp("^\\.("+er+")"),TAG:new RegExp("^("+er+"|[*])"),ATTR:new RegExp("^"+ft),PSEUDO:new RegExp("^"+ri),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+Jn+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},Pr=/^(?:input|select|textarea|button)$/i,Lr=/^h\d$/i,Ln=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Sl=/[+~]/,mr=new RegExp("\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\([^\\r\\n\\f])","g"),yr=function(V,ee){var ce="0x"+V.slice(1)-65536;return ee||(ce<0?String.fromCharCode(ce+65536):String.fromCharCode(ce>>10|55296,ce&1023|56320))},eg=function(){Or()},tg=Bo(function(V){return V.disabled===!0&&I(V,"fieldset")},{dir:"parentNode",next:"legend"});function ng(){try{return N.activeElement}catch{}}try{A.apply(r=a.call(W.childNodes),W.childNodes),r[W.childNodes.length].nodeType}catch{A={apply:function(ee,ce){Y.apply(ee,a.call(ce))},call:function(ee){Y.apply(ee,a.call(arguments,1))}}}function Ct(V,ee,ce,he){var we,Re,qe,Ye,Ve,ut,tt,rt=ee&&ee.ownerDocument,ct=ee?ee.nodeType:9;if(ce=ce||[],typeof V!="string"||!V||ct!==1&&ct!==9&&ct!==11)return ce;if(!he&&(Or(ee),ee=ee||N,K)){if(ct!==11&&(Ve=Ln.exec(V)))if(we=Ve[1]){if(ct===9)if(qe=ee.getElementById(we)){if(qe.id===we)return A.call(ce,qe),ce}else return ce;else if(rt&&(qe=rt.getElementById(we))&&Ct.contains(ee,qe)&&qe.id===we)return A.call(ce,qe),ce}else{if(Ve[2])return A.apply(ce,ee.getElementsByTagName(V)),ce;if((we=Ve[3])&&ee.getElementsByClassName)return A.apply(ce,ee.getElementsByClassName(we)),ce}if(!Qt[V+" "]&&(!ae||!ae.test(V))){if(tt=V,rt=ee,ct===1&&(El.test(V)||ka.test(V))){for(rt=Sl.test(V)&&Tl(ee.parentNode)||ee,(rt!=ee||!h.scope)&&((Ye=ee.getAttribute("id"))?Ye=v.escapeSelector(Ye):ee.setAttribute("id",Ye=xe)),ut=Ma(V),Re=ut.length;Re--;)ut[Re]=(Ye?"#"+Ye:":scope")+" "+No(ut[Re]);tt=ut.join(",")}try{return A.apply(ce,rt.querySelectorAll(tt)),ce}catch{Qt(V,!0)}finally{Ye===xe&&ee.removeAttribute("id")}}}return Lc(V.replace(O,"$1"),ee,ce,he)}function Oo(){var V=[];function ee(ce,he){return V.push(ce+" ")>m.cacheLength&&delete ee[V.shift()],ee[ce+" "]=he}return ee}function Wn(V){return V[xe]=!0,V}function Di(V){var ee=N.createElement("fieldset");try{return!!V(ee)}catch{return!1}finally{ee.parentNode&&ee.parentNode.removeChild(ee),ee=null}}function rg(V){return function(ee){return I(ee,"input")&&ee.type===V}}function ig(V){return function(ee){return(I(ee,"input")||I(ee,"button"))&&ee.type===V}}function Dc(V){return function(ee){return"form"in ee?ee.parentNode&&ee.disabled===!1?"label"in ee?"label"in ee.parentNode?ee.parentNode.disabled===V:ee.disabled===V:ee.isDisabled===V||ee.isDisabled!==!V&&tg(ee)===V:ee.disabled===V:"label"in ee?ee.disabled===V:!1}}function ii(V){return Wn(function(ee){return ee=+ee,Wn(function(ce,he){for(var we,Re=V([],ce.length,ee),qe=Re.length;qe--;)ce[we=Re[qe]]&&(ce[we]=!(he[we]=ce[we]))})})}function Tl(V){return V&&typeof V.getElementsByTagName<"u"&&V}function Or(V){var ee,ce=V?V.ownerDocument||V:W;return ce==N||ce.nodeType!==9||!ce.documentElement||(N=ce,Z=N.documentElement,K=!v.isXMLDoc(N),ge=Z.matches||Z.webkitMatchesSelector||Z.msMatchesSelector,Z.msMatchesSelector&&W!=N&&(ee=N.defaultView)&&ee.top!==ee&&ee.addEventListener("unload",eg),h.getById=Di(function(he){return Z.appendChild(he).id=v.expando,!N.getElementsByName||!N.getElementsByName(v.expando).length}),h.disconnectedMatch=Di(function(he){return ge.call(he,"*")}),h.scope=Di(function(){return N.querySelectorAll(":scope")}),h.cssHas=Di(function(){try{return N.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),h.getById?(m.filter.ID=function(he){var we=he.replace(mr,yr);return function(Re){return Re.getAttribute("id")===we}},m.find.ID=function(he,we){if(typeof we.getElementById<"u"&&K){var Re=we.getElementById(he);return Re?[Re]:[]}}):(m.filter.ID=function(he){var we=he.replace(mr,yr);return function(Re){var qe=typeof Re.getAttributeNode<"u"&&Re.getAttributeNode("id");return qe&&qe.value===we}},m.find.ID=function(he,we){if(typeof we.getElementById<"u"&&K){var Re,qe,Ye,Ve=we.getElementById(he);if(Ve){if(Re=Ve.getAttributeNode("id"),Re&&Re.value===he)return[Ve];for(Ye=we.getElementsByName(he),qe=0;Ve=Ye[qe++];)if(Re=Ve.getAttributeNode("id"),Re&&Re.value===he)return[Ve]}return[]}}),m.find.TAG=function(he,we){return typeof we.getElementsByTagName<"u"?we.getElementsByTagName(he):we.querySelectorAll(he)},m.find.CLASS=function(he,we){if(typeof we.getElementsByClassName<"u"&&K)return we.getElementsByClassName(he)},ae=[],Di(function(he){var we;Z.appendChild(he).innerHTML="<a id='"+xe+"' href='' disabled='disabled'></a><select id='"+xe+"-\r\\' disabled='disabled'><option selected=''></option></select>",he.querySelectorAll("[selected]").length||ae.push("\\["+R+"*(?:value|"+Jn+")"),he.querySelectorAll("[id~="+xe+"-]").length||ae.push("~="),he.querySelectorAll("a#"+xe+"+*").length||ae.push(".#.+[+~]"),he.querySelectorAll(":checked").length||ae.push(":checked"),we=N.createElement("input"),we.setAttribute("type","hidden"),he.appendChild(we).setAttribute("name","D"),Z.appendChild(he).disabled=!0,he.querySelectorAll(":disabled").length!==2&&ae.push(":enabled",":disabled"),we=N.createElement("input"),we.setAttribute("name",""),he.appendChild(we),he.querySelectorAll("[name='']").length||ae.push("\\["+R+"*name"+R+"*="+R+`*(?:''|"")`)}),h.cssHas||ae.push(":has"),ae=ae.length&&new RegExp(ae.join("|")),Wt=function(he,we){if(he===we)return M=!0,0;var Re=!he.compareDocumentPosition-!we.compareDocumentPosition;return Re||(Re=(he.ownerDocument||he)==(we.ownerDocument||we)?he.compareDocumentPosition(we):1,Re&1||!h.sortDetached&&we.compareDocumentPosition(he)===Re?he===N||he.ownerDocument==W&&Ct.contains(W,he)?-1:we===N||we.ownerDocument==W&&Ct.contains(W,we)?1:T?l.call(T,he)-l.call(T,we):0:Re&4?-1:1)}),N}Ct.matches=function(V,ee){return Ct(V,null,null,ee)},Ct.matchesSelector=function(V,ee){if(Or(V),K&&!Qt[ee+" "]&&(!ae||!ae.test(ee)))try{var ce=ge.call(V,ee);if(ce||h.disconnectedMatch||V.document&&V.document.nodeType!==11)return ce}catch{Qt(ee,!0)}return Ct(ee,N,null,[V]).length>0},Ct.contains=function(V,ee){return(V.ownerDocument||V)!=N&&Or(V),v.contains(V,ee)},Ct.attr=function(V,ee){(V.ownerDocument||V)!=N&&Or(V);var ce=m.attrHandle[ee.toLowerCase()],he=ce&&d.call(m.attrHandle,ee.toLowerCase())?ce(V,ee,!K):void 0;return he!==void 0?he:V.getAttribute(ee)},Ct.error=function(V){throw new Error("Syntax error, unrecognized expression: "+V)},v.uniqueSort=function(V){var ee,ce=[],he=0,we=0;if(M=!h.sortStable,T=!h.sortStable&&a.call(V,0),P.call(V,Wt),M){for(;ee=V[we++];)ee===V[we]&&(he=ce.push(we));for(;he--;)L.call(V,ce[he],1)}return T=null,V},v.fn.uniqueSort=function(){return this.pushStack(v.uniqueSort(a.apply(this)))},m=v.expr={cacheLength:50,createPseudo:Wn,match:nr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(V){return V[1]=V[1].replace(mr,yr),V[3]=(V[3]||V[4]||V[5]||"").replace(mr,yr),V[2]==="~="&&(V[3]=" "+V[3]+" "),V.slice(0,4)},CHILD:function(V){return V[1]=V[1].toLowerCase(),V[1].slice(0,3)==="nth"?(V[3]||Ct.error(V[0]),V[4]=+(V[4]?V[5]+(V[6]||1):2*(V[3]==="even"||V[3]==="odd")),V[5]=+(V[7]+V[8]||V[3]==="odd")):V[3]&&Ct.error(V[0]),V},PSEUDO:function(V){var ee,ce=!V[6]&&V[2];return nr.CHILD.test(V[0])?null:(V[3]?V[2]=V[4]||V[5]||"":ce&&tr.test(ce)&&(ee=Ma(ce,!0))&&(ee=ce.indexOf(")",ce.length-ee)-ce.length)&&(V[0]=V[0].slice(0,ee),V[2]=ce.slice(0,ee)),V.slice(0,3))}},filter:{TAG:function(V){var ee=V.replace(mr,yr).toLowerCase();return V==="*"?function(){return!0}:function(ce){return I(ce,ee)}},CLASS:function(V){var ee=nt[V+" "];return ee||(ee=new RegExp("(^|"+R+")"+V+"("+R+"|$)"))&&nt(V,function(ce){return ee.test(typeof ce.className=="string"&&ce.className||typeof ce.getAttribute<"u"&&ce.getAttribute("class")||"")})},ATTR:function(V,ee,ce){return function(he){var we=Ct.attr(he,V);return we==null?ee==="!=":ee?(we+="",ee==="="?we===ce:ee==="!="?we!==ce:ee==="^="?ce&&we.indexOf(ce)===0:ee==="*="?ce&&we.indexOf(ce)>-1:ee==="$="?ce&&we.slice(-ce.length)===ce:ee==="~="?(" "+we.replace(ht," ")+" ").indexOf(ce)>-1:ee==="|="?we===ce||we.slice(0,ce.length+1)===ce+"-":!1):!0}},CHILD:function(V,ee,ce,he,we){var Re=V.slice(0,3)!=="nth",qe=V.slice(-4)!=="last",Ye=ee==="of-type";return he===1&&we===0?function(Ve){return!!Ve.parentNode}:function(Ve,ut,tt){var rt,ct,Je,kt,bn,sn=Re!==qe?"nextSibling":"previousSibling",On=Ve.parentNode,rr=Ye&&Ve.nodeName.toLowerCase(),Pi=!tt&&!Ye,vn=!1;if(On){if(Re){for(;sn;){for(Je=Ve;Je=Je[sn];)if(Ye?I(Je,rr):Je.nodeType===1)return!1;bn=sn=V==="only"&&!bn&&"nextSibling"}return!0}if(bn=[qe?On.firstChild:On.lastChild],qe&&Pi){for(ct=On[xe]||(On[xe]={}),rt=ct[V]||[],kt=rt[0]===fe&&rt[1],vn=kt&&rt[2],Je=kt&&On.childNodes[kt];Je=++kt&&Je&&Je[sn]||(vn=kt=0)||bn.pop();)if(Je.nodeType===1&&++vn&&Je===Ve){ct[V]=[fe,kt,vn];break}}else if(Pi&&(ct=Ve[xe]||(Ve[xe]={}),rt=ct[V]||[],kt=rt[0]===fe&&rt[1],vn=kt),vn===!1)for(;(Je=++kt&&Je&&Je[sn]||(vn=kt=0)||bn.pop())&&!((Ye?I(Je,rr):Je.nodeType===1)&&++vn&&(Pi&&(ct=Je[xe]||(Je[xe]={}),ct[V]=[fe,vn]),Je===Ve)););return vn-=we,vn===he||vn%he===0&&vn/he>=0}}},PSEUDO:function(V,ee){var ce,he=m.pseudos[V]||m.setFilters[V.toLowerCase()]||Ct.error("unsupported pseudo: "+V);return he[xe]?he(ee):he.length>1?(ce=[V,V,"",ee],m.setFilters.hasOwnProperty(V.toLowerCase())?Wn(function(we,Re){for(var qe,Ye=he(we,ee),Ve=Ye.length;Ve--;)qe=l.call(we,Ye[Ve]),we[qe]=!(Re[qe]=Ye[Ve])}):function(we){return he(we,0,ce)}):he}},pseudos:{not:Wn(function(V){var ee=[],ce=[],he=Al(V.replace(O,"$1"));return he[xe]?Wn(function(we,Re,qe,Ye){for(var Ve,ut=he(we,null,Ye,[]),tt=we.length;tt--;)(Ve=ut[tt])&&(we[tt]=!(Re[tt]=Ve))}):function(we,Re,qe){return ee[0]=we,he(ee,null,qe,ce),ee[0]=null,!ce.pop()}}),has:Wn(function(V){return function(ee){return Ct(V,ee).length>0}}),contains:Wn(function(V){return V=V.replace(mr,yr),function(ee){return(ee.textContent||v.text(ee)).indexOf(V)>-1}}),lang:Wn(function(V){return _a.test(V||"")||Ct.error("unsupported lang: "+V),V=V.replace(mr,yr).toLowerCase(),function(ee){var ce;do if(ce=K?ee.lang:ee.getAttribute("xml:lang")||ee.getAttribute("lang"))return ce=ce.toLowerCase(),ce===V||ce.indexOf(V+"-")===0;while((ee=ee.parentNode)&&ee.nodeType===1);return!1}}),target:function(V){var ee=e.location&&e.location.hash;return ee&&ee.slice(1)===V.id},root:function(V){return V===Z},focus:function(V){return V===ng()&&N.hasFocus()&&!!(V.type||V.href||~V.tabIndex)},enabled:Dc(!1),disabled:Dc(!0),checked:function(V){return I(V,"input")&&!!V.checked||I(V,"option")&&!!V.selected},selected:function(V){return V.parentNode&&V.parentNode.selectedIndex,V.selected===!0},empty:function(V){for(V=V.firstChild;V;V=V.nextSibling)if(V.nodeType<6)return!1;return!0},parent:function(V){return!m.pseudos.empty(V)},header:function(V){return Lr.test(V.nodeName)},input:function(V){return Pr.test(V.nodeName)},button:function(V){return I(V,"input")&&V.type==="button"||I(V,"button")},text:function(V){var ee;return I(V,"input")&&V.type==="text"&&((ee=V.getAttribute("type"))==null||ee.toLowerCase()==="text")},first:ii(function(){return[0]}),last:ii(function(V,ee){return[ee-1]}),eq:ii(function(V,ee,ce){return[ce<0?ce+ee:ce]}),even:ii(function(V,ee){for(var ce=0;ce<ee;ce+=2)V.push(ce);return V}),odd:ii(function(V,ee){for(var ce=1;ce<ee;ce+=2)V.push(ce);return V}),lt:ii(function(V,ee,ce){var he;for(ce<0?he=ce+ee:ce>ee?he=ee:he=ce;--he>=0;)V.push(he);return V}),gt:ii(function(V,ee,ce){for(var he=ce<0?ce+ee:ce;++he<ee;)V.push(he);return V})}},m.pseudos.nth=m.pseudos.eq;for(f in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})m.pseudos[f]=rg(f);for(f in{submit:!0,reset:!0})m.pseudos[f]=ig(f);function Pc(){}Pc.prototype=m.filters=m.pseudos,m.setFilters=new Pc;function Ma(V,ee){var ce,he,we,Re,qe,Ye,Ve,ut=dt[V+" "];if(ut)return ee?0:ut.slice(0);for(qe=V,Ye=[],Ve=m.preFilter;qe;){(!ce||(he=Bt.exec(qe)))&&(he&&(qe=qe.slice(he[0].length)||qe),Ye.push(we=[])),ce=!1,(he=ka.exec(qe))&&(ce=he.shift(),we.push({value:ce,type:he[0].replace(O," ")}),qe=qe.slice(ce.length));for(Re in m.filter)(he=nr[Re].exec(qe))&&(!Ve[Re]||(he=Ve[Re](he)))&&(ce=he.shift(),we.push({value:ce,type:Re,matches:he}),qe=qe.slice(ce.length));if(!ce)break}return ee?qe.length:qe?Ct.error(V):dt(V,Ye).slice(0)}function No(V){for(var ee=0,ce=V.length,he="";ee<ce;ee++)he+=V[ee].value;return he}function Bo(V,ee,ce){var he=ee.dir,we=ee.next,Re=we||he,qe=ce&&Re==="parentNode",Ye=Le++;return ee.first?function(Ve,ut,tt){for(;Ve=Ve[he];)if(Ve.nodeType===1||qe)return V(Ve,ut,tt);return!1}:function(Ve,ut,tt){var rt,ct,Je=[fe,Ye];if(tt){for(;Ve=Ve[he];)if((Ve.nodeType===1||qe)&&V(Ve,ut,tt))return!0}else for(;Ve=Ve[he];)if(Ve.nodeType===1||qe)if(ct=Ve[xe]||(Ve[xe]={}),we&&I(Ve,we))Ve=Ve[he]||Ve;else{if((rt=ct[Re])&&rt[0]===fe&&rt[1]===Ye)return Je[2]=rt[2];if(ct[Re]=Je,Je[2]=V(Ve,ut,tt))return!0}return!1}}function kl(V){return V.length>1?function(ee,ce,he){for(var we=V.length;we--;)if(!V[we](ee,ce,he))return!1;return!0}:V[0]}function ag(V,ee,ce){for(var he=0,we=ee.length;he<we;he++)Ct(V,ee[he],ce);return ce}function Ro(V,ee,ce,he,we){for(var Re,qe=[],Ye=0,Ve=V.length,ut=ee!=null;Ye<Ve;Ye++)(Re=V[Ye])&&(!ce||ce(Re,he,we))&&(qe.push(Re),ut&&ee.push(Ye));return qe}function _l(V,ee,ce,he,we,Re){return he&&!he[xe]&&(he=_l(he)),we&&!we[xe]&&(we=_l(we,Re)),Wn(function(qe,Ye,Ve,ut){var tt,rt,ct,Je,kt=[],bn=[],sn=Ye.length,On=qe||ag(ee||"*",Ve.nodeType?[Ve]:Ve,[]),rr=V&&(qe||!ee)?Ro(On,kt,V,Ve,ut):On;if(ce?(Je=we||(qe?V:sn||he)?[]:Ye,ce(rr,Je,Ve,ut)):Je=rr,he)for(tt=Ro(Je,bn),he(tt,[],Ve,ut),rt=tt.length;rt--;)(ct=tt[rt])&&(Je[bn[rt]]=!(rr[bn[rt]]=ct));if(qe){if(we||V){if(we){for(tt=[],rt=Je.length;rt--;)(ct=Je[rt])&&tt.push(rr[rt]=ct);we(null,Je=[],tt,ut)}for(rt=Je.length;rt--;)(ct=Je[rt])&&(tt=we?l.call(qe,ct):kt[rt])>-1&&(qe[tt]=!(Ye[tt]=ct))}}else Je=Ro(Je===Ye?Je.splice(sn,Je.length):Je),we?we(null,Ye,Je,ut):A.apply(Ye,Je)})}function Ml(V){for(var ee,ce,he,we=V.length,Re=m.relative[V[0].type],qe=Re||m.relative[" "],Ye=Re?1:0,Ve=Bo(function(rt){return rt===ee},qe,!0),ut=Bo(function(rt){return l.call(ee,rt)>-1},qe,!0),tt=[function(rt,ct,Je){var kt=!Re&&(Je||ct!=C)||((ee=ct).nodeType?Ve(rt,ct,Je):ut(rt,ct,Je));return ee=null,kt}];Ye<we;Ye++)if(ce=m.relative[V[Ye].type])tt=[Bo(kl(tt),ce)];else{if(ce=m.filter[V[Ye].type].apply(null,V[Ye].matches),ce[xe]){for(he=++Ye;he<we&&!m.relative[V[he].type];he++);return _l(Ye>1&&kl(tt),Ye>1&&No(V.slice(0,Ye-1).concat({value:V[Ye-2].type===" "?"*":""})).replace(O,"$1"),ce,Ye<he&&Ml(V.slice(Ye,he)),he<we&&Ml(V=V.slice(he)),he<we&&No(V))}tt.push(ce)}return kl(tt)}function og(V,ee){var ce=ee.length>0,he=V.length>0,we=function(Re,qe,Ye,Ve,ut){var tt,rt,ct,Je=0,kt="0",bn=Re&&[],sn=[],On=C,rr=Re||he&&m.find.TAG("*",ut),Pi=fe+=On==null?1:Math.random()||.1,vn=rr.length;for(ut&&(C=qe==N||qe||ut);kt!==vn&&(tt=rr[kt])!=null;kt++){if(he&&tt){for(rt=0,!qe&&tt.ownerDocument!=N&&(Or(tt),Ye=!K);ct=V[rt++];)if(ct(tt,qe||N,Ye)){A.call(Ve,tt);break}ut&&(fe=Pi)}ce&&((tt=!ct&&tt)&&Je--,Re&&bn.push(tt))}if(Je+=kt,ce&&kt!==Je){for(rt=0;ct=ee[rt++];)ct(bn,sn,qe,Ye);if(Re){if(Je>0)for(;kt--;)bn[kt]||sn[kt]||(sn[kt]=B.call(Ve));sn=Ro(sn)}A.apply(Ve,sn),ut&&!Re&&sn.length>0&&Je+ee.length>1&&v.uniqueSort(Ve)}return ut&&(fe=Pi,C=On),bn};return ce?Wn(we):we}function Al(V,ee){var ce,he=[],we=[],Re=st[V+" "];if(!Re){for(ee||(ee=Ma(V)),ce=ee.length;ce--;)Re=Ml(ee[ce]),Re[xe]?he.push(Re):we.push(Re);Re=st(V,og(we,he)),Re.selector=V}return Re}function Lc(V,ee,ce,he){var we,Re,qe,Ye,Ve,ut=typeof V=="function"&&V,tt=!he&&Ma(V=ut.selector||V);if(ce=ce||[],tt.length===1){if(Re=tt[0]=tt[0].slice(0),Re.length>2&&(qe=Re[0]).type==="ID"&&ee.nodeType===9&&K&&m.relative[Re[1].type]){if(ee=(m.find.ID(qe.matches[0].replace(mr,yr),ee)||[])[0],ee)ut&&(ee=ee.parentNode);else return ce;V=V.slice(Re.shift().value.length)}for(we=nr.needsContext.test(V)?0:Re.length;we--&&(qe=Re[we],!m.relative[Ye=qe.type]);)if((Ve=m.find[Ye])&&(he=Ve(qe.matches[0].replace(mr,yr),Sl.test(Re[0].type)&&Tl(ee.parentNode)||ee))){if(Re.splice(we,1),V=he.length&&No(Re),!V)return A.apply(ce,he),ce;break}}return(ut||Al(V,tt))(he,ee,!K,ce,!ee||Sl.test(V)&&Tl(ee.parentNode)||ee),ce}h.sortStable=xe.split("").sort(Wt).join("")===xe,Or(),h.sortDetached=Di(function(V){return V.compareDocumentPosition(N.createElement("fieldset"))&1}),v.find=Ct,v.expr[":"]=v.expr.pseudos,v.unique=v.uniqueSort,Ct.compile=Al,Ct.select=Lc,Ct.setDocument=Or,Ct.tokenize=Ma,Ct.escape=v.escapeSelector,Ct.getText=v.text,Ct.isXML=v.isXMLDoc,Ct.selectors=v.expr,Ct.support=v.support,Ct.uniqueSort=v.uniqueSort})();var ie=function(f,m,C){for(var T=[],M=C!==void 0;(f=f[m])&&f.nodeType!==9;)if(f.nodeType===1){if(M&&v(f).is(C))break;T.push(f)}return T},oe=function(f,m){for(var C=[];f;f=f.nextSibling)f.nodeType===1&&f!==m&&C.push(f);return C},Q=v.expr.match.needsContext,H=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function U(f,m,C){return y(m)?v.grep(f,function(T,M){return!!m.call(T,M,T)!==C}):m.nodeType?v.grep(f,function(T){return T===m!==C}):typeof m!="string"?v.grep(f,function(T){return l.call(m,T)>-1!==C}):v.filter(m,f,C)}v.filter=function(f,m,C){var T=m[0];return C&&(f=":not("+f+")"),m.length===1&&T.nodeType===1?v.find.matchesSelector(T,f)?[T]:[]:v.find.matches(f,v.grep(m,function(M){return M.nodeType===1}))},v.fn.extend({find:function(f){var m,C,T=this.length,M=this;if(typeof f!="string")return this.pushStack(v(f).filter(function(){for(m=0;m<T;m++)if(v.contains(M[m],this))return!0}));for(C=this.pushStack([]),m=0;m<T;m++)v.find(f,M[m],C);return T>1?v.uniqueSort(C):C},filter:function(f){return this.pushStack(U(this,f||[],!1))},not:function(f){return this.pushStack(U(this,f||[],!0))},is:function(f){return!!U(this,typeof f=="string"&&Q.test(f)?v(f):f||[],!1).length}});var G,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,X=v.fn.init=function(f,m,C){var T,M;if(!f)return this;if(C=C||G,typeof f=="string")if(f[0]==="<"&&f[f.length-1]===">"&&f.length>=3?T=[null,f,null]:T=q.exec(f),T&&(T[1]||!m))if(T[1]){if(m=m instanceof v?m[0]:m,v.merge(this,v.parseHTML(T[1],m&&m.nodeType?m.ownerDocument||m:b,!0)),H.test(T[1])&&v.isPlainObject(m))for(T in m)y(this[T])?this[T](m[T]):this.attr(T,m[T]);return this}else return M=b.getElementById(T[2]),M&&(this[0]=M,this.length=1),this;else return!m||m.jquery?(m||C).find(f):this.constructor(m).find(f);else{if(f.nodeType)return this[0]=f,this.length=1,this;if(y(f))return C.ready!==void 0?C.ready(f):f(v)}return v.makeArray(f,this)};X.prototype=v.fn,G=v(b);var re=/^(?:parents|prev(?:Until|All))/,ne={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(f){var m=v(f,this),C=m.length;return this.filter(function(){for(var T=0;T<C;T++)if(v.contains(this,m[T]))return!0})},closest:function(f,m){var C,T=0,M=this.length,A=[],N=typeof f!="string"&&v(f);if(!Q.test(f)){for(;T<M;T++)for(C=this[T];C&&C!==m;C=C.parentNode)if(C.nodeType<11&&(N?N.index(C)>-1:C.nodeType===1&&v.find.matchesSelector(C,f))){A.push(C);break}}return this.pushStack(A.length>1?v.uniqueSort(A):A)},index:function(f){return f?typeof f=="string"?l.call(v(f),this[0]):l.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,m){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(f,m))))},addBack:function(f){return this.add(f==null?this.prevObject:this.prevObject.filter(f))}});function j(f,m){for(;(f=f[m])&&f.nodeType!==1;);return f}v.each({parent:function(f){var m=f.parentNode;return m&&m.nodeType!==11?m:null},parents:function(f){return ie(f,"parentNode")},parentsUntil:function(f,m,C){return ie(f,"parentNode",C)},next:function(f){return j(f,"nextSibling")},prev:function(f){return j(f,"previousSibling")},nextAll:function(f){return ie(f,"nextSibling")},prevAll:function(f){return ie(f,"previousSibling")},nextUntil:function(f,m,C){return ie(f,"nextSibling",C)},prevUntil:function(f,m,C){return ie(f,"previousSibling",C)},siblings:function(f){return oe((f.parentNode||{}).firstChild,f)},children:function(f){return oe(f.firstChild)},contents:function(f){return f.contentDocument!=null&&i(f.contentDocument)?f.contentDocument:(I(f,"template")&&(f=f.content||f),v.merge([],f.childNodes))}},function(f,m){v.fn[f]=function(C,T){var M=v.map(this,m,C);return f.slice(-5)!=="Until"&&(T=C),T&&typeof T=="string"&&(M=v.filter(T,M)),this.length>1&&(ne[f]||v.uniqueSort(M),re.test(f)&&M.reverse()),this.pushStack(M)}});var te=/[^\x20\t\r\n\f]+/g;function ve(f){var m={};return v.each(f.match(te)||[],function(C,T){m[T]=!0}),m}v.Callbacks=function(f){f=typeof f=="string"?ve(f):v.extend({},f);var m,C,T,M,A=[],N=[],Z=-1,K=function(){for(M=M||f.once,T=m=!0;N.length;Z=-1)for(C=N.shift();++Z<A.length;)A[Z].apply(C[0],C[1])===!1&&f.stopOnFalse&&(Z=A.length,C=!1);f.memory||(C=!1),m=!1,M&&(C?A=[]:A="")},ae={add:function(){return A&&(C&&!m&&(Z=A.length-1,N.push(C)),function ge(xe){v.each(xe,function(fe,Le){y(Le)?(!f.unique||!ae.has(Le))&&A.push(Le):Le&&Le.length&&x(Le)!=="string"&&ge(Le)})}(arguments),C&&!m&&K()),this},remove:function(){return v.each(arguments,function(ge,xe){for(var fe;(fe=v.inArray(xe,A,fe))>-1;)A.splice(fe,1),fe<=Z&&Z--}),this},has:function(ge){return ge?v.inArray(ge,A)>-1:A.length>0},empty:function(){return A&&(A=[]),this},disable:function(){return M=N=[],A=C="",this},disabled:function(){return!A},lock:function(){return M=N=[],!C&&!m&&(A=C=""),this},locked:function(){return!!M},fireWith:function(ge,xe){return M||(xe=xe||[],xe=[ge,xe.slice?xe.slice():xe],N.push(xe),m||K()),this},fire:function(){return ae.fireWith(this,arguments),this},fired:function(){return!!T}};return ae};function ye(f){return f}function $e(f){throw f}function Ee(f,m,C,T){var M;try{f&&y(M=f.promise)?M.call(f).done(m).fail(C):f&&y(M=f.then)?M.call(f,m,C):m.apply(void 0,[f].slice(T))}catch(A){C.apply(void 0,[A])}}v.extend({Deferred:function(f){var m=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],C="pending",T={state:function(){return C},always:function(){return M.done(arguments).fail(arguments),this},catch:function(A){return T.then(null,A)},pipe:function(){var A=arguments;return v.Deferred(function(N){v.each(m,function(Z,K){var ae=y(A[K[4]])&&A[K[4]];M[K[1]](function(){var ge=ae&&ae.apply(this,arguments);ge&&y(ge.promise)?ge.promise().progress(N.notify).done(N.resolve).fail(N.reject):N[K[0]+"With"](this,ae?[ge]:arguments)})}),A=null}).promise()},then:function(A,N,Z){var K=0;function ae(ge,xe,fe,Le){return function(){var nt=this,dt=arguments,st=function(){var Wt,Jn;if(!(ge<K)){if(Wt=fe.apply(nt,dt),Wt===xe.promise())throw new TypeError("Thenable self-resolution");Jn=Wt&&(typeof Wt=="object"||typeof Wt=="function")&&Wt.then,y(Jn)?Le?Jn.call(Wt,ae(K,xe,ye,Le),ae(K,xe,$e,Le)):(K++,Jn.call(Wt,ae(K,xe,ye,Le),ae(K,xe,$e,Le),ae(K,xe,ye,xe.notifyWith))):(fe!==ye&&(nt=void 0,dt=[Wt]),(Le||xe.resolveWith)(nt,dt))}},Qt=Le?st:function(){try{st()}catch(Wt){v.Deferred.exceptionHook&&v.Deferred.exceptionHook(Wt,Qt.error),ge+1>=K&&(fe!==$e&&(nt=void 0,dt=[Wt]),xe.rejectWith(nt,dt))}};ge?Qt():(v.Deferred.getErrorHook?Qt.error=v.Deferred.getErrorHook():v.Deferred.getStackHook&&(Qt.error=v.Deferred.getStackHook()),e.setTimeout(Qt))}}return v.Deferred(function(ge){m[0][3].add(ae(0,ge,y(Z)?Z:ye,ge.notifyWith)),m[1][3].add(ae(0,ge,y(A)?A:ye)),m[2][3].add(ae(0,ge,y(N)?N:$e))}).promise()},promise:function(A){return A!=null?v.extend(A,T):T}},M={};return v.each(m,function(A,N){var Z=N[2],K=N[5];T[N[1]]=Z.add,K&&Z.add(function(){C=K},m[3-A][2].disable,m[3-A][3].disable,m[0][2].lock,m[0][3].lock),Z.add(N[3].fire),M[N[0]]=function(){return M[N[0]+"With"](this===M?void 0:this,arguments),this},M[N[0]+"With"]=Z.fireWith}),T.promise(M),f&&f.call(M,M),M},when:function(f){var m=arguments.length,C=m,T=Array(C),M=a.call(arguments),A=v.Deferred(),N=function(Z){return function(K){T[Z]=this,M[Z]=arguments.length>1?a.call(arguments):K,--m||A.resolveWith(T,M)}};if(m<=1&&(Ee(f,A.done(N(C)).resolve,A.reject,!m),A.state()==="pending"||y(M[C]&&M[C].then)))return A.then();for(;C--;)Ee(M[C],N(C),A.reject);return A.promise()}});var Me=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(f,m){e.console&&e.console.warn&&f&&Me.test(f.name)&&e.console.warn("jQuery.Deferred exception: "+f.message,f.stack,m)},v.readyException=function(f){e.setTimeout(function(){throw f})};var Fe=v.Deferred();v.fn.ready=function(f){return Fe.then(f).catch(function(m){v.readyException(m)}),this},v.extend({isReady:!1,readyWait:1,ready:function(f){(f===!0?--v.readyWait:v.isReady)||(v.isReady=!0,!(f!==!0&&--v.readyWait>0)&&Fe.resolveWith(b,[v]))}}),v.ready.then=Fe.then;function Te(){b.removeEventListener("DOMContentLoaded",Te),e.removeEventListener("load",Te),v.ready()}b.readyState==="complete"||b.readyState!=="loading"&&!b.documentElement.doScroll?e.setTimeout(v.ready):(b.addEventListener("DOMContentLoaded",Te),e.addEventListener("load",Te));var Oe=function(f,m,C,T,M,A,N){var Z=0,K=f.length,ae=C==null;if(x(C)==="object"){M=!0;for(Z in C)Oe(f,m,Z,C[Z],!0,A,N)}else if(T!==void 0&&(M=!0,y(T)||(N=!0),ae&&(N?(m.call(f,T),m=null):(ae=m,m=function(ge,xe,fe){return ae.call(v(ge),fe)})),m))for(;Z<K;Z++)m(f[Z],C,N?T:T.call(f[Z],Z,m(f[Z],C)));return M?f:ae?m.call(f):K?m(f[0],C):A},Ce=/^-ms-/,Ae=/-([a-z])/g;function De(f,m){return m.toUpperCase()}function Ne(f){return f.replace(Ce,"ms-").replace(Ae,De)}var He=function(f){return f.nodeType===1||f.nodeType===9||!+f.nodeType};function Xe(){this.expando=v.expando+Xe.uid++}Xe.uid=1,Xe.prototype={cache:function(f){var m=f[this.expando];return m||(m={},He(f)&&(f.nodeType?f[this.expando]=m:Object.defineProperty(f,this.expando,{value:m,configurable:!0}))),m},set:function(f,m,C){var T,M=this.cache(f);if(typeof m=="string")M[Ne(m)]=C;else for(T in m)M[Ne(T)]=m[T];return M},get:function(f,m){return m===void 0?this.cache(f):f[this.expando]&&f[this.expando][Ne(m)]},access:function(f,m,C){return m===void 0||m&&typeof m=="string"&&C===void 0?this.get(f,m):(this.set(f,m,C),C!==void 0?C:m)},remove:function(f,m){var C,T=f[this.expando];if(T!==void 0){if(m!==void 0)for(Array.isArray(m)?m=m.map(Ne):(m=Ne(m),m=m in T?[m]:m.match(te)||[]),C=m.length;C--;)delete T[m[C]];(m===void 0||v.isEmptyObject(T))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var m=f[this.expando];return m!==void 0&&!v.isEmptyObject(m)}};var Se=new Xe,de=new Xe,z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,le=/[A-Z]/g;function pe(f){return f==="true"?!0:f==="false"?!1:f==="null"?null:f===+f+""?+f:z.test(f)?JSON.parse(f):f}function se(f,m,C){var T;if(C===void 0&&f.nodeType===1)if(T="data-"+m.replace(le,"-$&").toLowerCase(),C=f.getAttribute(T),typeof C=="string"){try{C=pe(C)}catch{}de.set(f,m,C)}else C=void 0;return C}v.extend({hasData:function(f){return de.hasData(f)||Se.hasData(f)},data:function(f,m,C){return de.access(f,m,C)},removeData:function(f,m){de.remove(f,m)},_data:function(f,m,C){return Se.access(f,m,C)},_removeData:function(f,m){Se.remove(f,m)}}),v.fn.extend({data:function(f,m){var C,T,M,A=this[0],N=A&&A.attributes;if(f===void 0){if(this.length&&(M=de.get(A),A.nodeType===1&&!Se.get(A,"hasDataAttrs"))){for(C=N.length;C--;)N[C]&&(T=N[C].name,T.indexOf("data-")===0&&(T=Ne(T.slice(5)),se(A,T,M[T])));Se.set(A,"hasDataAttrs",!0)}return M}return typeof f=="object"?this.each(function(){de.set(this,f)}):Oe(this,function(Z){var K;if(A&&Z===void 0)return K=de.get(A,f),K!==void 0||(K=se(A,f),K!==void 0)?K:void 0;this.each(function(){de.set(this,f,Z)})},null,m,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){de.remove(this,f)})}}),v.extend({queue:function(f,m,C){var T;if(f)return m=(m||"fx")+"queue",T=Se.get(f,m),C&&(!T||Array.isArray(C)?T=Se.access(f,m,v.makeArray(C)):T.push(C)),T||[]},dequeue:function(f,m){m=m||"fx";var C=v.queue(f,m),T=C.length,M=C.shift(),A=v._queueHooks(f,m),N=function(){v.dequeue(f,m)};M==="inprogress"&&(M=C.shift(),T--),M&&(m==="fx"&&C.unshift("inprogress"),delete A.stop,M.call(f,N,A)),!T&&A&&A.empty.fire()},_queueHooks:function(f,m){var C=m+"queueHooks";return Se.get(f,C)||Se.access(f,C,{empty:v.Callbacks("once memory").add(function(){Se.remove(f,[m+"queue",C])})})}}),v.fn.extend({queue:function(f,m){var C=2;return typeof f!="string"&&(m=f,f="fx",C--),arguments.length<C?v.queue(this[0],f):m===void 0?this:this.each(function(){var T=v.queue(this,f,m);v._queueHooks(this,f),f==="fx"&&T[0]!=="inprogress"&&v.dequeue(this,f)})},dequeue:function(f){return this.each(function(){v.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,m){var C,T=1,M=v.Deferred(),A=this,N=this.length,Z=function(){--T||M.resolveWith(A,[A])};for(typeof f!="string"&&(m=f,f=void 0),f=f||"fx";N--;)C=Se.get(A[N],f+"queueHooks"),C&&C.empty&&(T++,C.empty.add(Z));return Z(),M.promise(m)}});var ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),me=["Top","Right","Bottom","Left"],J=b.documentElement,be=function(f){return v.contains(f.ownerDocument,f)},Ie={composed:!0};J.getRootNode&&(be=function(f){return v.contains(f.ownerDocument,f)||f.getRootNode(Ie)===f.ownerDocument});var _e=function(f,m){return f=m||f,f.style.display==="none"||f.style.display===""&&be(f)&&v.css(f,"display")==="none"};function Be(f,m,C,T){var M,A,N=20,Z=T?function(){return T.cur()}:function(){return v.css(f,m,"")},K=Z(),ae=C&&C[3]||(v.cssNumber[m]?"":"px"),ge=f.nodeType&&(v.cssNumber[m]||ae!=="px"&&+K)&&ke.exec(v.css(f,m));if(ge&&ge[3]!==ae){for(K=K/2,ae=ae||ge[3],ge=+K||1;N--;)v.style(f,m,ge+ae),(1-A)*(1-(A=Z()/K||.5))<=0&&(N=0),ge=ge/A;ge=ge*2,v.style(f,m,ge+ae),C=C||[]}return C&&(ge=+ge||+K||0,M=C[1]?ge+(C[1]+1)*C[2]:+C[2],T&&(T.unit=ae,T.start=ge,T.end=M)),M}var Ge={};function je(f){var m,C=f.ownerDocument,T=f.nodeName,M=Ge[T];return M||(m=C.body.appendChild(C.createElement(T)),M=v.css(m,"display"),m.parentNode.removeChild(m),M==="none"&&(M="block"),Ge[T]=M,M)}function at(f,m){for(var C,T,M=[],A=0,N=f.length;A<N;A++)T=f[A],T.style&&(C=T.style.display,m?(C==="none"&&(M[A]=Se.get(T,"display")||null,M[A]||(T.style.display="")),T.style.display===""&&_e(T)&&(M[A]=je(T))):C!=="none"&&(M[A]="none",Se.set(T,"display",C)));for(A=0;A<N;A++)M[A]!=null&&(f[A].style.display=M[A]);return f}v.fn.extend({show:function(){return at(this,!0)},hide:function(){return at(this)},toggle:function(f){return typeof f=="boolean"?f?this.show():this.hide():this.each(function(){_e(this)?v(this).show():v(this).hide()})}});var gt=/^(?:checkbox|radio)$/i,It=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ht=/^$|^module$|\/(?:java|ecma)script/i;(function(){var f=b.createDocumentFragment(),m=f.appendChild(b.createElement("div")),C=b.createElement("input");C.setAttribute("type","radio"),C.setAttribute("checked","checked"),C.setAttribute("name","t"),m.appendChild(C),h.checkClone=m.cloneNode(!0).cloneNode(!0).lastChild.checked,m.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!m.cloneNode(!0).lastChild.defaultValue,m.innerHTML="<option></option>",h.option=!!m.lastChild})();var lt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};lt.tbody=lt.tfoot=lt.colgroup=lt.caption=lt.thead,lt.th=lt.td,h.option||(lt.optgroup=lt.option=[1,"<select multiple='multiple'>","</select>"]);function ot(f,m){var C;return typeof f.getElementsByTagName<"u"?C=f.getElementsByTagName(m||"*"):typeof f.querySelectorAll<"u"?C=f.querySelectorAll(m||"*"):C=[],m===void 0||m&&I(f,m)?v.merge([f],C):C}function Dt(f,m){for(var C=0,T=f.length;C<T;C++)Se.set(f[C],"globalEval",!m||Se.get(m[C],"globalEval"))}var Ft=/<|&#?\w+;/;function Lt(f,m,C,T,M){for(var A,N,Z,K,ae,ge,xe=m.createDocumentFragment(),fe=[],Le=0,nt=f.length;Le<nt;Le++)if(A=f[Le],A||A===0)if(x(A)==="object")v.merge(fe,A.nodeType?[A]:A);else if(!Ft.test(A))fe.push(m.createTextNode(A));else{for(N=N||xe.appendChild(m.createElement("div")),Z=(It.exec(A)||["",""])[1].toLowerCase(),K=lt[Z]||lt._default,N.innerHTML=K[1]+v.htmlPrefilter(A)+K[2],ge=K[0];ge--;)N=N.lastChild;v.merge(fe,N.childNodes),N=xe.firstChild,N.textContent=""}for(xe.textContent="",Le=0;A=fe[Le++];){if(T&&v.inArray(A,T)>-1){M&&M.push(A);continue}if(ae=be(A),N=ot(xe.appendChild(A),"script"),ae&&Dt(N),C)for(ge=0;A=N[ge++];)Ht.test(A.type||"")&&C.push(A)}return xe}var Sn=/^([^.]*)(?:\.(.+)|)/;function Vt(){return!0}function Zt(){return!1}function Tn(f,m,C,T,M,A){var N,Z;if(typeof m=="object"){typeof C!="string"&&(T=T||C,C=void 0);for(Z in m)Tn(f,Z,C,T,m[Z],A);return f}if(T==null&&M==null?(M=C,T=C=void 0):M==null&&(typeof C=="string"?(M=T,T=void 0):(M=T,T=C,C=void 0)),M===!1)M=Zt;else if(!M)return f;return A===1&&(N=M,M=function(K){return v().off(K),N.apply(this,arguments)},M.guid=N.guid||(N.guid=v.guid++)),f.each(function(){v.event.add(this,m,M,T,C)})}v.event={global:{},add:function(f,m,C,T,M){var A,N,Z,K,ae,ge,xe,fe,Le,nt,dt,st=Se.get(f);if(He(f))for(C.handler&&(A=C,C=A.handler,M=A.selector),M&&v.find.matchesSelector(J,M),C.guid||(C.guid=v.guid++),(K=st.events)||(K=st.events=Object.create(null)),(N=st.handle)||(N=st.handle=function(Qt){return typeof v<"u"&&v.event.triggered!==Qt.type?v.event.dispatch.apply(f,arguments):void 0}),m=(m||"").match(te)||[""],ae=m.length;ae--;)Z=Sn.exec(m[ae])||[],Le=dt=Z[1],nt=(Z[2]||"").split(".").sort(),Le&&(xe=v.event.special[Le]||{},Le=(M?xe.delegateType:xe.bindType)||Le,xe=v.event.special[Le]||{},ge=v.extend({type:Le,origType:dt,data:T,handler:C,guid:C.guid,selector:M,needsContext:M&&v.expr.match.needsContext.test(M),namespace:nt.join(".")},A),(fe=K[Le])||(fe=K[Le]=[],fe.delegateCount=0,(!xe.setup||xe.setup.call(f,T,nt,N)===!1)&&f.addEventListener&&f.addEventListener(Le,N)),xe.add&&(xe.add.call(f,ge),ge.handler.guid||(ge.handler.guid=C.guid)),M?fe.splice(fe.delegateCount++,0,ge):fe.push(ge),v.event.global[Le]=!0)},remove:function(f,m,C,T,M){var A,N,Z,K,ae,ge,xe,fe,Le,nt,dt,st=Se.hasData(f)&&Se.get(f);if(!(!st||!(K=st.events))){for(m=(m||"").match(te)||[""],ae=m.length;ae--;){if(Z=Sn.exec(m[ae])||[],Le=dt=Z[1],nt=(Z[2]||"").split(".").sort(),!Le){for(Le in K)v.event.remove(f,Le+m[ae],C,T,!0);continue}for(xe=v.event.special[Le]||{},Le=(T?xe.delegateType:xe.bindType)||Le,fe=K[Le]||[],Z=Z[2]&&new RegExp("(^|\\.)"+nt.join("\\.(?:.*\\.|)")+"(\\.|$)"),N=A=fe.length;A--;)ge=fe[A],(M||dt===ge.origType)&&(!C||C.guid===ge.guid)&&(!Z||Z.test(ge.namespace))&&(!T||T===ge.selector||T==="**"&&ge.selector)&&(fe.splice(A,1),ge.selector&&fe.delegateCount--,xe.remove&&xe.remove.call(f,ge));N&&!fe.length&&((!xe.teardown||xe.teardown.call(f,nt,st.handle)===!1)&&v.removeEvent(f,Le,st.handle),delete K[Le])}v.isEmptyObject(K)&&Se.remove(f,"handle events")}},dispatch:function(f){var m,C,T,M,A,N,Z=new Array(arguments.length),K=v.event.fix(f),ae=(Se.get(this,"events")||Object.create(null))[K.type]||[],ge=v.event.special[K.type]||{};for(Z[0]=K,m=1;m<arguments.length;m++)Z[m]=arguments[m];if(K.delegateTarget=this,!(ge.preDispatch&&ge.preDispatch.call(this,K)===!1)){for(N=v.event.handlers.call(this,K,ae),m=0;(M=N[m++])&&!K.isPropagationStopped();)for(K.currentTarget=M.elem,C=0;(A=M.handlers[C++])&&!K.isImmediatePropagationStopped();)(!K.rnamespace||A.namespace===!1||K.rnamespace.test(A.namespace))&&(K.handleObj=A,K.data=A.data,T=((v.event.special[A.origType]||{}).handle||A.handler).apply(M.elem,Z),T!==void 0&&(K.result=T)===!1&&(K.preventDefault(),K.stopPropagation()));return ge.postDispatch&&ge.postDispatch.call(this,K),K.result}},handlers:function(f,m){var C,T,M,A,N,Z=[],K=m.delegateCount,ae=f.target;if(K&&ae.nodeType&&!(f.type==="click"&&f.button>=1)){for(;ae!==this;ae=ae.parentNode||this)if(ae.nodeType===1&&!(f.type==="click"&&ae.disabled===!0)){for(A=[],N={},C=0;C<K;C++)T=m[C],M=T.selector+" ",N[M]===void 0&&(N[M]=T.needsContext?v(M,this).index(ae)>-1:v.find(M,this,null,[ae]).length),N[M]&&A.push(T);A.length&&Z.push({elem:ae,handlers:A})}}return ae=this,K<m.length&&Z.push({elem:ae,handlers:m.slice(K)}),Z},addProp:function(f,m){Object.defineProperty(v.Event.prototype,f,{enumerable:!0,configurable:!0,get:y(m)?function(){if(this.originalEvent)return m(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(C){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:C})}})},fix:function(f){return f[v.expando]?f:new v.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var m=this||f;return gt.test(m.type)&&m.click&&I(m,"input")&&gn(m,"click",!0),!1},trigger:function(f){var m=this||f;return gt.test(m.type)&&m.click&&I(m,"input")&&gn(m,"click"),!0},_default:function(f){var m=f.target;return gt.test(m.type)&&m.click&&I(m,"input")&&Se.get(m,"click")||I(m,"a")}},beforeunload:{postDispatch:function(f){f.result!==void 0&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};function gn(f,m,C){if(!C){Se.get(f,m)===void 0&&v.event.add(f,m,Vt);return}Se.set(f,m,!1),v.event.add(f,m,{namespace:!1,handler:function(T){var M,A=Se.get(this,m);if(T.isTrigger&1&&this[m]){if(A)(v.event.special[m]||{}).delegateType&&T.stopPropagation();else if(A=a.call(arguments),Se.set(this,m,A),this[m](),M=Se.get(this,m),Se.set(this,m,!1),A!==M)return T.stopImmediatePropagation(),T.preventDefault(),M}else A&&(Se.set(this,m,v.event.trigger(A[0],A.slice(1),this)),T.stopPropagation(),T.isImmediatePropagationStopped=Vt)}})}v.removeEvent=function(f,m,C){f.removeEventListener&&f.removeEventListener(m,C)},v.Event=function(f,m){if(!(this instanceof v.Event))return new v.Event(f,m);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||f.defaultPrevented===void 0&&f.returnValue===!1?Vt:Zt,this.target=f.target&&f.target.nodeType===3?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,m&&v.extend(this,m),this.timeStamp=f&&f.timeStamp||Date.now(),this[v.expando]=!0},v.Event.prototype={constructor:v.Event,isDefaultPrevented:Zt,isPropagationStopped:Zt,isImmediatePropagationStopped:Zt,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=Vt,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=Vt,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=Vt,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},v.event.addProp),v.each({focus:"focusin",blur:"focusout"},function(f,m){function C(T){if(b.documentMode){var M=Se.get(this,"handle"),A=v.event.fix(T);A.type=T.type==="focusin"?"focus":"blur",A.isSimulated=!0,M(T),A.target===A.currentTarget&&M(A)}else v.event.simulate(m,T.target,v.event.fix(T))}v.event.special[f]={setup:function(){var T;if(gn(this,f,!0),b.documentMode)T=Se.get(this,m),T||this.addEventListener(m,C),Se.set(this,m,(T||0)+1);else return!1},trigger:function(){return gn(this,f),!0},teardown:function(){var T;if(b.documentMode)T=Se.get(this,m)-1,T?Se.set(this,m,T):(this.removeEventListener(m,C),Se.remove(this,m));else return!1},_default:function(T){return Se.get(T.target,f)},delegateType:m},v.event.special[m]={setup:function(){var T=this.ownerDocument||this.document||this,M=b.documentMode?this:T,A=Se.get(M,m);A||(b.documentMode?this.addEventListener(m,C):T.addEventListener(f,C,!0)),Se.set(M,m,(A||0)+1)},teardown:function(){var T=this.ownerDocument||this.document||this,M=b.documentMode?this:T,A=Se.get(M,m)-1;A?Se.set(M,m,A):(b.documentMode?this.removeEventListener(m,C):T.removeEventListener(f,C,!0),Se.remove(M,m))}}}),v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,m){v.event.special[f]={delegateType:m,bindType:m,handle:function(C){var T,M=this,A=C.relatedTarget,N=C.handleObj;return(!A||A!==M&&!v.contains(M,A))&&(C.type=N.origType,T=N.handler.apply(this,arguments),C.type=m),T}}}),v.fn.extend({on:function(f,m,C,T){return Tn(this,f,m,C,T)},one:function(f,m,C,T){return Tn(this,f,m,C,T,1)},off:function(f,m,C){var T,M;if(f&&f.preventDefault&&f.handleObj)return T=f.handleObj,v(f.delegateTarget).off(T.namespace?T.origType+"."+T.namespace:T.origType,T.selector,T.handler),this;if(typeof f=="object"){for(M in f)this.off(M,m,f[M]);return this}return(m===!1||typeof m=="function")&&(C=m,m=void 0),C===!1&&(C=Zt),this.each(function(){v.event.remove(this,f,C,m)})}});var Yt=/<script|<style|<link/i,qt=/checked\s*(?:[^=]|=\s*.checked.)/i,on=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Jr(f,m){return I(f,"table")&&I(m.nodeType!==11?m:m.firstChild,"tr")&&v(f).children("tbody")[0]||f}function Pn(f){return f.type=(f.getAttribute("type")!==null)+"/"+f.type,f}function _o(f){return(f.type||"").slice(0,5)==="true/"?f.type=f.type.slice(5):f.removeAttribute("type"),f}function Mo(f,m){var C,T,M,A,N,Z,K;if(m.nodeType===1){if(Se.hasData(f)&&(A=Se.get(f),K=A.events,K)){Se.remove(m,"handle events");for(M in K)for(C=0,T=K[M].length;C<T;C++)v.event.add(m,M,K[M][C])}de.hasData(f)&&(N=de.access(f),Z=v.extend({},N),de.set(m,Z))}}function hl(f,m){var C=m.nodeName.toLowerCase();C==="input"&&gt.test(f.type)?m.checked=f.checked:(C==="input"||C==="textarea")&&(m.defaultValue=f.defaultValue)}function Ir(f,m,C,T){m=o(m);var M,A,N,Z,K,ae,ge=0,xe=f.length,fe=xe-1,Le=m[0],nt=y(Le);if(nt||xe>1&&typeof Le=="string"&&!h.checkClone&&qt.test(Le))return f.each(function(dt){var st=f.eq(dt);nt&&(m[0]=Le.call(this,dt,st.html())),Ir(st,m,C,T)});if(xe&&(M=Lt(m,f[0].ownerDocument,!1,f,T),A=M.firstChild,M.childNodes.length===1&&(M=A),A||T)){for(N=v.map(ot(M,"script"),Pn),Z=N.length;ge<xe;ge++)K=M,ge!==fe&&(K=v.clone(K,!0,!0),Z&&v.merge(N,ot(K,"script"))),C.call(f[ge],K,ge);if(Z)for(ae=N[N.length-1].ownerDocument,v.map(N,_o),ge=0;ge<Z;ge++)K=N[ge],Ht.test(K.type||"")&&!Se.access(K,"globalEval")&&v.contains(ae,K)&&(K.src&&(K.type||"").toLowerCase()!=="module"?v._evalUrl&&!K.noModule&&v._evalUrl(K.src,{nonce:K.nonce||K.getAttribute("nonce")},ae):S(K.textContent.replace(on,""),K,ae))}return f}function Ao(f,m,C){for(var T,M=m?v.filter(m,f):f,A=0;(T=M[A])!=null;A++)!C&&T.nodeType===1&&v.cleanData(ot(T)),T.parentNode&&(C&&be(T)&&Dt(ot(T,"script")),T.parentNode.removeChild(T));return f}v.extend({htmlPrefilter:function(f){return f},clone:function(f,m,C){var T,M,A,N,Z=f.cloneNode(!0),K=be(f);if(!h.noCloneChecked&&(f.nodeType===1||f.nodeType===11)&&!v.isXMLDoc(f))for(N=ot(Z),A=ot(f),T=0,M=A.length;T<M;T++)hl(A[T],N[T]);if(m)if(C)for(A=A||ot(f),N=N||ot(Z),T=0,M=A.length;T<M;T++)Mo(A[T],N[T]);else Mo(f,Z);return N=ot(Z,"script"),N.length>0&&Dt(N,!K&&ot(f,"script")),Z},cleanData:function(f){for(var m,C,T,M=v.event.special,A=0;(C=f[A])!==void 0;A++)if(He(C)){if(m=C[Se.expando]){if(m.events)for(T in m.events)M[T]?v.event.remove(C,T):v.removeEvent(C,T,m.handle);C[Se.expando]=void 0}C[de.expando]&&(C[de.expando]=void 0)}}}),v.fn.extend({detach:function(f){return Ao(this,f,!0)},remove:function(f){return Ao(this,f)},text:function(f){return Oe(this,function(m){return m===void 0?v.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=m)})},null,f,arguments.length)},append:function(){return Ir(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var m=Jr(this,f);m.appendChild(f)}})},prepend:function(){return Ir(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var m=Jr(this,f);m.insertBefore(f,m.firstChild)}})},before:function(){return Ir(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return Ir(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,m=0;(f=this[m])!=null;m++)f.nodeType===1&&(v.cleanData(ot(f,!1)),f.textContent="");return this},clone:function(f,m){return f=f??!1,m=m??f,this.map(function(){return v.clone(this,f,m)})},html:function(f){return Oe(this,function(m){var C=this[0]||{},T=0,M=this.length;if(m===void 0&&C.nodeType===1)return C.innerHTML;if(typeof m=="string"&&!Yt.test(m)&&!lt[(It.exec(m)||["",""])[1].toLowerCase()]){m=v.htmlPrefilter(m);try{for(;T<M;T++)C=this[T]||{},C.nodeType===1&&(v.cleanData(ot(C,!1)),C.innerHTML=m);C=0}catch{}}C&&this.empty().append(m)},null,f,arguments.length)},replaceWith:function(){var f=[];return Ir(this,arguments,function(m){var C=this.parentNode;v.inArray(this,f)<0&&(v.cleanData(ot(this)),C&&C.replaceChild(m,this))},f)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,m){v.fn[f]=function(C){for(var T,M=[],A=v(C),N=A.length-1,Z=0;Z<=N;Z++)T=Z===N?this:this.clone(!0),v(A[Z])[m](T),s.apply(M,T.get());return this.pushStack(M)}});var ma=new RegExp("^("+ue+")(?!px)[a-z%]+$","i"),ya=/^--/,Mi=function(f){var m=f.ownerDocument.defaultView;return(!m||!m.opener)&&(m=e),m.getComputedStyle(f)},Dr=function(f,m,C){var T,M,A={};for(M in m)A[M]=f.style[M],f.style[M]=m[M];T=C.call(f);for(M in m)f.style[M]=A[M];return T},ba=new RegExp(me.join("|"),"i");(function(){function f(){if(ae){K.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ae.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",J.appendChild(K).appendChild(ae);var ge=e.getComputedStyle(ae);C=ge.top!=="1%",Z=m(ge.marginLeft)===12,ae.style.right="60%",A=m(ge.right)===36,T=m(ge.width)===36,ae.style.position="absolute",M=m(ae.offsetWidth/3)===12,J.removeChild(K),ae=null}}function m(ge){return Math.round(parseFloat(ge))}var C,T,M,A,N,Z,K=b.createElement("div"),ae=b.createElement("div");ae.style&&(ae.style.backgroundClip="content-box",ae.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle=ae.style.backgroundClip==="content-box",v.extend(h,{boxSizingReliable:function(){return f(),T},pixelBoxStyles:function(){return f(),A},pixelPosition:function(){return f(),C},reliableMarginLeft:function(){return f(),Z},scrollboxSize:function(){return f(),M},reliableTrDimensions:function(){var ge,xe,fe,Le;return N==null&&(ge=b.createElement("table"),xe=b.createElement("tr"),fe=b.createElement("div"),ge.style.cssText="position:absolute;left:-11111px;border-collapse:separate",xe.style.cssText="box-sizing:content-box;border:1px solid",xe.style.height="1px",fe.style.height="9px",fe.style.display="block",J.appendChild(ge).appendChild(xe).appendChild(fe),Le=e.getComputedStyle(xe),N=parseInt(Le.height,10)+parseInt(Le.borderTopWidth,10)+parseInt(Le.borderBottomWidth,10)===xe.offsetHeight,J.removeChild(ge)),N}}))})();function Qn(f,m,C){var T,M,A,N,Z=ya.test(m),K=f.style;return C=C||Mi(f),C&&(N=C.getPropertyValue(m)||C[m],Z&&N&&(N=N.replace(O,"$1")||void 0),N===""&&!be(f)&&(N=v.style(f,m)),!h.pixelBoxStyles()&&ma.test(N)&&ba.test(m)&&(T=K.width,M=K.minWidth,A=K.maxWidth,K.minWidth=K.maxWidth=K.width=N,N=C.width,K.width=T,K.minWidth=M,K.maxWidth=A)),N!==void 0?N+"":N}function wa(f,m){return{get:function(){if(f()){delete this.get;return}return(this.get=m).apply(this,arguments)}}}var xa=["Webkit","Moz","ms"],Io=b.createElement("div").style,mn={};function Ca(f){for(var m=f[0].toUpperCase()+f.slice(1),C=xa.length;C--;)if(f=xa[C]+m,f in Io)return f}function Ai(f){var m=v.cssProps[f]||mn[f];return m||(f in Io?f:mn[f]=Ca(f)||f)}var ei=/^(none|table(?!-c[ea]).+)/,kn={position:"absolute",visibility:"hidden",display:"block"},Do={letterSpacing:"0",fontWeight:"400"};function mc(f,m,C){var T=ke.exec(m);return T?Math.max(0,T[2]-(C||0))+(T[3]||"px"):m}function vl(f,m,C,T,M,A){var N=m==="width"?1:0,Z=0,K=0,ae=0;if(C===(T?"border":"content"))return 0;for(;N<4;N+=2)C==="margin"&&(ae+=v.css(f,C+me[N],!0,M)),T?(C==="content"&&(K-=v.css(f,"padding"+me[N],!0,M)),C!=="margin"&&(K-=v.css(f,"border"+me[N]+"Width",!0,M))):(K+=v.css(f,"padding"+me[N],!0,M),C!=="padding"?K+=v.css(f,"border"+me[N]+"Width",!0,M):Z+=v.css(f,"border"+me[N]+"Width",!0,M));return!T&&A>=0&&(K+=Math.max(0,Math.ceil(f["offset"+m[0].toUpperCase()+m.slice(1)]-A-K-Z-.5))||0),K+ae}function yc(f,m,C){var T=Mi(f),M=!h.boxSizingReliable()||C,A=M&&v.css(f,"boxSizing",!1,T)==="border-box",N=A,Z=Qn(f,m,T),K="offset"+m[0].toUpperCase()+m.slice(1);if(ma.test(Z)){if(!C)return Z;Z="auto"}return(!h.boxSizingReliable()&&A||!h.reliableTrDimensions()&&I(f,"tr")||Z==="auto"||!parseFloat(Z)&&v.css(f,"display",!1,T)==="inline")&&f.getClientRects().length&&(A=v.css(f,"boxSizing",!1,T)==="border-box",N=K in f,N&&(Z=f[K])),Z=parseFloat(Z)||0,Z+vl(f,m,C||(A?"border":"content"),N,T,Z)+"px"}v.extend({cssHooks:{opacity:{get:function(f,m){if(m){var C=Qn(f,"opacity");return C===""?"1":C}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(f,m,C,T){if(!(!f||f.nodeType===3||f.nodeType===8||!f.style)){var M,A,N,Z=Ne(m),K=ya.test(m),ae=f.style;if(K||(m=Ai(Z)),N=v.cssHooks[m]||v.cssHooks[Z],C!==void 0){if(A=typeof C,A==="string"&&(M=ke.exec(C))&&M[1]&&(C=Be(f,m,M),A="number"),C==null||C!==C)return;A==="number"&&!K&&(C+=M&&M[3]||(v.cssNumber[Z]?"":"px")),!h.clearCloneStyle&&C===""&&m.indexOf("background")===0&&(ae[m]="inherit"),(!N||!("set"in N)||(C=N.set(f,C,T))!==void 0)&&(K?ae.setProperty(m,C):ae[m]=C)}else return N&&"get"in N&&(M=N.get(f,!1,T))!==void 0?M:ae[m]}},css:function(f,m,C,T){var M,A,N,Z=Ne(m),K=ya.test(m);return K||(m=Ai(Z)),N=v.cssHooks[m]||v.cssHooks[Z],N&&"get"in N&&(M=N.get(f,!0,C)),M===void 0&&(M=Qn(f,m,T)),M==="normal"&&m in Do&&(M=Do[m]),C===""||C?(A=parseFloat(M),C===!0||isFinite(A)?A||0:M):M}}),v.each(["height","width"],function(f,m){v.cssHooks[m]={get:function(C,T,M){if(T)return ei.test(v.css(C,"display"))&&(!C.getClientRects().length||!C.getBoundingClientRect().width)?Dr(C,kn,function(){return yc(C,m,M)}):yc(C,m,M)},set:function(C,T,M){var A,N=Mi(C),Z=!h.scrollboxSize()&&N.position==="absolute",K=Z||M,ae=K&&v.css(C,"boxSizing",!1,N)==="border-box",ge=M?vl(C,m,M,ae,N):0;return ae&&Z&&(ge-=Math.ceil(C["offset"+m[0].toUpperCase()+m.slice(1)]-parseFloat(N[m])-vl(C,m,"border",!1,N)-.5)),ge&&(A=ke.exec(T))&&(A[3]||"px")!=="px"&&(C.style[m]=T,T=v.css(C,m)),mc(C,T,ge)}}}),v.cssHooks.marginLeft=wa(h.reliableMarginLeft,function(f,m){if(m)return(parseFloat(Qn(f,"marginLeft"))||f.getBoundingClientRect().left-Dr(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),v.each({margin:"",padding:"",border:"Width"},function(f,m){v.cssHooks[f+m]={expand:function(C){for(var T=0,M={},A=typeof C=="string"?C.split(" "):[C];T<4;T++)M[f+me[T]+m]=A[T]||A[T-2]||A[0];return M}},f!=="margin"&&(v.cssHooks[f+m].set=mc)}),v.fn.extend({css:function(f,m){return Oe(this,function(C,T,M){var A,N,Z={},K=0;if(Array.isArray(T)){for(A=Mi(C),N=T.length;K<N;K++)Z[T[K]]=v.css(C,T[K],!1,A);return Z}return M!==void 0?v.style(C,T,M):v.css(C,T)},f,m,arguments.length>1)}});function yn(f,m,C,T,M){return new yn.prototype.init(f,m,C,T,M)}v.Tween=yn,yn.prototype={constructor:yn,init:function(f,m,C,T,M,A){this.elem=f,this.prop=C,this.easing=M||v.easing._default,this.options=m,this.start=this.now=this.cur(),this.end=T,this.unit=A||(v.cssNumber[C]?"":"px")},cur:function(){var f=yn.propHooks[this.prop];return f&&f.get?f.get(this):yn.propHooks._default.get(this)},run:function(f){var m,C=yn.propHooks[this.prop];return this.options.duration?this.pos=m=v.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):this.pos=m=f,this.now=(this.end-this.start)*m+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),C&&C.set?C.set(this):yn.propHooks._default.set(this),this}},yn.prototype.init.prototype=yn.prototype,yn.propHooks={_default:{get:function(f){var m;return f.elem.nodeType!==1||f.elem[f.prop]!=null&&f.elem.style[f.prop]==null?f.elem[f.prop]:(m=v.css(f.elem,f.prop,""),!m||m==="auto"?0:m)},set:function(f){v.fx.step[f.prop]?v.fx.step[f.prop](f):f.elem.nodeType===1&&(v.cssHooks[f.prop]||f.elem.style[Ai(f.prop)]!=null)?v.style(f.elem,f.prop,f.now+f.unit):f.elem[f.prop]=f.now}}},yn.propHooks.scrollTop=yn.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},v.easing={linear:function(f){return f},swing:function(f){return .5-Math.cos(f*Math.PI)/2},_default:"swing"},v.fx=yn.prototype.init,v.fx.step={};var Ii,Po,Dp=/^(?:toggle|show|hide)$/,Pp=/queueHooks$/;function pl(){Po&&(b.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(pl):e.setTimeout(pl,v.fx.interval),v.fx.tick())}function bc(){return e.setTimeout(function(){Ii=void 0}),Ii=Date.now()}function Lo(f,m){var C,T=0,M={height:f};for(m=m?1:0;T<4;T+=2-m)C=me[T],M["margin"+C]=M["padding"+C]=f;return m&&(M.opacity=M.width=f),M}function wc(f,m,C){for(var T,M=(Vn.tweeners[m]||[]).concat(Vn.tweeners["*"]),A=0,N=M.length;A<N;A++)if(T=M[A].call(C,m,f))return T}function Lp(f,m,C){var T,M,A,N,Z,K,ae,ge,xe="width"in m||"height"in m,fe=this,Le={},nt=f.style,dt=f.nodeType&&_e(f),st=Se.get(f,"fxshow");C.queue||(N=v._queueHooks(f,"fx"),N.unqueued==null&&(N.unqueued=0,Z=N.empty.fire,N.empty.fire=function(){N.unqueued||Z()}),N.unqueued++,fe.always(function(){fe.always(function(){N.unqueued--,v.queue(f,"fx").length||N.empty.fire()})}));for(T in m)if(M=m[T],Dp.test(M)){if(delete m[T],A=A||M==="toggle",M===(dt?"hide":"show"))if(M==="show"&&st&&st[T]!==void 0)dt=!0;else continue;Le[T]=st&&st[T]||v.style(f,T)}if(K=!v.isEmptyObject(m),!(!K&&v.isEmptyObject(Le))){xe&&f.nodeType===1&&(C.overflow=[nt.overflow,nt.overflowX,nt.overflowY],ae=st&&st.display,ae==null&&(ae=Se.get(f,"display")),ge=v.css(f,"display"),ge==="none"&&(ae?ge=ae:(at([f],!0),ae=f.style.display||ae,ge=v.css(f,"display"),at([f]))),(ge==="inline"||ge==="inline-block"&&ae!=null)&&v.css(f,"float")==="none"&&(K||(fe.done(function(){nt.display=ae}),ae==null&&(ge=nt.display,ae=ge==="none"?"":ge)),nt.display="inline-block")),C.overflow&&(nt.overflow="hidden",fe.always(function(){nt.overflow=C.overflow[0],nt.overflowX=C.overflow[1],nt.overflowY=C.overflow[2]})),K=!1;for(T in Le)K||(st?"hidden"in st&&(dt=st.hidden):st=Se.access(f,"fxshow",{display:ae}),A&&(st.hidden=!dt),dt&&at([f],!0),fe.done(function(){dt||at([f]),Se.remove(f,"fxshow");for(T in Le)v.style(f,T,Le[T])})),K=wc(dt?st[T]:0,T,fe),T in st||(st[T]=K.start,dt&&(K.end=K.start,K.start=0))}}function Op(f,m){var C,T,M,A,N;for(C in f)if(T=Ne(C),M=m[T],A=f[C],Array.isArray(A)&&(M=A[1],A=f[C]=A[0]),C!==T&&(f[T]=A,delete f[C]),N=v.cssHooks[T],N&&"expand"in N){A=N.expand(A),delete f[T];for(C in A)C in f||(f[C]=A[C],m[C]=M)}else m[T]=M}function Vn(f,m,C){var T,M,A=0,N=Vn.prefilters.length,Z=v.Deferred().always(function(){delete K.elem}),K=function(){if(M)return!1;for(var xe=Ii||bc(),fe=Math.max(0,ae.startTime+ae.duration-xe),Le=fe/ae.duration||0,nt=1-Le,dt=0,st=ae.tweens.length;dt<st;dt++)ae.tweens[dt].run(nt);return Z.notifyWith(f,[ae,nt,fe]),nt<1&&st?fe:(st||Z.notifyWith(f,[ae,1,0]),Z.resolveWith(f,[ae]),!1)},ae=Z.promise({elem:f,props:v.extend({},m),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},C),originalProperties:m,originalOptions:C,startTime:Ii||bc(),duration:C.duration,tweens:[],createTween:function(xe,fe){var Le=v.Tween(f,ae.opts,xe,fe,ae.opts.specialEasing[xe]||ae.opts.easing);return ae.tweens.push(Le),Le},stop:function(xe){var fe=0,Le=xe?ae.tweens.length:0;if(M)return this;for(M=!0;fe<Le;fe++)ae.tweens[fe].run(1);return xe?(Z.notifyWith(f,[ae,1,0]),Z.resolveWith(f,[ae,xe])):Z.rejectWith(f,[ae,xe]),this}}),ge=ae.props;for(Op(ge,ae.opts.specialEasing);A<N;A++)if(T=Vn.prefilters[A].call(ae,f,ge,ae.opts),T)return y(T.stop)&&(v._queueHooks(ae.elem,ae.opts.queue).stop=T.stop.bind(T)),T;return v.map(ge,wc,ae),y(ae.opts.start)&&ae.opts.start.call(f,ae),ae.progress(ae.opts.progress).done(ae.opts.done,ae.opts.complete).fail(ae.opts.fail).always(ae.opts.always),v.fx.timer(v.extend(K,{elem:f,anim:ae,queue:ae.opts.queue})),ae}v.Animation=v.extend(Vn,{tweeners:{"*":[function(f,m){var C=this.createTween(f,m);return Be(C.elem,f,ke.exec(m),C),C}]},tweener:function(f,m){y(f)?(m=f,f=["*"]):f=f.match(te);for(var C,T=0,M=f.length;T<M;T++)C=f[T],Vn.tweeners[C]=Vn.tweeners[C]||[],Vn.tweeners[C].unshift(m)},prefilters:[Lp],prefilter:function(f,m){m?Vn.prefilters.unshift(f):Vn.prefilters.push(f)}}),v.speed=function(f,m,C){var T=f&&typeof f=="object"?v.extend({},f):{complete:C||!C&&m||y(f)&&f,duration:f,easing:C&&m||m&&!y(m)&&m};return v.fx.off?T.duration=0:typeof T.duration!="number"&&(T.duration in v.fx.speeds?T.duration=v.fx.speeds[T.duration]:T.duration=v.fx.speeds._default),(T.queue==null||T.queue===!0)&&(T.queue="fx"),T.old=T.complete,T.complete=function(){y(T.old)&&T.old.call(this),T.queue&&v.dequeue(this,T.queue)},T},v.fn.extend({fadeTo:function(f,m,C,T){return this.filter(_e).css("opacity",0).show().end().animate({opacity:m},f,C,T)},animate:function(f,m,C,T){var M=v.isEmptyObject(f),A=v.speed(m,C,T),N=function(){var Z=Vn(this,v.extend({},f),A);(M||Se.get(this,"finish"))&&Z.stop(!0)};return N.finish=N,M||A.queue===!1?this.each(N):this.queue(A.queue,N)},stop:function(f,m,C){var T=function(M){var A=M.stop;delete M.stop,A(C)};return typeof f!="string"&&(C=m,m=f,f=void 0),m&&this.queue(f||"fx",[]),this.each(function(){var M=!0,A=f!=null&&f+"queueHooks",N=v.timers,Z=Se.get(this);if(A)Z[A]&&Z[A].stop&&T(Z[A]);else for(A in Z)Z[A]&&Z[A].stop&&Pp.test(A)&&T(Z[A]);for(A=N.length;A--;)N[A].elem===this&&(f==null||N[A].queue===f)&&(N[A].anim.stop(C),M=!1,N.splice(A,1));(M||!C)&&v.dequeue(this,f)})},finish:function(f){return f!==!1&&(f=f||"fx"),this.each(function(){var m,C=Se.get(this),T=C[f+"queue"],M=C[f+"queueHooks"],A=v.timers,N=T?T.length:0;for(C.finish=!0,v.queue(this,f,[]),M&&M.stop&&M.stop.call(this,!0),m=A.length;m--;)A[m].elem===this&&A[m].queue===f&&(A[m].anim.stop(!0),A.splice(m,1));for(m=0;m<N;m++)T[m]&&T[m].finish&&T[m].finish.call(this);delete C.finish})}}),v.each(["toggle","show","hide"],function(f,m){var C=v.fn[m];v.fn[m]=function(T,M,A){return T==null||typeof T=="boolean"?C.apply(this,arguments):this.animate(Lo(m,!0),T,M,A)}}),v.each({slideDown:Lo("show"),slideUp:Lo("hide"),slideToggle:Lo("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,m){v.fn[f]=function(C,T,M){return this.animate(m,C,T,M)}}),v.timers=[],v.fx.tick=function(){var f,m=0,C=v.timers;for(Ii=Date.now();m<C.length;m++)f=C[m],!f()&&C[m]===f&&C.splice(m--,1);C.length||v.fx.stop(),Ii=void 0},v.fx.timer=function(f){v.timers.push(f),v.fx.start()},v.fx.interval=13,v.fx.start=function(){Po||(Po=!0,pl())},v.fx.stop=function(){Po=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(f,m){return f=v.fx&&v.fx.speeds[f]||f,m=m||"fx",this.queue(m,function(C,T){var M=e.setTimeout(C,f);T.stop=function(){e.clearTimeout(M)}})},function(){var f=b.createElement("input"),m=b.createElement("select"),C=m.appendChild(b.createElement("option"));f.type="checkbox",h.checkOn=f.value!=="",h.optSelected=C.selected,f=b.createElement("input"),f.value="t",f.type="radio",h.radioValue=f.value==="t"}();var xc,Ea=v.expr.attrHandle;v.fn.extend({attr:function(f,m){return Oe(this,v.attr,f,m,arguments.length>1)},removeAttr:function(f){return this.each(function(){v.removeAttr(this,f)})}}),v.extend({attr:function(f,m,C){var T,M,A=f.nodeType;if(!(A===3||A===8||A===2)){if(typeof f.getAttribute>"u")return v.prop(f,m,C);if((A!==1||!v.isXMLDoc(f))&&(M=v.attrHooks[m.toLowerCase()]||(v.expr.match.bool.test(m)?xc:void 0)),C!==void 0){if(C===null){v.removeAttr(f,m);return}return M&&"set"in M&&(T=M.set(f,C,m))!==void 0?T:(f.setAttribute(m,C+""),C)}return M&&"get"in M&&(T=M.get(f,m))!==null?T:(T=v.find.attr(f,m),T??void 0)}},attrHooks:{type:{set:function(f,m){if(!h.radioValue&&m==="radio"&&I(f,"input")){var C=f.value;return f.setAttribute("type",m),C&&(f.value=C),m}}}},removeAttr:function(f,m){var C,T=0,M=m&&m.match(te);if(M&&f.nodeType===1)for(;C=M[T++];)f.removeAttribute(C)}}),xc={set:function(f,m,C){return m===!1?v.removeAttr(f,C):f.setAttribute(C,C),C}},v.each(v.expr.match.bool.source.match(/\w+/g),function(f,m){var C=Ea[m]||v.find.attr;Ea[m]=function(T,M,A){var N,Z,K=M.toLowerCase();return A||(Z=Ea[K],Ea[K]=N,N=C(T,M,A)!=null?K:null,Ea[K]=Z),N}});var Np=/^(?:input|select|textarea|button)$/i,Bp=/^(?:a|area)$/i;v.fn.extend({prop:function(f,m){return Oe(this,v.prop,f,m,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[v.propFix[f]||f]})}}),v.extend({prop:function(f,m,C){var T,M,A=f.nodeType;if(!(A===3||A===8||A===2))return(A!==1||!v.isXMLDoc(f))&&(m=v.propFix[m]||m,M=v.propHooks[m]),C!==void 0?M&&"set"in M&&(T=M.set(f,C,m))!==void 0?T:f[m]=C:M&&"get"in M&&(T=M.get(f,m))!==null?T:f[m]},propHooks:{tabIndex:{get:function(f){var m=v.find.attr(f,"tabindex");return m?parseInt(m,10):Np.test(f.nodeName)||Bp.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(v.propHooks.selected={get:function(f){var m=f.parentNode;return m&&m.parentNode&&m.parentNode.selectedIndex,null},set:function(f){var m=f.parentNode;m&&(m.selectedIndex,m.parentNode&&m.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){v.propFix[this.toLowerCase()]=this});function ti(f){var m=f.match(te)||[];return m.join(" ")}function ni(f){return f.getAttribute&&f.getAttribute("class")||""}function gl(f){return Array.isArray(f)?f:typeof f=="string"?f.match(te)||[]:[]}v.fn.extend({addClass:function(f){var m,C,T,M,A,N;return y(f)?this.each(function(Z){v(this).addClass(f.call(this,Z,ni(this)))}):(m=gl(f),m.length?this.each(function(){if(T=ni(this),C=this.nodeType===1&&" "+ti(T)+" ",C){for(A=0;A<m.length;A++)M=m[A],C.indexOf(" "+M+" ")<0&&(C+=M+" ");N=ti(C),T!==N&&this.setAttribute("class",N)}}):this)},removeClass:function(f){var m,C,T,M,A,N;return y(f)?this.each(function(Z){v(this).removeClass(f.call(this,Z,ni(this)))}):arguments.length?(m=gl(f),m.length?this.each(function(){if(T=ni(this),C=this.nodeType===1&&" "+ti(T)+" ",C){for(A=0;A<m.length;A++)for(M=m[A];C.indexOf(" "+M+" ")>-1;)C=C.replace(" "+M+" "," ");N=ti(C),T!==N&&this.setAttribute("class",N)}}):this):this.attr("class","")},toggleClass:function(f,m){var C,T,M,A,N=typeof f,Z=N==="string"||Array.isArray(f);return y(f)?this.each(function(K){v(this).toggleClass(f.call(this,K,ni(this),m),m)}):typeof m=="boolean"&&Z?m?this.addClass(f):this.removeClass(f):(C=gl(f),this.each(function(){if(Z)for(A=v(this),M=0;M<C.length;M++)T=C[M],A.hasClass(T)?A.removeClass(T):A.addClass(T);else(f===void 0||N==="boolean")&&(T=ni(this),T&&Se.set(this,"__className__",T),this.setAttribute&&this.setAttribute("class",T||f===!1?"":Se.get(this,"__className__")||""))}))},hasClass:function(f){var m,C,T=0;for(m=" "+f+" ";C=this[T++];)if(C.nodeType===1&&(" "+ti(ni(C))+" ").indexOf(m)>-1)return!0;return!1}});var Rp=/\r/g;v.fn.extend({val:function(f){var m,C,T,M=this[0];return arguments.length?(T=y(f),this.each(function(A){var N;this.nodeType===1&&(T?N=f.call(this,A,v(this).val()):N=f,N==null?N="":typeof N=="number"?N+="":Array.isArray(N)&&(N=v.map(N,function(Z){return Z==null?"":Z+""})),m=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],(!m||!("set"in m)||m.set(this,N,"value")===void 0)&&(this.value=N))})):M?(m=v.valHooks[M.type]||v.valHooks[M.nodeName.toLowerCase()],m&&"get"in m&&(C=m.get(M,"value"))!==void 0?C:(C=M.value,typeof C=="string"?C.replace(Rp,""):C??"")):void 0}}),v.extend({valHooks:{option:{get:function(f){var m=v.find.attr(f,"value");return m??ti(v.text(f))}},select:{get:function(f){var m,C,T,M=f.options,A=f.selectedIndex,N=f.type==="select-one",Z=N?null:[],K=N?A+1:M.length;for(A<0?T=K:T=N?A:0;T<K;T++)if(C=M[T],(C.selected||T===A)&&!C.disabled&&(!C.parentNode.disabled||!I(C.parentNode,"optgroup"))){if(m=v(C).val(),N)return m;Z.push(m)}return Z},set:function(f,m){for(var C,T,M=f.options,A=v.makeArray(m),N=M.length;N--;)T=M[N],(T.selected=v.inArray(v.valHooks.option.get(T),A)>-1)&&(C=!0);return C||(f.selectedIndex=-1),A}}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(f,m){if(Array.isArray(m))return f.checked=v.inArray(v(f).val(),m)>-1}},h.checkOn||(v.valHooks[this].get=function(f){return f.getAttribute("value")===null?"on":f.value})});var Sa=e.location,Cc={guid:Date.now()},ml=/\?/;v.parseXML=function(f){var m,C;if(!f||typeof f!="string")return null;try{m=new e.DOMParser().parseFromString(f,"text/xml")}catch{}return C=m&&m.getElementsByTagName("parsererror")[0],(!m||C)&&v.error("Invalid XML: "+(C?v.map(C.childNodes,function(T){return T.textContent}).join(`
`):f)),m};var Ec=/^(?:focusinfocus|focusoutblur)$/,Sc=function(f){f.stopPropagation()};v.extend(v.event,{trigger:function(f,m,C,T){var M,A,N,Z,K,ae,ge,xe,fe=[C||b],Le=d.call(f,"type")?f.type:f,nt=d.call(f,"namespace")?f.namespace.split("."):[];if(A=xe=N=C=C||b,!(C.nodeType===3||C.nodeType===8)&&!Ec.test(Le+v.event.triggered)&&(Le.indexOf(".")>-1&&(nt=Le.split("."),Le=nt.shift(),nt.sort()),K=Le.indexOf(":")<0&&"on"+Le,f=f[v.expando]?f:new v.Event(Le,typeof f=="object"&&f),f.isTrigger=T?2:3,f.namespace=nt.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+nt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=C),m=m==null?[f]:v.makeArray(m,[f]),ge=v.event.special[Le]||{},!(!T&&ge.trigger&&ge.trigger.apply(C,m)===!1))){if(!T&&!ge.noBubble&&!w(C)){for(Z=ge.delegateType||Le,Ec.test(Z+Le)||(A=A.parentNode);A;A=A.parentNode)fe.push(A),N=A;N===(C.ownerDocument||b)&&fe.push(N.defaultView||N.parentWindow||e)}for(M=0;(A=fe[M++])&&!f.isPropagationStopped();)xe=A,f.type=M>1?Z:ge.bindType||Le,ae=(Se.get(A,"events")||Object.create(null))[f.type]&&Se.get(A,"handle"),ae&&ae.apply(A,m),ae=K&&A[K],ae&&ae.apply&&He(A)&&(f.result=ae.apply(A,m),f.result===!1&&f.preventDefault());return f.type=Le,!T&&!f.isDefaultPrevented()&&(!ge._default||ge._default.apply(fe.pop(),m)===!1)&&He(C)&&K&&y(C[Le])&&!w(C)&&(N=C[K],N&&(C[K]=null),v.event.triggered=Le,f.isPropagationStopped()&&xe.addEventListener(Le,Sc),C[Le](),f.isPropagationStopped()&&xe.removeEventListener(Le,Sc),v.event.triggered=void 0,N&&(C[K]=N)),f.result}},simulate:function(f,m,C){var T=v.extend(new v.Event,C,{type:f,isSimulated:!0});v.event.trigger(T,null,m)}}),v.fn.extend({trigger:function(f,m){return this.each(function(){v.event.trigger(f,m,this)})},triggerHandler:function(f,m){var C=this[0];if(C)return v.event.trigger(f,m,C,!0)}});var zp=/\[\]$/,Tc=/\r?\n/g,Fp=/^(?:submit|button|image|reset|file)$/i,$p=/^(?:input|select|textarea|keygen)/i;function yl(f,m,C,T){var M;if(Array.isArray(m))v.each(m,function(A,N){C||zp.test(f)?T(f,N):yl(f+"["+(typeof N=="object"&&N!=null?A:"")+"]",N,C,T)});else if(!C&&x(m)==="object")for(M in m)yl(f+"["+M+"]",m[M],C,T);else T(f,m)}v.param=function(f,m){var C,T=[],M=function(A,N){var Z=y(N)?N():N;T[T.length]=encodeURIComponent(A)+"="+encodeURIComponent(Z??"")};if(f==null)return"";if(Array.isArray(f)||f.jquery&&!v.isPlainObject(f))v.each(f,function(){M(this.name,this.value)});else for(C in f)yl(C,f[C],m,M);return T.join("&")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=v.prop(this,"elements");return f?v.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!v(this).is(":disabled")&&$p.test(this.nodeName)&&!Fp.test(f)&&(this.checked||!gt.test(f))}).map(function(f,m){var C=v(this).val();return C==null?null:Array.isArray(C)?v.map(C,function(T){return{name:m.name,value:T.replace(Tc,`\r
`)}}):{name:m.name,value:C.replace(Tc,`\r
`)}}).get()}});var Hp=/%20/g,qp=/#.*$/,Vp=/([?&])_=[^&]*/,Wp=/^(.*?):[ \t]*([^\r\n]*)$/mg,Up=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jp=/^(?:GET|HEAD)$/,Gp=/^\/\//,kc={},bl={},_c="*/".concat("*"),wl=b.createElement("a");wl.href=Sa.href;function Mc(f){return function(m,C){typeof m!="string"&&(C=m,m="*");var T,M=0,A=m.toLowerCase().match(te)||[];if(y(C))for(;T=A[M++];)T[0]==="+"?(T=T.slice(1)||"*",(f[T]=f[T]||[]).unshift(C)):(f[T]=f[T]||[]).push(C)}}function Ac(f,m,C,T){var M={},A=f===bl;function N(Z){var K;return M[Z]=!0,v.each(f[Z]||[],function(ae,ge){var xe=ge(m,C,T);if(typeof xe=="string"&&!A&&!M[xe])return m.dataTypes.unshift(xe),N(xe),!1;if(A)return!(K=xe)}),K}return N(m.dataTypes[0])||!M["*"]&&N("*")}function xl(f,m){var C,T,M=v.ajaxSettings.flatOptions||{};for(C in m)m[C]!==void 0&&((M[C]?f:T||(T={}))[C]=m[C]);return T&&v.extend(!0,f,T),f}function Kp(f,m,C){for(var T,M,A,N,Z=f.contents,K=f.dataTypes;K[0]==="*";)K.shift(),T===void 0&&(T=f.mimeType||m.getResponseHeader("Content-Type"));if(T){for(M in Z)if(Z[M]&&Z[M].test(T)){K.unshift(M);break}}if(K[0]in C)A=K[0];else{for(M in C){if(!K[0]||f.converters[M+" "+K[0]]){A=M;break}N||(N=M)}A=A||N}if(A)return A!==K[0]&&K.unshift(A),C[A]}function Yp(f,m,C,T){var M,A,N,Z,K,ae={},ge=f.dataTypes.slice();if(ge[1])for(N in f.converters)ae[N.toLowerCase()]=f.converters[N];for(A=ge.shift();A;)if(f.responseFields[A]&&(C[f.responseFields[A]]=m),!K&&T&&f.dataFilter&&(m=f.dataFilter(m,f.dataType)),K=A,A=ge.shift(),A){if(A==="*")A=K;else if(K!=="*"&&K!==A){if(N=ae[K+" "+A]||ae["* "+A],!N){for(M in ae)if(Z=M.split(" "),Z[1]===A&&(N=ae[K+" "+Z[0]]||ae["* "+Z[0]],N)){N===!0?N=ae[M]:ae[M]!==!0&&(A=Z[0],ge.unshift(Z[1]));break}}if(N!==!0)if(N&&f.throws)m=N(m);else try{m=N(m)}catch(xe){return{state:"parsererror",error:N?xe:"No conversion from "+K+" to "+A}}}}return{state:"success",data:m}}v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Sa.href,type:"GET",isLocal:Up.test(Sa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_c,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,m){return m?xl(xl(f,v.ajaxSettings),m):xl(v.ajaxSettings,f)},ajaxPrefilter:Mc(kc),ajaxTransport:Mc(bl),ajax:function(f,m){typeof f=="object"&&(m=f,f=void 0),m=m||{};var C,T,M,A,N,Z,K,ae,ge,xe,fe=v.ajaxSetup({},m),Le=fe.context||fe,nt=fe.context&&(Le.nodeType||Le.jquery)?v(Le):v.event,dt=v.Deferred(),st=v.Callbacks("once memory"),Qt=fe.statusCode||{},Wt={},Jn={},er="canceled",ft={readyState:0,getResponseHeader:function(ht){var Bt;if(K){if(!A)for(A={};Bt=Wp.exec(M);)A[Bt[1].toLowerCase()+" "]=(A[Bt[1].toLowerCase()+" "]||[]).concat(Bt[2]);Bt=A[ht.toLowerCase()+" "]}return Bt==null?null:Bt.join(", ")},getAllResponseHeaders:function(){return K?M:null},setRequestHeader:function(ht,Bt){return K==null&&(ht=Jn[ht.toLowerCase()]=Jn[ht.toLowerCase()]||ht,Wt[ht]=Bt),this},overrideMimeType:function(ht){return K==null&&(fe.mimeType=ht),this},statusCode:function(ht){var Bt;if(ht)if(K)ft.always(ht[ft.status]);else for(Bt in ht)Qt[Bt]=[Qt[Bt],ht[Bt]];return this},abort:function(ht){var Bt=ht||er;return C&&C.abort(Bt),ri(0,Bt),this}};if(dt.promise(ft),fe.url=((f||fe.url||Sa.href)+"").replace(Gp,Sa.protocol+"//"),fe.type=m.method||m.type||fe.method||fe.type,fe.dataTypes=(fe.dataType||"*").toLowerCase().match(te)||[""],fe.crossDomain==null){Z=b.createElement("a");try{Z.href=fe.url,Z.href=Z.href,fe.crossDomain=wl.protocol+"//"+wl.host!=Z.protocol+"//"+Z.host}catch{fe.crossDomain=!0}}if(fe.data&&fe.processData&&typeof fe.data!="string"&&(fe.data=v.param(fe.data,fe.traditional)),Ac(kc,fe,m,ft),K)return ft;ae=v.event&&fe.global,ae&&v.active++===0&&v.event.trigger("ajaxStart"),fe.type=fe.type.toUpperCase(),fe.hasContent=!jp.test(fe.type),T=fe.url.replace(qp,""),fe.hasContent?fe.data&&fe.processData&&(fe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(fe.data=fe.data.replace(Hp,"+")):(xe=fe.url.slice(T.length),fe.data&&(fe.processData||typeof fe.data=="string")&&(T+=(ml.test(T)?"&":"?")+fe.data,delete fe.data),fe.cache===!1&&(T=T.replace(Vp,"$1"),xe=(ml.test(T)?"&":"?")+"_="+Cc.guid+++xe),fe.url=T+xe),fe.ifModified&&(v.lastModified[T]&&ft.setRequestHeader("If-Modified-Since",v.lastModified[T]),v.etag[T]&&ft.setRequestHeader("If-None-Match",v.etag[T])),(fe.data&&fe.hasContent&&fe.contentType!==!1||m.contentType)&&ft.setRequestHeader("Content-Type",fe.contentType),ft.setRequestHeader("Accept",fe.dataTypes[0]&&fe.accepts[fe.dataTypes[0]]?fe.accepts[fe.dataTypes[0]]+(fe.dataTypes[0]!=="*"?", "+_c+"; q=0.01":""):fe.accepts["*"]);for(ge in fe.headers)ft.setRequestHeader(ge,fe.headers[ge]);if(fe.beforeSend&&(fe.beforeSend.call(Le,ft,fe)===!1||K))return ft.abort();if(er="abort",st.add(fe.complete),ft.done(fe.success),ft.fail(fe.error),C=Ac(bl,fe,m,ft),!C)ri(-1,"No Transport");else{if(ft.readyState=1,ae&&nt.trigger("ajaxSend",[ft,fe]),K)return ft;fe.async&&fe.timeout>0&&(N=e.setTimeout(function(){ft.abort("timeout")},fe.timeout));try{K=!1,C.send(Wt,ri)}catch(ht){if(K)throw ht;ri(-1,ht)}}function ri(ht,Bt,ka,El){var tr,_a,nr,Pr,Lr,Ln=Bt;K||(K=!0,N&&e.clearTimeout(N),C=void 0,M=El||"",ft.readyState=ht>0?4:0,tr=ht>=200&&ht<300||ht===304,ka&&(Pr=Kp(fe,ft,ka)),!tr&&v.inArray("script",fe.dataTypes)>-1&&v.inArray("json",fe.dataTypes)<0&&(fe.converters["text script"]=function(){}),Pr=Yp(fe,Pr,ft,tr),tr?(fe.ifModified&&(Lr=ft.getResponseHeader("Last-Modified"),Lr&&(v.lastModified[T]=Lr),Lr=ft.getResponseHeader("etag"),Lr&&(v.etag[T]=Lr)),ht===204||fe.type==="HEAD"?Ln="nocontent":ht===304?Ln="notmodified":(Ln=Pr.state,_a=Pr.data,nr=Pr.error,tr=!nr)):(nr=Ln,(ht||!Ln)&&(Ln="error",ht<0&&(ht=0))),ft.status=ht,ft.statusText=(Bt||Ln)+"",tr?dt.resolveWith(Le,[_a,Ln,ft]):dt.rejectWith(Le,[ft,Ln,nr]),ft.statusCode(Qt),Qt=void 0,ae&&nt.trigger(tr?"ajaxSuccess":"ajaxError",[ft,fe,tr?_a:nr]),st.fireWith(Le,[ft,Ln]),ae&&(nt.trigger("ajaxComplete",[ft,fe]),--v.active||v.event.trigger("ajaxStop")))}return ft},getJSON:function(f,m,C){return v.get(f,m,C,"json")},getScript:function(f,m){return v.get(f,void 0,m,"script")}}),v.each(["get","post"],function(f,m){v[m]=function(C,T,M,A){return y(T)&&(A=A||M,M=T,T=void 0),v.ajax(v.extend({url:C,type:m,dataType:A,data:T,success:M},v.isPlainObject(C)&&C))}}),v.ajaxPrefilter(function(f){var m;for(m in f.headers)m.toLowerCase()==="content-type"&&(f.contentType=f.headers[m]||"")}),v._evalUrl=function(f,m,C){return v.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(T){v.globalEval(T,m,C)}})},v.fn.extend({wrapAll:function(f){var m;return this[0]&&(y(f)&&(f=f.call(this[0])),m=v(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&m.insertBefore(this[0]),m.map(function(){for(var C=this;C.firstElementChild;)C=C.firstElementChild;return C}).append(this)),this},wrapInner:function(f){return y(f)?this.each(function(m){v(this).wrapInner(f.call(this,m))}):this.each(function(){var m=v(this),C=m.contents();C.length?C.wrapAll(f):m.append(f)})},wrap:function(f){var m=y(f);return this.each(function(C){v(this).wrapAll(m?f.call(this,C):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){v(this).replaceWith(this.childNodes)}),this}}),v.expr.pseudos.hidden=function(f){return!v.expr.pseudos.visible(f)},v.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},v.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Xp={0:200,1223:204},Ta=v.ajaxSettings.xhr();h.cors=!!Ta&&"withCredentials"in Ta,h.ajax=Ta=!!Ta,v.ajaxTransport(function(f){var m,C;if(h.cors||Ta&&!f.crossDomain)return{send:function(T,M){var A,N=f.xhr();if(N.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(A in f.xhrFields)N[A]=f.xhrFields[A];f.mimeType&&N.overrideMimeType&&N.overrideMimeType(f.mimeType),!f.crossDomain&&!T["X-Requested-With"]&&(T["X-Requested-With"]="XMLHttpRequest");for(A in T)N.setRequestHeader(A,T[A]);m=function(Z){return function(){m&&(m=C=N.onload=N.onerror=N.onabort=N.ontimeout=N.onreadystatechange=null,Z==="abort"?N.abort():Z==="error"?typeof N.status!="number"?M(0,"error"):M(N.status,N.statusText):M(Xp[N.status]||N.status,N.statusText,(N.responseType||"text")!=="text"||typeof N.responseText!="string"?{binary:N.response}:{text:N.responseText},N.getAllResponseHeaders()))}},N.onload=m(),C=N.onerror=N.ontimeout=m("error"),N.onabort!==void 0?N.onabort=C:N.onreadystatechange=function(){N.readyState===4&&e.setTimeout(function(){m&&C()})},m=m("abort");try{N.send(f.hasContent&&f.data||null)}catch(Z){if(m)throw Z}},abort:function(){m&&m()}}}),v.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return v.globalEval(f),f}}}),v.ajaxPrefilter("script",function(f){f.cache===void 0&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),v.ajaxTransport("script",function(f){if(f.crossDomain||f.scriptAttrs){var m,C;return{send:function(T,M){m=v("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",C=function(A){m.remove(),C=null,A&&M(A.type==="error"?404:200,A.type)}),b.head.appendChild(m[0])},abort:function(){C&&C()}}}});var Ic=[],Cl=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=Ic.pop()||v.expando+"_"+Cc.guid++;return this[f]=!0,f}}),v.ajaxPrefilter("json jsonp",function(f,m,C){var T,M,A,N=f.jsonp!==!1&&(Cl.test(f.url)?"url":typeof f.data=="string"&&(f.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Cl.test(f.data)&&"data");if(N||f.dataTypes[0]==="jsonp")return T=f.jsonpCallback=y(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,N?f[N]=f[N].replace(Cl,"$1"+T):f.jsonp!==!1&&(f.url+=(ml.test(f.url)?"&":"?")+f.jsonp+"="+T),f.converters["script json"]=function(){return A||v.error(T+" was not called"),A[0]},f.dataTypes[0]="json",M=e[T],e[T]=function(){A=arguments},C.always(function(){M===void 0?v(e).removeProp(T):e[T]=M,f[T]&&(f.jsonpCallback=m.jsonpCallback,Ic.push(T)),A&&y(M)&&M(A[0]),A=M=void 0}),"script"}),h.createHTMLDocument=function(){var f=b.implementation.createHTMLDocument("").body;return f.innerHTML="<form></form><form></form>",f.childNodes.length===2}(),v.parseHTML=function(f,m,C){if(typeof f!="string")return[];typeof m=="boolean"&&(C=m,m=!1);var T,M,A;return m||(h.createHTMLDocument?(m=b.implementation.createHTMLDocument(""),T=m.createElement("base"),T.href=b.location.href,m.head.appendChild(T)):m=b),M=H.exec(f),A=!C&&[],M?[m.createElement(M[1])]:(M=Lt([f],m,A),A&&A.length&&v(A).remove(),v.merge([],M.childNodes))},v.fn.load=function(f,m,C){var T,M,A,N=this,Z=f.indexOf(" ");return Z>-1&&(T=ti(f.slice(Z)),f=f.slice(0,Z)),y(m)?(C=m,m=void 0):m&&typeof m=="object"&&(M="POST"),N.length>0&&v.ajax({url:f,type:M||"GET",dataType:"html",data:m}).done(function(K){A=arguments,N.html(T?v("<div>").append(v.parseHTML(K)).find(T):K)}).always(C&&function(K,ae){N.each(function(){C.apply(this,A||[K.responseText,ae,K])})}),this},v.expr.pseudos.animated=function(f){return v.grep(v.timers,function(m){return f===m.elem}).length},v.offset={setOffset:function(f,m,C){var T,M,A,N,Z,K,ae,ge=v.css(f,"position"),xe=v(f),fe={};ge==="static"&&(f.style.position="relative"),Z=xe.offset(),A=v.css(f,"top"),K=v.css(f,"left"),ae=(ge==="absolute"||ge==="fixed")&&(A+K).indexOf("auto")>-1,ae?(T=xe.position(),N=T.top,M=T.left):(N=parseFloat(A)||0,M=parseFloat(K)||0),y(m)&&(m=m.call(f,C,v.extend({},Z))),m.top!=null&&(fe.top=m.top-Z.top+N),m.left!=null&&(fe.left=m.left-Z.left+M),"using"in m?m.using.call(f,fe):xe.css(fe)}},v.fn.extend({offset:function(f){if(arguments.length)return f===void 0?this:this.each(function(M){v.offset.setOffset(this,f,M)});var m,C,T=this[0];if(T)return T.getClientRects().length?(m=T.getBoundingClientRect(),C=T.ownerDocument.defaultView,{top:m.top+C.pageYOffset,left:m.left+C.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var f,m,C,T=this[0],M={top:0,left:0};if(v.css(T,"position")==="fixed")m=T.getBoundingClientRect();else{for(m=this.offset(),C=T.ownerDocument,f=T.offsetParent||C.documentElement;f&&(f===C.body||f===C.documentElement)&&v.css(f,"position")==="static";)f=f.parentNode;f&&f!==T&&f.nodeType===1&&(M=v(f).offset(),M.top+=v.css(f,"borderTopWidth",!0),M.left+=v.css(f,"borderLeftWidth",!0))}return{top:m.top-M.top-v.css(T,"marginTop",!0),left:m.left-M.left-v.css(T,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&v.css(f,"position")==="static";)f=f.offsetParent;return f||J})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,m){var C=m==="pageYOffset";v.fn[f]=function(T){return Oe(this,function(M,A,N){var Z;if(w(M)?Z=M:M.nodeType===9&&(Z=M.defaultView),N===void 0)return Z?Z[m]:M[A];Z?Z.scrollTo(C?Z.pageXOffset:N,C?N:Z.pageYOffset):M[A]=N},f,T,arguments.length)}}),v.each(["top","left"],function(f,m){v.cssHooks[m]=wa(h.pixelPosition,function(C,T){if(T)return T=Qn(C,m),ma.test(T)?v(C).position()[m]+"px":T})}),v.each({Height:"height",Width:"width"},function(f,m){v.each({padding:"inner"+f,content:m,"":"outer"+f},function(C,T){v.fn[T]=function(M,A){var N=arguments.length&&(C||typeof M!="boolean"),Z=C||(M===!0||A===!0?"margin":"border");return Oe(this,function(K,ae,ge){var xe;return w(K)?T.indexOf("outer")===0?K["inner"+f]:K.document.documentElement["client"+f]:K.nodeType===9?(xe=K.documentElement,Math.max(K.body["scroll"+f],xe["scroll"+f],K.body["offset"+f],xe["offset"+f],xe["client"+f])):ge===void 0?v.css(K,ae,Z):v.style(K,ae,ge,Z)},m,N?M:void 0,N)}})}),v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,m){v.fn[m]=function(C){return this.on(m,C)}}),v.fn.extend({bind:function(f,m,C){return this.on(f,null,m,C)},unbind:function(f,m){return this.off(f,null,m)},delegate:function(f,m,C,T){return this.on(m,f,C,T)},undelegate:function(f,m,C){return arguments.length===1?this.off(f,"**"):this.off(m,f||"**",C)},hover:function(f,m){return this.on("mouseenter",f).on("mouseleave",m||f)}}),v.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,m){v.fn[m]=function(C,T){return arguments.length>0?this.on(m,null,C,T):this.trigger(m)}});var Zp=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;v.proxy=function(f,m){var C,T,M;if(typeof m=="string"&&(C=f[m],m=f,f=C),!!y(f))return T=a.call(arguments,2),M=function(){return f.apply(m||this,T.concat(a.call(arguments)))},M.guid=f.guid=f.guid||v.guid++,M},v.holdReady=function(f){f?v.readyWait++:v.ready(!0)},v.isArray=Array.isArray,v.parseJSON=JSON.parse,v.nodeName=I,v.isFunction=y,v.isWindow=w,v.camelCase=Ne,v.type=x,v.now=Date.now,v.isNumeric=function(f){var m=v.type(f);return(m==="number"||m==="string")&&!isNaN(f-parseFloat(f))},v.trim=function(f){return f==null?"":(f+"").replace(Zp,"$1")};var Qp=e.jQuery,Jp=e.$;return v.noConflict=function(f){return e.$===v&&(e.$=Jp),f&&e.jQuery===v&&(e.jQuery=Qp),v},typeof n>"u"&&(e.jQuery=e.$=v),v})}(ss)),ss.exports}var fg=cg();const dg=Ti(fg);window.jQuery=window.$=dg;const Qe={ID:"id",LABEL:"l",LABEL_GERMAN:"de",LABEL_ENGLISH:"en",LABEL_PERSIAN:"fa",SUBTOP:"st",SOURCE:"source",HAS_INSTANCE:"inst",SUBTOP_ENTITY_TYPE:"E",SUBTOP_ROLE:"R",SUBTOP_FUNCTION:"F",TYPE:"t"},$t={SOURCE:"source",TARGET:"target",ID:"id",PROPERTY:"p",PROPERTY_LABEL:"pl",GRAPH:"g",AXIOM:"ax"},hg={idStrings:{file:"File","load-sparql":"Load from SPARQL endpoint","load-session":"Load session","load-view":"Load Partial Graph","load-layout":"Load Layout of Partial Graph","save-session":"Save Session","save-snik-graph":"Save complete SNIK Graph as Cytoscape File","new-view":"Open New Partial Graph","save-view":"Save Current Partial Graph","save-layout":"Save Layout of Current Partial Graph","recalculate-layout-replace":"Recalculate Layout and Replace in Browser Cache","save-image-png-visible-region":"Save PNG Image of Visible Region","save-image-png-complete-partial-graph":"Save PNG Image of Complete Partial Graph","save-image-png-visible-region-high-res":"Save PNG Image of Visible Region (high res)","save-image-png-complete-partial-graph-high-res":"Save PNG Image of Complete Partial Graph (high res)","save-image-svg-visible-region":"Save SVG Image of Visible Region","save-image-svg-complete-partial-graph":"Save SVG Image of Complete Partial Graph",filter:"Filter",meta:"meta",bb:"BB",ob:"OB",ciox:"CioX",he:"HE",it:"IT",it4it:"IT4IT",bb2:"BB2",role:"Role",function:"Function",entitytype:"EntityType","show-classes-with-instances":"Show Classes with Instances","show-classes-without-instances":"Show Classes without Instances",subclassof:"subClassOf","non-subclassof":"non-subClassOf","inter-ontology-relations":"Inter-Ontology Relations","intra-ontology-relations":"Intra-Ontology Relations",options:"Options",separateSubs:"Separate Subontologies",cumulativeSearch:"Cumulative Search",grid:"Show Grid",dayMode:"Day Mode",coloredEdges:"Colorize Edges by Type",showProperty:"Always Show Relation Descriptions",devMode:"Developer Mode",extMode:"Extended Mode",combineMatchMode:"Combine Matches",starNewView:"Star in New Partial Graph",layout:"Layout","show-close-matches":"Show Close Matches","recalculate-layout":"Recalculate Layout","tight-layout":"Tight Layout","compound-layout":"Compound Layout","bb-chapter-search":"BB Chapter Search","ob-chapter-search":"OB Chapter Search","reset-view":"Reset Main Graph","move-match-nearby":"Move Matches Nearby","move-match-on-top":"Move Matches on Top of Each Other","subontology-connectivity":"Subontology Connectivity","change-title":"Change Title of Active Partial Graph",services:"Services","sparql-endpoint":"SPARQL Endpoint","rdf-browser":"RDF Browser",language:"Language",english:"English",german:"German",persian:"Persian",help:"Help",manual:"Manual",tutorial:"Tutorial","layout-help":"Layout Help","developer-doc":"Developer Documentation","youtube-channel":"YouTube Channel",troubleshooting:"Troubleshooting",contribute:"Contribute","project-homepage":"Project Homepage","meta-model":"SNIK Meta Model",about:"About SNIK Graph","bug-report":"Submit a Bug Report","feature-request":"Request new Feature for the Visualization","feedback-ontology":"Submit Feedback about the Ontology","deselect-all":"Deselect All","search-field":"Search Field","base-mode":"Basic Menu Items","context-menu":"Context Menu","incoming-star":"Incoming Star","outgoing-star":"Outgoing Star","combine-close-matches":"Combine Close Matches","class-use":"Class Use","show-instances":"Show Instances of this Class"},messageStrings:{"no-search-results-for":"No Search Results for","ontology-issue-warning":"Please note that this is only for feedback about the ontology! Please check if there is already an issue for your problem. If not, we will consider your feedback ASAP."},contextMenuStrings:{"edge-edit":"Edit or Report","edge-hide":"Hide","edge-description":"Description (if existing)","edge-confirm-link":"Confirm Link","edge-dev":"Developer","remove-permanently":"Remove Permanently",debug:"Debug",compound:"Compound",open:"Open","move-match-on-top":"Move Matches on Top of Each Other","move-match-nearby":"Move Matches Nearby","compound-star":"Star","compound-incoming-star":"Incoming Star","compound-outgoing-star":"Outgoing Star","compound-path-source":"Set Path as Source",edit:"Edit or Report","class-use":"Class Use",hide:"Hide",description:"Description (if existing)","set-path-source":"Set Path as Source",star:"Star","incoming-star":"Incoming Star","outgoing-star":"Outgoing Star",path:"Path",spiderworm:"Spiderworm",dev:"Developer",ext:"Extended",doublestar:"Doublestar",starpath:"Starpath",circlestar:"Circle Star",lodlive:"LodLive","move-selected":"Move Selected","close-match":"Close Match","show-instances":"Show Instances"}},vg={idStrings:{file:"Datei","load-sparql":"Lade aus dem SPARQL Endpunkt","load-session":"Lade gespeicherte Sitzung","load-view":"Lade Teilgraph","load-layout":"Lade Layout von Teilgraph","save-session":"Speichere aktuelle Sitzung","save-snik-graph":"Speichere kompletten SNIK Graph als Cytoscape Datei","new-view":"Neuen Teilgraph Ã¶ffnen","save-view":"Speichere aktuellen Teilgraphen","save-layout":"Speichere Layout des aktuellen Teilgraphen","recalculate-layout-replace":"Layout neu berechnen und im Browser-Cache platzieren","save-image-png-visible-region":"Speichere Bilddatei der aktuellen Ansicht als PNG","save-image-png-complete-partial-graph":"Speichere Bilddatei des kompletten Graphen als PNG","save-image-png-visible-region-high-res":"Speichere Bilddatei der aktuellen Ansicht als PNG (hohe AuflÃ¶sung)","save-image-png-complete-partial-graph-high-res":"Speichere Bilddatei des kompletten Graphen als PNG (hohe AuflÃ¶sung)","save-image-svg-visible-region":"Speichere Bilddatei der aktuellen Ansicht als SVG","save-image-svg-complete-partial-graph":"Speichere Bilddatei des kompletten Graphen als SVG",filter:"Filter","show-classes-with-instances":"Klassen zeigen, die Instanzen haben","show-classes-without-instances":"Klassen zeigen, die keine Instanzen haben",role:"Rolle",function:"Aufgabe",entitytype:"Objekttyp",subclassof:"subClassOf-Beziehungen","non-subclassof":"nicht-subClassOf-Beziehungen","inter-ontology-relations":"Beziehungen zwischen (Teil-)Ontologien","intra-ontology-relations":"Beziehungen innerhalb von (Teil-)Ontologien",options:"Optionen",separateSubs:"Nach Subontologien aufspalten",cumulativeSearch:"Kumulative Suche",grid:"Raster anzeigen",dayMode:"Tag-Modus",coloredEdges:"Kanten nach Typ einfÃ¤rben",devMode:"Entwickler-Modus",extMode:"Erweiterter Modus",combineMatchMode:"Ãbereinstimmungen zusammenfassen",showProperty:"Relationsbeschreibungen immer zeigen",layout:"Layout","show-close-matches":"Zeige close matches","recalculate-layout":"Layout neu berechnen","tight-layout":"Dichtes Layout","compound-layout":"verbundenes Layout","bb-chapter-search":"BB Kapitelsuche","ob-chapter-search":"OB Kapitelsuche","reset-view":"Ansicht des Gesamtgraphen zurÃ¼cksetzen","move-match-on-top":"Zeige close matches Ã¼bereinander","move-match-nearby":"Zeige close matches verbunden","subontology-connectivity":"KonnektivitÃ¤t zwischen Subontologien","change-title":"Titel des aktuellen Teilgraphen Ã¤ndern",services:"Services","sparql-endpoint":"SPARQL Endpunkt","rdf-browser":"RDF Browser",language:"Sprache",english:"Englisch",german:"Deutsch",persian:"Persisch",help:"Hilfe","bug-report":"Fehler melden","feature-request":"Verbesserung fÃ¼r die Visualisierung vorschlagen","deselect-all":"alle abwÃ¤hlen","search-field":"Suchfeld","base-mode":"Basismodus","context-menu":"KontextmenÃ¼","incoming-star":"eingehener Stern","outgoing-star":"ausgehender Stern","combine-close-matches":"kombiniere close matches","class-use":"Klassenbenutzung"},messageStrings:{"no-search-results-for":"Keine Suchresultate fÃ¼r","ontology-issue-warning":"Bitte hier nur Feedback zur Ontologie hinterlassen! Bitte prÃ¼fen Sie vorher, ob es schon eine Issue mit diesem Thema gibt. Wenn nicht, bearbeiten wir Ihr Feedback so schnell wie mÃ¶glich."},contextMenuStrings:{"edge-edit":"Bearbeiten or melden","edge-hide":"Verstecken","edge-description":"Beschreibung (falls existent)","edge-confirm-link":"Verbindung BestÃ¤tigen","edge-dev":"Entwickler","remove-permanently":"Permanent Entfernen",debug:"Debug",compound:"Compound",open:"Ãffnen","move-match-on-top":"Gleiche aufeinander bewegen","move-match-nearby":"Gleiche nahe aneinander bewegen","compound-star":"Stern","compound-incoming-star":"Eingehender Stern","compound-outgoing-star":"Ausgehender Stern","compound-path-source":"Pfad als Quelle setzen",edit:"Bearbeiten oder melden","class-use":"Klassennutzung",hide:"Verstecken",description:"Beschreibung (falls existent)","set-path-source":"Pfad als Quelle setzen",star:"Stern","incoming-star":"Eingehender Stern","outgoing-star":"Ausgehender Stern",path:"Pfad",spiderworm:"Spiderworm",dev:"Entwickler",ext:"Erweitert",doublestar:"Doppelter Stern",starpath:"Sternenpfad",circlestar:"Kreisstern",lodlive:"LodLive","move-selected":"AusgewÃ¤hlte bewegen","close-match":"Nahe matches (close matches)","show-instances":"Instanzen dieser Klasse zeigen"}};var ls={exports:{}},pg=ls.exports,Nc;function gg(){return Nc||(Nc=1,function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(pg,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],a={},o=null;function s(y,w){var b=y[w];if(typeof b.bind=="function")return b.bind(y);try{return Function.prototype.bind.call(b,y)}catch{return function(){return Function.prototype.apply.apply(b,[y,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(y){return y==="debug"&&(y="log"),typeof console===n?!1:y==="trace"&&r?l:console[y]!==void 0?s(console,y):console.log!==void 0?s(console,"log"):e}function c(){for(var y=this.getLevel(),w=0;w<i.length;w++){var b=i[w];this[b]=w<y?e:this.methodFactory(b,y,this.name)}if(this.log=this.debug,typeof console===n&&y<this.levels.SILENT)return"No console available for logging"}function d(y){return function(){typeof console!==n&&(c.call(this),this[y].apply(this,arguments))}}function p(y,w,b){return u(y)||d.apply(this,arguments)}function g(y,w){var b=this,E,S,x,_="loglevel";typeof y=="string"?_+=":"+y:typeof y=="symbol"&&(_=void 0);function k(P){var L=(i[P]||"silent").toUpperCase();if(!(typeof window===n||!_)){try{window.localStorage[_]=L;return}catch{}try{window.document.cookie=encodeURIComponent(_)+"="+L+";"}catch{}}}function v(){var P;if(!(typeof window===n||!_)){try{P=window.localStorage[_]}catch{}if(typeof P===n)try{var L=window.document.cookie,R=encodeURIComponent(_),O=L.indexOf(R+"=");O!==-1&&(P=/^([^;]+)/.exec(L.slice(O+R.length+1))[1])}catch{}return b.levels[P]===void 0&&(P=void 0),P}}function D(){if(!(typeof window===n||!_)){try{window.localStorage.removeItem(_)}catch{}try{window.document.cookie=encodeURIComponent(_)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function I(P){var L=P;if(typeof L=="string"&&b.levels[L.toUpperCase()]!==void 0&&(L=b.levels[L.toUpperCase()]),typeof L=="number"&&L>=0&&L<=b.levels.SILENT)return L;throw new TypeError("log.setLevel() called with invalid level: "+P)}b.name=y,b.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},b.methodFactory=w||p,b.getLevel=function(){return x??S??E},b.setLevel=function(P,L){return x=I(P),L!==!1&&k(x),c.call(b)},b.setDefaultLevel=function(P){S=I(P),v()||b.setLevel(P,!1)},b.resetLevel=function(){x=null,D(),c.call(b)},b.enableAll=function(P){b.setLevel(b.levels.TRACE,P)},b.disableAll=function(P){b.setLevel(b.levels.SILENT,P)},b.rebuild=function(){if(o!==b&&(E=I(o.getLevel())),c.call(b),o===b)for(var P in a)a[P].rebuild()},E=I(o?o.getLevel():"WARN");var B=v();B!=null&&(x=I(B)),c.call(b)}o=new g,o.getLogger=function(w){if(typeof w!="symbol"&&typeof w!="string"||w==="")throw new TypeError("You must supply a name when creating a logger.");var b=a[w];return b||(b=a[w]=new g(w,o.methodFactory)),b};var h=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=h),o},o.getLoggers=function(){return a},o.default=o,o})}(ls)),ls.exports}var mg=gg();const Pe=Ti(mg),Nu={en:hg,de:vg,fa:{idStrings:{},messageStrings:{}}};let Wi="en";function yg(t){return Pe.debug(`Set language from ${Wi} to ${t}.`),Nu[t]?(Wi=t,!0):(Pe.warn(`Language ${t} not found. Keeping language ${Wi}.`),!1)}function Gd(){return Wi}function Xa(t,e){const n=Nu[Wi];n.all||(n.all={...n.idStrings,...n.messageStrings,...n.contextMenuStrings});const r=n.all[t];return r?r+(e?` (${e.toUpperCase()})`:""):(Pe.error("Internationalization string not found for key "+t),null)}function bg(){return Nu[Wi].idStrings}function Bc(){const t=bg(),e=[];for(const n of Object.keys(t)){const r=document.querySelectorAll(`[data-i18n="${n}"]`);if(r.length===0){e.push(n);continue}for(const i of r){const a=Xa(n,i.getAttribute("hotkey"));switch(i.tagName){case"A":case"BUTTON":case"DIV":case"SPAN":i.textContent=a;break;default:Pe.warn(`Cannot assign text "${a}" to element with i18n key ${n} because its tag type ${i.tagName} is unsupported.`)}}}e.length>0&&Pe.debug(`UpdateHtml: i18n keys ${e.toString()} not used`)}const wg="24.10",xg="SIM, TIM & OIM",Cg=1,Eg=[["http://www.snik.eu/ontology/bb/ProjectInitiation",{x:1040,y:700}],["http://www.snik.eu/ontology/bb/Management",{x:950,y:50}],["http://www.snik.eu/ontology/bb/InformationManagement",{x:1400,y:50}],["http://www.snik.eu/ontology/bb/HealthInformationSystem",{x:630,y:940}],["http://www.snik.eu/ontology/bb/TacticalHISPlanning",{x:1250,y:550}],["http://www.snik.eu/ontology/bb/StrategicHISDirecting",{x:830,y:550}],["http://www.snik.eu/ontology/bb/InformationSystem",{x:730,y:900}],["http://www.snik.eu/ontology/bb/TacticalHISDirecting",{x:1400,y:550}],["http://www.snik.eu/ontology/bb/ProjectPlan",{x:1325,y:700}],["http://www.snik.eu/ontology/bb/StrategicInformationManagementPlan",{x:730,y:490}],["http://www.snik.eu/ontology/bb/OperationalHISMonitoring",{x:2120,y:550}],["http://www.snik.eu/ontology/bb/ArchitectureOfAnInformationSystem",{x:730,y:700}],["http://www.snik.eu/ontology/bb/HospitalManagement",{x:500,y:50}],["http://www.snik.eu/ontology/bb/ChiefInformationOfficer",{x:1400,y:-80}],["http://www.snik.eu/ontology/bb/TacticalInformationManagement",{x:1400,y:250}],["http://www.snik.eu/ontology/bb/TacticalHISMonitoring",{x:1550,y:550}],["http://www.snik.eu/ontology/bb/TopManagement",{x:500,y:-80}],["http://www.snik.eu/ontology/bb/StrategicInformationManagement",{x:830,y:250}],["http://www.snik.eu/ontology/bb/OperationalHISPlanning",{x:1820,y:550}],["http://www.snik.eu/ontology/bb/StrategicHISPlanning",{x:630,y:550}],["http://www.snik.eu/ontology/bb/ComputerBasedApplicationComponent",{x:1685,y:400}],["http://www.snik.eu/ontology/bb/HisArchitecture",{x:730,y:610}],["http://www.snik.eu/ontology/bb/OperationalHISDirecting",{x:1970,y:550}],["http://www.snik.eu/ontology/bb/OperationalInformationManagement",{x:1970,y:250}],["http://www.snik.eu/ontology/bb/ApplicationComponent",{x:1685,y:320}],["http://www.snik.eu/ontology/bb/StrategicHISMonitoring",{x:980,y:550}],["http://www.snik.eu/ontology/bb/HospitalInformationSystem",{x:630,y:860}]],Sg={version:wg,title:xg,type:Cg,graph:Eg},Rc=new Map([[Qe.SUBTOP_ENTITY_TYPE,"rectangle"],[Qe.SUBTOP_ROLE,"ellipse"],[Qe.SUBTOP_FUNCTION,"triangle"],["http://www.snik.eu/ontology/meta/EntityType","rectangle"],["http://www.snik.eu/ontology/meta/Role","ellipse"],["http://www.snik.eu/ontology/meta/Function","triangle"]]),zc=new Map([["ciox","rgb(80,255,250)"],["meta","rgb(255,80,80)"],["ob","rgb(255,173,30)"],["bb","rgb(30,152,255)"],["he","rgb(150,255,120)"],["it","rgb(204, 0, 204)"],["it4it","rgb(255, 255, 0)"],["bb2","rgb(0, 255, 255)"]]),Tg={id:"snik",name:"SNIK",initialView:Sg,isSnik:!0,style:{shape:t=>Rc.get(t.data(Qe.SUBTOP))||Rc.get(t.data(Qe.ID))||"hexagon",color:t=>{let e;if(typeof t=="string")e=t;else{const n=t.data(Qe.SOURCE),r=n.lastIndexOf("/");e=n.substring(r+1)}return zc.get(e)||"orange"},colorMap:zc},sparql:{endpoint:"https://www.snik.eu/sparql",graph:"http://www.snik.eu/ontology",instances:!1,queries:{nodes:t=>`
			PREFIX ov: <http://open.vocab.org/terms/>
			PREFIX meta: <http://www.snik.eu/ontology/meta/>
			SELECT DISTINCT(?c)
			GROUP_CONCAT(DISTINCT(CONCAT(?l,"@",lang(?l)));separator="|") AS ?l
			SAMPLE(?st) AS ?st
			?src
			SAMPLE(?inst) AS ?inst
			${t}
			{
			  ?c a [rdfs:subClassOf meta:Top].
			  OPTIONAL {?src ov:defines ?c.}
			  OPTIONAL {?c rdf:type ?st. FILTER(?st!=owl:Class)}
			  OPTIONAL {?c rdfs:label ?l.}
			  OPTIONAL {?inst a ?c.}
			}`,triples:(t,e,n,r)=>`PREFIX sniko: <http://www.snik.eu/ontology/>
			select  ?c ?p ?d ?g (MIN(?ax) as ?ax)
			${t}
			${e}
			{
			  graph ?g {?c ?p ?d.}
			  filter(?g!=sniko:)
			  {?c a [rdfs:subClassOf meta:Top].} ${r?" UNION {?c a [a [rdfs:subClassOf meta:Top]]}":""}
			  {?d a [rdfs:subClassOf meta:Top].} ${r?" UNION {?d a [a [rdfs:subClassOf meta:Top]]}":""}
			  filter(?p!=rdf:type)
			  OPTIONAL
			  {
				?ax a owl:Axiom;
				owl:annotatedSource ?c;
				owl:annotatedProperty ?p;
				owl:annotatedTarget ?d.
			  }
			}`}}},Ke={defaultSubOntologies:["meta","bb","ob","ciox","he","it4it","bb2"],allSubOntologies:["meta","bb","ob","ciox","he","he-unconsolidated","it4it","bb2"],nodeSize:39,helperGraphs:["limes-exact","match"],activeOptions:["edgecolor"],searchCloseMatch:!0,logLevelConsole:"debug",logLevelDisplay:"info",logLevelMemory:"debug",layoutCacheMinRecall:.95,layoutCacheMinPrecision:.5,language:"en",download:{image:{max:{width:5e3,height:4e3},standard:{width:1920,height:1920}}},ontology:Tg,multiview:{initialTabs:1,warnOnSessionLoad:!0},git:{defaultIssueAssignee:"KonradHoeffner",issueLabels:{bug:"bug",confirmLink:"link",deleteTriple:"deletetriple",deleteClass:"deleteclass"},repo:{ontology:"https://github.com/snikproject/ontology",application:"https://github.com/snikproject/graph"}}},kg=[["meta","http://www.snik.eu/ontology/meta/"],["bb","http://www.snik.eu/ontology/bb/"],["ob","http://www.snik.eu/ontology/ob/"],["he","http://www.snik.eu/ontology/he/"],["ciox","http://www.snik.eu/ontology/ciox/"],["it4it","http://www.snik.eu/ontology/it4it/"],["it","http://www.snik.eu/ontology/it/"],["skos","http://www.w3.org/2004/02/skos/core#"],["rdfs","http://www.w3.org/2000/01/rdf-schema#"],["rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"],["owl","http://www.w3.org/2002/07/owl#"]];function Xn(t){for(const e of kg)t=t.replace(e[1],e[0]+":");return t}const _g="24.10",Vr=_g,Mg=6e3;function Mn(t){const e=document.getElementById(t);if(!e)throw new Error(`Element with id ${t} does not exist.`);return e}function Kd(t,e,n,r,i,a){let o=encodeURIComponent(n);r||(r=Ke.git.defaultIssueAssignee),i||(i=""),console.log(i),window.open(`${t}/issues/new?title=${encodeURIComponent(e)}&body=${o}&assignees=${r}&labels=${i}`)}function Ws(t,e,n,r,i){const a=i.map(([o,s])=>`&${o}=${encodeURIComponent(s)}`).reduce((o,s)=>o+s);window.open(`${t}/issues/new?template=${n}.yml&assignees=${Ke.git.defaultIssueAssignee}&labels=${r}&title=${encodeURIComponent(e)}${a}`)}function Ag(t){const e=Xn(t.data(Qe.ID));Ws(Ke.git.repo.ontology,"Remove class "+e,"deleteclass",Ke.git.issueLabels.deleteClass,Object.entries({class:e}))}function Ig(t){const e=Xn(t.data($t.SOURCE)),n=Xn(t.data($t.PROPERTY)),r=Xn(t.data($t.TARGET));Ws(Ke.git.repo.ontology,`Delete triple ${e} ${n} ${r}`,"deletetriple",Ke.git.issueLabels.deleteTriple,Object.entries({subject:e,predicate:n,object:r}))}function Dg(t){t.data($t.GRAPH,"http://www.snik.eu/ontology/match");const e=Xn(t.data($t.SOURCE)),n=Xn(t.data($t.TARGET));Ws(Ke.git.repo.ontology,"Confirm "+su(t),"link",Ke.git.issueLabels.confirmLink,Object.entries({source:e,target:n}))}function Yd(){return`SNIK Graph version ${Vr}
commit date 2024-12-16T16:40:00+01:00
chore(deps): use latest working oxlint version
master/5da1c18ce39dd5b2ddd44f5df8884f441d7a538d`}function Pg(){const t=Yd(),e=Pe.logs.filter(n=>!n.includes("%20")).reduce((n,r)=>n+`
`+r).substr(-Mg*3/4);Ws(Ke.git.repo.application,"","bugreport",Ke.git.issueLabels.bug,Object.entries({version:t,logs:e}))}function su(t){return Xn(t.data($t.SOURCE))+" "+Xn(t.data($t.PROPERTY))+" "+Xn(t.data($t.TARGET))}const Xd=t=>e=>{switch(e.key){case" ":case"Enter":t.click()}};function Zd(t,e,n){const r=document.createElement("div");return r.classList.add("dropdown-entry-checkboxtext"),r.innerText=e,n&&r.setAttribute("data-i18n",n),r.addEventListener("click",()=>{t.click()}),r}function Lg(t,e,n){const r=Math.floor(t*6),i=t*6-r,a=n*(1-e),o=n*(1-i*e),s=n*(1-(1-i)*e);let l,u,c;switch(r%6){case 0:l=n,u=s,c=a;break;case 1:l=o,u=n,c=a;break;case 2:l=a,u=n,c=s;break;case 3:l=a,u=o,c=n;break;case 4:l=s,u=a,c=n;break;case 5:l=n,u=a,c=o;break}return"#"+("00"+Math.floor(l*255).toString(16)).slice(-2)+("00"+Math.floor(u*255).toString(16)).slice(-2)+("00"+Math.floor(c*255).toString(16)).slice(-2)}function Og(t){let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);return e=e%180/360,e+=.5,Lg(e,1,1)}var Ud,jd;const Fc={format_version:"1.0",generated_by:"cytoscape-3.4.0",target_cytoscapejs_version:"~2.1",title:"MyStyle1",style:[{selector:"node",css:{"min-zoomed-font-size":5,width:Ke.nodeSize,height:Ke.nodeSize,"font-size":11,"text-valign":"center","text-halign":"center","border-opacity":1,"border-width":function(t){return t.data(Qe.HAS_INSTANCE)?1:0},"font-family":"sans-serif","font-weight":"normal","background-opacity":.5882352941176471,"text-opacity":1,shape:(jd=(Ud=Ke.ontology)==null?void 0:Ud.style)!=null&&jd.shape?Ke.ontology.style.shape:"hexagon",label:function(t){let e=t.data(Qe.LABEL);if(!e)return t.data(Qe.ID);let n;if((n=e[Gd()])&&(n=n[0]))e=n;else{let r=!1;for(const i of[Qe.LABEL_ENGLISH,Qe.LABEL_GERMAN,Qe.LABEL_PERSIAN])if((n=e[i])&&n[0]){e=n[0],r=!0;break}if(!r){const i=Object.keys(e);i.length>0?e=e[i[0]]:e=t.data(Qe.ID)}}return t.data(Qe.HAS_INSTANCE)&&(e+="*"),e}}},{selector:"node.source",css:{"border-width":5}},{selector:"node.target",css:{"border-width":5}},{selector:"node.highlighted",css:{"border-width":5}},{selector:"node:selected",css:{"border-width":8}},{selector:"edge",css:{"z-compound-depth":"bottom",width:2,opacity:.22,"edge-text-rotation":"autorotate","text-margin-y":"-1em","min-zoomed-font-size":5,"font-size":11}},{selector:"edge.highlighted,edge:selected,edge.starmode",css:{"text-opacity":1,"mid-target-arrow-shape":function(t){switch(t.data($t.PROPERTY)){case"http://www.snik.eu/ontology/meta/isAssociatedWith":case"http://www.w3.org/2004/02/skos/core#closeMatch":case"http://www.w3.org/2004/02/skos/core#relatedMatch":case"http://www.w3.org/2004/02/skos/core#related":case"http://www.w3.org/2004/02/skos/core#exactMatch":return"none"}return"triangle"},label:function(t){let e=t.data($t.PROPERTY_LABEL);return t.data($t.GRAPH)==="http://www.snik.eu/ontology/limes-exact"&&(e+=" â "),e}}},{selector:"edge.highlighted,edge:selected",css:{width:4,opacity:1}},{selector:".filtered",css:{display:"none"}},{selector:".hidden",css:{visibility:"hidden"}},{selector:"$node > node",css:{shape:"rectangle","border-width":10,"text-valign":"top","text-margin-y":"-0.7em","min-zoomed-font-size":7.5,"font-size":16,"background-opacity":"0"}},{selector:"node[i]",css:{shape:"star"}},{selector:"node",css:{"background-color":t=>{var n,r;let e=(r=(n=Ke.ontology)==null?void 0:n.style)==null?void 0:r.color(t);return e||(e="rgb(254,196,79)"),e},color:"white"}}]};function $c(t){const e=t.data($t.PROPERTY);return Og(e)}const Ng=[{selector:"edge",css:{color:$c}},{selector:"edge:unselected",css:{"line-color":$c}}],Bg=[{selector:"edge",css:{label:function(t){let e=t.data($t.PROPERTY_LABEL);return t.data($t.GRAPH)==="http://www.snik.eu/ontology/limes-exact"&&(e+=" â "),e}}}],Hc=[{selector:"node",css:{color:"white","border-color":"white"}},{selector:"node:selected",css:{"background-color":"rgb(255,255,0)"}},{selector:"node.source",css:{"border-color":"rgb(128,255,128)"}},{selector:"node.target",css:{"border-color":"rgb(255,90,90)"}},{selector:"edge",css:{color:"white"}},{selector:"edge:unselected",css:{"line-color":function(t){return String(t.data($t.PROPERTY)).substring(0,36)==="http://www.w3.org/2004/02/skos/core#"?"rgb(255,255,190)":"rgb(252,252,252)"}}},{selector:"edge.starmode",css:{color:"rgb(128,128,128)","mid-target-arrow-color":"rgb(128,128,128)"}},{selector:"edge:selected,edge.highlighted",css:{color:"rgb(255,255,128)","line-color":"rgb(255,255,128)","mid-target-arrow-color":"rgb(255,255,128)"}}],Rg=[{selector:"node",css:{color:"black","border-color":"black"}},{selector:"node:selected",css:{"background-color":"rgb(0,0,255)"}},{selector:"node.source",css:{"border-color":"rgb(128,0,128)"}},{selector:"node.target",css:{"border-color":"rgb(0,165,165)"}},{selector:"edge",css:{color:"black"}},{selector:"edge[!selected]",css:{"line-color":function(t){return String(t.data($t.PROPERTY)).substring(0,36)==="http://www.w3.org/2004/02/skos/core#"?"rgb(140,130,10)":"rgb(110,110,110)"}}},{selector:"edge.starmode",css:{opacity:1,"mid-target-arrow-color":"rgb(128,128,128)",color:"rgb(20,20,20)"}},{selector:"edge:selected,edge.highlighted",css:{color:"rgb(0,0,128)","line-color":"rgb(0,0,128)","mid-target-arrow-color":"rgb(0,0,128)"}}];function aa(t){const e=new Date;return{stop:function(n){const i=new Date().getTime()-e.getTime();Pe.debug(t+" finished in "+i+" ms"+(n?` (${n})`:""))}}}var Es=function(){return Es=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Es.apply(this,arguments)},zg={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},Fg=function(){function t(e){e===void 0&&(e={}),this.opts=Es(Es({},zg),e)}return t.prototype.spin=function(e){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),this.el.style.position=this.opts.position,this.el.style.width="0",this.el.style.zIndex=this.opts.zIndex.toString(),this.el.style.left=this.opts.left,this.el.style.top=this.opts.top,this.el.style.transform="scale(".concat(this.opts.scale,")"),e&&e.insertBefore(this.el,e.firstChild||null),$g(this.el,this.opts),this},t.prototype.stop=function(){return this.el&&(this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},t}();function qc(t,e){return typeof t=="string"?t:t[e%t.length]}function $g(t,e){var n=Math.round(e.corners*e.width*500)/1e3+"px",r="none";e.shadow===!0?r="0 2px 4px #000":typeof e.shadow=="string"&&(r=e.shadow);for(var i=Hg(r),a=0;a<e.lines;a++){var o=~~(360/e.lines*a+e.rotate),s=document.createElement("div");s.style.position="absolute",s.style.top="".concat(-e.width/2,"px"),s.style.width=e.length+e.width+"px",s.style.height=e.width+"px",s.style.background=qc(e.fadeColor,a),s.style.borderRadius=n,s.style.transformOrigin="left",s.style.transform="rotate(".concat(o,"deg) translateX(").concat(e.radius,"px)");var l=a*e.direction/e.lines/e.speed;l-=1/e.speed;var u=document.createElement("div");u.style.width="100%",u.style.height="100%",u.style.background=qc(e.color,a),u.style.borderRadius=n,u.style.boxShadow=qg(i,o),u.style.animation="".concat(1/e.speed,"s linear ").concat(l,"s infinite ").concat(e.animation),s.appendChild(u),t.appendChild(s)}}function Hg(t){for(var e=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],r=0,i=t.split(",");r<i.length;r++){var a=i[r],o=a.match(e);if(o!==null){var s=+o[2],l=+o[5],u=o[4],c=o[7];s===0&&!u&&(u=c),l===0&&!c&&(c=u),u===c&&n.push({prefix:o[1]||"",x:s,y:l,xUnits:u,yUnits:c,end:o[8]})}}return n}function qg(t,e){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r],o=Vg(a.x,a.y,e);n.push(a.prefix+o[0]+a.xUnits+" "+o[1]+a.yUnits+a.end)}return n.join(", ")}function Vg(t,e,n){var r=n*Math.PI/180,i=Math.sin(r),a=Math.cos(r);return[Math.round((t*a+e*i)*1e3)/1e3,Math.round((-t*i+e*a)*1e3)/1e3]}const Wg={lines:13,length:28,width:35,radius:84,scale:3,corners:1,color:"#ffffff",opacity:.6,rotate:35,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!0,position:"absolute"};let zo=null,Fo=0;async function Za(t){window&&(zo||(zo=new Fg(Wg)),Fo||(document.body.classList.add("waiting"),zo.spin(document.body)),Fo++,await t(),Fo--,Fo<=0&&(document.body.classList.remove("waiting"),zo.stop()))}const Qd={GRAPH_BB:"http://www.snik.eu/ontology/bb",PREFIX:"http://www.snik.eu/ontology/",ENDPOINT:"https://www.snik.eu/sparql"};async function _r(t,e,n=Ke.ontology.sparql.endpoint){const r=typeof window<"u";let i=n+"?query="+encodeURIComponent(t)+"&format=json";try{const s=(await(await fetch(i)).json()).results.bindings;return r&&console.groupCollapsed("SPARQL "+t.split(`
`,1)[0]+"..."),r&&s.length<100&&console.table(s.map(l=>Object.keys(l).reduce((u,c)=>(u[c]=l[c].value,u),{}))),Pe.debug(t),Pe.debug(i),r&&console.groupEnd(),s}catch(a){return Pe.error(a),Pe.error(`Error executing SPARQL query:
${t}
URL: ${i}

`),[]}}async function Ug(t){var a,o;const e=aa("sparql-classes"),n=`
  PREFIX ov: <http://open.vocab.org/terms/>
  SELECT ?c
  GROUP_CONCAT(distinct(CONCAT(?l,"@",lang(?l)));separator="|") as ?l
  ?src
  ${t}
  {
    ?c a ?type.
    OPTIONAL {?c rdfs:label ?l.}
    OPTIONAL {?src ov:defines ?c.}
  }
  `,r=(o=(a=Ke.ontology.sparql)==null?void 0:a.queries)!=null&&o.nodes?Ke.ontology.sparql.queries.nodes(t):n,i=await _r(r);return e.stop(i.length+` classes using ${Ke.ontology.name} query`),i}function Jd(t){const e=t.split("|"),n={};for(const r of e){const[i,a]=r.split("@");i.trim()&&(n[a]||(n[a]=[]),n[a].push(i))}return n}async function Vc(t){const e=await Ug(t),n=[],r=new Set;for(let o=0;o<e.length;o++){let s;e[o].src&&(s=e[o].src.value,s.includes("http://www.snik.eu/ontology/")&&(s=s.replace("http://www.snik.eu/ontology/","")),r.add(s)),n.push({group:"nodes",data:{id:e[o].c.value,l:Jd(e[o].l.value),...e[o].st&&{st:e[o].st.value.replace("http://www.snik.eu/ontology/meta/","").substring(0,1)},...s&&{source:s},...e[o].inst&&{inst:!0}}})}const i=["rgb(30,152,255)","rgb(255,173,30)","rgb(80,255,250)","rgb(150,255,120)","rgb(204, 0, 204)","rgb(255, 255, 0)"];let a=0;for(const o of r)!Ke.ontology.style.colorMap.has(o)&&!Ke.ontology.style.color(o)&&(Ke.ontology.style.colorMap.set(o,i[a]),a=(a+1)%i.length);return Pe.debug(e.length+" Nodes loaded from SPARQL"),n}async function jg(t){const e=aa("sparql-classes"),n=`SELECT
  DISTINCT(?i)
  GROUP_CONCAT(DISTINCT(CONCAT(?l,"@",lang(?l)));separator="|") AS ?l
  ${t}
  {
    ?i a [a owl:Class].
    OPTIONAL {?i rdfs:label ?l.}
  }
  `,r=await _r(n);return e.stop(r.length+" instances"),r}async function Gg(t){const e=await jg(t),n=[];for(let r=0;r<e.length;r++)n.push({group:"nodes",data:{id:e[r].i.value,l:Jd(e[r].l.value),instance:!0}});return n}async function Kg(t,e,n,r){var l,u;const i=aa("sparql-properties"),a=`
    select  ?c ?p ?d
    ${t}
    {
      {?c ?p ?d.} ${r?" UNION {?p rdfs:domain ?c; rdfs:range ?d.}":""}
      {?c a owl:Class.} ${n?" UNION {?c a [a owl:Class]}":""}
      {?d a owl:Class.} ${n?" UNION {?d a [a owl:Class}":""}
    }`,o=(u=(l=Ke.ontology.sparql)==null?void 0:l.queries)!=null&&u.triples?Ke.ontology.sparql.queries.triples(t,e,r,n):a,s=await _r(o);return i.stop(s.length+` properties using ${Ke.ontology.name} query`),s}async function Yg(t,e,n,r){const i=await Kg(t,e,n,r),a=[];for(let o=0;o<i.length;o++)a.push({group:"edges",data:{source:i[o].c.value,target:i[o].d.value,id:String(o),p:i[o].p.value,pl:i[o].p.value.replace(/.*[#/]/,""),...i[o].g&&{g:i[o].g.value},...i[o].ax&&{ax:i[o].ax.value}}});return Pe.debug(i.length+" Edges loaded from SPARQL"),a}async function Xg(t,e){if(!e)return Vc(t);const[n,r]=await Promise.all([Vc(t),Gg(t)]);return n.concat(r)}async function eh(t,e,n=!1,r=!1){Pe.debug(`Loading graph from endpoint ${Ke.ontology.sparql.endpoint} with graphs ${e.join(",")}.`);const i=e.map(l=>`FROM <${l}>`).reduce((l,u)=>l+`
`+u,""),a=i.replace(/FROM/g,"FROM NAMED"),[o,s]=await Promise.all([Xg(i,n),Yg(i,a,n,r)]);t.elements().remove(),t.add(o),t.add(s),t.elements().addClass("unfiltered")}const Zg=[[`node[${Qe.SOURCE}='meta']`,"meta"],[`node[${Qe.SOURCE}='bb']`,"bb"],[`node[${Qe.SOURCE}='ob']`,"ob"],[`node[${Qe.SOURCE}='ciox']`,"ciox"],[`node[${Qe.SOURCE}='he']`,"he"],[`node[${Qe.SOURCE}='it']`,"it"],[`node[${Qe.SOURCE}='it4it']`,"it4it"],[`node[${Qe.SOURCE}='bb2']`,"bb2"],[`node[${Qe.SUBTOP}='${Qe.SUBTOP_ROLE}']`,"role"],[`node[${Qe.SUBTOP}='${Qe.SUBTOP_FUNCTION}']`,"function"],[`node[${Qe.SUBTOP}='${Qe.SUBTOP_ENTITY_TYPE}']`,"entitytype"],[`node[?${Qe.HAS_INSTANCE}]`,"show-classes-with-instances"],[`node[!${Qe.HAS_INSTANCE}]`,"show-classes-without-instances"],["edge[p='http://www.w3.org/2000/01/rdf-schema#subClassOf']","subclassof"],["edge[p!='http://www.w3.org/2000/01/rdf-schema#subClassOf']","non-subclassof"],["edge[p^='http://www.w3.org/2004/02/skos/core#']","inter-ontology-relations"],["edge[p!^='http://www.w3.org/2004/02/skos/core#']","intra-ontology-relations"]],$o=[],Ho=t=>We.views().map(e=>e.state.cy).forEach(e=>t(e));class vo{constructor(e,n){Et(this,"selector");Et(this,"label");Et(this,"checkbox");Et(this,"a");Et(this,"cssClass");Et(this,"visible");this.selector=e;const r=document.createElement("input");r.type="checkbox",this.checkbox=r,r.classList.add("filterbox"),r.autocomplete="off",r.checked=!0,this.a=document.createElement("a"),this.a.classList.add("dropdown-entry"),this.a.appendChild(r),this.a.setAttribute("tabindex","-1"),this.a.addEventListener("keydown",Xd(r)),this.a.appendChild(Zd(r,"",n)),this.cssClass=`filter-${n}`,this.visible=!0,Ho(i=>i.elements(this.selector).addClass(this.cssClass)),r.addEventListener("input",()=>this.setVisible(r.checked)),$o.push(this)}toString(){return this.label}setVisible(e){if(this.visible===e)return;this.visible=e;const n=$o.filter(r=>!r.visible).map(r=>r.selector);if(n.length===0)Ho(r=>r.elements().removeClass("filtered")),Ho(r=>r.elements().addClass("unfiltered")),Pe.debug("All filters checked");else{const r=n.reduce((i,a)=>i+","+a);Ho(i=>{const a=i.elements(r);a.addClass("filtered"),a.removeClass("unfiltered");const o=i.elements().not(a);o.removeClass("filtered"),o.addClass("unfiltered")}),Pe.debug("filter "+r+" triggered")}}static addFilterEntries(e,n){for(const r of Zg){const i=new vo(r[0],r[1]);e.appendChild(i.a),n.push(i.a)}}static toJSON(){const e={};for(const n of $o)e[n.label]=n.visible;return e}static fromJSON(e){for(const n of $o)n.checkbox.checked=e[n.label],n.visible=e[n.label]}}function Gt(t){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(t)}function Bu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ru(t,e,n){return e&&Qg(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function th(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Un(t,e){return Jg(t)||em(t,e)||nh(t,e)||tm()}function Jg(t){if(Array.isArray(t))return t}function em(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function nh(t,e){if(t){if(typeof t=="string")return Wc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wc(t,e)}}function Wc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rh(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=nh(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}}}var Ut=typeof window>"u"?null:window,Uc=Ut?Ut.navigator:null;Ut&&Ut.document;var nm=Gt(""),ih=Gt({}),rm=Gt(function(){}),im=typeof HTMLElement>"u"?"undefined":Gt(HTMLElement),po=function(e){return e&&e.instanceString&&Nt(e.instanceString)?e.instanceString():null},Ze=function(e){return e!=null&&Gt(e)==nm},Nt=function(e){return e!=null&&Gt(e)===rm},Tt=function(e){return!An(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},pt=function(e){return e!=null&&Gt(e)===ih&&!Tt(e)&&e.constructor===Object},am=function(e){return e!=null&&Gt(e)===ih},ze=function(e){return e!=null&&Gt(e)===Gt(1)&&!isNaN(e)},om=function(e){return ze(e)&&Math.floor(e)===e},Ss=function(e){if(im!=="undefined")return e!=null&&e instanceof HTMLElement},An=function(e){return go(e)||ah(e)},go=function(e){return po(e)==="collection"&&e._private.single},ah=function(e){return po(e)==="collection"&&!e._private.single},zu=function(e){return po(e)==="core"},oh=function(e){return po(e)==="stylesheet"},sm=function(e){return po(e)==="event"},Wr=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},lm=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},um=function(e){return pt(e)&&ze(e.x1)&&ze(e.x2)&&ze(e.y1)&&ze(e.y2)},cm=function(e){return am(e)&&Nt(e.then)},fm=function(){return Uc&&Uc.userAgent.match(/msie|trident|edge/i)},Qa=function(e,n){n||(n=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);return a.join("$")});var r=function i(){var a=this,o=arguments,s,l=n.apply(a,o),u=i.cache;return(s=u[l])||(s=u[l]=e.apply(a,o)),s};return r.cache={},r},Fu=Qa(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Us=Qa(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),sh=Qa(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),jc=function(e){return Wr(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},jt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",dm="rgb[a]?\\(("+jt+"[%]?)\\s*,\\s*("+jt+"[%]?)\\s*,\\s*("+jt+"[%]?)(?:\\s*,\\s*("+jt+"))?\\)",hm="rgb[a]?\\((?:"+jt+"[%]?)\\s*,\\s*(?:"+jt+"[%]?)\\s*,\\s*(?:"+jt+"[%]?)(?:\\s*,\\s*(?:"+jt+"))?\\)",vm="hsl[a]?\\(("+jt+")\\s*,\\s*("+jt+"[%])\\s*,\\s*("+jt+"[%])(?:\\s*,\\s*("+jt+"))?\\)",pm="hsl[a]?\\((?:"+jt+")\\s*,\\s*(?:"+jt+"[%])\\s*,\\s*(?:"+jt+"[%])(?:\\s*,\\s*(?:"+jt+"))?\\)",gm="\\#[0-9a-fA-F]{3}",mm="\\#[0-9a-fA-F]{6}",lh=function(e,n){return e<n?-1:e>n?1:0},ym=function(e,n){return-1*lh(e,n)},et=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,n=1;n<e.length;n++){var r=e[n];if(r!=null)for(var i=Object.keys(r),a=0;a<i.length;a++){var o=i[a];t[o]=r[o]}}return t},bm=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var n=e.length===4,r,i,a,o=16;return n?(r=parseInt(e[1]+e[1],o),i=parseInt(e[2]+e[2],o),a=parseInt(e[3]+e[3],o)):(r=parseInt(e[1]+e[2],o),i=parseInt(e[3]+e[4],o),a=parseInt(e[5]+e[6],o)),[r,i,a]}},wm=function(e){var n,r,i,a,o,s,l,u;function c(h,y,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?h+(y-h)*6*w:w<1/2?y:w<2/3?h+(y-h)*(2/3-w)*6:h}var d=new RegExp("^"+vm+"$").exec(e);if(d){if(r=parseInt(d[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,i=parseFloat(d[2]),i<0||i>100||(i=i/100,a=parseFloat(d[3]),a<0||a>100)||(a=a/100,o=d[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(i===0)s=l=u=Math.round(a*255);else{var p=a<.5?a*(1+i):a+i-a*i,g=2*a-p;s=Math.round(255*c(g,p,r+1/3)),l=Math.round(255*c(g,p,r)),u=Math.round(255*c(g,p,r-1/3))}n=[s,l,u,o]}return n},xm=function(e){var n,r=new RegExp("^"+dm+"$").exec(e);if(r){n=[];for(var i=[],a=1;a<=3;a++){var o=r[a];if(o[o.length-1]==="%"&&(i[a]=!0),o=parseFloat(o),i[a]&&(o=o/100*255),o<0||o>255)return;n.push(Math.floor(o))}var s=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(s&&!l)return;var u=r[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;n.push(u)}}return n},Cm=function(e){return Sm[e.toLowerCase()]},Em=function(e){return(Tt(e)?e:null)||Cm(e)||bm(e)||xm(e)||wm(e)},Sm={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},uh=function(e){for(var n=e.map,r=e.keys,i=r.length,a=0;a<i;a++){var o=r[a];if(pt(o))throw Error("Tried to set map with object key");a<r.length-1?(n[o]==null&&(n[o]={}),n=n[o]):n[o]=e.value}},ch=function(e){for(var n=e.map,r=e.keys,i=r.length,a=0;a<i;a++){var o=r[a];if(pt(o))throw Error("Tried to get map with object key");if(n=n[o],n==null)return n}return n};function Tm(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var mi=Tm,za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function km(t,e){return e={exports:{}},t(e,e.exports),e.exports}var _m=typeof za=="object"&&za&&za.Object===Object&&za,Mm=_m,Am=typeof self=="object"&&self&&self.Object===Object&&self,Im=Mm||Am||Function("return this")(),js=Im,Dm=function(){return js.Date.now()},Il=Dm,Pm=/\s/;function Lm(t){for(var e=t.length;e--&&Pm.test(t.charAt(e)););return e}var Om=Lm,Nm=/^\s+/;function Bm(t){return t&&t.slice(0,Om(t)+1).replace(Nm,"")}var Rm=Bm,zm=js.Symbol,Yi=zm,fh=Object.prototype,Fm=fh.hasOwnProperty,$m=fh.toString,Aa=Yi?Yi.toStringTag:void 0;function Hm(t){var e=Fm.call(t,Aa),n=t[Aa];try{t[Aa]=void 0;var r=!0}catch{}var i=$m.call(t);return r&&(e?t[Aa]=n:delete t[Aa]),i}var qm=Hm,Vm=Object.prototype,Wm=Vm.toString;function Um(t){return Wm.call(t)}var jm=Um,Gm="[object Null]",Km="[object Undefined]",Gc=Yi?Yi.toStringTag:void 0;function Ym(t){return t==null?t===void 0?Km:Gm:Gc&&Gc in Object(t)?qm(t):jm(t)}var dh=Ym;function Xm(t){return t!=null&&typeof t=="object"}var Zm=Xm,Qm="[object Symbol]";function Jm(t){return typeof t=="symbol"||Zm(t)&&dh(t)==Qm}var mo=Jm,Kc=NaN,ey=/^[-+]0x[0-9a-f]+$/i,ty=/^0b[01]+$/i,ny=/^0o[0-7]+$/i,ry=parseInt;function iy(t){if(typeof t=="number")return t;if(mo(t))return Kc;if(mi(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=mi(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Rm(t);var n=ty.test(t);return n||ny.test(t)?ry(t.slice(2),n?2:8):ey.test(t)?Kc:+t}var Yc=iy,ay="Expected a function",oy=Math.max,sy=Math.min;function ly(t,e,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(ay);e=Yc(e)||0,mi(n)&&(c=!!n.leading,d="maxWait"in n,a=d?oy(Yc(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p);function g(k){var v=r,D=i;return r=i=void 0,u=k,o=t.apply(D,v),o}function h(k){return u=k,s=setTimeout(b,e),c?g(k):o}function y(k){var v=k-l,D=k-u,I=e-v;return d?sy(I,a-D):I}function w(k){var v=k-l,D=k-u;return l===void 0||v>=e||v<0||d&&D>=a}function b(){var k=Il();if(w(k))return E(k);s=setTimeout(b,y(k))}function E(k){return s=void 0,p&&r?g(k):(r=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function x(){return s===void 0?o:E(Il())}function _(){var k=Il(),v=w(k);if(r=arguments,i=this,l=k,v){if(s===void 0)return h(l);if(d)return clearTimeout(s),s=setTimeout(b,e),g(l)}return s===void 0&&(s=setTimeout(b,e)),o}return _.cancel=S,_.flush=x,_}var Gs=ly,Dl=Ut?Ut.performance:null,hh=Dl&&Dl.now?function(){return Dl.now()}:function(){return Date.now()},uy=function(){if(Ut){if(Ut.requestAnimationFrame)return function(t){Ut.requestAnimationFrame(t)};if(Ut.mozRequestAnimationFrame)return function(t){Ut.mozRequestAnimationFrame(t)};if(Ut.webkitRequestAnimationFrame)return function(t){Ut.webkitRequestAnimationFrame(t)};if(Ut.msRequestAnimationFrame)return function(t){Ut.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(hh())},1e3/60)}}(),Ts=function(e){return uy(e)},Cr=hh,Hi=9261,vh=65599,Fa=5381,ph=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi,r=n,i;i=e.next(),!i.done;)r=r*vh+i.value|0;return r},Ja=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi;return n*vh+e|0},eo=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fa;return(n<<5)+n+e|0},cy=function(e,n){return e*2097152+n},Nr=function(e){return e[0]*2097152+e[1]},qo=function(e,n){return[Ja(e[0],n[0]),eo(e[1],n[1])]},fy=function(e,n){var r={value:0,done:!1},i=0,a=e.length,o={next:function(){return i<a?r.value=e[i++]:r.done=!0,r}};return ph(o,n)},yi=function(e,n){var r={value:0,done:!1},i=0,a=e.length,o={next:function(){return i<a?r.value=e.charCodeAt(i++):r.done=!0,r}};return ph(o,n)},gh=function(){return dy(arguments)},dy=function(e){for(var n,r=0;r<e.length;r++){var i=e[r];r===0?n=yi(i):n=yi(i,n)}return n},Xc=!0,hy=console.warn!=null,vy=console.trace!=null,$u=Number.MAX_SAFE_INTEGER||9007199254740991,mh=function(){return!0},ks=function(){return!1},Zc=function(){return 0},Hu=function(){},Rt=function(e){throw new Error(e)},yh=function(e){if(e!==void 0)Xc=!!e;else return Xc},xt=function(e){yh()&&(hy?console.warn(e):(console.log(e),vy&&console.trace()))},py=function(e){return et({},e)},sr=function(e){return e==null?e:Tt(e)?e.slice():pt(e)?py(e):e},gy=function(e){return e.slice()},bh=function(e,n){for(n=e="";e++<36;n+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return n},my={},wh=function(){return my},rn=function(e){var n=Object.keys(e);return function(r){for(var i={},a=0;a<n.length;a++){var o=n[a],s=r==null?void 0:r[o];i[o]=s===void 0?e[o]:s}return i}},Ur=function(e,n,r){for(var i=e.length-1;i>=0;i--)e[i]===n&&e.splice(i,1)},qu=function(e){e.splice(0,e.length)},yy=function(e,n){for(var r=0;r<n.length;r++){var i=n[r];e.push(i)}},Gn=function(e,n,r){return r&&(n=sh(r,n)),e[n]},Rr=function(e,n,r,i){r&&(n=sh(r,n)),e[n]=i},by=function(){function t(){Bu(this,t),this._obj={}}return Ru(t,[{key:"set",value:function(n,r){return this._obj[n]=r,this}},{key:"delete",value:function(n){return this._obj[n]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(n){return this._obj[n]!==void 0}},{key:"get",value:function(n){return this._obj[n]}}]),t}(),lr=typeof Map<"u"?Map:by,wy="undefined",xy=function(){function t(e){if(Bu(this,t),this._obj=Object.create(null),this.size=0,e!=null){var n;e.instanceString!=null&&e.instanceString()===this.instanceString()?n=e.toArray():n=e;for(var r=0;r<n.length;r++)this.add(n[r])}}return Ru(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(n){var r=this._obj;r[n]!==1&&(r[n]=1,this.size++)}},{key:"delete",value:function(n){var r=this._obj;r[n]===1&&(r[n]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(n){return this._obj[n]===1}},{key:"toArray",value:function(){var n=this;return Object.keys(this._obj).filter(function(r){return n.has(r)})}},{key:"forEach",value:function(n,r){return this.toArray().forEach(n,r)}}]),t}(),oa=(typeof Set>"u"?"undefined":Gt(Set))!==wy?Set:xy,Ks=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||n===void 0||!zu(e)){Rt("An element must have a core reference and parameters set");return}var i=n.group;if(i==null&&(n.data&&n.data.source!=null&&n.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Rt("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:n.data||{},position:n.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!n.selected,selectable:n.selectable===void 0?!0:!!n.selectable,locked:!!n.locked,grabbed:!1,grabbable:n.grabbable===void 0?!0:!!n.grabbable,pannable:n.pannable===void 0?i==="edges":!!n.pannable,active:!1,classes:new oa,animation:{current:[],queue:[]},rscratch:{},scratch:n.scratch||{},edges:[],children:[],parent:n.parent&&n.parent.isNode()?n.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),n.renderedPosition){var o=n.renderedPosition,s=e.pan(),l=e.zoom();a.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var u=[];Tt(n.classes)?u=n.classes:Ze(n.classes)&&(u=n.classes.split(/\s+/));for(var c=0,d=u.length;c<d;c++){var p=u[c];!p||p===""||a.classes.add(p)}this.createEmitter();var g=n.style||n.css;g&&(xt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(g)),(r===void 0||r)&&this.restore()},Qc=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(r,i,a){var o;pt(r)&&!An(r)&&(o=r,r=o.roots||o.root,i=o.visit,a=o.directed),a=arguments.length===2&&!Nt(i)?i:a,i=Nt(i)?i:function(){};for(var s=this._private.cy,l=r=Ze(r)?this.filter(r):r,u=[],c=[],d={},p={},g={},h=0,y,w=this.byGroup(),b=w.nodes,E=w.edges,S=0;S<l.length;S++){var x=l[S],_=x.id();x.isNode()&&(u.unshift(x),e.bfs&&(g[_]=!0,c.push(x)),p[_]=0)}for(var k=function(){var R=e.bfs?u.shift():u.pop(),O=R.id();if(e.dfs){if(g[O])return"continue";g[O]=!0,c.push(R)}var F=p[O],$=d[O],W=$!=null?$.source():null,Y=$!=null?$.target():null,ie=$==null?void 0:R.same(W)?Y[0]:W[0],oe=void 0;if(oe=i(R,$,ie,h++,F),oe===!0)return y=R,"break";if(oe===!1)return"break";for(var Q=R.connectedEdges().filter(function(X){return(!a||X.source().same(R))&&E.has(X)}),H=0;H<Q.length;H++){var U=Q[H],G=U.connectedNodes().filter(function(X){return!X.same(R)&&b.has(X)}),q=G.id();G.length!==0&&!g[q]&&(G=G[0],u.push(G),e.bfs&&(g[q]=!0,c.push(G)),d[q]=U,p[q]=p[O]+1)}};u.length!==0;){var v=k();if(v!=="continue"&&v==="break")break}for(var D=s.collection(),I=0;I<c.length;I++){var B=c[I],P=d[B.id()];P!=null&&D.push(P),D.push(B)}return{path:s.collection(D),found:s.collection(y)}}},to={breadthFirstSearch:Qc({bfs:!0}),depthFirstSearch:Qc({dfs:!0})};to.bfs=to.breadthFirstSearch;to.dfs=to.depthFirstSearch;var Cy=km(function(t,e){(function(){var n,r,i,a,o,s,l,u,c,d,p,g,h,y,w;i=Math.floor,d=Math.min,r=function(b,E){return b<E?-1:b>E?1:0},c=function(b,E,S,x,_){var k;if(S==null&&(S=0),_==null&&(_=r),S<0)throw new Error("lo must be non-negative");for(x==null&&(x=b.length);S<x;)k=i((S+x)/2),_(E,b[k])<0?x=k:S=k+1;return[].splice.apply(b,[S,S-S].concat(E)),E},s=function(b,E,S){return S==null&&(S=r),b.push(E),y(b,0,b.length-1,S)},o=function(b,E){var S,x;return E==null&&(E=r),S=b.pop(),b.length?(x=b[0],b[0]=S,w(b,0,E)):x=S,x},u=function(b,E,S){var x;return S==null&&(S=r),x=b[0],b[0]=E,w(b,0,S),x},l=function(b,E,S){var x;return S==null&&(S=r),b.length&&S(b[0],E)<0&&(x=[b[0],E],E=x[0],b[0]=x[1],w(b,0,S)),E},a=function(b,E){var S,x,_,k,v,D;for(E==null&&(E=r),k=(function(){D=[];for(var I=0,B=i(b.length/2);0<=B?I<B:I>B;0<=B?I++:I--)D.push(I);return D}).apply(this).reverse(),v=[],x=0,_=k.length;x<_;x++)S=k[x],v.push(w(b,S,E));return v},h=function(b,E,S){var x;if(S==null&&(S=r),x=b.indexOf(E),x!==-1)return y(b,0,x,S),w(b,x,S)},p=function(b,E,S){var x,_,k,v,D;if(S==null&&(S=r),_=b.slice(0,E),!_.length)return _;for(a(_,S),D=b.slice(E),k=0,v=D.length;k<v;k++)x=D[k],l(_,x,S);return _.sort(S).reverse()},g=function(b,E,S){var x,_,k,v,D,I,B,P,L;if(S==null&&(S=r),E*10<=b.length){if(k=b.slice(0,E).sort(S),!k.length)return k;for(_=k[k.length-1],B=b.slice(E),v=0,I=B.length;v<I;v++)x=B[v],S(x,_)<0&&(c(k,x,0,null,S),k.pop(),_=k[k.length-1]);return k}for(a(b,S),L=[],D=0,P=d(E,b.length);0<=P?D<P:D>P;0<=P?++D:--D)L.push(o(b,S));return L},y=function(b,E,S,x){var _,k,v;for(x==null&&(x=r),_=b[S];S>E;){if(v=S-1>>1,k=b[v],x(_,k)<0){b[S]=k,S=v;continue}break}return b[S]=_},w=function(b,E,S){var x,_,k,v,D;for(S==null&&(S=r),_=b.length,D=E,k=b[E],x=2*E+1;x<_;)v=x+1,v<_&&!(S(b[x],b[v])<0)&&(x=v),b[E]=b[x],E=x,x=2*E+1;return b[E]=k,y(b,D,E,S)},n=function(){b.push=s,b.pop=o,b.replace=u,b.pushpop=l,b.heapify=a,b.updateItem=h,b.nlargest=p,b.nsmallest=g;function b(E){this.cmp=E??r,this.nodes=[]}return b.prototype.push=function(E){return s(this.nodes,E,this.cmp)},b.prototype.pop=function(){return o(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(E){return this.nodes.indexOf(E)!==-1},b.prototype.replace=function(E){return u(this.nodes,E,this.cmp)},b.prototype.pushpop=function(E){return l(this.nodes,E,this.cmp)},b.prototype.heapify=function(){return a(this.nodes,this.cmp)},b.prototype.updateItem=function(E){return h(this.nodes,E,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var E;return E=new b,E.nodes=this.nodes.slice(0),E},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,E){return t.exports=E()}(this,function(){return n})}).call(za)}),yo=Cy,Ey=rn({root:null,weight:function(e){return 1},directed:!1}),Sy={dijkstra:function(e){if(!pt(e)){var n=arguments;e={root:n[0],weight:n[1],directed:n[2]}}var r=Ey(e),i=r.root,a=r.weight,o=r.directed,s=this,l=a,u=Ze(i)?this.filter(i)[0]:i[0],c={},d={},p={},g=this.byGroup(),h=g.nodes,y=g.edges;y.unmergeBy(function(F){return F.isLoop()});for(var w=function($){return c[$.id()]},b=function($,W){c[$.id()]=W,E.updateItem($)},E=new yo(function(F,$){return w(F)-w($)}),S=0;S<h.length;S++){var x=h[S];c[x.id()]=x.same(u)?0:1/0,E.push(x)}for(var _=function($,W){for(var Y=(o?$.edgesTo(W):$.edgesWith(W)).intersect(y),ie=1/0,oe,Q=0;Q<Y.length;Q++){var H=Y[Q],U=l(H);(U<ie||!oe)&&(ie=U,oe=H)}return{edge:oe,dist:ie}};E.size()>0;){var k=E.pop(),v=w(k),D=k.id();if(p[D]=v,v!==1/0)for(var I=k.neighborhood().intersect(h),B=0;B<I.length;B++){var P=I[B],L=P.id(),R=_(k,P),O=v+R.dist;O<w(P)&&(b(P,O),d[L]={node:k,edge:R.edge})}}return{distanceTo:function($){var W=Ze($)?h.filter($)[0]:$[0];return p[W.id()]},pathTo:function($){var W=Ze($)?h.filter($)[0]:$[0],Y=[],ie=W,oe=ie.id();if(W.length>0)for(Y.unshift(W);d[oe];){var Q=d[oe];Y.unshift(Q.edge),Y.unshift(Q.node),ie=Q.node,oe=ie.id()}return s.spawn(Y)}}}},Ty={kruskal:function(e){e=e||function(S){return 1};for(var n=this.byGroup(),r=n.nodes,i=n.edges,a=r.length,o=new Array(a),s=r,l=function(x){for(var _=0;_<o.length;_++){var k=o[_];if(k.has(x))return _}},u=0;u<a;u++)o[u]=this.spawn(r[u]);for(var c=i.sort(function(S,x){return e(S)-e(x)}),d=0;d<c.length;d++){var p=c[d],g=p.source()[0],h=p.target()[0],y=l(g),w=l(h),b=o[y],E=o[w];y!==w&&(s.merge(p),b.merge(E),o.splice(w,1))}return s}},ky=rn({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),_y={aStar:function(e){var n=this.cy(),r=ky(e),i=r.root,a=r.goal,o=r.heuristic,s=r.directed,l=r.weight;i=n.collection(i)[0],a=n.collection(a)[0];var u=i.id(),c=a.id(),d={},p={},g={},h=new yo(function(oe,Q){return p[oe.id()]-p[Q.id()]}),y=new oa,w={},b={},E=function(Q,H){h.push(Q),y.add(H)},S,x,_=function(){S=h.pop(),x=S.id(),y.delete(x)},k=function(Q){return y.has(Q)};E(i,u),d[u]=0,p[u]=o(i);for(var v=0;h.size()>0;){if(_(),v++,x===c){for(var D=[],I=a,B=c,P=b[B];D.unshift(I),P!=null&&D.unshift(P),I=w[B],I!=null;)B=I.id(),P=b[B];return{found:!0,distance:d[x],path:this.spawn(D),steps:v}}g[x]=!0;for(var L=S._private.edges,R=0;R<L.length;R++){var O=L[R];if(this.hasElementWithId(O.id())&&!(s&&O.data("source")!==x)){var F=O.source(),$=O.target(),W=F.id()!==x?F:$,Y=W.id();if(this.hasElementWithId(Y)&&!g[Y]){var ie=d[x]+l(O);if(!k(Y)){d[Y]=ie,p[Y]=ie+o(W),E(W,Y),w[Y]=S,b[Y]=O;continue}ie<d[Y]&&(d[Y]=ie,p[Y]=ie+o(W),w[Y]=S,b[Y]=O)}}}}return{found:!1,distance:void 0,path:void 0,steps:v}}},My=rn({weight:function(e){return 1},directed:!1}),Ay={floydWarshall:function(e){for(var n=this.cy(),r=My(e),i=r.weight,a=r.directed,o=i,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,d=c*c,p=function(U){return l.indexOf(U)},g=function(U){return l[U]},h=new Array(d),y=0;y<d;y++){var w=y%c,b=(y-w)/c;b===w?h[y]=0:h[y]=1/0}for(var E=new Array(d),S=new Array(d),x=0;x<u.length;x++){var _=u[x],k=_.source()[0],v=_.target()[0];if(k!==v){var D=p(k),I=p(v),B=D*c+I,P=o(_);if(h[B]>P&&(h[B]=P,E[B]=I,S[B]=_),!a){var L=I*c+D;!a&&h[L]>P&&(h[L]=P,E[L]=D,S[L]=_)}}}for(var R=0;R<c;R++)for(var O=0;O<c;O++)for(var F=O*c+R,$=0;$<c;$++){var W=O*c+$,Y=R*c+$;h[F]+h[Y]<h[W]&&(h[W]=h[F]+h[Y],E[W]=E[F])}var ie=function(U){return(Ze(U)?n.filter(U):U)[0]},oe=function(U){return p(ie(U))},Q={distance:function(U,G){var q=oe(U),X=oe(G);return h[q*c+X]},path:function(U,G){var q=oe(U),X=oe(G),re=g(q);if(q===X)return re.collection();if(E[q*c+X]==null)return n.collection();var ne=n.collection(),j=q,te;for(ne.merge(re);q!==X;)j=q,q=E[q*c+X],te=S[j*c+q],ne.merge(te),ne.merge(g(q));return ne}};return Q}},Iy=rn({weight:function(e){return 1},directed:!1,root:null}),Dy={bellmanFord:function(e){var n=this,r=Iy(e),i=r.weight,a=r.directed,o=r.root,s=i,l=this,u=this.cy(),c=this.byGroup(),d=c.edges,p=c.nodes,g=p.length,h=new lr,y=!1,w=[];o=u.collection(o)[0],d.unmergeBy(function(Te){return Te.isLoop()});for(var b=d.length,E=function(Oe){var Ce=h.get(Oe.id());return Ce||(Ce={},h.set(Oe.id(),Ce)),Ce},S=function(Oe){return(Ze(Oe)?u.$(Oe):Oe)[0]},x=function(Oe){return E(S(Oe)).dist},_=function(Oe){for(var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,Ae=S(Oe),De=[],Ne=Ae;;){if(Ne==null)return n.spawn();var He=E(Ne),Xe=He.edge,Se=He.pred;if(De.unshift(Ne[0]),Ne.same(Ce)&&De.length>0)break;Xe!=null&&De.unshift(Xe),Ne=Se}return l.spawn(De)},k=0;k<g;k++){var v=p[k],D=E(v);v.same(o)?D.dist=0:D.dist=1/0,D.pred=null,D.edge=null}for(var I=!1,B=function(Oe,Ce,Ae,De,Ne,He){var Xe=De.dist+He;Xe<Ne.dist&&!Ae.same(De.edge)&&(Ne.dist=Xe,Ne.pred=Oe,Ne.edge=Ae,I=!0)},P=1;P<g;P++){I=!1;for(var L=0;L<b;L++){var R=d[L],O=R.source(),F=R.target(),$=s(R),W=E(O),Y=E(F);B(O,F,R,W,Y,$),a||B(F,O,R,Y,W,$)}if(!I)break}if(I)for(var ie=[],oe=0;oe<b;oe++){var Q=d[oe],H=Q.source(),U=Q.target(),G=s(Q),q=E(H).dist,X=E(U).dist;if(q+G<X||!a&&X+G<q)if(y||(xt("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),e.findNegativeWeightCycles!==!1){var re=[];q+G<X&&re.push(H),!a&&X+G<q&&re.push(U);for(var ne=re.length,j=0;j<ne;j++){var te=re[j],ve=[te];ve.push(E(te).edge);for(var ye=E(te).pred;ve.indexOf(ye)===-1;)ve.push(ye),ve.push(E(ye).edge),ye=E(ye).pred;ve=ve.slice(ve.indexOf(ye));for(var $e=ve[0].id(),Ee=0,Me=2;Me<ve.length;Me+=2)ve[Me].id()<$e&&($e=ve[Me].id(),Ee=Me);ve=ve.slice(Ee).concat(ve.slice(0,Ee)),ve.push(ve[0]);var Fe=ve.map(function(Te){return Te.id()}).join(",");ie.indexOf(Fe)===-1&&(w.push(l.spawn(ve)),ie.push(Fe))}}else break}return{distanceTo:x,pathTo:_,hasNegativeWeightCycle:y,negativeWeightCycles:w}}},Py=Math.sqrt(2),Ly=function(e,n,r){r.length===0&&Rt("Karger-Stein must be run on a connected (sub)graph");for(var i=r[e],a=i[1],o=i[2],s=n[a],l=n[o],u=r,c=u.length-1;c>=0;c--){var d=u[c],p=d[1],g=d[2];(n[p]===s&&n[g]===l||n[p]===l&&n[g]===s)&&u.splice(c,1)}for(var h=0;h<u.length;h++){var y=u[h];y[1]===l?(u[h]=y.slice(),u[h][1]=s):y[2]===l&&(u[h]=y.slice(),u[h][2]=s)}for(var w=0;w<n.length;w++)n[w]===l&&(n[w]=s);return u},Pl=function(e,n,r,i){for(;r>i;){var a=Math.floor(Math.random()*n.length);n=Ly(a,e,n),r--}return n},Oy={kargerStein:function(){var e=this,n=this.byGroup(),r=n.nodes,i=n.edges;i.unmergeBy(function(Y){return Y.isLoop()});var a=r.length,o=i.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/Py);if(a<2){Rt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<o;c++){var d=i[c];u.push([c,r.indexOf(d.source()),r.indexOf(d.target())])}for(var p=1/0,g=[],h=new Array(a),y=new Array(a),w=new Array(a),b=function(ie,oe){for(var Q=0;Q<a;Q++)oe[Q]=ie[Q]},E=0;E<=s;E++){for(var S=0;S<a;S++)y[S]=S;var x=Pl(y,u.slice(),a,l),_=x.slice();b(y,w);var k=Pl(y,x,l,2),v=Pl(w,_,l,2);k.length<=v.length&&k.length<p?(p=k.length,g=k,b(y,h)):v.length<=k.length&&v.length<p&&(p=v.length,g=v,b(w,h))}for(var D=this.spawn(g.map(function(Y){return i[Y[0]]})),I=this.spawn(),B=this.spawn(),P=h[0],L=0;L<h.length;L++){var R=h[L],O=r[L];R===P?I.merge(O):B.merge(O)}var F=function(ie){var oe=e.spawn();return ie.forEach(function(Q){oe.merge(Q),Q.connectedEdges().forEach(function(H){e.contains(H)&&!D.contains(H)&&oe.merge(H)})}),oe},$=[F(I),F(B)],W={cut:D,components:$,partition1:I,partition2:B};return W}},Ny=function(e){return{x:e.x,y:e.y}},Ys=function(e,n,r){return{x:e.x*n+r.x,y:e.y*n+r.y}},xh=function(e,n,r){return{x:(e.x-r.x)/n,y:(e.y-r.y)/n}},qi=function(e){return{x:e[0],y:e[1]}},By=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,a=n;a<r;a++){var o=e[a];isFinite(o)&&(i=Math.min(o,i))}return i},Ry=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,a=n;a<r;a++){var o=e[a];isFinite(o)&&(i=Math.max(o,i))}return i},zy=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,a=0,o=n;o<r;o++){var s=e[o];isFinite(s)&&(i+=s,a++)}return i/a},Fy=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(n,r):(r<e.length&&e.splice(r,e.length-r),n>0&&e.splice(0,n));for(var s=0,l=e.length-1;l>=0;l--){var u=e[l];o?isFinite(u)||(e[l]=-1/0,s++):e.splice(l,1)}a&&e.sort(function(p,g){return p-g});var c=e.length,d=Math.floor(c/2);return c%2!==0?e[d+1+s]:(e[d-1+s]+e[d+s])/2},$y=function(e){return Math.PI*e/180},Vo=function(e,n){return Math.atan2(n,e)-Math.PI/2},Vu=Math.log2||function(t){return Math.log(t)/Math.log(2)},Ch=function(e){return e>0?1:e<0?-1:0},bi=function(e,n){return Math.sqrt(li(e,n))},li=function(e,n){var r=n.x-e.x,i=n.y-e.y;return r*r+i*i},Hy=function(e){for(var n=e.length,r=0,i=0;i<n;i++)r+=e[i];for(var a=0;a<n;a++)e[a]=e[a]/r;return e},Xt=function(e,n,r,i){return(1-i)*(1-i)*e+2*(1-i)*i*n+i*i*r},Ui=function(e,n,r,i){return{x:Xt(e.x,n.x,r.x,i),y:Xt(e.y,n.y,r.y,i)}},qy=function(e,n,r,i){var a={x:n.x-e.x,y:n.y-e.y},o=bi(e,n),s={x:a.x/o,y:a.y/o};return r=r??0,i=i??r*o,{x:e.x+s.x*i,y:e.y+s.y*i}},no=function(e,n,r){return Math.max(e,Math.min(r,n))},En=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Vy=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Wy=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Uy=function(e,n,r){return{x1:e.x1+n,x2:e.x2+n,y1:e.y1+r,y2:e.y2+r,w:e.w,h:e.h}},Eh=function(e,n){e.x1=Math.min(e.x1,n.x1),e.x2=Math.max(e.x2,n.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n.y1),e.y2=Math.max(e.y2,n.y2),e.h=e.y2-e.y1},jy=function(e,n,r){e.x1=Math.min(e.x1,n),e.x2=Math.max(e.x2,n),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},us=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=n,e.x2+=n,e.y1-=n,e.y2+=n,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},cs=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,i,a,o;if(n.length===1)r=i=a=o=n[0];else if(n.length===2)r=a=n[0],o=i=n[1];else if(n.length===4){var s=Un(n,4);r=s[0],i=s[1],a=s[2],o=s[3]}return e.x1-=o,e.x2+=i,e.y1-=r,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Jc=function(e,n){e.x1=n.x1,e.y1=n.y1,e.x2=n.x2,e.y2=n.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Wu=function(e,n){return!(e.x1>n.x2||n.x1>e.x2||e.x2<n.x1||n.x2<e.x1||e.y2<n.y1||n.y2<e.y1||e.y1>n.y2||n.y1>e.y2)},Xi=function(e,n,r){return e.x1<=n&&n<=e.x2&&e.y1<=r&&r<=e.y2},Gy=function(e,n){return Xi(e,n.x,n.y)},Sh=function(e,n){return Xi(e,n.x1,n.y1)&&Xi(e,n.x2,n.y2)},Th=function(e,n,r,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?wi(a,o):l,c=a/2,d=o/2;u=Math.min(u,c,d);var p=u!==c,g=u!==d,h;if(p){var y=r-c+u-s,w=i-d-s,b=r+c-u+s,E=w;if(h=zr(e,n,r,i,y,w,b,E,!1),h.length>0)return h}if(g){var S=r+c+s,x=i-d+u-s,_=S,k=i+d-u+s;if(h=zr(e,n,r,i,S,x,_,k,!1),h.length>0)return h}if(p){var v=r-c+u-s,D=i+d+s,I=r+c-u+s,B=D;if(h=zr(e,n,r,i,v,D,I,B,!1),h.length>0)return h}if(g){var P=r-c-s,L=i-d+u-s,R=P,O=i+d-u+s;if(h=zr(e,n,r,i,P,L,R,O,!1),h.length>0)return h}var F;{var $=r-c+u,W=i-d+u;if(F=$a(e,n,r,i,$,W,u+s),F.length>0&&F[0]<=$&&F[1]<=W)return[F[0],F[1]]}{var Y=r+c-u,ie=i-d+u;if(F=$a(e,n,r,i,Y,ie,u+s),F.length>0&&F[0]>=Y&&F[1]<=ie)return[F[0],F[1]]}{var oe=r+c-u,Q=i+d-u;if(F=$a(e,n,r,i,oe,Q,u+s),F.length>0&&F[0]>=oe&&F[1]>=Q)return[F[0],F[1]]}{var H=r-c+u,U=i+d-u;if(F=$a(e,n,r,i,H,U,u+s),F.length>0&&F[0]<=H&&F[1]>=U)return[F[0],F[1]]}return[]},Ky=function(e,n,r,i,a,o,s){var l=s,u=Math.min(r,a),c=Math.max(r,a),d=Math.min(i,o),p=Math.max(i,o);return u-l<=e&&e<=c+l&&d-l<=n&&n<=p+l},Yy=function(e,n,r,i,a,o,s,l,u){var c={x1:Math.min(r,s,a)-u,x2:Math.max(r,s,a)+u,y1:Math.min(i,l,o)-u,y2:Math.max(i,l,o)+u};return!(e<c.x1||e>c.x2||n<c.y1||n>c.y2)},Xy=function(e,n,r,i){r-=i;var a=n*n-4*e*r;if(a<0)return[];var o=Math.sqrt(a),s=2*e,l=(-n+o)/s,u=(-n-o)/s;return[l,u]},Zy=function(e,n,r,i,a){var o=1e-5;e===0&&(e=o),n/=e,r/=e,i/=e;var s,l,u,c,d,p,g,h;if(l=(3*r-n*n)/9,u=-(27*i)+n*(9*r-2*(n*n)),u/=54,s=l*l*l+u*u,a[1]=0,g=n/3,s>0){d=u+Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),p=u-Math.sqrt(s),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),a[0]=-g+d+p,g+=(d+p)/2,a[4]=a[2]=-g,g=Math.sqrt(3)*(-p+d)/2,a[3]=g,a[5]=-g;return}if(a[5]=a[3]=0,s===0){h=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-g+2*h,a[4]=a[2]=-(h+g);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),h=2*Math.sqrt(l),a[0]=-g+h*Math.cos(c/3),a[2]=-g+h*Math.cos((c+2*Math.PI)/3),a[4]=-g+h*Math.cos((c+4*Math.PI)/3)},Qy=function(e,n,r,i,a,o,s,l){var u=1*r*r-4*r*a+2*r*s+4*a*a-4*a*s+s*s+i*i-4*i*o+2*i*l+4*o*o-4*o*l+l*l,c=1*9*r*a-3*r*r-3*r*s-6*a*a+3*a*s+9*i*o-3*i*i-3*i*l-6*o*o+3*o*l,d=1*3*r*r-6*r*a+r*s-r*e+2*a*a+2*a*e-s*e+3*i*i-6*i*o+i*l-i*n+2*o*o+2*o*n-l*n,p=1*r*a-r*r+r*e-a*e+i*o-i*i+i*n-o*n,g=[];Zy(u,c,d,p,g);for(var h=1e-7,y=[],w=0;w<6;w+=2)Math.abs(g[w+1])<h&&g[w]>=0&&g[w]<=1&&y.push(g[w]);y.push(1),y.push(0);for(var b=-1,E,S,x,_=0;_<y.length;_++)E=Math.pow(1-y[_],2)*r+2*(1-y[_])*y[_]*a+y[_]*y[_]*s,S=Math.pow(1-y[_],2)*i+2*(1-y[_])*y[_]*o+y[_]*y[_]*l,x=Math.pow(E-e,2)+Math.pow(S-n,2),b>=0?x<b&&(b=x):b=x;return b},Jy=function(e,n,r,i,a,o){var s=[e-r,n-i],l=[a-r,o-i],u=l[0]*l[0]+l[1]*l[1],c=s[0]*s[0]+s[1]*s[1],d=s[0]*l[0]+s[1]*l[1],p=d*d/u;return d<0?c:p>u?(e-a)*(e-a)+(n-o)*(n-o):c-p},wn=function(e,n,r){for(var i,a,o,s,l,u=0,c=0;c<r.length/2;c++)if(i=r[c*2],a=r[c*2+1],c+1<r.length/2?(o=r[(c+1)*2],s=r[(c+1)*2+1]):(o=r[(c+1-r.length/2)*2],s=r[(c+1-r.length/2)*2+1]),!(i==e&&o==e))if(i>=e&&e>=o||i<=e&&e<=o)l=(e-i)/(o-i)*(s-a)+a,l>n&&u++;else continue;return u%2!==0},Er=function(e,n,r,i,a,o,s,l,u){var c=new Array(r.length),d;l[0]!=null?(d=Math.atan(l[1]/l[0]),l[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=l;for(var p=Math.cos(-d),g=Math.sin(-d),h=0;h<c.length/2;h++)c[h*2]=o/2*(r[h*2]*p-r[h*2+1]*g),c[h*2+1]=s/2*(r[h*2+1]*p+r[h*2]*g),c[h*2]+=i,c[h*2+1]+=a;var y;if(u>0){var w=Ms(c,-u);y=_s(w)}else y=c;return wn(e,n,y)},e0=function(e,n,r,i,a,o,s,l){for(var u=new Array(r.length*2),c=0;c<l.length;c++){var d=l[c];u[c*4+0]=d.startX,u[c*4+1]=d.startY,u[c*4+2]=d.stopX,u[c*4+3]=d.stopY;var p=Math.pow(d.cx-e,2)+Math.pow(d.cy-n,2);if(p<=Math.pow(d.radius,2))return!0}return wn(e,n,u)},_s=function(e){for(var n=new Array(e.length/2),r,i,a,o,s,l,u,c,d=0;d<e.length/4;d++){r=e[d*4],i=e[d*4+1],a=e[d*4+2],o=e[d*4+3],d<e.length/4-1?(s=e[(d+1)*4],l=e[(d+1)*4+1],u=e[(d+1)*4+2],c=e[(d+1)*4+3]):(s=e[0],l=e[1],u=e[2],c=e[3]);var p=zr(r,i,a,o,s,l,u,c,!0);n[d*2]=p[0],n[d*2+1]=p[1]}return n},Ms=function(e,n){for(var r=new Array(e.length*2),i,a,o,s,l=0;l<e.length/2;l++){i=e[l*2],a=e[l*2+1],l<e.length/2-1?(o=e[(l+1)*2],s=e[(l+1)*2+1]):(o=e[0],s=e[1]);var u=s-a,c=-(o-i),d=Math.sqrt(u*u+c*c),p=u/d,g=c/d;r[l*4]=i+p*n,r[l*4+1]=a+g*n,r[l*4+2]=o+p*n,r[l*4+3]=s+g*n}return r},t0=function(e,n,r,i,a,o){var s=r-e,l=i-n;s/=a,l/=o;var u=Math.sqrt(s*s+l*l),c=u-1;if(c<0)return[];var d=c/u;return[(r-e)*d+e,(i-n)*d+n]},pi=function(e,n,r,i,a,o,s){return e-=a,n-=o,e/=r/2+s,n/=i/2+s,e*e+n*n<=1},$a=function(e,n,r,i,a,o,s){var l=[r-e,i-n],u=[e-a,n-o],c=l[0]*l[0]+l[1]*l[1],d=2*(u[0]*l[0]+u[1]*l[1]),p=u[0]*u[0]+u[1]*u[1]-s*s,g=d*d-4*c*p;if(g<0)return[];var h=(-d+Math.sqrt(g))/(2*c),y=(-d-Math.sqrt(g))/(2*c),w=Math.min(h,y),b=Math.max(h,y),E=[];if(w>=0&&w<=1&&E.push(w),b>=0&&b<=1&&E.push(b),E.length===0)return[];var S=E[0]*l[0]+e,x=E[0]*l[1]+n;if(E.length>1){if(E[0]==E[1])return[S,x];var _=E[1]*l[0]+e,k=E[1]*l[1]+n;return[S,x,_,k]}else return[S,x]},Ll=function(e,n,r){return n<=e&&e<=r||r<=e&&e<=n?e:e<=n&&n<=r||r<=n&&n<=e?n:r},zr=function(e,n,r,i,a,o,s,l,u){var c=e-a,d=r-e,p=s-a,g=n-o,h=i-n,y=l-o,w=p*g-y*c,b=d*g-h*c,E=y*d-p*h;if(E!==0){var S=w/E,x=b/E,_=.001,k=0-_,v=1+_;return k<=S&&S<=v&&k<=x&&x<=v?[e+S*d,n+S*h]:u?[e+S*d,n+S*h]:[]}else return w===0||b===0?Ll(e,r,s)===s?[s,l]:Ll(e,r,a)===a?[a,o]:Ll(a,s,r)===r?[r,i]:[]:[]},ro=function(e,n,r,i,a,o,s,l){var u=[],c,d=new Array(r.length),p=!0;o==null&&(p=!1);var g;if(p){for(var h=0;h<d.length/2;h++)d[h*2]=r[h*2]*o+i,d[h*2+1]=r[h*2+1]*s+a;if(l>0){var y=Ms(d,-l);g=_s(y)}else g=d}else g=r;for(var w,b,E,S,x=0;x<g.length/2;x++)w=g[x*2],b=g[x*2+1],x<g.length/2-1?(E=g[(x+1)*2],S=g[(x+1)*2+1]):(E=g[0],S=g[1]),c=zr(e,n,i,a,w,b,E,S),c.length!==0&&u.push(c[0],c[1]);return u},n0=function(e,n,r,i,a,o,s,l,u){var c=[],d,p=new Array(r.length*2);u.forEach(function(E,S){S===0?(p[p.length-2]=E.startX,p[p.length-1]=E.startY):(p[S*4-2]=E.startX,p[S*4-1]=E.startY),p[S*4]=E.stopX,p[S*4+1]=E.stopY,d=$a(e,n,i,a,E.cx,E.cy,E.radius),d.length!==0&&c.push(d[0],d[1])});for(var g=0;g<p.length/4;g++)d=zr(e,n,i,a,p[g*4],p[g*4+1],p[g*4+2],p[g*4+3],!1),d.length!==0&&c.push(d[0],d[1]);if(c.length>2){for(var h=[c[0],c[1]],y=Math.pow(h[0]-e,2)+Math.pow(h[1]-n,2),w=1;w<c.length/2;w++){var b=Math.pow(c[w*2]-e,2)+Math.pow(c[w*2+1]-n,2);b<=y&&(h[0]=c[w*2],h[1]=c[w*2+1],y=b)}return h}return c},Wo=function(e,n,r){var i=[e[0]-n[0],e[1]-n[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(a-r)/a;return o<0&&(o=1e-5),[n[0]+o*i[0],n[1]+o*i[1]]},pn=function(e,n){var r=lu(e,n);return r=kh(r),r},kh=function(e){for(var n,r,i=e.length/2,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<i;u++)n=e[2*u],r=e[2*u+1],a=Math.min(a,n),s=Math.max(s,n),o=Math.min(o,r),l=Math.max(l,r);for(var c=2/(s-a),d=2/(l-o),p=0;p<i;p++)n=e[2*p]=e[2*p]*c,r=e[2*p+1]=e[2*p+1]*d,a=Math.min(a,n),s=Math.max(s,n),o=Math.min(o,r),l=Math.max(l,r);if(o<-1)for(var g=0;g<i;g++)r=e[2*g+1]=e[2*g+1]+(-1-o);return e},lu=function(e,n){var r=1/e*2*Math.PI,i=e%2===0?Math.PI/2+r/2:Math.PI/2;i+=n;for(var a=new Array(e*2),o,s=0;s<e;s++)o=s*r+i,a[2*s]=Math.cos(o),a[2*s+1]=Math.sin(-o);return a},wi=function(e,n){return Math.min(e/4,n/4,8)},_h=function(e,n){return Math.min(e/10,n/10,8)},Uu=function(){return 8},r0=function(e,n,r){return[e-2*n+r,2*(n-e),e]},uu=function(e,n){return{heightOffset:Math.min(15,.05*n),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},i0=rn({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),a0={pageRank:function(e){for(var n=i0(e),r=n.dampingFactor,i=n.precision,a=n.iterations,o=n.weight,s=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,d=u.length,p=d*d,g=c.length,h=new Array(p),y=new Array(d),w=(1-r)/d,b=0;b<d;b++){for(var E=0;E<d;E++){var S=b*d+E;h[S]=0}y[b]=0}for(var x=0;x<g;x++){var _=c[x],k=_.data("source"),v=_.data("target");if(k!==v){var D=u.indexOfId(k),I=u.indexOfId(v),B=o(_),P=I*d+D;h[P]+=B,y[D]+=B}}for(var L=1/d+w,R=0;R<d;R++)if(y[R]===0)for(var O=0;O<d;O++){var F=O*d+R;h[F]=L}else for(var $=0;$<d;$++){var W=$*d+R;h[W]=h[W]/y[R]+w}for(var Y=new Array(d),ie=new Array(d),oe,Q=0;Q<d;Q++)Y[Q]=1;for(var H=0;H<a;H++){for(var U=0;U<d;U++)ie[U]=0;for(var G=0;G<d;G++)for(var q=0;q<d;q++){var X=G*d+q;ie[G]+=h[X]*Y[q]}Hy(ie),oe=Y,Y=ie,ie=oe;for(var re=0,ne=0;ne<d;ne++){var j=oe[ne]-Y[ne];re+=j*j}if(re<i)break}var te={rank:function(ye){return ye=s.collection(ye)[0],Y[u.indexOf(ye)]}};return te}},ef=rn({root:null,weight:function(e){return 1},directed:!1,alpha:0}),ji={degreeCentralityNormalized:function(e){e=ef(e);var n=this.cy(),r=this.nodes(),i=r.length;if(e.directed){for(var c={},d={},p=0,g=0,h=0;h<i;h++){var y=r[h],w=y.id();e.root=y;var b=this.degreeCentrality(e);p<b.indegree&&(p=b.indegree),g<b.outdegree&&(g=b.outdegree),c[w]=b.indegree,d[w]=b.outdegree}return{indegree:function(S){return p==0?0:(Ze(S)&&(S=n.filter(S)),c[S.id()]/p)},outdegree:function(S){return g===0?0:(Ze(S)&&(S=n.filter(S)),d[S.id()]/g)}}}else{for(var a={},o=0,s=0;s<i;s++){var l=r[s];e.root=l;var u=this.degreeCentrality(e);o<u.degree&&(o=u.degree),a[l.id()]=u.degree}return{degree:function(S){return o===0?0:(Ze(S)&&(S=n.filter(S)),a[S.id()]/o)}}}},degreeCentrality:function(e){e=ef(e);var n=this.cy(),r=this,i=e,a=i.root,o=i.weight,s=i.directed,l=i.alpha;if(a=n.collection(a)[0],s){for(var g=a.connectedEdges(),h=g.filter(function(k){return k.target().same(a)&&r.has(k)}),y=g.filter(function(k){return k.source().same(a)&&r.has(k)}),w=h.length,b=y.length,E=0,S=0,x=0;x<h.length;x++)E+=o(h[x]);for(var _=0;_<y.length;_++)S+=o(y[_]);return{indegree:Math.pow(w,1-l)*Math.pow(E,l),outdegree:Math.pow(b,1-l)*Math.pow(S,l)}}else{for(var u=a.connectedEdges().intersection(r),c=u.length,d=0,p=0;p<u.length;p++)d+=o(u[p]);return{degree:Math.pow(c,1-l)*Math.pow(d,l)}}}};ji.dc=ji.degreeCentrality;ji.dcn=ji.degreeCentralityNormalised=ji.degreeCentralityNormalized;var tf=rn({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Gi={closenessCentralityNormalized:function(e){for(var n=tf(e),r=n.harmonic,i=n.weight,a=n.directed,o=this.cy(),s={},l=0,u=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),d=0;d<u.length;d++){for(var p=0,g=u[d],h=0;h<u.length;h++)if(d!==h){var y=c.distance(g,u[h]);r?p+=1/y:p+=y}r||(p=1/p),l<p&&(l=p),s[g.id()]=p}return{closeness:function(b){return l==0?0:(Ze(b)?b=o.filter(b)[0].id():b=b.id(),s[b]/l)}}},closenessCentrality:function(e){var n=tf(e),r=n.root,i=n.weight,a=n.directed,o=n.harmonic;r=this.filter(r)[0];for(var s=this.dijkstra({root:r,weight:i,directed:a}),l=0,u=this.nodes(),c=0;c<u.length;c++){var d=u[c];if(!d.same(r)){var p=s.distanceTo(d);o?l+=1/p:l+=p}}return o?l:1/l}};Gi.cc=Gi.closenessCentrality;Gi.ccn=Gi.closenessCentralityNormalised=Gi.closenessCentralityNormalized;var o0=rn({weight:null,directed:!1}),cu={betweennessCentrality:function(e){for(var n=o0(e),r=n.directed,i=n.weight,a=i!=null,o=this.cy(),s=this.nodes(),l={},u={},c=0,d={set:function(S,x){u[S]=x,x>c&&(c=x)},get:function(S){return u[S]}},p=0;p<s.length;p++){var g=s[p],h=g.id();r?l[h]=g.outgoers().nodes():l[h]=g.openNeighborhood().nodes(),d.set(h,0)}for(var y=function(S){for(var x=s[S].id(),_=[],k={},v={},D={},I=new yo(function(q,X){return D[q]-D[X]}),B=0;B<s.length;B++){var P=s[B].id();k[P]=[],v[P]=0,D[P]=1/0}for(v[x]=1,D[x]=0,I.push(x);!I.empty();){var L=I.pop();if(_.push(L),a)for(var R=0;R<l[L].length;R++){var O=l[L][R],F=o.getElementById(L),$=void 0;F.edgesTo(O).length>0?$=F.edgesTo(O)[0]:$=O.edgesTo(F)[0];var W=i($);O=O.id(),D[O]>D[L]+W&&(D[O]=D[L]+W,I.nodes.indexOf(O)<0?I.push(O):I.updateItem(O),v[O]=0,k[O]=[]),D[O]==D[L]+W&&(v[O]=v[O]+v[L],k[O].push(L))}else for(var Y=0;Y<l[L].length;Y++){var ie=l[L][Y].id();D[ie]==1/0&&(I.push(ie),D[ie]=D[L]+1),D[ie]==D[L]+1&&(v[ie]=v[ie]+v[L],k[ie].push(L))}}for(var oe={},Q=0;Q<s.length;Q++)oe[s[Q].id()]=0;for(;_.length>0;){for(var H=_.pop(),U=0;U<k[H].length;U++){var G=k[H][U];oe[G]=oe[G]+v[G]/v[H]*(1+oe[H])}H!=s[S].id()&&d.set(H,d.get(H)+oe[H])}},w=0;w<s.length;w++)y(w);var b={betweenness:function(S){var x=o.collection(S).id();return d.get(x)},betweennessNormalized:function(S){if(c==0)return 0;var x=o.collection(S).id();return d.get(x)/c}};return b.betweennessNormalised=b.betweennessNormalized,b}};cu.bc=cu.betweennessCentrality;var s0=rn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),l0=function(e){return s0(e)},u0=function(e,n){for(var r=0,i=0;i<n.length;i++)r+=n[i](e);return r},c0=function(e,n,r){for(var i=0;i<n;i++)e[i*n+i]=r},Mh=function(e,n){for(var r,i=0;i<n;i++){r=0;for(var a=0;a<n;a++)r+=e[a*n+i];for(var o=0;o<n;o++)e[o*n+i]=e[o*n+i]/r}},f0=function(e,n,r){for(var i=new Array(r*r),a=0;a<r;a++){for(var o=0;o<r;o++)i[a*r+o]=0;for(var s=0;s<r;s++)for(var l=0;l<r;l++)i[a*r+l]+=e[a*r+s]*n[s*r+l]}return i},d0=function(e,n,r){for(var i=e.slice(0),a=1;a<r;a++)e=f0(e,i,n);return e},h0=function(e,n,r){for(var i=new Array(n*n),a=0;a<n*n;a++)i[a]=Math.pow(e[a],r);return Mh(i,n),i},v0=function(e,n,r,i){for(var a=0;a<r;a++){var o=Math.round(e[a]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(n[a]*Math.pow(10,i))/Math.pow(10,i);if(o!==s)return!1}return!0},p0=function(e,n,r,i){for(var a=[],o=0;o<n;o++){for(var s=[],l=0;l<n;l++)Math.round(e[o*n+l]*1e3)/1e3>0&&s.push(r[l]);s.length!==0&&a.push(i.collection(s))}return a},g0=function(e,n){for(var r=0;r<e.length;r++)if(!n[r]||e[r].id()!==n[r].id())return!1;return!0},m0=function(e){for(var n=0;n<e.length;n++)for(var r=0;r<e.length;r++)n!=r&&g0(e[n],e[r])&&e.splice(r,1);return e},nf=function(e){for(var n=this.nodes(),r=this.edges(),i=this.cy(),a=l0(e),o={},s=0;s<n.length;s++)o[n[s].id()]=s;for(var l=n.length,u=l*l,c=new Array(u),d,p=0;p<u;p++)c[p]=0;for(var g=0;g<r.length;g++){var h=r[g],y=o[h.source().id()],w=o[h.target().id()],b=u0(h,a.attributes);c[y*l+w]+=b,c[w*l+y]+=b}c0(c,l,a.multFactor),Mh(c,l);for(var E=!0,S=0;E&&S<a.maxIterations;)E=!1,d=d0(c,l,a.expandFactor),c=h0(d,l,a.inflateFactor),v0(c,d,u,4)||(E=!0),S++;var x=p0(c,l,n,i);return x=m0(x),x},y0={markovClustering:nf,mcl:nf},b0=function(e){return e},Ah=function(e,n){return Math.abs(n-e)},rf=function(e,n,r){return e+Ah(n,r)},af=function(e,n,r){return e+Math.pow(r-n,2)},w0=function(e){return Math.sqrt(e)},x0=function(e,n,r){return Math.max(e,Ah(n,r))},Ia=function(e,n,r,i,a){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:b0,s=i,l,u,c=0;c<e;c++)l=n(c),u=r(c),s=a(s,l,u);return o(s)},Zi={euclidean:function(e,n,r){return e>=2?Ia(e,n,r,0,af,w0):Ia(e,n,r,0,rf)},squaredEuclidean:function(e,n,r){return Ia(e,n,r,0,af)},manhattan:function(e,n,r){return Ia(e,n,r,0,rf)},max:function(e,n,r){return Ia(e,n,r,-1/0,x0)}};Zi["squared-euclidean"]=Zi.squaredEuclidean;Zi.squaredeuclidean=Zi.squaredEuclidean;function Xs(t,e,n,r,i,a){var o;return Nt(t)?o=t:o=Zi[t]||Zi.euclidean,e===0&&Nt(t)?o(i,a):o(e,n,r,i,a)}var C0=rn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ju=function(e){return C0(e)},As=function(e,n,r,i,a){var o=a!=="kMedoids",s=o?function(d){return r[d]}:function(d){return i[d](r)},l=function(p){return i[p](n)},u=r,c=n;return Xs(e,i.length,s,l,u,c)},Ol=function(e,n,r){for(var i=r.length,a=new Array(i),o=new Array(i),s=new Array(n),l=null,u=0;u<i;u++)a[u]=e.min(r[u]).value,o[u]=e.max(r[u]).value;for(var c=0;c<n;c++){l=[];for(var d=0;d<i;d++)l[d]=Math.random()*(o[d]-a[d])+a[d];s[c]=l}return s},Ih=function(e,n,r,i,a){for(var o=1/0,s=0,l=0;l<n.length;l++){var u=As(r,e,n[l],i,a);u<o&&(o=u,s=l)}return s},Dh=function(e,n,r){for(var i=[],a=null,o=0;o<n.length;o++)a=n[o],r[a.id()]===e&&i.push(a);return i},E0=function(e,n,r){return Math.abs(n-e)<=r},S0=function(e,n,r){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var o=Math.abs(e[i][a]-n[i][a]);if(o>r)return!1}return!0},T0=function(e,n,r){for(var i=0;i<r;i++)if(e===n[i])return!0;return!1},of=function(e,n){var r=new Array(n);if(e.length<50)for(var i=0;i<n;i++){for(var a=e[Math.floor(Math.random()*e.length)];T0(a,r,i);)a=e[Math.floor(Math.random()*e.length)];r[i]=a}else for(var o=0;o<n;o++)r[o]=e[Math.floor(Math.random()*e.length)];return r},sf=function(e,n,r){for(var i=0,a=0;a<n.length;a++)i+=As("manhattan",n[a],e,r,"kMedoids");return i},k0=function(e){var n=this.cy(),r=this.nodes(),i=null,a=ju(e),o=new Array(a.k),s={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=Ol(r,a.k,a.attributes)):Gt(a.testCentroids)==="object"?l=a.testCentroids:l=Ol(r,a.k,a.attributes):l=Ol(r,a.k,a.attributes);for(var u=!0,c=0;u&&c<a.maxIterations;){for(var d=0;d<r.length;d++)i=r[d],s[i.id()]=Ih(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var p=0;p<a.k;p++){var g=Dh(p,r,s);if(g.length!==0){for(var h=a.attributes.length,y=l[p],w=new Array(h),b=new Array(h),E=0;E<h;E++){b[E]=0;for(var S=0;S<g.length;S++)i=g[S],b[E]+=a.attributes[E](i);w[E]=b[E]/g.length,E0(w[E],y[E],a.sensitivityThreshold)||(u=!0)}l[p]=w,o[p]=n.collection(g)}}c++}return o},_0=function(e){var n=this.cy(),r=this.nodes(),i=null,a=ju(e),o=new Array(a.k),s,l={},u,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(Gt(a.testCentroids)==="object"?s=a.testCentroids:s=of(r,a.k)):s=of(r,a.k);for(var d=!0,p=0;d&&p<a.maxIterations;){for(var g=0;g<r.length;g++)i=r[g],l[i.id()]=Ih(i,s,a.distance,a.attributes,"kMedoids");d=!1;for(var h=0;h<s.length;h++){var y=Dh(h,r,l);if(y.length!==0){c[h]=sf(s[h],y,a.attributes);for(var w=0;w<y.length;w++)u=sf(y[w],y,a.attributes),u<c[h]&&(c[h]=u,s[h]=y[w],d=!0);o[h]=n.collection(y)}}p++}return o},M0=function(e,n,r,i,a){for(var o,s,l=0;l<n.length;l++)for(var u=0;u<e.length;u++)i[l][u]=Math.pow(r[l][u],a.m);for(var c=0;c<e.length;c++)for(var d=0;d<a.attributes.length;d++){o=0,s=0;for(var p=0;p<n.length;p++)o+=i[p][c]*a.attributes[d](n[p]),s+=i[p][c];e[c][d]=o/s}},A0=function(e,n,r,i,a){for(var o=0;o<e.length;o++)n[o]=e[o].slice();for(var s,l,u,c=2/(a.m-1),d=0;d<r.length;d++)for(var p=0;p<i.length;p++){s=0;for(var g=0;g<r.length;g++)l=As(a.distance,i[p],r[d],a.attributes,"cmeans"),u=As(a.distance,i[p],r[g],a.attributes,"cmeans"),s+=Math.pow(l/u,c);e[p][d]=1/s}},I0=function(e,n,r,i){for(var a=new Array(r.k),o=0;o<a.length;o++)a[o]=[];for(var s,l,u=0;u<n.length;u++){s=-1/0,l=-1;for(var c=0;c<n[0].length;c++)n[u][c]>s&&(s=n[u][c],l=c);a[l].push(e[u])}for(var d=0;d<a.length;d++)a[d]=i.collection(a[d]);return a},lf=function(e){var n=this.cy(),r=this.nodes(),i=ju(e),a,o,s,l,u;l=new Array(r.length);for(var c=0;c<r.length;c++)l[c]=new Array(i.k);s=new Array(r.length);for(var d=0;d<r.length;d++)s[d]=new Array(i.k);for(var p=0;p<r.length;p++){for(var g=0,h=0;h<i.k;h++)s[p][h]=Math.random(),g+=s[p][h];for(var y=0;y<i.k;y++)s[p][y]=s[p][y]/g}o=new Array(i.k);for(var w=0;w<i.k;w++)o[w]=new Array(i.attributes.length);u=new Array(r.length);for(var b=0;b<r.length;b++)u[b]=new Array(i.k);for(var E=!0,S=0;E&&S<i.maxIterations;)E=!1,M0(o,r,s,u,i),A0(s,l,o,r,i),S0(s,l,i.sensitivityThreshold)||(E=!0),S++;return a=I0(r,s,i,n),{clusters:a,degreeOfMembership:s}},D0={kMeans:k0,kMedoids:_0,fuzzyCMeans:lf,fcm:lf},P0=rn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),L0={single:"min",complete:"max"},O0=function(e){var n=P0(e),r=L0[n.linkage];return r!=null&&(n.linkage=r),n},uf=function(e,n,r,i,a){for(var o=0,s=1/0,l,u=a.attributes,c=function(I,B){return Xs(a.distance,u.length,function(P){return u[P](I)},function(P){return u[P](B)},I,B)},d=0;d<e.length;d++){var p=e[d].key,g=r[p][i[p]];g<s&&(o=p,s=g)}if(a.mode==="threshold"&&s>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var h=n[o],y=n[i[o]],w;a.mode==="dendrogram"?w={left:h,right:y,key:h.key}:w={value:h.value.concat(y.value),key:h.key},e[h.index]=w,e.splice(y.index,1),n[h.key]=w;for(var b=0;b<e.length;b++){var E=e[b];h.key===E.key?l=1/0:a.linkage==="min"?(l=r[h.key][E.key],r[h.key][E.key]>r[y.key][E.key]&&(l=r[y.key][E.key])):a.linkage==="max"?(l=r[h.key][E.key],r[h.key][E.key]<r[y.key][E.key]&&(l=r[y.key][E.key])):a.linkage==="mean"?l=(r[h.key][E.key]*h.size+r[y.key][E.key]*y.size)/(h.size+y.size):a.mode==="dendrogram"?l=c(E.value,h.value):l=c(E.value[0],h.value[0]),r[h.key][E.key]=r[E.key][h.key]=l}for(var S=0;S<e.length;S++){var x=e[S].key;if(i[x]===h.key||i[x]===y.key){for(var _=x,k=0;k<e.length;k++){var v=e[k].key;r[x][v]<r[x][_]&&(_=v)}i[x]=_}e[S].index=S}return h.key=y.key=h.index=y.index=null,!0},Uo=function t(e,n,r){e&&(e.value?n.push(e.value):(e.left&&t(e.left,n),e.right&&t(e.right,n)))},N0=function t(e,n){if(!e)return"";if(e.left&&e.right){var r=t(e.left,n),i=t(e.right,n),a=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:a.id()}}),n.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},B0=function t(e,n,r){if(!e)return[];var i=[],a=[],o=[];return n===0?(e.left&&Uo(e.left,i),e.right&&Uo(e.right,a),o=i.concat(a),[r.collection(o)]):n===1?e.value?[r.collection(e.value)]:(e.left&&Uo(e.left,i),e.right&&Uo(e.right,a),[r.collection(i),r.collection(a)]):e.value?[r.collection(e.value)]:(e.left&&(i=t(e.left,n-1,r)),e.right&&(a=t(e.right,n-1,r)),i.concat(a))},cf=function(e){for(var n=this.cy(),r=this.nodes(),i=O0(e),a=i.attributes,o=function(S,x){return Xs(i.distance,a.length,function(_){return a[_](S)},function(_){return a[_](x)},S,x)},s=[],l=[],u=[],c=[],d=0;d<r.length;d++){var p={value:i.mode==="dendrogram"?r[d]:[r[d]],key:d,index:d};s[d]=p,c[d]=p,l[d]=[],u[d]=0}for(var g=0;g<s.length;g++)for(var h=0;h<=g;h++){var y=void 0;i.mode==="dendrogram"?y=g===h?1/0:o(s[g].value,s[h].value):y=g===h?1/0:o(s[g].value[0],s[h].value[0]),l[g][h]=y,l[h][g]=y,y<l[g][u[g]]&&(u[g]=h)}for(var w=uf(s,c,l,u,i);w;)w=uf(s,c,l,u,i);var b;return i.mode==="dendrogram"?(b=B0(s[0],i.dendrogramDepth,n),i.addDendrogram&&N0(s[0],n)):(b=new Array(s.length),s.forEach(function(E,S){E.key=E.index=null,b[S]=n.collection(E.value)})),b},R0={hierarchicalClustering:cf,hca:cf},z0=rn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),F0=function(e){var n=e.damping,r=e.preference;.5<=n&&n<1||Rt("Damping must range on [0.5, 1).  Got: ".concat(n));var i=["median","mean","min","max"];return i.some(function(a){return a===r})||ze(r)||Rt("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(r)),z0(e)},$0=function(e,n,r,i){var a=function(s,l){return i[l](s)};return-Xs(e,i.length,function(o){return a(n,o)},function(o){return a(r,o)},n,r)},H0=function(e,n){var r=null;return n==="median"?r=Fy(e):n==="mean"?r=zy(e):n==="min"?r=By(e):n==="max"?r=Ry(e):r=n,r},q0=function(e,n,r){for(var i=[],a=0;a<e;a++)n[a*e+a]+r[a*e+a]>0&&i.push(a);return i},ff=function(e,n,r){for(var i=[],a=0;a<e;a++){for(var o=-1,s=-1/0,l=0;l<r.length;l++){var u=r[l];n[a*e+u]>s&&(o=u,s=n[a*e+u])}o>0&&i.push(o)}for(var c=0;c<r.length;c++)i[r[c]]=r[c];return i},V0=function(e,n,r){for(var i=ff(e,n,r),a=0;a<r.length;a++){for(var o=[],s=0;s<i.length;s++)i[s]===r[a]&&o.push(s);for(var l=-1,u=-1/0,c=0;c<o.length;c++){for(var d=0,p=0;p<o.length;p++)d+=n[o[p]*e+o[c]];d>u&&(l=c,u=d)}r[a]=o[l]}return i=ff(e,n,r),i},df=function(e){for(var n=this.cy(),r=this.nodes(),i=F0(e),a={},o=0;o<r.length;o++)a[r[o].id()]=o;var s,l,u,c,d,p;s=r.length,l=s*s,u=new Array(l);for(var g=0;g<l;g++)u[g]=-1/0;for(var h=0;h<s;h++)for(var y=0;y<s;y++)h!==y&&(u[h*s+y]=$0(i.distance,r[h],r[y],i.attributes));c=H0(u,i.preference);for(var w=0;w<s;w++)u[w*s+w]=c;d=new Array(l);for(var b=0;b<l;b++)d[b]=0;p=new Array(l);for(var E=0;E<l;E++)p[E]=0;for(var S=new Array(s),x=new Array(s),_=new Array(s),k=0;k<s;k++)S[k]=0,x[k]=0,_[k]=0;for(var v=new Array(s*i.minIterations),D=0;D<v.length;D++)v[D]=0;var I;for(I=0;I<i.maxIterations;I++){for(var B=0;B<s;B++){for(var P=-1/0,L=-1/0,R=-1,O=0,F=0;F<s;F++)S[F]=d[B*s+F],O=p[B*s+F]+u[B*s+F],O>=P?(L=P,P=O,R=F):O>L&&(L=O);for(var $=0;$<s;$++)d[B*s+$]=(1-i.damping)*(u[B*s+$]-P)+i.damping*S[$];d[B*s+R]=(1-i.damping)*(u[B*s+R]-L)+i.damping*S[R]}for(var W=0;W<s;W++){for(var Y=0,ie=0;ie<s;ie++)S[ie]=p[ie*s+W],x[ie]=Math.max(0,d[ie*s+W]),Y+=x[ie];Y-=x[W],x[W]=d[W*s+W],Y+=x[W];for(var oe=0;oe<s;oe++)p[oe*s+W]=(1-i.damping)*Math.min(0,Y-x[oe])+i.damping*S[oe];p[W*s+W]=(1-i.damping)*(Y-x[W])+i.damping*S[W]}for(var Q=0,H=0;H<s;H++){var U=p[H*s+H]+d[H*s+H]>0?1:0;v[I%i.minIterations*s+H]=U,Q+=U}if(Q>0&&(I>=i.minIterations-1||I==i.maxIterations-1)){for(var G=0,q=0;q<s;q++){_[q]=0;for(var X=0;X<i.minIterations;X++)_[q]+=v[X*s+q];(_[q]===0||_[q]===i.minIterations)&&G++}if(G===s)break}}for(var re=q0(s,d,p),ne=V0(s,u,re),j={},te=0;te<re.length;te++)j[re[te]]=[];for(var ve=0;ve<r.length;ve++){var ye=a[r[ve].id()],$e=ne[ye];$e!=null&&j[$e].push(r[ve])}for(var Ee=new Array(re.length),Me=0;Me<re.length;Me++)Ee[Me]=n.collection(j[re[Me]]);return Ee},W0={affinityPropagation:df,ap:df},U0=rn({root:void 0,directed:!1}),j0={hierholzer:function(e){if(!pt(e)){var n=arguments;e={root:n[0],directed:n[1]}}var r=U0(e),i=r.root,a=r.directed,o=this,s=!1,l,u,c;i&&(c=Ze(i)?this.filter(i)[0].id():i[0].id());var d={},p={};a?o.forEach(function(E){var S=E.id();if(E.isNode()){var x=E.indegree(!0),_=E.outdegree(!0),k=x-_,v=_-x;k==1?l?s=!0:l=S:v==1?u?s=!0:u=S:(v>1||k>1)&&(s=!0),d[S]=[],E.outgoers().forEach(function(D){D.isEdge()&&d[S].push(D.id())})}else p[S]=[void 0,E.target().id()]}):o.forEach(function(E){var S=E.id();if(E.isNode()){var x=E.degree(!0);x%2&&(l?u?s=!0:u=S:l=S),d[S]=[],E.connectedEdges().forEach(function(_){return d[S].push(_.id())})}else p[S]=[E.source().id(),E.target().id()]});var g={found:!1,trail:void 0};if(s)return g;if(u&&l)if(a){if(c&&u!=c)return g;c=u}else{if(c&&u!=c&&l!=c)return g;c||(c=u)}else c||(c=o[0].id());var h=function(S){for(var x=S,_=[S],k,v,D;d[x].length;)k=d[x].shift(),v=p[k][0],D=p[k][1],x!=D?(d[D]=d[D].filter(function(I){return I!=k}),x=D):!a&&x!=v&&(d[v]=d[v].filter(function(I){return I!=k}),x=v),_.unshift(k),_.unshift(x);return _},y=[],w=[];for(w=h(c);w.length!=1;)d[w[0]].length==0?(y.unshift(o.getElementById(w.shift())),y.unshift(o.getElementById(w.shift()))):w=h(w.shift()).concat(w);y.unshift(o.getElementById(w.shift()));for(var b in d)if(d[b].length)return g;return g.found=!0,g.trail=this.spawn(y,!0),g}},jo=function(){var e=this,n={},r=0,i=0,a=[],o=[],s={},l=function(p,g){for(var h=o.length-1,y=[],w=e.spawn();o[h].x!=p||o[h].y!=g;)y.push(o.pop().edge),h--;y.push(o.pop().edge),y.forEach(function(b){var E=b.connectedNodes().intersection(e);w.merge(b),E.forEach(function(S){var x=S.id(),_=S.connectedEdges().intersection(e);w.merge(S),n[x].cutVertex?w.merge(_.filter(function(k){return k.isLoop()})):w.merge(_)})}),a.push(w)},u=function d(p,g,h){p===h&&(i+=1),n[g]={id:r,low:r++,cutVertex:!1};var y=e.getElementById(g).connectedEdges().intersection(e);if(y.size()===0)a.push(e.spawn(e.getElementById(g)));else{var w,b,E,S;y.forEach(function(x){w=x.source().id(),b=x.target().id(),E=w===g?b:w,E!==h&&(S=x.id(),s[S]||(s[S]=!0,o.push({x:g,y:E,edge:x})),E in n?n[g].low=Math.min(n[g].low,n[E].id):(d(p,E,g),n[g].low=Math.min(n[g].low,n[E].low),n[g].id<=n[E].low&&(n[g].cutVertex=!0,l(g,E))))})}};e.forEach(function(d){if(d.isNode()){var p=d.id();p in n||(i=0,u(p,p),n[p].cutVertex=i>1)}});var c=Object.keys(n).filter(function(d){return n[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(c),components:a}},G0={hopcroftTarjanBiconnected:jo,htbc:jo,htb:jo,hopcroftTarjanBiconnectedComponents:jo},Go=function(){var e=this,n={},r=0,i=[],a=[],o=e.spawn(e),s=function l(u){a.push(u),n[u]={index:r,low:r++,explored:!1};var c=e.getElementById(u).connectedEdges().intersection(e);if(c.forEach(function(y){var w=y.target().id();w!==u&&(w in n||l(w),n[w].explored||(n[u].low=Math.min(n[u].low,n[w].low)))}),n[u].index===n[u].low){for(var d=e.spawn();;){var p=a.pop();if(d.merge(e.getElementById(p)),n[p].low=n[u].index,n[p].explored=!0,p===u)break}var g=d.edgesWith(d),h=d.merge(g);i.push(h),o=o.difference(h)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in n||s(u)}}),{cut:o,components:i}},K0={tarjanStronglyConnected:Go,tsc:Go,tscc:Go,tarjanStronglyConnectedComponents:Go},Ph={};[to,Sy,Ty,_y,Ay,Dy,Oy,a0,ji,Gi,cu,y0,D0,R0,W0,j0,G0,K0].forEach(function(t){et(Ph,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Lh=0,Oh=1,Nh=2,Sr=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Lh,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Sr.prototype={fulfill:function(e){return hf(this,Oh,"fulfillValue",e)},reject:function(e){return hf(this,Nh,"rejectReason",e)},then:function(e,n){var r=this,i=new Sr;return r.onFulfilled.push(pf(e,i,"fulfill")),r.onRejected.push(pf(n,i,"reject")),Bh(r),i.proxy}};var hf=function(e,n,r,i){return e.state===Lh&&(e.state=n,e[r]=i,Bh(e)),e},Bh=function(e){e.state===Oh?vf(e,"onFulfilled",e.fulfillValue):e.state===Nh&&vf(e,"onRejected",e.rejectReason)},vf=function(e,n,r){if(e[n].length!==0){var i=e[n];e[n]=[];var a=function(){for(var s=0;s<i.length;s++)i[s](r)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},pf=function(e,n,r){return function(i){if(typeof e!="function")n[r].call(n,i);else{var a;try{a=e(i)}catch(o){n.reject(o);return}Y0(n,a)}}},Y0=function t(e,n){if(e===n||e.proxy===n){e.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(Gt(n)==="object"&&n!==null||typeof n=="function")try{r=n.then}catch(a){e.reject(a);return}if(typeof r=="function"){var i=!1;try{r.call(n,function(a){i||(i=!0,a===n?e.reject(new TypeError("circular thenable chain")):t(e,a))},function(a){i||(i=!0,e.reject(a))})}catch(a){i||e.reject(a)}return}e.fulfill(n)};Sr.all=function(t){return new Sr(function(e,n){for(var r=new Array(t.length),i=0,a=function(l,u){r[l]=u,i++,i===t.length&&e(r)},o=0;o<t.length;o++)(function(s){var l=t[s],u=l!=null&&l.then!=null;if(u)l.then(function(d){a(s,d)},function(d){n(d)});else{var c=l;a(s,c)}})(o)})};Sr.resolve=function(t){return new Sr(function(e,n){e(t)})};Sr.reject=function(t){return new Sr(function(e,n){n(t)})};var sa=typeof Promise<"u"?Promise:Sr,fu=function(e,n,r){var i=zu(e),a=!i,o=this._private=et({duration:1e3},n,r);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Nt(o.complete)&&o.completes.push(o.complete),a){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(i){var l=e.pan();o.startPan={x:l.x,y:l.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},xi=fu.prototype;et(xi,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var n,r=e.target._private.animation;e.queue?n=r.queue:n=r.current,n.push(this),An(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var n=this._private;return e===void 0?n.progress*n.duration:this.progress(e/n.duration)},progress:function(e){var n=this._private,r=n.playing;return e===void 0?n.progress:(r&&this.pause(),n.progress=e,n.started=!1,r&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,n=e.playing;n&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=function(u,c){var d=e[u];d!=null&&(e[u]=e[c],e[c]=d)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var a=e.style[i],o=a.name,s=e.startStyle[o];e.startStyle[o]=a,e.style[i]=s}return n&&this.play(),this},promise:function(e){var n=this._private,r;switch(e){case"frame":r=n.frames;break;default:case"complete":case"completed":r=n.completes}return new sa(function(i,a){r.push(function(){i()})})}});xi.complete=xi.completed;xi.run=xi.play;xi.running=xi.playing;var X0={animated:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return!1;var o=i[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){var s=i[o];s._private.animation.queue=[]}return this}},delay:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:n,duration:n,complete:r}):this}},delayAnimation:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:n,duration:n,complete:r}):this}},animation:function(){return function(n,r){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this,l=!a,u=!l;if(!s.styleEnabled())return this;var c=s.style();n=et({},n,r);var d=Object.keys(n).length===0;if(d)return new fu(o[0],n);switch(n.duration===void 0&&(n.duration=400),n.duration){case"slow":n.duration=600;break;case"fast":n.duration=200;break}if(u&&(n.style=c.getPropsList(n.style||n.css),n.css=void 0),u&&n.renderedPosition!=null){var p=n.renderedPosition,g=s.pan(),h=s.zoom();n.position=xh(p,h,g)}if(l&&n.panBy!=null){var y=n.panBy,w=s.pan();n.pan={x:w.x+y.x,y:w.y+y.y}}var b=n.center||n.centre;if(l&&b!=null){var E=s.getCenterPan(b.eles,n.zoom);E!=null&&(n.pan=E)}if(l&&n.fit!=null){var S=n.fit,x=s.getFitViewport(S.eles||S.boundingBox,S.padding);x!=null&&(n.pan=x.pan,n.zoom=x.zoom)}if(l&&pt(n.zoom)){var _=s.getZoomedViewport(n.zoom);_!=null?(_.zoomed&&(n.zoom=_.zoom),_.panned&&(n.pan=_.pan)):n.zoom=null}return new fu(o[0],n)}},animate:function(){return function(n,r){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;r&&(n=et({},n,r));for(var l=0;l<o.length;l++){var u=o[l],c=u.animated()&&(n.queue===void 0||n.queue),d=u.animation(n,c?{queue:!0}:void 0);d.play()}return this}},stop:function(){return function(n,r){var i=this,a=i.length!==void 0,o=a?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var u=o[l],c=u._private,d=c.animation.current,p=0;p<d.length;p++){var g=d[p],h=g._private;r&&(h.duration=0)}n&&(c.animation.queue=[]),r||(c.animation.current=[])}return s.notify("draw"),this}}},Z0=Array.isArray,Zs=Z0,Q0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J0=/^\w*$/;function eb(t,e){if(Zs(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||mo(t)?!0:J0.test(t)||!Q0.test(t)||e!=null&&t in Object(e)}var tb=eb,nb="[object AsyncFunction]",rb="[object Function]",ib="[object GeneratorFunction]",ab="[object Proxy]";function ob(t){if(!mi(t))return!1;var e=dh(t);return e==rb||e==ib||e==nb||e==ab}var sb=ob,lb=js["__core-js_shared__"],Nl=lb,gf=function(){var t=/[^.]+$/.exec(Nl&&Nl.keys&&Nl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ub(t){return!!gf&&gf in t}var cb=ub,fb=Function.prototype,db=fb.toString;function hb(t){if(t!=null){try{return db.call(t)}catch{}try{return t+""}catch{}}return""}var vb=hb,pb=/[\\^$.*+?()[\]{}|]/g,gb=/^\[object .+?Constructor\]$/,mb=Function.prototype,yb=Object.prototype,bb=mb.toString,wb=yb.hasOwnProperty,xb=RegExp("^"+bb.call(wb).replace(pb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cb(t){if(!mi(t)||cb(t))return!1;var e=sb(t)?xb:gb;return e.test(vb(t))}var Eb=Cb;function Sb(t,e){return t==null?void 0:t[e]}var Tb=Sb;function kb(t,e){var n=Tb(t,e);return Eb(n)?n:void 0}var Gu=kb,_b=Gu(Object,"create"),io=_b;function Mb(){this.__data__=io?io(null):{},this.size=0}var Ab=Mb;function Ib(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Db=Ib,Pb="__lodash_hash_undefined__",Lb=Object.prototype,Ob=Lb.hasOwnProperty;function Nb(t){var e=this.__data__;if(io){var n=e[t];return n===Pb?void 0:n}return Ob.call(e,t)?e[t]:void 0}var Bb=Nb,Rb=Object.prototype,zb=Rb.hasOwnProperty;function Fb(t){var e=this.__data__;return io?e[t]!==void 0:zb.call(e,t)}var $b=Fb,Hb="__lodash_hash_undefined__";function qb(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=io&&e===void 0?Hb:e,this}var Vb=qb;function la(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}la.prototype.clear=Ab;la.prototype.delete=Db;la.prototype.get=Bb;la.prototype.has=$b;la.prototype.set=Vb;var mf=la;function Wb(){this.__data__=[],this.size=0}var Ub=Wb;function jb(t,e){return t===e||t!==t&&e!==e}var Rh=jb;function Gb(t,e){for(var n=t.length;n--;)if(Rh(t[n][0],e))return n;return-1}var Qs=Gb,Kb=Array.prototype,Yb=Kb.splice;function Xb(t){var e=this.__data__,n=Qs(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Yb.call(e,n,1),--this.size,!0}var Zb=Xb;function Qb(t){var e=this.__data__,n=Qs(e,t);return n<0?void 0:e[n][1]}var Jb=Qb;function ew(t){return Qs(this.__data__,t)>-1}var tw=ew;function nw(t,e){var n=this.__data__,r=Qs(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var rw=nw;function ua(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ua.prototype.clear=Ub;ua.prototype.delete=Zb;ua.prototype.get=Jb;ua.prototype.has=tw;ua.prototype.set=rw;var iw=ua,aw=Gu(js,"Map"),ow=aw;function sw(){this.size=0,this.__data__={hash:new mf,map:new(ow||iw),string:new mf}}var lw=sw;function uw(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var cw=uw;function fw(t,e){var n=t.__data__;return cw(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Js=fw;function dw(t){var e=Js(this,t).delete(t);return this.size-=e?1:0,e}var hw=dw;function vw(t){return Js(this,t).get(t)}var pw=vw;function gw(t){return Js(this,t).has(t)}var mw=gw;function yw(t,e){var n=Js(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var bw=yw;function ca(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ca.prototype.clear=lw;ca.prototype.delete=hw;ca.prototype.get=pw;ca.prototype.has=mw;ca.prototype.set=bw;var zh=ca,ww="Expected a function";function Ku(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ww);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Ku.Cache||zh),n}Ku.Cache=zh;var xw=Ku,Cw=500;function Ew(t){var e=xw(t,function(r){return n.size===Cw&&n.clear(),r}),n=e.cache;return e}var Sw=Ew,Tw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kw=/\\(\\)?/g,_w=Sw(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Tw,function(n,r,i,a){e.push(i?a.replace(kw,"$1"):r||n)}),e}),Fh=_w;function Mw(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var $h=Mw,Aw=1/0,yf=Yi?Yi.prototype:void 0,bf=yf?yf.toString:void 0;function Hh(t){if(typeof t=="string")return t;if(Zs(t))return $h(t,Hh)+"";if(mo(t))return bf?bf.call(t):"";var e=t+"";return e=="0"&&1/t==-Aw?"-0":e}var Iw=Hh;function Dw(t){return t==null?"":Iw(t)}var qh=Dw;function Pw(t,e){return Zs(t)?t:tb(t,e)?[t]:Fh(qh(t))}var Vh=Pw,Lw=1/0;function Ow(t){if(typeof t=="string"||mo(t))return t;var e=t+"";return e=="0"&&1/t==-Lw?"-0":e}var Yu=Ow;function Nw(t,e){e=Vh(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Yu(e[n++])];return n&&n==r?t:void 0}var Bw=Nw;function Rw(t,e,n){var r=t==null?void 0:Bw(t,e);return r===void 0?n:r}var zw=Rw,Fw=function(){try{var t=Gu(Object,"defineProperty");return t({},"",{}),t}catch{}}(),wf=Fw;function $w(t,e,n){e=="__proto__"&&wf?wf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Hw=$w,qw=Object.prototype,Vw=qw.hasOwnProperty;function Ww(t,e,n){var r=t[e];(!(Vw.call(t,e)&&Rh(r,n))||n===void 0&&!(e in t))&&Hw(t,e,n)}var Uw=Ww,jw=9007199254740991,Gw=/^(?:0|[1-9]\d*)$/;function Kw(t,e){var n=typeof t;return e=e??jw,!!e&&(n=="number"||n!="symbol"&&Gw.test(t))&&t>-1&&t%1==0&&t<e}var Yw=Kw;function Xw(t,e,n,r){if(!mi(t))return t;e=Vh(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var l=Yu(e[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var c=s[l];u=r?r(c,l,s):void 0,u===void 0&&(u=mi(c)?c:Yw(e[i+1])?[]:{})}Uw(s,l,u),s=s[l]}return t}var Zw=Xw;function Qw(t,e,n){return t==null?t:Zw(t,e,n)}var Jw=Qw;function e1(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var t1=e1;function n1(t){return Zs(t)?$h(t,Yu):mo(t)?[t]:t1(Fh(qh(t)))}var r1=n1,i1={data:function(e){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return e=et({},n,e),function(i,a){var o=e,s=this,l=s.length!==void 0,u=l?s:[s],c=l?s[0]:s;if(Ze(i)){var d=i.indexOf(".")!==-1,p=d&&r1(i);if(o.allowGetting&&a===void 0){var g;return c&&(o.beforeGet(c),p&&c._private[o.field][i]===void 0?g=zw(c._private[o.field],p):g=c._private[o.field][i]),g}else if(o.allowSetting&&a!==void 0){var h=!o.immutableKeys[i];if(h){var y=th({},i,a);o.beforeSet(s,y);for(var w=0,b=u.length;w<b;w++){var E=u[w];o.canSet(E)&&(p&&c._private[o.field][i]===void 0?Jw(E._private[o.field],p,a):E._private[o.field][i]=a)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&pt(i)){var S=i,x,_,k=Object.keys(S);o.beforeSet(s,S);for(var v=0;v<k.length;v++){x=k[v],_=S[x];var D=!o.immutableKeys[x];if(D)for(var I=0;I<u.length;I++){var B=u[I];o.canSet(B)&&(B._private[o.field][x]=_)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Nt(i)){var P=i;s.on(o.bindingEvent,P)}else if(o.allowGetting&&i===void 0){var L;return c&&(o.beforeGet(c),L=c._private[o.field]),L}return s}},removeData:function(e){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=et({},n,e),function(i){var a=e,o=this,s=o.length!==void 0,l=s?o:[o];if(Ze(i)){for(var u=i.split(/\s+/),c=u.length,d=0;d<c;d++){var p=u[d];if(!Wr(p)){var g=!a.immutableKeys[p];if(g)for(var h=0,y=l.length;h<y;h++)l[h]._private[a.field][p]=void 0}}a.triggerEvent&&o[a.triggerFnName](a.event)}else if(i===void 0){for(var w=0,b=l.length;w<b;w++)for(var E=l[w]._private[a.field],S=Object.keys(E),x=0;x<S.length;x++){var _=S[x],k=!a.immutableKeys[_];k&&(E[_]=void 0)}a.triggerEvent&&o[a.triggerFnName](a.event)}return o}}},a1={eventAliasesOn:function(e){var n=e;n.addListener=n.listen=n.bind=n.on,n.unlisten=n.unbind=n.off=n.removeListener,n.trigger=n.emit,n.pon=n.promiseOn=function(r,i){var a=this,o=Array.prototype.slice.call(arguments,0);return new sa(function(s,l){var u=function(g){a.off.apply(a,d),s(g)},c=o.concat([u]),d=c.concat([]);a.on.apply(a,c)})}}},wt={};[X0,i1,a1].forEach(function(t){et(wt,t)});var o1={animate:wt.animate(),animation:wt.animation(),animated:wt.animated(),clearQueue:wt.clearQueue(),delay:wt.delay(),delayAnimation:wt.delayAnimation(),stop:wt.stop()},fs={classes:function(e){var n=this;if(e===void 0){var r=[];return n[0]._private.classes.forEach(function(h){return r.push(h)}),r}else Tt(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],a=new oa(e),o=0;o<n.length;o++){for(var s=n[o],l=s._private,u=l.classes,c=!1,d=0;d<e.length;d++){var p=e[d],g=u.has(p);if(!g){c=!0;break}}c||(c=u.size!==e.length),c&&(l.classes=a,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var n=this[0];return n!=null&&n._private.classes.has(e)},toggleClass:function(e,n){Tt(e)||(e=e.match(/\S+/g)||[]);for(var r=this,i=n===void 0,a=[],o=0,s=r.length;o<s;o++)for(var l=r[o],u=l._private.classes,c=!1,d=0;d<e.length;d++){var p=e[d],g=u.has(p),h=!1;n||i&&!g?(u.add(p),h=!0):(!n||i&&g)&&(u.delete(p),h=!0),!c&&h&&(a.push(l),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,n){var r=this;if(n==null)n=250;else if(n===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},n),r}};fs.className=fs.classNames=fs.classes;var vt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:jt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};vt.variable="(?:[\\w-.]|(?:\\\\"+vt.metaChar+"))+";vt.className="(?:[\\w-]|(?:\\\\"+vt.metaChar+"))+";vt.value=vt.string+"|"+vt.number;vt.id=vt.variable;(function(){var t,e,n;for(t=vt.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],vt.comparatorOp+="|@"+e;for(t=vt.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],!(e.indexOf("!")>=0)&&e!=="="&&(vt.comparatorOp+="|\\!"+e)})();var St=function(){return{checks:[]}},Ue={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},du=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return ym(t.selector,e.selector)}),s1=function(){for(var t={},e,n=0;n<du.length;n++)e=du[n],t[e.selector]=e.matches;return t}(),l1=function(e,n){return s1[e](n)},u1="("+du.map(function(t){return t.selector}).join("|")+")",Li=function(e){return e.replace(new RegExp("\\\\("+vt.metaChar+")","g"),function(n,r){return r})},Br=function(e,n,r){e[e.length-1]=r},hu=[{name:"group",query:!0,regex:"("+vt.group+")",populate:function(e,n,r){var i=Un(r,1),a=i[0];n.checks.push({type:Ue.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:u1,populate:function(e,n,r){var i=Un(r,1),a=i[0];n.checks.push({type:Ue.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+vt.id+")",populate:function(e,n,r){var i=Un(r,1),a=i[0];n.checks.push({type:Ue.ID,value:Li(a)})}},{name:"className",query:!0,regex:"\\.("+vt.className+")",populate:function(e,n,r){var i=Un(r,1),a=i[0];n.checks.push({type:Ue.CLASS,value:Li(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+vt.variable+")\\s*\\]",populate:function(e,n,r){var i=Un(r,1),a=i[0];n.checks.push({type:Ue.DATA_EXIST,field:Li(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+vt.variable+")\\s*("+vt.comparatorOp+")\\s*("+vt.value+")\\s*\\]",populate:function(e,n,r){var i=Un(r,3),a=i[0],o=i[1],s=i[2],l=new RegExp("^"+vt.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),n.checks.push({type:Ue.DATA_COMPARE,field:Li(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+vt.boolOp+")\\s*("+vt.variable+")\\s*\\]",populate:function(e,n,r){var i=Un(r,2),a=i[0],o=i[1];n.checks.push({type:Ue.DATA_BOOL,field:Li(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+vt.meta+")\\s*("+vt.comparatorOp+")\\s*("+vt.number+")\\s*\\]\\]",populate:function(e,n,r){var i=Un(r,3),a=i[0],o=i[1],s=i[2];n.checks.push({type:Ue.META_COMPARE,field:Li(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:vt.separator,populate:function(e,n){var r=e.currentSubject,i=e.edgeCount,a=e.compoundCount,o=e[e.length-1];r!=null&&(o.subject=r,e.currentSubject=null),o.edgeCount=i,o.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=St();return s}},{name:"directedEdge",separator:!0,regex:vt.directedEdge,populate:function(e,n){if(e.currentSubject==null){var r=St(),i=n,a=St();return r.checks.push({type:Ue.DIRECTED_EDGE,source:i,target:a}),Br(e,n,r),e.edgeCount++,a}else{var o=St(),s=n,l=St();return o.checks.push({type:Ue.NODE_SOURCE,source:s,target:l}),Br(e,n,o),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:vt.undirectedEdge,populate:function(e,n){if(e.currentSubject==null){var r=St(),i=n,a=St();return r.checks.push({type:Ue.UNDIRECTED_EDGE,nodes:[i,a]}),Br(e,n,r),e.edgeCount++,a}else{var o=St(),s=n,l=St();return o.checks.push({type:Ue.NODE_NEIGHBOR,node:s,neighbor:l}),Br(e,n,o),l}}},{name:"child",separator:!0,regex:vt.child,populate:function(e,n){if(e.currentSubject==null){var r=St(),i=St(),a=e[e.length-1];return r.checks.push({type:Ue.CHILD,parent:a,child:i}),Br(e,n,r),e.compoundCount++,i}else if(e.currentSubject===n){var o=St(),s=e[e.length-1],l=St(),u=St(),c=St(),d=St();return o.checks.push({type:Ue.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=n.checks,n.checks=[{type:Ue.TRUE}],d.checks.push({type:Ue.TRUE}),l.checks.push({type:Ue.PARENT,parent:d,child:c}),Br(e,s,o),e.currentSubject=u,e.compoundCount++,c}else{var p=St(),g=St(),h=[{type:Ue.PARENT,parent:p,child:g}];return p.checks=n.checks,n.checks=h,e.compoundCount++,g}}},{name:"descendant",separator:!0,regex:vt.descendant,populate:function(e,n){if(e.currentSubject==null){var r=St(),i=St(),a=e[e.length-1];return r.checks.push({type:Ue.DESCENDANT,ancestor:a,descendant:i}),Br(e,n,r),e.compoundCount++,i}else if(e.currentSubject===n){var o=St(),s=e[e.length-1],l=St(),u=St(),c=St(),d=St();return o.checks.push({type:Ue.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=n.checks,n.checks=[{type:Ue.TRUE}],d.checks.push({type:Ue.TRUE}),l.checks.push({type:Ue.ANCESTOR,ancestor:d,descendant:c}),Br(e,s,o),e.currentSubject=u,e.compoundCount++,c}else{var p=St(),g=St(),h=[{type:Ue.ANCESTOR,ancestor:p,descendant:g}];return p.checks=n.checks,n.checks=h,e.compoundCount++,g}}},{name:"subject",modifier:!0,regex:vt.subject,populate:function(e,n){if(e.currentSubject!=null&&e.currentSubject!==n)return xt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=n;var r=e[e.length-1],i=r.checks[0],a=i==null?null:i.type;a===Ue.DIRECTED_EDGE?i.type=Ue.NODE_TARGET:a===Ue.UNDIRECTED_EDGE&&(i.type=Ue.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];hu.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var c1=function(e){for(var n,r,i,a=0;a<hu.length;a++){var o=hu[a],s=o.name,l=e.match(o.regexObj);if(l!=null){r=l,n=o,i=s;var u=l[0];e=e.substring(u.length);break}}return{expr:n,match:r,name:i,remaining:e}},f1=function(e){var n=e.match(/^\s+/);if(n){var r=n[0];e=e.substring(r.length)}return e},d1=function(e){var n=this,r=n.inputText=e,i=n[0]=St();for(n.length=1,r=f1(r);;){var a=c1(r);if(a.expr==null)return xt("The selector `"+e+"`is invalid"),!1;var o=a.match.slice(1),s=a.expr.populate(n,i,o);if(s===!1)return!1;if(s!=null&&(i=s),r=a.remaining,r.match(/^\s*$/))break}var l=n[n.length-1];n.currentSubject!=null&&(l.subject=n.currentSubject),l.edgeCount=n.edgeCount,l.compoundCount=n.compoundCount;for(var u=0;u<n.length;u++){var c=n[u];if(c.compoundCount>0&&c.edgeCount>0)return xt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return xt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&xt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},h1=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},n=function(c){return Ze(c)?'"'+c+'"':e(c)},r=function(c){return" "+c+" "},i=function(c,d){var p=c.type,g=c.value;switch(p){case Ue.GROUP:{var h=e(g);return h.substring(0,h.length-1)}case Ue.DATA_COMPARE:{var y=c.field,w=c.operator;return"["+y+r(e(w))+n(g)+"]"}case Ue.DATA_BOOL:{var b=c.operator,E=c.field;return"["+e(b)+E+"]"}case Ue.DATA_EXIST:{var S=c.field;return"["+S+"]"}case Ue.META_COMPARE:{var x=c.operator,_=c.field;return"[["+_+r(e(x))+n(g)+"]]"}case Ue.STATE:return g;case Ue.ID:return"#"+g;case Ue.CLASS:return"."+g;case Ue.PARENT:case Ue.CHILD:return a(c.parent,d)+r(">")+a(c.child,d);case Ue.ANCESTOR:case Ue.DESCENDANT:return a(c.ancestor,d)+" "+a(c.descendant,d);case Ue.COMPOUND_SPLIT:{var k=a(c.left,d),v=a(c.subject,d),D=a(c.right,d);return k+(k.length>0?" ":"")+v+D}case Ue.TRUE:return""}},a=function(c,d){return c.checks.reduce(function(p,g,h){return p+(d===c&&h===0?"$":"")+i(g,d)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=a(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},v1={parse:d1,toString:h1},Wh=function(e,n,r){var i,a=Ze(e),o=ze(e),s=Ze(r),l,u,c=!1,d=!1,p=!1;switch(n.indexOf("!")>=0&&(n=n.replace("!",""),d=!0),n.indexOf("@")>=0&&(n=n.replace("@",""),c=!0),(a||s||c)&&(l=!a&&!o?"":""+e,u=""+r),c&&(e=l=l.toLowerCase(),r=u=u.toLowerCase()),n){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=e===r;break;case">":p=!0,i=e>r;break;case">=":p=!0,i=e>=r;break;case"<":p=!0,i=e<r;break;case"<=":p=!0,i=e<=r;break;default:i=!1;break}return d&&(e!=null||!p)&&(i=!i),i},p1=function(e,n){switch(n){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},g1=function(e){return e!==void 0},Xu=function(e,n){return e.data(n)},m1=function(e,n){return e[n]()},zt=[],At=function(e,n){return e.checks.every(function(r){return zt[r.type](r,n)})};zt[Ue.GROUP]=function(t,e){var n=t.value;return n==="*"||n===e.group()};zt[Ue.STATE]=function(t,e){var n=t.value;return l1(n,e)};zt[Ue.ID]=function(t,e){var n=t.value;return e.id()===n};zt[Ue.CLASS]=function(t,e){var n=t.value;return e.hasClass(n)};zt[Ue.META_COMPARE]=function(t,e){var n=t.field,r=t.operator,i=t.value;return Wh(m1(e,n),r,i)};zt[Ue.DATA_COMPARE]=function(t,e){var n=t.field,r=t.operator,i=t.value;return Wh(Xu(e,n),r,i)};zt[Ue.DATA_BOOL]=function(t,e){var n=t.field,r=t.operator;return p1(Xu(e,n),r)};zt[Ue.DATA_EXIST]=function(t,e){var n=t.field;return t.operator,g1(Xu(e,n))};zt[Ue.UNDIRECTED_EDGE]=function(t,e){var n=t.nodes[0],r=t.nodes[1],i=e.source(),a=e.target();return At(n,i)&&At(r,a)||At(r,i)&&At(n,a)};zt[Ue.NODE_NEIGHBOR]=function(t,e){return At(t.node,e)&&e.neighborhood().some(function(n){return n.isNode()&&At(t.neighbor,n)})};zt[Ue.DIRECTED_EDGE]=function(t,e){return At(t.source,e.source())&&At(t.target,e.target())};zt[Ue.NODE_SOURCE]=function(t,e){return At(t.source,e)&&e.outgoers().some(function(n){return n.isNode()&&At(t.target,n)})};zt[Ue.NODE_TARGET]=function(t,e){return At(t.target,e)&&e.incomers().some(function(n){return n.isNode()&&At(t.source,n)})};zt[Ue.CHILD]=function(t,e){return At(t.child,e)&&At(t.parent,e.parent())};zt[Ue.PARENT]=function(t,e){return At(t.parent,e)&&e.children().some(function(n){return At(t.child,n)})};zt[Ue.DESCENDANT]=function(t,e){return At(t.descendant,e)&&e.ancestors().some(function(n){return At(t.ancestor,n)})};zt[Ue.ANCESTOR]=function(t,e){return At(t.ancestor,e)&&e.descendants().some(function(n){return At(t.descendant,n)})};zt[Ue.COMPOUND_SPLIT]=function(t,e){return At(t.subject,e)&&At(t.left,e)&&At(t.right,e)};zt[Ue.TRUE]=function(){return!0};zt[Ue.COLLECTION]=function(t,e){var n=t.value;return n.has(e)};zt[Ue.FILTER]=function(t,e){var n=t.value;return n(e)};var y1=function(e){var n=this;if(n.length===1&&n[0].checks.length===1&&n[0].checks[0].type===Ue.ID)return e.getElementById(n[0].checks[0].value).collection();var r=function(a){for(var o=0;o<n.length;o++){var s=n[o];if(At(s,a))return!0}return!1};return n.text()==null&&(r=function(){return!0}),e.filter(r)},b1=function(e){for(var n=this,r=0;r<n.length;r++){var i=n[r];if(At(i,e))return!0}return!1},w1={matches:b1,filter:y1},jr=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ze(e)&&e.match(/^\s*$/)||(An(e)?this.addQuery({checks:[{type:Ue.COLLECTION,value:e.collection()}]}):Nt(e)?this.addQuery({checks:[{type:Ue.FILTER,value:e}]}):Ze(e)?this.parse(e)||(this.invalid=!0):Rt("A selector must be created from a string; found "))},Gr=jr.prototype;[v1,w1].forEach(function(t){return et(Gr,t)});Gr.text=function(){return this.inputText};Gr.size=function(){return this.length};Gr.eq=function(t){return this[t]};Gr.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Gr.addQuery=function(t){this[this.length++]=t};Gr.selector=Gr.toString;var $r={allAre:function(e){var n=new jr(e);return this.every(function(r){return n.matches(r)})},is:function(e){var n=new jr(e);return this.some(function(r){return n.matches(r)})},some:function(e,n){for(var r=0;r<this.length;r++){var i=n?e.apply(n,[this[r],r,this]):e(this[r],r,this);if(i)return!0}return!1},every:function(e,n){for(var r=0;r<this.length;r++){var i=n?e.apply(n,[this[r],r,this]):e(this[r],r,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var n=this.length,r=e.length;return n!==r?!1:n===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(n){return e.hasElementWithId(n.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var n=this.neighborhood();return e.every(function(r){return n.hasElementWithId(r.id())})},contains:function(e){e=this.cy().collection(e);var n=this;return e.every(function(r){return n.hasElementWithId(r.id())})}};$r.allAreNeighbours=$r.allAreNeighbors;$r.has=$r.contains;$r.equal=$r.equals=$r.same;var zn=function(e,n){return function(i,a,o,s){var l=i,u=this,c;if(l==null?c="":An(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var d=u[0]._private,p=d.traversalCache=d.traversalCache||{},g=p[n]=p[n]||[],h=yi(c),y=g[h];return y||(g[h]=e.call(u,i,a,o,s))}else return e.call(u,i,a,o,s)}},Qi={parent:function(e){var n=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var i=0;i<this.length;i++){var a=this[i],o=a._private.parent;o&&n.push(o)}return this.spawn(n,!0).filter(e)},parents:function(e){for(var n=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var a=r[i];n.push(a)}r=r.parent()}return this.spawn(n,!0).filter(e)},commonAncestors:function(e){for(var n,r=0;r<this.length;r++){var i=this[r],a=i.parents();n=n||a,n=n.intersect(a)}return n.filter(e)},orphans:function(e){return this.stdFilter(function(n){return n.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(n){return n.isChild()}).filter(e)},children:zn(function(t){for(var e=[],n=0;n<this.length;n++)for(var r=this[n],i=r._private.children,a=0;a<i.length;a++)e.push(i[a]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var n=[];function r(i){for(var a=0;a<i.length;a++){var o=i[a];n.push(o),o.children().nonempty()&&r(o.children())}}return r(this.children()),this.spawn(n,!0).filter(e)}};function Zu(t,e,n,r){for(var i=[],a=new oa,o=t.cy(),s=o.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];n?i.push(u):s&&r(i,a,u)}for(;i.length>0;){var c=i.shift();e(c),a.add(c.id()),s&&r(i,a,c)}return t}function Uh(t,e,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var a=r[i];e.has(a.id())||t.push(a)}}Qi.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Zu(this,t,e,Uh)};function jh(t,e,n){if(n.isChild()){var r=n._private.parent;e.has(r.id())||t.push(r)}}Qi.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Zu(this,t,e,jh)};function x1(t,e,n){jh(t,e,n),Uh(t,e,n)}Qi.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Zu(this,t,e,x1)};Qi.ancestors=Qi.parents;var ao,Gh;ao=Gh={data:wt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:wt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:wt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:wt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:wt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:wt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};ao.attr=ao.data;ao.removeAttr=ao.removeData;var C1=Gh,el={};function Bl(t){return function(e){var n=this;if(e===void 0&&(e=!0),n.length!==0)if(n.isNode()&&!n.removed()){for(var r=0,i=n[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!e&&s.isLoop()||(r+=t(i,s))}return r}else return}}et(el,{degree:Bl(function(t,e){return e.source().same(e.target())?2:1}),indegree:Bl(function(t,e){return e.target().same(t)?1:0}),outdegree:Bl(function(t,e){return e.source().same(t)?1:0})});function Oi(t,e){return function(n){for(var r,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[t](n);s!==void 0&&(r===void 0||e(s,r))&&(r=s)}return r}}et(el,{minDegree:Oi("degree",function(t,e){return t<e}),maxDegree:Oi("degree",function(t,e){return t>e}),minIndegree:Oi("indegree",function(t,e){return t<e}),maxIndegree:Oi("indegree",function(t,e){return t>e}),minOutdegree:Oi("outdegree",function(t,e){return t<e}),maxOutdegree:Oi("outdegree",function(t,e){return t>e})});et(el,{totalDegree:function(e){for(var n=0,r=this.nodes(),i=0;i<r.length;i++)n+=r[i].degree(e);return n}});var Zn,Kh,Yh=function(e,n,r){for(var i=0;i<e.length;i++){var a=e[i];if(!a.locked()){var o=a._private.position,s={x:n.x!=null?n.x-o.x:0,y:n.y!=null?n.y-o.y:0};a.isParent()&&!(s.x===0&&s.y===0)&&a.children().shift(s,r),a.dirtyBoundingBoxCache()}}},xf={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,n){Yh(e,n,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Zn=Kh={position:wt.data(xf),silentPosition:wt.data(et({},xf,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,n){Yh(e,n,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,n){if(pt(e))n?this.silentPosition(e):this.position(e);else if(Nt(e)){var r=e,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=void 0;(s=r(o,a))&&(n?o.silentPosition(s):o.position(s))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,n,r){var i;if(pt(e)?(i={x:ze(e.x)?e.x:0,y:ze(e.y)?e.y:0},r=n):Ze(e)&&ze(n)&&(i={x:0,y:0},i[e]=n),i!=null){var a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(a.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),u={x:l.x+i.x,y:l.y+i.y};r?s.silentPosition(u):s.position(u)}}a.endBatch()}return this},silentShift:function(e,n){return pt(e)?this.shift(e,!0):Ze(e)&&ze(n)&&this.shift(e,n,!0),this},renderedPosition:function(e,n){var r=this[0],i=this.cy(),a=i.zoom(),o=i.pan(),s=pt(e)?e:void 0,l=s!==void 0||n!==void 0&&Ze(e);if(r&&r.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];n!==void 0?c.position(e,(n-o[e])/a):s!==void 0&&c.position(xh(s,a,o))}else{var d=r.position();return s=Ys(d,a,o),e===void 0?s:s[e]}else if(!l)return;return this},relativePosition:function(e,n){var r=this[0],i=this.cy(),a=pt(e)?e:void 0,o=a!==void 0||n!==void 0&&Ze(e),s=i.hasCompoundNodes();if(r&&r.isNode())if(o)for(var l=0;l<this.length;l++){var u=this[l],c=s?u.parent():null,d=c&&c.length>0,p=d;d&&(c=c[0]);var g=p?c.position():{x:0,y:0};n!==void 0?u.position(e,n+g[e]):a!==void 0&&u.position({x:a.x+g.x,y:a.y+g.y})}else{var h=r.position(),y=s?r.parent():null,w=y&&y.length>0,b=w;w&&(y=y[0]);var E=b?y.position():{x:0,y:0};return a={x:h.x-E.x,y:h.y-E.y},e===void 0?a:a[e]}else if(!o)return;return this}};Zn.modelPosition=Zn.point=Zn.position;Zn.modelPositions=Zn.points=Zn.positions;Zn.renderedPoint=Zn.renderedPosition;Zn.relativePoint=Zn.relativePosition;var E1=Kh,Ki,Yr;Ki=Yr={};Yr.renderedBoundingBox=function(t){var e=this.boundingBox(t),n=this.cy(),r=n.zoom(),i=n.pan(),a=e.x1*r+i.x,o=e.x2*r+i.x,s=e.y1*r+i.y,l=e.y2*r+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}};Yr.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(n){if(n.isParent()){var r=n._private;r.compoundBoundsClean=!1,r.bbCache=null,t||n.emitAndNotify("bounds")}}),this)};Yr.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function n(o){if(!o.isParent())return;var s=o._private,l=o.children(),u=o.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},d=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),p=s.position;(d.w===0||d.h===0)&&(d={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},d.x1=p.x-d.w/2,d.x2=p.x+d.w/2,d.y1=p.y-d.h/2,d.y2=p.y+d.h/2);function g(I,B,P){var L=0,R=0,O=B+P;return I>0&&O>0&&(L=B/O*I,R=P/O*I),{biasDiff:L,biasComplementDiff:R}}function h(I,B,P,L){if(P.units==="%")switch(L){case"width":return I>0?P.pfValue*I:0;case"height":return B>0?P.pfValue*B:0;case"average":return I>0&&B>0?P.pfValue*(I+B)/2:0;case"min":return I>0&&B>0?I>B?P.pfValue*B:P.pfValue*I:0;case"max":return I>0&&B>0?I>B?P.pfValue*I:P.pfValue*B:0;default:return 0}else return P.units==="px"?P.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var w=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(w=w*100/c.width.val);var b=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(b=b*100/c.height.val);var E=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(E=E*100/c.height.val);var S=g(c.width.val-d.w,y,w),x=S.biasDiff,_=S.biasComplementDiff,k=g(c.height.val-d.h,b,E),v=k.biasDiff,D=k.biasComplementDiff;s.autoPadding=h(d.w,d.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(d.w,c.width.val),p.x=(-x+d.x1+d.x2+_)/2,s.autoHeight=Math.max(d.h,c.height.val),p.y=(-v+d.y1+d.y2+D)/2}for(var r=0;r<this.length;r++){var i=this[r],a=i._private;(!a.compoundBoundsClean||t)&&(n(i),e.batching()||(a.compoundBoundsClean=!0))}return this};var Rn=function(e){return e===1/0||e===-1/0?0:e},jn=function(e,n,r,i,a){i-n===0||a-r===0||n==null||r==null||i==null||a==null||(e.x1=n<e.x1?n:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},ui=function(e,n){return n==null?e:jn(e,n.x1,n.y1,n.x2,n.y2)},Da=function(e,n,r){return Gn(e,n,r)},Ko=function(e,n,r){if(!n.cy().headless()){var i=n._private,a=i.rstyle,o=a.arrowWidth/2,s=n.pstyle(r+"-arrow-shape").value,l,u;if(s!=="none"){r==="source"?(l=a.srcX,u=a.srcY):r==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var c=i.arrowBounds=i.arrowBounds||{},d=c[r]=c[r]||{};d.x1=l-o,d.y1=u-o,d.x2=l+o,d.y2=u+o,d.w=d.x2-d.x1,d.h=d.y2-d.y1,us(d,1),jn(e,d.x1,d.y1,d.x2,d.y2)}}},Rl=function(e,n,r){if(!n.cy().headless()){var i;r?i=r+"-":i="";var a=n._private,o=a.rstyle,s=n.pstyle(i+"label").strValue;if(s){var l=n.pstyle("text-halign"),u=n.pstyle("text-valign"),c=Da(o,"labelWidth",r),d=Da(o,"labelHeight",r),p=Da(o,"labelX",r),g=Da(o,"labelY",r),h=n.pstyle(i+"text-margin-x").pfValue,y=n.pstyle(i+"text-margin-y").pfValue,w=n.isEdge(),b=n.pstyle(i+"text-rotation"),E=n.pstyle("text-outline-width").pfValue,S=n.pstyle("text-border-width").pfValue,x=S/2,_=n.pstyle("text-background-padding").pfValue,k=2,v=d,D=c,I=D/2,B=v/2,P,L,R,O;if(w)P=p-I,L=p+I,R=g-B,O=g+B;else{switch(l.value){case"left":P=p-D,L=p;break;case"center":P=p-I,L=p+I;break;case"right":P=p,L=p+D;break}switch(u.value){case"top":R=g-v,O=g;break;case"center":R=g-B,O=g+B;break;case"bottom":R=g,O=g+v;break}}var F=h-Math.max(E,x)-_-k,$=h+Math.max(E,x)+_+k,W=y-Math.max(E,x)-_-k,Y=y+Math.max(E,x)+_+k;P+=F,L+=$,R+=W,O+=Y;var ie=r||"main",oe=a.labelBounds,Q=oe[ie]=oe[ie]||{};Q.x1=P,Q.y1=R,Q.x2=L,Q.y2=O,Q.w=L-P,Q.h=O-R,Q.leftPad=F,Q.rightPad=$,Q.topPad=W,Q.botPad=Y;var H=w&&b.strValue==="autorotate",U=b.pfValue!=null&&b.pfValue!==0;if(H||U){var G=H?Da(a.rstyle,"labelAngle",r):b.pfValue,q=Math.cos(G),X=Math.sin(G),re=(P+L)/2,ne=(R+O)/2;if(!w){switch(l.value){case"left":re=L;break;case"right":re=P;break}switch(u.value){case"top":ne=O;break;case"bottom":ne=R;break}}var j=function(Te,Oe){return Te=Te-re,Oe=Oe-ne,{x:Te*q-Oe*X+re,y:Te*X+Oe*q+ne}},te=j(P,R),ve=j(P,O),ye=j(L,R),$e=j(L,O);P=Math.min(te.x,ve.x,ye.x,$e.x),L=Math.max(te.x,ve.x,ye.x,$e.x),R=Math.min(te.y,ve.y,ye.y,$e.y),O=Math.max(te.y,ve.y,ye.y,$e.y)}var Ee=ie+"Rot",Me=oe[Ee]=oe[Ee]||{};Me.x1=P,Me.y1=R,Me.x2=L,Me.y2=O,Me.w=L-P,Me.h=O-R,jn(e,P,R,L,O),jn(a.labelBounds.all,P,R,L,O)}return e}},S1=function(e,n){if(!n.cy().headless()){var r=n.pstyle("outline-opacity").value,i=n.pstyle("outline-width").value;if(r>0&&i>0){var a=n.pstyle("outline-offset").value,o=n.pstyle("shape").value,s=i+a,l=(e.w+s*2)/e.w,u=(e.h+s*2)/e.h,c=0,d=0;["diamond","pentagon","round-triangle"].includes(o)?(l=(e.w+s*2.4)/e.w,d=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?l=(e.w+s*2.4)/e.w:o==="star"?(l=(e.w+s*2.8)/e.w,u=(e.h+s*2.6)/e.h,d=-s/3.8):o==="triangle"?(l=(e.w+s*2.8)/e.w,u=(e.h+s*2.4)/e.h,d=-s/1.4):o==="vee"&&(l=(e.w+s*4.4)/e.w,u=(e.h+s*3.8)/e.h,d=-s*.5);var p=e.h*u-e.h,g=e.w*l-e.w;if(cs(e,[Math.ceil(p/2),Math.ceil(g/2)]),c!=0||d!==0){var h=Uy(e,c,d);Eh(e,h)}}}},T1=function(e,n){var r=e._private.cy,i=r.styleEnabled(),a=r.headless(),o=En(),s=e._private,l=e.isNode(),u=e.isEdge(),c,d,p,g,h,y,w=s.rstyle,b=l&&i?e.pstyle("bounds-expansion").pfValue:[0],E=function(Fe){return Fe.pstyle("display").value!=="none"},S=!i||E(e)&&(!u||E(e.source())&&E(e.target()));if(S){var x=0,_=0;i&&n.includeOverlays&&(x=e.pstyle("overlay-opacity").value,x!==0&&(_=e.pstyle("overlay-padding").value));var k=0,v=0;i&&n.includeUnderlays&&(k=e.pstyle("underlay-opacity").value,k!==0&&(v=e.pstyle("underlay-padding").value));var D=Math.max(_,v),I=0,B=0;if(i&&(I=e.pstyle("width").pfValue,B=I/2),l&&n.includeNodes){var P=e.position();h=P.x,y=P.y;var L=e.outerWidth(),R=L/2,O=e.outerHeight(),F=O/2;c=h-R,d=h+R,p=y-F,g=y+F,jn(o,c,p,d,g),i&&n.includeOutlines&&S1(o,e)}else if(u&&n.includeEdges)if(i&&!a){var $=e.pstyle("curve-style").strValue;if(c=Math.min(w.srcX,w.midX,w.tgtX),d=Math.max(w.srcX,w.midX,w.tgtX),p=Math.min(w.srcY,w.midY,w.tgtY),g=Math.max(w.srcY,w.midY,w.tgtY),c-=B,d+=B,p-=B,g+=B,jn(o,c,p,d,g),$==="haystack"){var W=w.haystackPts;if(W&&W.length===2){if(c=W[0].x,p=W[0].y,d=W[1].x,g=W[1].y,c>d){var Y=c;c=d,d=Y}if(p>g){var ie=p;p=g,g=ie}jn(o,c-B,p-B,d+B,g+B)}}else if($==="bezier"||$==="unbundled-bezier"||$.endsWith("segments")||$.endsWith("taxi")){var oe;switch($){case"bezier":case"unbundled-bezier":oe=w.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":oe=w.linePts;break}if(oe!=null)for(var Q=0;Q<oe.length;Q++){var H=oe[Q];c=H.x-B,d=H.x+B,p=H.y-B,g=H.y+B,jn(o,c,p,d,g)}}}else{var U=e.source(),G=U.position(),q=e.target(),X=q.position();if(c=G.x,d=X.x,p=G.y,g=X.y,c>d){var re=c;c=d,d=re}if(p>g){var ne=p;p=g,g=ne}c-=B,d+=B,p-=B,g+=B,jn(o,c,p,d,g)}if(i&&n.includeEdges&&u&&(Ko(o,e,"mid-source"),Ko(o,e,"mid-target"),Ko(o,e,"source"),Ko(o,e,"target")),i){var j=e.pstyle("ghost").value==="yes";if(j){var te=e.pstyle("ghost-offset-x").pfValue,ve=e.pstyle("ghost-offset-y").pfValue;jn(o,o.x1+te,o.y1+ve,o.x2+te,o.y2+ve)}}var ye=s.bodyBounds=s.bodyBounds||{};Jc(ye,o),cs(ye,b),us(ye,1),i&&(c=o.x1,d=o.x2,p=o.y1,g=o.y2,jn(o,c-D,p-D,d+D,g+D));var $e=s.overlayBounds=s.overlayBounds||{};Jc($e,o),cs($e,b),us($e,1);var Ee=s.labelBounds=s.labelBounds||{};Ee.all!=null?Wy(Ee.all):Ee.all=En(),i&&n.includeLabels&&(n.includeMainLabels&&Rl(o,e,null),u&&(n.includeSourceLabels&&Rl(o,e,"source"),n.includeTargetLabels&&Rl(o,e,"target")))}return o.x1=Rn(o.x1),o.y1=Rn(o.y1),o.x2=Rn(o.x2),o.y2=Rn(o.y2),o.w=Rn(o.x2-o.x1),o.h=Rn(o.y2-o.y1),o.w>0&&o.h>0&&S&&(cs(o,b),us(o,1)),o},Xh=function(e){var n=0,r=function(o){return(o?1:0)<<n++},i=0;return i+=r(e.incudeNodes),i+=r(e.includeEdges),i+=r(e.includeLabels),i+=r(e.includeMainLabels),i+=r(e.includeSourceLabels),i+=r(e.includeTargetLabels),i+=r(e.includeOverlays),i+=r(e.includeOutlines),i},Zh=function(e){if(e.isEdge()){var n=e.source().position(),r=e.target().position(),i=function(o){return Math.round(o)};return fy([i(n.x),i(n.y),i(r.x),i(r.y)])}else return 0},Cf=function(e,n){var r=e._private,i,a=e.isEdge(),o=n==null?Ef:Xh(n),s=o===Ef,l=Zh(e),u=r.bbCachePosKey===l,c=n.useCache&&u,d=function(y){return y._private.bbCache==null||y._private.styleDirty},p=!c||d(e)||a&&(d(e.source())||d(e.target()));if(p?(u||e.recalculateRenderedStyle(c),i=T1(e,oo),r.bbCache=i,r.bbCachePosKey=l):i=r.bbCache,!s){var g=e.isNode();i=En(),(n.includeNodes&&g||n.includeEdges&&!g)&&(n.includeOverlays?ui(i,r.overlayBounds):ui(i,r.bodyBounds)),n.includeLabels&&(n.includeMainLabels&&(!a||n.includeSourceLabels&&n.includeTargetLabels)?ui(i,r.labelBounds.all):(n.includeMainLabels&&ui(i,r.labelBounds.mainRot),n.includeSourceLabels&&ui(i,r.labelBounds.sourceRot),n.includeTargetLabels&&ui(i,r.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},oo={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Ef=Xh(oo),Sf=rn(oo);Yr.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=oo:t=Sf(t),e=Cf(this[0],t);else{e=En(),t=t||oo;var n=Sf(t),r=this,i=r.cy(),a=i.styleEnabled();if(a)for(var o=0;o<r.length;o++){var s=r[o],l=s._private,u=Zh(s),c=l.bbCachePosKey===u,d=n.useCache&&c&&!l.styleDirty;s.recalculateRenderedStyle(d)}this.updateCompoundBounds(!t.useCache);for(var p=0;p<r.length;p++){var g=r[p];ui(e,Cf(g,n))}}return e.x1=Rn(e.x1),e.y1=Rn(e.y1),e.x2=Rn(e.x2),e.y2=Rn(e.y2),e.w=Rn(e.x2-e.x1),e.h=Rn(e.y2-e.y1),e};Yr.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Yr.boundingBoxAt=function(t){var e=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),i=n.collection();if(r&&(i=e.filter(function(u){return u.isParent()}),e=e.not(i)),pt(t)){var a=t;t=function(){return a}}var o=function(c,d){return c._private.bbAtOldPos=t(c,d)},s=function(c){return c._private.bbAtOldPos};n.startBatch(),e.forEach(o).silentPositions(t),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=Vy(this.boundingBox({useCache:!1}));return e.silentPositions(s),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),n.endBatch(),l};Ki.boundingbox=Ki.bb=Ki.boundingBox;Ki.renderedBoundingbox=Ki.renderedBoundingBox;var k1=Yr,Ha,bo;Ha=bo={};var Qh=function(e){e.uppercaseName=jc(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=jc(e.outerName),Ha[e.name]=function(){var r=this[0],i=r._private,a=i.cy,o=a._private.styleEnabled;if(r)if(o){if(r.isParent())return r.updateCompoundBounds(),i[e.autoName]||0;var s=r.pstyle(e.name);switch(s.strValue){case"label":return r.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},Ha["outer"+e.uppercaseName]=function(){var r=this[0],i=r._private,a=i.cy,o=a._private.styleEnabled;if(r)if(o){var s=r[e.name](),l=r.pstyle("border-width").pfValue,u=2*r.padding();return s+l+u}else return 1},Ha["rendered"+e.uppercaseName]=function(){var r=this[0];if(r){var i=r[e.name]();return i*this.cy().zoom()}},Ha["rendered"+e.uppercaseOuterName]=function(){var r=this[0];if(r){var i=r[e.outerName]();return i*this.cy().zoom()}}};Qh({name:"width"});Qh({name:"height"});bo.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};bo.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};bo.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var _1=bo,M1=function(e,n){if(e.isEdge())return n(e)},A1=function(e,n){if(e.isEdge()){var r=e.cy();return Ys(n(e),r.zoom(),r.pan())}},I1=function(e,n){if(e.isEdge()){var r=e.cy(),i=r.pan(),a=r.zoom();return n(e).map(function(o){return Ys(o,a,i)})}},D1=function(e){return e.renderer().getControlPoints(e)},P1=function(e){return e.renderer().getSegmentPoints(e)},L1=function(e){return e.renderer().getSourceEndpoint(e)},O1=function(e){return e.renderer().getTargetEndpoint(e)},N1=function(e){return e.renderer().getEdgeMidpoint(e)},Tf={controlPoints:{get:D1,mult:!0},segmentPoints:{get:P1,mult:!0},sourceEndpoint:{get:L1},targetEndpoint:{get:O1},midpoint:{get:N1}},B1=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},R1=Object.keys(Tf).reduce(function(t,e){var n=Tf[e],r=B1(e);return t[e]=function(){return M1(this,n.get)},n.mult?t[r]=function(){return I1(this,n.get)}:t[r]=function(){return A1(this,n.get)},t},{}),z1=et({},E1,k1,_1,R1);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Jh=function(e,n){this.recycle(e,n)};function Pa(){return!1}function Yo(){return!0}Jh.prototype={instanceString:function(){return"event"},recycle:function(e,n){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Pa,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Yo:Pa):e!=null&&e.type?n=e:this.type=e,n!=null&&(this.originalEvent=n.originalEvent,this.type=n.type!=null?n.type:this.type,this.cy=n.cy,this.target=n.target,this.position=n.position,this.renderedPosition=n.renderedPosition,this.namespace=n.namespace,this.layout=n.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:r.x*i+a.x,y:r.y*i+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Yo;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Yo;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Yo,this.stopPropagation()},isDefaultPrevented:Pa,isPropagationStopped:Pa,isImmediatePropagationStopped:Pa};var ev=/^([^.]+)(\.(?:[^.]+))?$/,F1=".*",tv={qualifierCompare:function(e,n){return e===n},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},kf=Object.keys(tv),$1={};function tl(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$1,e=arguments.length>1?arguments[1]:void 0,n=0;n<kf.length;n++){var r=kf[n];this[r]=t[r]||tv[r]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Kr=tl.prototype,nv=function(e,n,r,i,a,o,s){Nt(i)&&(a=i,i=null),s&&(o==null?o=s:o=et({},o,s));for(var l=Tt(r)?r:r.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!Wr(c)){var d=c.match(ev);if(d){var p=d[1],g=d[2]?d[2]:null,h=n(e,c,p,g,i,a,o);if(h===!1)break}}}},_f=function(e,n){return e.addEventFields(e.context,n),new Jh(n.type,n)},H1=function(e,n,r){if(sm(r)){n(e,r);return}else if(pt(r)){n(e,_f(e,r));return}for(var i=Tt(r)?r:r.split(/\s+/),a=0;a<i.length;a++){var o=i[a];if(!Wr(o)){var s=o.match(ev);if(s){var l=s[1],u=s[2]?s[2]:null,c=_f(e,{type:l,namespace:u,target:e.context});n(e,c)}}}};Kr.on=Kr.addListener=function(t,e,n,r,i){return nv(this,function(a,o,s,l,u,c,d){Nt(c)&&a.listeners.push({event:o,callback:c,type:s,namespace:l,qualifier:u,conf:d})},t,e,n,r,i),this};Kr.one=function(t,e,n,r){return this.on(t,e,n,r,{one:!0})};Kr.removeListener=Kr.off=function(t,e,n,r){var i=this;this.emitting!==0&&(this.listeners=gy(this.listeners));for(var a=this.listeners,o=function(u){var c=a[u];nv(i,function(d,p,g,h,y,w){if((c.type===g||t==="*")&&(!h&&c.namespace!==".*"||c.namespace===h)&&(!y||d.qualifierCompare(c.qualifier,y))&&(!w||c.callback===w))return a.splice(u,1),!1},t,e,n,r)},s=a.length-1;s>=0;s--)o(s);return this};Kr.removeAllListeners=function(){return this.removeListener("*")};Kr.emit=Kr.trigger=function(t,e,n){var r=this.listeners,i=r.length;return this.emitting++,Tt(e)||(e=[e]),H1(this,function(a,o){n!=null&&(r=[{event:o.event,type:o.type,namespace:o.namespace,callback:n}],i=r.length);for(var s=function(c){var d=r[c];if(d.type===o.type&&(!d.namespace||d.namespace===o.namespace||d.namespace===F1)&&a.eventMatches(a.context,d,o)){var p=[o];e!=null&&yy(p,e),a.beforeEmit(a.context,d,o),d.conf&&d.conf.one&&(a.listeners=a.listeners.filter(function(y){return y!==d}));var g=a.callbackContext(a.context,d,o),h=d.callback.apply(g,p);a.afterEmit(a.context,d,o),h===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<i;l++)s(l);a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,e)},t),this.emitting--,this};var q1={qualifierCompare:function(e,n){return e==null||n==null?e==null&&n==null:e.sameText(n)},eventMatches:function(e,n,r){var i=n.qualifier;return i!=null?e!==r.target&&go(r.target)&&i.matches(r.target):!0},addEventFields:function(e,n){n.cy=e.cy(),n.target=e},callbackContext:function(e,n,r){return n.qualifier!=null?r.target:e},beforeEmit:function(e,n){n.conf&&n.conf.once&&n.conf.onceCollection.removeListener(n.event,n.qualifier,n.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Xo=function(e){return Ze(e)?new jr(e):e},rv={createEmitter:function(){for(var e=0;e<this.length;e++){var n=this[e],r=n._private;r.emitter||(r.emitter=new tl(q1,n))}return this},emitter:function(){return this._private.emitter},on:function(e,n,r){for(var i=Xo(n),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,i,r)}return this},removeListener:function(e,n,r){for(var i=Xo(n),a=0;a<this.length;a++){var o=this[a];o.emitter().removeListener(e,i,r)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var n=this[e];n.emitter().removeAllListeners()}return this},one:function(e,n,r){for(var i=Xo(n),a=0;a<this.length;a++){var o=this[a];o.emitter().one(e,i,r)}return this},once:function(e,n,r){for(var i=Xo(n),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,i,r,{once:!0,onceCollection:this})}},emit:function(e,n){for(var r=0;r<this.length;r++){var i=this[r];i.emitter().emit(e,n)}return this},emitAndNotify:function(e,n){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,n),this}};wt.eventAliasesOn(rv);var iv={nodes:function(e){return this.filter(function(n){return n.isNode()}).filter(e)},edges:function(e){return this.filter(function(n){return n.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),n=this.spawn(),r=0;r<this.length;r++){var i=this[r];i.isNode()?e.push(i):n.push(i)}return{nodes:e,edges:n}},filter:function(e,n){if(e===void 0)return this;if(Ze(e)||An(e))return new jr(e).filter(this);if(Nt(e)){for(var r=this.spawn(),i=this,a=0;a<i.length;a++){var o=i[a],s=n?e.apply(n,[o,a,i]):e(o,a,i);s&&r.push(o)}return r}return this.spawn()},not:function(e){if(e){Ze(e)&&(e=this.filter(e));for(var n=this.spawn(),r=0;r<this.length;r++){var i=this[r],a=e.has(i);a||n.push(i)}return n}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Ze(e)){var n=e;return this.filter(n)}for(var r=this.spawn(),i=this,a=e,o=this.length<e.length,s=o?i:a,l=o?a:i,u=0;u<s.length;u++){var c=s[u];l.has(c)&&r.push(c)}return r},xor:function(e){var n=this._private.cy;Ze(e)&&(e=n.$(e));var r=this.spawn(),i=this,a=e,o=function(l,u){for(var c=0;c<l.length;c++){var d=l[c],p=d._private.data.id,g=u.hasElementWithId(p);g||r.push(d)}};return o(i,a),o(a,i),r},diff:function(e){var n=this._private.cy;Ze(e)&&(e=n.$(e));var r=this.spawn(),i=this.spawn(),a=this.spawn(),o=this,s=e,l=function(c,d,p){for(var g=0;g<c.length;g++){var h=c[g],y=h._private.data.id,w=d.hasElementWithId(y);w?a.merge(h):p.push(h)}};return l(o,s,r),l(s,o,i),{left:r,right:i,both:a}},add:function(e){var n=this._private.cy;if(!e)return this;if(Ze(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=this.spawnSelf(),a=0;a<e.length;a++){var o=e[a],s=!this.has(o);s&&i.push(o)}return i},merge:function(e){var n=this._private,r=n.cy;if(!e)return this;if(e&&Ze(e)){var i=e;e=r.mutableElements().filter(i)}for(var a=n.map,o=0;o<e.length;o++){var s=e[o],l=s._private.data.id,u=!a.has(l);if(u){var c=this.length++;this[c]=s,a.set(l,{ele:s,index:c})}}return this},unmergeAt:function(e){var n=this[e],r=n.id(),i=this._private,a=i.map;this[e]=void 0,a.delete(r);var o=e===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[e]=l,a.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var n=this._private,r=e._private.data.id,i=n.map,a=i.get(r);if(!a)return this;var o=a.index;return this.unmergeAt(o),this},unmerge:function(e){var n=this._private.cy;if(!e)return this;if(e&&Ze(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var n=this.length-1;n>=0;n--){var r=this[n];e(r)&&this.unmergeAt(n)}return this},map:function(e,n){for(var r=[],i=this,a=0;a<i.length;a++){var o=i[a],s=n?e.apply(n,[o,a,i]):e(o,a,i);r.push(s)}return r},reduce:function(e,n){for(var r=n,i=this,a=0;a<i.length;a++)r=e(r,i[a],a,i);return r},max:function(e,n){for(var r=-1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],l=n?e.apply(n,[s,o,a]):e(s,o,a);l>r&&(r=l,i=s)}return{value:r,ele:i}},min:function(e,n){for(var r=1/0,i,a=this,o=0;o<a.length;o++){var s=a[o],l=n?e.apply(n,[s,o,a]):e(s,o,a);l<r&&(r=l,i=s)}return{value:r,ele:i}}},bt=iv;bt.u=bt["|"]=bt["+"]=bt.union=bt.or=bt.add;bt["\\"]=bt["!"]=bt["-"]=bt.difference=bt.relativeComplement=bt.subtract=bt.not;bt.n=bt["&"]=bt["."]=bt.and=bt.intersection=bt.intersect;bt["^"]=bt["(+)"]=bt["(-)"]=bt.symmetricDifference=bt.symdiff=bt.xor;bt.fnFilter=bt.filterFn=bt.stdFilter=bt.filter;bt.complement=bt.abscomp=bt.absoluteComplement;var V1={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},av=function(e,n){var r=e.cy(),i=r.hasCompoundNodes();function a(c){var d=c.pstyle("z-compound-depth");return d.value==="auto"?i?c.zDepth():0:d.value==="bottom"?-1:d.value==="top"?$u:0}var o=a(e)-a(n);if(o!==0)return o;function s(c){var d=c.pstyle("z-index-compare");return d.value==="auto"&&c.isNode()?1:0}var l=s(e)-s(n);if(l!==0)return l;var u=e.pstyle("z-index").value-n.pstyle("z-index").value;return u!==0?u:e.poolIndex()-n.poolIndex()},Is={forEach:function(e,n){if(Nt(e))for(var r=this.length,i=0;i<r;i++){var a=this[i],o=n?e.apply(n,[a,i,this]):e(a,i,this);if(o===!1)break}return this},toArray:function(){for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e},slice:function(e,n){var r=[],i=this.length;n==null&&(n=i),e==null&&(e=0),e<0&&(e=i+e),n<0&&(n=i+n);for(var a=e;a>=0&&a<n&&a<i;a++)r.push(this[a]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Nt(e))return this;var n=this.toArray().sort(e);return this.spawn(n)},sortByZIndex:function(){return this.sort(av)},zDepth:function(){var e=this[0];if(e){var n=e._private,r=n.group;if(r==="nodes"){var i=n.data.parent?e.parents().size():0;return e.isParent()?i:$u-1}else{var a=n.source,o=n.target,s=a.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};Is.each=Is.forEach;var W1=function(){var e="undefined",n=(typeof Symbol>"u"?"undefined":Gt(Symbol))!=e&&Gt(Symbol.iterator)!=e;n&&(Is[Symbol.iterator]=function(){var r=this,i={value:void 0,done:!1},a=0,o=this.length;return th({next:function(){return a<o?i.value=r[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};W1();var U1=rn({nodeDimensionsIncludeLabels:!1}),ds={layoutDimensions:function(e){e=U1(e);var n;if(!this.takesUpSpace())n={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();n={w:r.w,h:r.h}}else n={w:this.outerWidth(),h:this.outerHeight()};return(n.w===0||n.h===0)&&(n.w=n.h=1),n},layoutPositions:function(e,n,r){var i=this.nodes().filter(function(_){return!_.isParent()}),a=this.cy(),o=n.eles,s=function(k){return k.id()},l=Qa(r,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(k,v,D){var I={x:v.x1+v.w/2,y:v.y1+v.h/2},B={x:(D.x-I.x)*k,y:(D.y-I.y)*k};return{x:I.x+B.x,y:I.y+B.y}},c=n.spacingFactor&&n.spacingFactor!==1,d=function(){if(!c)return null;for(var k=En(),v=0;v<i.length;v++){var D=i[v],I=l(D,v);jy(k,I.x,I.y)}return k},p=d(),g=Qa(function(_,k){var v=l(_,k);if(c){var D=Math.abs(n.spacingFactor);v=u(D,p,v)}return n.transform!=null&&(v=n.transform(_,v)),v},s);if(n.animate){for(var h=0;h<i.length;h++){var y=i[h],w=g(y,h),b=n.animateFilter==null||n.animateFilter(y,h);if(b){var E=y.animation({position:w,duration:n.animationDuration,easing:n.animationEasing});e.animations.push(E)}else y.position(w)}if(n.fit){var S=a.animation({fit:{boundingBox:o.boundingBoxAt(g),padding:n.padding},duration:n.animationDuration,easing:n.animationEasing});e.animations.push(S)}else if(n.zoom!==void 0&&n.pan!==void 0){var x=a.animation({zoom:n.zoom,pan:n.pan,duration:n.animationDuration,easing:n.animationEasing});e.animations.push(x)}e.animations.forEach(function(_){return _.play()}),e.one("layoutready",n.ready),e.emit({type:"layoutready",layout:e}),sa.all(e.animations.map(function(_){return _.promise()})).then(function(){e.one("layoutstop",n.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(g),n.fit&&a.fit(n.eles,n.padding),n.zoom!=null&&a.zoom(n.zoom),n.pan&&a.pan(n.pan),e.one("layoutready",n.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",n.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var n=this.cy();return n.makeLayout(et({},e,{eles:this}))}};ds.createLayout=ds.makeLayout=ds.layout;function ov(t,e,n){var r=n._private,i=r.styleCache=r.styleCache||[],a;return(a=i[t])!=null||(a=i[t]=e(n)),a}function nl(t,e){return t=yi(t),function(r){return ov(t,e,r)}}function rl(t,e){t=yi(t);var n=function(i){return e.call(i)};return function(){var i=this[0];if(i)return ov(t,n,i)}}var tn={recalculateRenderedStyle:function(e){var n=this.cy(),r=n.renderer(),i=n.styleEnabled();return r&&i&&r.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),n=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(n)}else this.forEach(function(i){n(i),i.connectedEdges().forEach(n)});return this},updateStyle:function(e){var n=this._private.cy;if(!n.styleEnabled())return this;if(n.batching()){var r=n._private.batchStyleEles;return r.merge(this),this}var i=n.hasCompoundNodes(),a=this;e=!!(e||e===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=a;return e?o.emitAndNotify("style"):o.emit("style"),a.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var n=0;n<this.length;n++){var r=this[n];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},parsedStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],i=r.cy();if(i.styleEnabled()&&r){this.cleanStyle();var a=r._private.style[e];return a??(n?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var n=this[0];if(n.cy().styleEnabled()&&n){var r=n.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},numericStyleUnits:function(e){var n=this[0];if(n.cy().styleEnabled()&&n)return n.pstyle(e).units},renderedStyle:function(e){var n=this.cy();if(!n.styleEnabled())return this;var r=this[0];if(r)return n.style().getRenderedStyle(r,e)},style:function(e,n){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,a=r.style();if(pt(e)){var o=e;a.applyBypass(this,o,i),this.emitAndNotify("style")}else if(Ze(e))if(n===void 0){var s=this[0];return s?a.getStylePropertyValue(s,e):void 0}else a.applyBypass(this,e,n,i),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(e){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,i=n.style(),a=this;if(e===void 0)for(var o=0;o<a.length;o++){var s=a[o];i.removeAllBypasses(s,r)}else{e=e.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,e,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var n=e.hasCompoundNodes(),r=this[0];if(r){var i=r._private,a=r.pstyle("opacity").value;if(!n)return a;var o=i.data.parent?r.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var n=this[0],r=n.cy().hasCompoundNodes();if(n)return r?n.effectiveOpacity()===0:n.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var n=this[0];return!!n._private.backgrounding}};function zl(t,e){var n=t._private,r=n.data.parent?t.parents():null;if(r)for(var i=0;i<r.length;i++){var a=r[i];if(!e(a))return!1}return!0}function Qu(t){var e=t.ok,n=t.edgeOkViaNode||t.ok,r=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],o=i.hasCompoundNodes();if(a){var s=a._private;if(!e(a))return!1;if(a.isNode())return!o||zl(a,r);var l=s.source,u=s.target;return n(l)&&(!o||zl(l,n))&&(l===u||n(u)&&(!o||zl(u,n)))}}}var fa=nl("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});tn.takesUpSpace=rl("takesUpSpace",Qu({ok:fa}));var j1=nl("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&fa(t)}),G1=nl("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&fa(t)});tn.interactive=rl("interactive",Qu({ok:j1,parentOk:G1,edgeOkViaNode:fa}));tn.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var K1=nl("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&fa(t)}),Y1=fa;tn.visible=rl("visible",Qu({ok:K1,edgeOkViaNode:Y1}));tn.hidden=function(){var t=this[0];if(t)return!t.visible()};tn.isBundledBezier=rl("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});tn.bypass=tn.css=tn.style;tn.renderedCss=tn.renderedStyle;tn.removeBypass=tn.removeCss=tn.removeStyle;tn.pstyle=tn.parsedStyle;var Hr={};function Mf(t){return function(){var e=arguments,n=[];if(e.length===2){var r=e[0],i=e[1];this.on(t.event,r,i)}else if(e.length===1&&Nt(e[0])){var a=e[0];this.on(t.event,a)}else if(e.length===0||e.length===1&&Tt(e[0])){for(var o=e.length===1?e[0]:null,s=0;s<this.length;s++){var l=this[s],u=!t.ableField||l._private[t.ableField],c=l._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(l);if(d!==void 0&&(u=d,!d))return this}u&&(l._private[t.field]=t.value,c&&n.push(l))}var p=this.spawn(n);p.updateStyle(),p.emit(t.event),o&&p.emit(o)}return this}}function da(t){Hr[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var n=t.overrideField(e);if(n!==void 0)return n}return e._private[t.field]}},Hr[t.on]=Mf({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Hr[t.off]=Mf({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}da({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});da({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});da({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});da({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Hr.deselect=Hr.unselect;Hr.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};da({field:"active",on:"activate",off:"unactivate"});da({field:"pannable",on:"panify",off:"unpanify"});Hr.inactive=function(){var t=this[0];if(t)return!t._private.active};var cn={},Af=function(e){return function(r){for(var i=this,a=[],o=0;o<i.length;o++){var s=i[o];if(s.isNode()){for(var l=!1,u=s.connectedEdges(),c=0;c<u.length;c++){var d=u[c],p=d.source(),g=d.target();if(e.noIncomingEdges&&g===s&&p!==s||e.noOutgoingEdges&&p===s&&g!==s){l=!0;break}}l||a.push(s)}}return this.spawn(a,!0).filter(r)}},If=function(e){return function(n){for(var r=this,i=[],a=0;a<r.length;a++){var o=r[a];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.source(),d=u.target();e.outgoing&&c===o?(i.push(u),i.push(d)):e.incoming&&d===o&&(i.push(u),i.push(c))}}return this.spawn(i,!0).filter(n)}},Df=function(e){return function(n){for(var r=this,i=[],a={};;){var o=e.outgoing?r.outgoers():r.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var u=o[l],c=u.id();a[c]||(a[c]=!0,i.push(u),s=!0)}if(!s)break;r=o}return this.spawn(i,!0).filter(n)}};cn.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};et(cn,{roots:Af({noIncomingEdges:!0}),leaves:Af({noOutgoingEdges:!0}),outgoers:zn(If({outgoing:!0}),"outgoers"),successors:Df({outgoing:!0}),incomers:zn(If({incoming:!0}),"incomers"),predecessors:Df({incoming:!0})});et(cn,{neighborhood:zn(function(t){for(var e=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});cn.neighbourhood=cn.neighborhood;cn.closedNeighbourhood=cn.closedNeighborhood;cn.openNeighbourhood=cn.openNeighborhood;et(cn,{source:zn(function(e){var n=this[0],r;return n&&(r=n._private.source||n.cy().collection()),r&&e?r.filter(e):r},"source"),target:zn(function(e){var n=this[0],r;return n&&(r=n._private.target||n.cy().collection()),r&&e?r.filter(e):r},"target"),sources:Pf({attr:"source"}),targets:Pf({attr:"target"})});function Pf(t){return function(n){for(var r=[],i=0;i<this.length;i++){var a=this[i],o=a._private[t.attr];o&&r.push(o)}return this.spawn(r,!0).filter(n)}}et(cn,{edgesWith:zn(Lf(),"edgesWith"),edgesTo:zn(Lf({thisIsSrc:!0}),"edgesTo")});function Lf(t){return function(n){var r=[],i=this._private.cy,a=t||{};Ze(n)&&(n=i.$(n));for(var o=0;o<n.length;o++)for(var s=n[o]._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data,d=this.hasElementWithId(c.source)&&n.hasElementWithId(c.target),p=n.hasElementWithId(c.source)&&this.hasElementWithId(c.target),g=d||p;g&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!d||a.thisIsTgt&&!p)||r.push(u))}return this.spawn(r,!0)}}et(cn,{connectedEdges:zn(function(t){for(var e=[],n=this,r=0;r<n.length;r++){var i=n[r];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var s=a[o];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:zn(function(t){for(var e=[],n=this,r=0;r<n.length;r++){var i=n[r];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:zn(Of(),"parallelEdges"),codirectedEdges:zn(Of({codirected:!0}),"codirectedEdges")});function Of(t){var e={codirected:!1};return t=et({},e,t),function(r){for(var i=[],a=this.edges(),o=t,s=0;s<a.length;s++)for(var l=a[s],u=l._private,c=u.source,d=c._private.data.id,p=u.data.target,g=c._private.edges,h=0;h<g.length;h++){var y=g[h],w=y._private.data,b=w.target,E=w.source,S=b===p&&E===d,x=d===b&&p===E;(o.codirected&&S||!o.codirected&&(S||x))&&i.push(y)}return this.spawn(i,!0).filter(r)}}et(cn,{components:function(e){var n=this,r=n.cy(),i=r.collection(),a=e==null?n.nodes():e.nodes(),o=[];e!=null&&a.empty()&&(a=e.sources());var s=function(c,d){i.merge(c),a.unmerge(c),d.merge(c)};if(a.empty())return n.spawn();var l=function(){var c=r.collection();o.push(c);var d=a[0];s(d,c),n.bfs({directed:!1,roots:d,visit:function(g){return s(g,c)}}),c.forEach(function(p){p.connectedEdges().forEach(function(g){n.has(g)&&c.has(g.source())&&c.has(g.target())&&c.merge(g)})})};do l();while(a.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});cn.componentsOf=cn.components;var nn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Rt("A collection must have a reference to the core");return}var a=new lr,o=!1;if(!n)n=[];else if(n.length>0&&pt(n[0])&&!go(n[0])){o=!0;for(var s=[],l=new oa,u=0,c=n.length;u<c;u++){var d=n[u];d.data==null&&(d.data={});var p=d.data;if(p.id==null)p.id=bh();else if(e.hasElementWithId(p.id)||l.has(p.id))continue;var g=new Ks(e,d,!1);s.push(g),l.add(p.id)}n=s}this.length=0;for(var h=0,y=n.length;h<y;h++){var w=n[h][0];if(w!=null){var b=w._private.data.id;(!r||!a.has(b))&&(r&&a.set(b,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(E){this.lazyMap=E},rebuildMap:function(){for(var S=this.lazyMap=new lr,x=this.eles,_=0;_<x.length;_++){var k=x[_];S.set(k.id(),{index:_,ele:k})}}},r&&(this._private.map=a),o&&!i&&this.restore()},Mt=Ks.prototype=nn.prototype=Object.create(Array.prototype);Mt.instanceString=function(){return"collection"};Mt.spawn=function(t,e){return new nn(this.cy(),t,e)};Mt.spawnSelf=function(){return this.spawn(this)};Mt.cy=function(){return this._private.cy};Mt.renderer=function(){return this._private.cy.renderer()};Mt.element=function(){return this[0]};Mt.collection=function(){return ah(this)?this:new nn(this._private.cy,[this])};Mt.unique=function(){return new nn(this._private.cy,this,!0)};Mt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Mt.getElementById=function(t){t=""+t;var e=this._private.cy,n=this._private.map.get(t);return n?n.ele:new nn(e)};Mt.$id=Mt.getElementById;Mt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,n=this[0]._private.data.id;return e._private.map.get(n).index};Mt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Mt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Mt.json=function(t){var e=this.element(),n=this.cy();if(e==null&&t)return this;if(e!=null){var r=e._private;if(pt(t)){if(n.startBatch(),t.data){e.data(t.data);var i=r.data;if(e.isEdge()){var a=!1,o={},s=t.data.source,l=t.data.target;s!=null&&s!=i.source&&(o.source=""+s,a=!0),l!=null&&l!=i.target&&(o.target=""+l,a=!0),a&&(e=e.move(o))}else{var u="parent"in t.data,c=t.data.parent;u&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var d=function(y,w,b){var E=t[y];E!=null&&E!==r[y]&&(E?e[w]():e[b]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),n.endBatch(),this}else if(t===void 0){var p={data:sr(r.data),position:sr(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};p.classes="";var g=0;return r.classes.forEach(function(h){return p.classes+=g++===0?h:" "+h}),p}}};Mt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e],r=n.json();t.push(r)}return t};Mt.clone=function(){for(var t=this.cy(),e=[],n=0;n<this.length;n++){var r=this[n],i=r.json(),a=new Ks(t,i,!1);e.push(a)}return new nn(t,e)};Mt.copy=Mt.clone;Mt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=n.cy(),i=r._private,a=[],o=[],s,l=0,u=n.length;l<u;l++){var c=n[l];e&&!c.removed()||(c.isNode()?a.push(c):o.push(c))}s=a.concat(o);var d,p=function(){s.splice(d,1),d--};for(d=0;d<s.length;d++){var g=s[d],h=g._private,y=h.data;if(g.clearTraversalCache(),!(!e&&!h.removed)){if(y.id===void 0)y.id=bh();else if(ze(y.id))y.id=""+y.id;else if(Wr(y.id)||!Ze(y.id)){Rt("Can not create element with invalid string ID `"+y.id+"`"),p();continue}else if(r.hasElementWithId(y.id)){Rt("Can not create second element with ID `"+y.id+"`"),p();continue}}var w=y.id;if(g.isNode()){var b=h.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(g.isEdge()){for(var E=g,S=["source","target"],x=S.length,_=!1,k=0;k<x;k++){var v=S[k],D=y[v];ze(D)&&(D=y[v]=""+y[v]),D==null||D===""?(Rt("Can not create edge `"+w+"` with unspecified "+v),_=!0):r.hasElementWithId(D)||(Rt("Can not create edge `"+w+"` with nonexistant "+v+" `"+D+"`"),_=!0)}if(_){p();continue}var I=r.getElementById(y.source),B=r.getElementById(y.target);I.same(B)?I._private.edges.push(E):(I._private.edges.push(E),B._private.edges.push(E)),E._private.source=I,E._private.target=B}h.map=new lr,h.map.set(w,{ele:g,index:0}),h.removed=!1,e&&r.addToPool(g)}for(var P=0;P<a.length;P++){var L=a[P],R=L._private.data;ze(R.parent)&&(R.parent=""+R.parent);var O=R.parent,F=O!=null;if(F||L._private.parent){var $=L._private.parent?r.collection().merge(L._private.parent):r.getElementById(O);if($.empty())R.parent=void 0;else if($[0].removed())xt("Node added with missing parent, reference to parent removed"),R.parent=void 0,L._private.parent=null;else{for(var W=!1,Y=$;!Y.empty();){if(L.same(Y)){W=!0,R.parent=void 0;break}Y=Y.parent()}W||($[0]._private.children.push(L),L._private.parent=$[0],i.hasCompoundNodes=!0)}}}if(s.length>0){for(var ie=s.length===n.length?n:new nn(r,s),oe=0;oe<ie.length;oe++){var Q=ie[oe];Q.isNode()||(Q.parallelEdges().clearTraversalCache(),Q.source().clearTraversalCache(),Q.target().clearTraversalCache())}var H;i.hasCompoundNodes?H=r.collection().merge(ie).merge(ie.connectedNodes()).merge(ie.parent()):H=ie,H.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?ie.emitAndNotify("add"):e&&ie.emit("add")}return n};Mt.removed=function(){var t=this[0];return t&&t._private.removed};Mt.inside=function(){var t=this[0];return t&&!t._private.removed};Mt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=[],i={},a=n._private.cy;function o(O){for(var F=O._private.edges,$=0;$<F.length;$++)l(F[$])}function s(O){for(var F=O._private.children,$=0;$<F.length;$++)l(F[$])}function l(O){var F=i[O.id()];e&&O.removed()||F||(i[O.id()]=!0,O.isNode()?(r.push(O),o(O),s(O)):r.unshift(O))}for(var u=0,c=n.length;u<c;u++){var d=n[u];l(d)}function p(O,F){var $=O._private.edges;Ur($,F),O.clearTraversalCache()}function g(O){O.clearTraversalCache()}var h=[];h.ids={};function y(O,F){F=F[0],O=O[0];var $=O._private.children,W=O.id();Ur($,F),F._private.parent=null,h.ids[W]||(h.ids[W]=!0,h.push(O))}n.dirtyCompoundBoundsCache(),e&&a.removeFromPool(r);for(var w=0;w<r.length;w++){var b=r[w];if(b.isEdge()){var E=b.source()[0],S=b.target()[0];p(E,b),p(S,b);for(var x=b.parallelEdges(),_=0;_<x.length;_++){var k=x[_];g(k),k.isBundledBezier()&&k.dirtyBoundingBoxCache()}}else{var v=b.parent();v.length!==0&&y(v,b)}e&&(b._private.removed=!0)}var D=a._private.elements;a._private.hasCompoundNodes=!1;for(var I=0;I<D.length;I++){var B=D[I];if(B.isParent()){a._private.hasCompoundNodes=!0;break}}var P=new nn(this.cy(),r);P.size()>0&&(t?P.emitAndNotify("remove"):e&&P.emit("remove"));for(var L=0;L<h.length;L++){var R=h[L];(!e||!R.removed())&&R.updateStyle()}return P};Mt.move=function(t){var e=this._private.cy,n=this,r=!1,i=!1,a=function(h){return h==null?h:""+h};if(t.source!==void 0||t.target!==void 0){var o=a(t.source),s=a(t.target),l=o!=null&&e.hasElementWithId(o),u=s!=null&&e.hasElementWithId(s);(l||u)&&(e.batch(function(){n.remove(r,i),n.emitAndNotify("moveout");for(var g=0;g<n.length;g++){var h=n[g],y=h._private.data;h.isEdge()&&(l&&(y.source=o),u&&(y.target=s))}n.restore(r,i)}),n.emitAndNotify("move"))}else if(t.parent!==void 0){var c=a(t.parent),d=c===null||e.hasElementWithId(c);if(d){var p=c===null?void 0:c;e.batch(function(){var g=n.remove(r,i);g.emitAndNotify("moveout");for(var h=0;h<n.length;h++){var y=n[h],w=y._private.data;y.isNode()&&(w.parent=p)}g.restore(r,i)}),n.emitAndNotify("move")}}return this};[Ph,o1,fs,$r,Qi,C1,el,z1,rv,iv,V1,Is,ds,tn,Hr,cn].forEach(function(t){et(Mt,t)});var X1={add:function(e){var n,r=this;if(An(e)){var i=e;if(i._private.cy===r)n=i.restore();else{for(var a=[],o=0;o<i.length;o++){var s=i[o];a.push(s.json())}n=new nn(r,a)}}else if(Tt(e)){var l=e;n=new nn(r,l)}else if(pt(e)&&(Tt(e.nodes)||Tt(e.edges))){for(var u=e,c=[],d=["nodes","edges"],p=0,g=d.length;p<g;p++){var h=d[p],y=u[h];if(Tt(y))for(var w=0,b=y.length;w<b;w++){var E=et({group:h},y[w]);c.push(E)}}n=new nn(r,c)}else{var S=e;n=new Ks(r,S).collection()}return n},remove:function(e){if(!An(e)){if(Ze(e)){var n=e;e=this.$(n)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function Z1(t,e,n,r){var i=4,a=.001,o=1e-7,s=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var p=c?new Float32Array(l):new Array(l);function g(B,P){return 1-3*P+3*B}function h(B,P){return 3*P-6*B}function y(B){return 3*B}function w(B,P,L){return((g(P,L)*B+h(P,L))*B+y(P))*B}function b(B,P,L){return 3*g(P,L)*B*B+2*h(P,L)*B+y(P)}function E(B,P){for(var L=0;L<i;++L){var R=b(P,t,n);if(R===0)return P;var O=w(P,t,n)-B;P-=O/R}return P}function S(){for(var B=0;B<l;++B)p[B]=w(B*u,t,n)}function x(B,P,L){var R,O,F=0;do O=P+(L-P)/2,R=w(O,t,n)-B,R>0?L=O:P=O;while(Math.abs(R)>o&&++F<s);return O}function _(B){for(var P=0,L=1,R=l-1;L!==R&&p[L]<=B;++L)P+=u;--L;var O=(B-p[L])/(p[L+1]-p[L]),F=P+O*u,$=b(F,t,n);return $>=a?E(B,F):$===0?F:x(B,P,P+u)}var k=!1;function v(){k=!0,(t!==e||n!==r)&&S()}var D=function(P){return k||v(),t===e&&n===r?P:P===0?0:P===1?1:w(_(P),e,r)};D.getControlPoints=function(){return[{x:t,y:e},{x:n,y:r}]};var I="generateBezier("+[t,e,n,r]+")";return D.toString=function(){return I},D}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var Q1=function(){function t(r){return-r.tension*r.x-r.friction*r.v}function e(r,i,a){var o={x:r.x+a.dx*i,v:r.v+a.dv*i,tension:r.tension,friction:r.friction};return{dx:o.v,dv:t(o)}}function n(r,i){var a={dx:r.v,dv:t(r)},o=e(r,i*.5,a),s=e(r,i*.5,o),l=e(r,i,s),u=1/6*(a.dx+2*(o.dx+s.dx)+l.dx),c=1/6*(a.dv+2*(o.dv+s.dv)+l.dv);return r.x=r.x+u*i,r.v=r.v+c*i,r}return function r(i,a,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,d=16/1e3,p,g,h;for(i=parseFloat(i)||500,a=parseFloat(a)||20,o=o||null,s.tension=i,s.friction=a,p=o!==null,p?(u=r(i,a),g=u/o*d):g=d;h=n(h||s,g),l.push(1+h.x),u+=16,Math.abs(h.x)>c&&Math.abs(h.v)>c;);return p?function(y){return l[y*(l.length-1)|0]}:u}}(),_t=function(e,n,r,i){var a=Z1(e,n,r,i);return function(o,s,l){return o+(s-o)*a(l)}},hs={linear:function(e,n,r){return e+(n-e)*r},ease:_t(.25,.1,.25,1),"ease-in":_t(.42,0,1,1),"ease-out":_t(0,0,.58,1),"ease-in-out":_t(.42,0,.58,1),"ease-in-sine":_t(.47,0,.745,.715),"ease-out-sine":_t(.39,.575,.565,1),"ease-in-out-sine":_t(.445,.05,.55,.95),"ease-in-quad":_t(.55,.085,.68,.53),"ease-out-quad":_t(.25,.46,.45,.94),"ease-in-out-quad":_t(.455,.03,.515,.955),"ease-in-cubic":_t(.55,.055,.675,.19),"ease-out-cubic":_t(.215,.61,.355,1),"ease-in-out-cubic":_t(.645,.045,.355,1),"ease-in-quart":_t(.895,.03,.685,.22),"ease-out-quart":_t(.165,.84,.44,1),"ease-in-out-quart":_t(.77,0,.175,1),"ease-in-quint":_t(.755,.05,.855,.06),"ease-out-quint":_t(.23,1,.32,1),"ease-in-out-quint":_t(.86,0,.07,1),"ease-in-expo":_t(.95,.05,.795,.035),"ease-out-expo":_t(.19,1,.22,1),"ease-in-out-expo":_t(1,0,0,1),"ease-in-circ":_t(.6,.04,.98,.335),"ease-out-circ":_t(.075,.82,.165,1),"ease-in-out-circ":_t(.785,.135,.15,.86),spring:function(e,n,r){if(r===0)return hs.linear;var i=Q1(e,n,r);return function(a,o,s){return a+(o-a)*i(s)}},"cubic-bezier":_t};function Nf(t,e,n,r,i){if(r===1||e===n)return n;var a=i(e,n,r);return t==null||((t.roundValue||t.color)&&(a=Math.round(a)),t.min!==void 0&&(a=Math.max(a,t.min)),t.max!==void 0&&(a=Math.min(a,t.max))),a}function Bf(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Ni(t,e,n,r,i){var a=i!=null?i.type:null;n<0?n=0:n>1&&(n=1);var o=Bf(t,i),s=Bf(e,i);if(ze(o)&&ze(s))return Nf(a,o,s,n,r);if(Tt(o)&&Tt(s)){for(var l=[],u=0;u<s.length;u++){var c=o[u],d=s[u];if(c!=null&&d!=null){var p=Nf(a,c,d,n,r);l.push(p)}else l.push(d)}return l}}function J1(t,e,n,r){var i=!r,a=t._private,o=e._private,s=o.easing,l=o.startTime,u=r?t:t.cy(),c=u.style();if(!o.easingImpl)if(s==null)o.easingImpl=hs.linear;else{var d;if(Ze(s)){var p=c.parse("transition-timing-function",s);d=p.value}else d=s;var g,h;Ze(d)?(g=d,h=[]):(g=d[1],h=d.slice(2).map(function(ie){return+ie})),h.length>0?(g==="spring"&&h.push(o.duration),o.easingImpl=hs[g].apply(null,h)):o.easingImpl=hs[g]}var y=o.easingImpl,w;if(o.duration===0?w=1:w=(n-l)/o.duration,o.applying&&(w=o.progress),w<0?w=0:w>1&&(w=1),o.delay==null){var b=o.startPosition,E=o.position;if(E&&i&&!t.locked()){var S={};La(b.x,E.x)&&(S.x=Ni(b.x,E.x,w,y)),La(b.y,E.y)&&(S.y=Ni(b.y,E.y,w,y)),t.position(S)}var x=o.startPan,_=o.pan,k=a.pan,v=_!=null&&r;v&&(La(x.x,_.x)&&(k.x=Ni(x.x,_.x,w,y)),La(x.y,_.y)&&(k.y=Ni(x.y,_.y,w,y)),t.emit("pan"));var D=o.startZoom,I=o.zoom,B=I!=null&&r;B&&(La(D,I)&&(a.zoom=no(a.minZoom,Ni(D,I,w,y),a.maxZoom)),t.emit("zoom")),(v||B)&&t.emit("viewport");var P=o.style;if(P&&P.length>0&&i){for(var L=0;L<P.length;L++){var R=P[L],O=R.name,F=R,$=o.startStyle[O],W=c.properties[$.name],Y=Ni($,F,w,y,W);c.overrideBypass(t,O,Y)}t.emit("style")}}return o.progress=w,w}function La(t,e){return t==null||e==null?!1:ze(t)&&ze(e)?!0:!!(t&&e)}function ex(t,e,n,r){var i=e._private;i.started=!0,i.startTime=n-i.progress*i.duration}function Rf(t,e){var n=e._private.aniEles,r=[];function i(c,d){var p=c._private,g=p.animation.current,h=p.animation.queue,y=!1;if(g.length===0){var w=h.shift();w&&g.push(w)}for(var b=function(k){for(var v=k.length-1;v>=0;v--){var D=k[v];D()}k.splice(0,k.length)},E=g.length-1;E>=0;E--){var S=g[E],x=S._private;if(x.stopped){g.splice(E,1),x.hooked=!1,x.playing=!1,x.started=!1,b(x.frames);continue}!x.playing&&!x.applying||(x.playing&&x.applying&&(x.applying=!1),x.started||ex(c,S,t),J1(c,S,t,d),x.applying&&(x.applying=!1),b(x.frames),x.step!=null&&x.step(t),S.completed()&&(g.splice(E,1),x.hooked=!1,x.playing=!1,x.started=!1,b(x.completes)),y=!0)}return!d&&g.length===0&&h.length===0&&r.push(c),y}for(var a=!1,o=0;o<n.length;o++){var s=n[o],l=i(s);a=a||l}var u=i(e,!0);(a||u)&&(n.length>0?e.notify("draw",n):e.notify("draw")),n.unmerge(r),e.emit("step")}var tx={animate:wt.animate(),animation:wt.animation(),animated:wt.animated(),clearQueue:wt.clearQueue(),delay:wt.delay(),delayAnimation:wt.delayAnimation(),stop:wt.stop(),addToAnimationPool:function(e){var n=this;n.styleEnabled()&&n._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function n(){e._private.animationsRunning&&Ts(function(a){Rf(a,e),n()})}var r=e.renderer();r&&r.beforeRender?r.beforeRender(function(a,o){Rf(o,e)},r.beforeRenderPriorities.animations):n()}},nx={qualifierCompare:function(e,n){return e==null||n==null?e==null&&n==null:e.sameText(n)},eventMatches:function(e,n,r){var i=n.qualifier;return i!=null?e!==r.target&&go(r.target)&&i.matches(r.target):!0},addEventFields:function(e,n){n.cy=e,n.target=e},callbackContext:function(e,n,r){return n.qualifier!=null?r.target:e}},Zo=function(e){return Ze(e)?new jr(e):e},sv={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new tl(nx,this)),this},emitter:function(){return this._private.emitter},on:function(e,n,r){return this.emitter().on(e,Zo(n),r),this},removeListener:function(e,n,r){return this.emitter().removeListener(e,Zo(n),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,n,r){return this.emitter().one(e,Zo(n),r),this},once:function(e,n,r){return this.emitter().one(e,Zo(n),r),this},emit:function(e,n){return this.emitter().emit(e,n),this},emitAndNotify:function(e,n){return this.emit(e),this.notify(e,n),this}};wt.eventAliasesOn(sv);var vu={png:function(e){var n=this._private.renderer;return e=e||{},n.png(e)},jpg:function(e){var n=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",n.jpg(e)}};vu.jpeg=vu.jpg;var vs={layout:function(e){var n=this;if(e==null){Rt("Layout options must be specified to make a layout");return}if(e.name==null){Rt("A `name` must be specified to make a layout");return}var r=e.name,i=n.extension("layout",r);if(i==null){Rt("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;Ze(e.eles)?a=n.$(e.eles):a=e.eles!=null?e.eles:n.$();var o=new i(et({},e,{cy:n,eles:a}));return o}};vs.createLayout=vs.makeLayout=vs.layout;var rx={notify:function(e,n){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var i=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();n!=null&&i.merge(n);return}if(r.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,n)}},notifications:function(e){var n=this._private;return e===void 0?n.notificationsEnabled:(n.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var n=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var i=e.batchNotifications[r];i.empty()?n.notify(r):n.notify(r,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var n=this;return this.batch(function(){for(var r=Object.keys(e),i=0;i<r.length;i++){var a=r[i],o=e[a],s=n.getElementById(a);s.data(o)}})}},ix=rn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),pu={renderTo:function(e,n,r,i){var a=this._private.renderer;return a.renderTo(e,n,r,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var n=this,r=n.extension("renderer",e.name);if(r==null){Rt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&xt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=ix(e);i.cy=n,n._private.renderer=new r(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var n=e.container();if(n)for(n._cyreg=null;n.childNodes.length>0;)n.removeChild(n.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var i=r._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};pu.invalidateDimensions=pu.resize;var ps={collection:function(e,n){return Ze(e)?this.$(e):An(e)?e.collection():Tt(e)?(n||(n={}),new nn(this,e,n.unique,n.removed)):new nn(this)},nodes:function(e){var n=this.$(function(r){return r.isNode()});return e?n.filter(e):n},edges:function(e){var n=this.$(function(r){return r.isEdge()});return e?n.filter(e):n},$:function(e){var n=this._private.elements;return e?n.filter(e):n.spawnSelf()},mutableElements:function(){return this._private.elements}};ps.elements=ps.filter=ps.$;var dn={},Va="t",ax="f";dn.apply=function(t){for(var e=this,n=e._private,r=n.cy,i=r.collection(),a=0;a<t.length;a++){var o=t[a],s=e.getContextMeta(o);if(!s.empty){var l=e.getContextStyle(s),u=e.applyContextStyle(s,l,o);o._private.appliedInitStyle?e.updateTransitions(o,u.diffProps):o._private.appliedInitStyle=!0;var c=e.updateStyleHints(o);c&&i.push(o)}}return i};dn.getPropertiesDiff=function(t,e){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=t+"-"+e,a=r[i];if(a)return a;for(var o=[],s={},l=0;l<n.length;l++){var u=n[l],c=t[l]===Va,d=e[l]===Va,p=c!==d,g=u.mappedProperties.length>0;if(p||d&&g){var h=void 0;p&&g||p?h=u.properties:g&&(h=u.mappedProperties);for(var y=0;y<h.length;y++){for(var w=h[y],b=w.name,E=!1,S=l+1;S<n.length;S++){var x=n[S],_=e[S]===Va;if(_&&(E=x.properties[w.name]!=null,E))break}!s[b]&&!E&&(s[b]=!0,o.push(b))}}}return r[i]=o,o};dn.getContextMeta=function(t){for(var e=this,n="",r,i=t._private.styleCxtKey||"",a=0;a<e.length;a++){var o=e[a],s=o.selector&&o.selector.matches(t);s?n+=Va:n+=ax}return r=e.getPropertiesDiff(i,n),t._private.styleCxtKey=n,{key:n,diffPropNames:r,empty:r.length===0}};dn.getContextStyle=function(t){var e=t.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[e])return r[e];for(var i={_private:{key:e}},a=0;a<n.length;a++){var o=n[a],s=e[a]===Va;if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l];i[u.name]=u}}return r[e]=i,i};dn.applyContextStyle=function(t,e,n){for(var r=this,i=t.diffPropNames,a={},o=r.types,s=0;s<i.length;s++){var l=i[s],u=e[l],c=n.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===o.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var d=c.mapping,p=d.fnValue=u.value(n);if(p===d.prevFnValue)continue}var g=a[l]={prev:c};r.applyParsedProperty(n,u),g.next=n.pstyle(l),g.next&&g.next.bypass&&(g.next=g.next.bypassed)}}return{diffProps:a}};dn.updateStyleHints=function(t){var e=t._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,a=function(ve,ye,$e){return n.getPropertiesHash(ve,ye,$e)},o=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",l=t._private.style;r=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];e.styleKeys[c]=[Hi,Fa]}for(var d=function(ve,ye){return e.styleKeys[ye][0]=Ja(ve,e.styleKeys[ye][0])},p=function(ve,ye){return e.styleKeys[ye][1]=eo(ve,e.styleKeys[ye][1])},g=function(ve,ye){d(ve,ye),p(ve,ye)},h=function(ve,ye){for(var $e=0;$e<ve.length;$e++){var Ee=ve.charCodeAt($e);d(Ee,ye),p(Ee,ye)}},y=2e9,w=function(ve){return-128<ve&&ve<128&&Math.floor(ve)!==ve?y-(ve*1024|0):ve},b=0;b<r.length;b++){var E=r[b],S=l[E];if(S!=null){var x=this.properties[E],_=x.type,k=x.groupKey,v=void 0;x.hashOverride!=null?v=x.hashOverride(t,S):S.pfValue!=null&&(v=S.pfValue);var D=x.enums==null?S.value:null,I=v!=null,B=D!=null,P=I||B,L=S.units;if(_.number&&P&&!_.multiple){var R=I?v:D;g(w(R),k),!I&&L!=null&&h(L,k)}else h(S.strValue,k)}}for(var O=[Hi,Fa],F=0;F<i.length;F++){var $=i[F],W=e.styleKeys[$];O[0]=Ja(W[0],O[0]),O[1]=eo(W[1],O[1])}e.styleKey=cy(O[0],O[1]);var Y=e.styleKeys;e.labelDimsKey=Nr(Y.labelDimensions);var ie=a(t,["label"],Y.labelDimensions);if(e.labelKey=Nr(ie),e.labelStyleKey=Nr(qo(Y.commonLabel,ie)),!s){var oe=a(t,["source-label"],Y.labelDimensions);e.sourceLabelKey=Nr(oe),e.sourceLabelStyleKey=Nr(qo(Y.commonLabel,oe));var Q=a(t,["target-label"],Y.labelDimensions);e.targetLabelKey=Nr(Q),e.targetLabelStyleKey=Nr(qo(Y.commonLabel,Q))}if(s){var H=e.styleKeys,U=H.nodeBody,G=H.nodeBorder,q=H.nodeOutline,X=H.backgroundImage,re=H.compound,ne=H.pie,j=[U,G,q,X,re,ne].filter(function(te){return te!=null}).reduce(qo,[Hi,Fa]);e.nodeKey=Nr(j),e.hasPie=ne!=null&&ne[0]!==Hi&&ne[1]!==Fa}return o!==e.styleKey};dn.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};dn.applyParsedProperty=function(t,e){var n=this,r=e,i=t._private.style,a,o=n.types,s=n.properties[r.name].type,l=r.bypass,u=i[r.name],c=u&&u.bypass,d=t._private,p="mapping",g=function(U){return U==null?null:U.pfValue!=null?U.pfValue:U.value},h=function(){var U=g(u),G=g(r);n.checkTriggers(t,r.name,U,G)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(r=e=this.parse(e.name,"bezier",l)),r.delete)return i[r.name]=void 0,h(),!0;if(r.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,h(),!0):!1:(h(),!0);if(r.deleteBypass)return u?u.bypass?(i[r.name]=u.bypassed,h(),!0):!1:(h(),!0);var y=function(){xt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case o.mapData:{for(var w=r.field.split("."),b=d.data,E=0;E<w.length&&b;E++){var S=w[E];b=b[S]}if(b==null)return y(),!1;var x;if(ze(b)){var _=r.fieldMax-r.fieldMin;_===0?x=0:x=(b-r.fieldMin)/_}else return xt("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+b+"` for `"+t.id()+"` is non-numeric)"),!1;if(x<0?x=0:x>1&&(x=1),s.color){var k=r.valueMin[0],v=r.valueMax[0],D=r.valueMin[1],I=r.valueMax[1],B=r.valueMin[2],P=r.valueMax[2],L=r.valueMin[3]==null?1:r.valueMin[3],R=r.valueMax[3]==null?1:r.valueMax[3],O=[Math.round(k+(v-k)*x),Math.round(D+(I-D)*x),Math.round(B+(P-B)*x),Math.round(L+(R-L)*x)];a={bypass:r.bypass,name:r.name,value:O,strValue:"rgb("+O[0]+", "+O[1]+", "+O[2]+")"}}else if(s.number){var F=r.valueMin+(r.valueMax-r.valueMin)*x;a=this.parse(r.name,F,r.bypass,p)}else return!1;if(!a)return y(),!1;a.mapping=r,r=a;break}case o.data:{for(var $=r.field.split("."),W=d.data,Y=0;Y<$.length&&W;Y++){var ie=$[Y];W=W[ie]}if(W!=null&&(a=this.parse(r.name,W,r.bypass,p)),!a)return y(),!1;a.mapping=r,r=a;break}case o.fn:{var oe=r.value,Q=r.fnValue!=null?r.fnValue:oe(t);if(r.prevFnValue=Q,Q==null)return xt("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+t.id()+"` is null)"),!1;if(a=this.parse(r.name,Q,r.bypass,p),!a)return xt("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+t.id()+"` is invalid)"),!1;a.mapping=sr(r),r=a;break}case void 0:break;default:return!1}return l?(c?r.bypassed=u.bypassed:r.bypassed=u,i[r.name]=r):c?u.bypassed=r:i[r.name]=r,h(),!0};dn.cleanElements=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),!e)r._private.style={};else for(var i=r._private.style,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],l=i[s];l!=null&&(l.bypass?l.bypassed=null:i[s]=null)}}};dn.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};dn.updateTransitions=function(t,e){var n=this,r=t._private,i=t.pstyle("transition-property").value,a=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var s={},l=!1,u=0;u<i.length;u++){var c=i[u],d=t.pstyle(c),p=e[c];if(p){var g=p.prev,h=g,y=p.next!=null?p.next:d,w=!1,b=void 0,E=1e-6;h&&(ze(h.pfValue)&&ze(y.pfValue)?(w=y.pfValue-h.pfValue,b=h.pfValue+E*w):ze(h.value)&&ze(y.value)?(w=y.value-h.value,b=h.value+E*w):Tt(h.value)&&Tt(y.value)&&(w=h.value[0]!==y.value[0]||h.value[1]!==y.value[1]||h.value[2]!==y.value[2],b=h.strValue),w&&(s[c]=y.strValue,this.applyBypass(t,c,b),l=!0))}}if(!l)return;r.transitioning=!0,new sa(function(S){o>0?t.delayAnimation(o).play().promise().then(S):S()}).then(function(){return t.animation({style:s,duration:a,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1)};dn.checkTrigger=function(t,e,n,r,i,a){var o=this.properties[e],s=i(o);s!=null&&s(n,r)&&a(o)};dn.checkZOrderTrigger=function(t,e,n,r){var i=this;this.checkTrigger(t,e,n,r,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};dn.checkBoundsTrigger=function(t,e,n,r){this.checkTrigger(t,e,n,r,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(n==="bezier"||r==="bezier")&&t.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&e==="display"&&(n==="none"||r==="none")&&t.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};dn.checkTriggers=function(t,e,n,r){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,n,r),this.checkBoundsTrigger(t,e,n,r)};var wo={};wo.applyBypass=function(t,e,n,r){var i=this,a=[],o=!0;if(e==="*"||e==="**"){if(n!==void 0)for(var s=0;s<i.properties.length;s++){var l=i.properties[s],u=l.name,c=this.parse(u,n,!0);c&&a.push(c)}}else if(Ze(e)){var d=this.parse(e,n,!0);d&&a.push(d)}else if(pt(e)){var p=e;r=n;for(var g=Object.keys(p),h=0;h<g.length;h++){var y=g[h],w=p[y];if(w===void 0&&(w=p[Us(y)]),w!==void 0){var b=this.parse(y,w,!0);b&&a.push(b)}}}else return!1;if(a.length===0)return!1;for(var E=!1,S=0;S<t.length;S++){for(var x=t[S],_={},k=void 0,v=0;v<a.length;v++){var D=a[v];if(r){var I=x.pstyle(D.name);k=_[D.name]={prev:I}}E=this.applyParsedProperty(x,sr(D))||E,r&&(k.next=x.pstyle(D.name))}E&&this.updateStyleHints(x),r&&this.updateTransitions(x,_,o)}return E};wo.overrideBypass=function(t,e,n){e=Fu(e);for(var r=0;r<t.length;r++){var i=t[r],a=i._private.style[e],o=this.properties[e].type,s=o.color,l=o.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,e,n):(a.value=n,a.pfValue!=null&&(a.pfValue=n),s?a.strValue="rgb("+n.join(",")+")":l?a.strValue=n.join(" "):a.strValue=""+n,this.updateStyleHints(i)),this.checkTriggers(i,e,u,n)}};wo.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};wo.removeBypasses=function(t,e,n){for(var r=!0,i=0;i<t.length;i++){for(var a=t[i],o={},s=0;s<e.length;s++){var l=e[s],u=this.properties[l],c=a.pstyle(u.name);if(!(!c||!c.bypass)){var d="",p=this.parse(l,d,!0),g=o[u.name]={prev:c};this.applyParsedProperty(a,p),g.next=a.pstyle(u.name)}}this.updateStyleHints(a),n&&this.updateTransitions(a,o,r)}};var Ju={};Ju.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Ju.containerCss=function(t){var e=this._private.cy,n=e.container(),r=e.window();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(t)};var fr={};fr.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};fr.getRawStyle=function(t,e){var n=this;if(t=t[0],t){for(var r={},i=0;i<n.properties.length;i++){var a=n.properties[i],o=n.getStylePropertyValue(t,a.name,e);o!=null&&(r[a.name]=o,r[Us(a.name)]=o)}return r}};fr.getIndexedStyle=function(t,e,n,r){var i=t.pstyle(e)[n][r];return i??t.cy().style().getDefaultProperty(e)[n][0]};fr.getStylePropertyValue=function(t,e,n){var r=this;if(t=t[0],t){var i=r.properties[e];i.alias&&(i=i.pointsTo);var a=i.type,o=t.pstyle(i.name);if(o){var s=o.value,l=o.units,u=o.strValue;if(n&&a.number&&s!=null&&ze(s)){var c=t.cy().zoom(),d=function(w){return w*c},p=function(w,b){return d(w)+b},g=Tt(s),h=g?l.every(function(y){return y!=null}):l!=null;return h?g?s.map(function(y,w){return p(y,l[w])}).join(" "):p(s,l):g?s.map(function(y){return Ze(y)?y:""+d(y)}).join(" "):""+d(s)}else if(u!=null)return u}return null}};fr.getAnimationStartStyle=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],a=i.name,o=t.pstyle(a);o!==void 0&&(pt(o)?o=this.parse(a,o.strValue):o=this.parse(a,o)),o&&(n[a]=o)}return n};fr.getPropsList=function(t){var e=this,n=[],r=t,i=e.properties;if(r)for(var a=Object.keys(r),o=0;o<a.length;o++){var s=a[o],l=r[s],u=i[s]||i[Fu(s)],c=this.parse(u.name,l);c&&n.push(c)}return n};fr.getNonDefaultPropertiesHash=function(t,e,n){var r=n.slice(),i,a,o,s,l,u;for(l=0;l<e.length;l++)if(i=e[l],a=t.pstyle(i,!1),a!=null)if(a.pfValue!=null)r[0]=Ja(s,r[0]),r[1]=eo(s,r[1]);else for(o=a.strValue,u=0;u<o.length;u++)s=o.charCodeAt(u),r[0]=Ja(s,r[0]),r[1]=eo(s,r[1]);return r};fr.getPropertiesHash=fr.getNonDefaultPropertiesHash;var il={};il.appendFromJson=function(t){for(var e=this,n=0;n<t.length;n++){var r=t[n],i=r.selector,a=r.style||r.css,o=Object.keys(a);e.selector(i);for(var s=0;s<o.length;s++){var l=o[s],u=a[l];e.css(l,u)}}return e};il.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};il.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],r=n.selector,i=n.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}t.push({selector:r?r.toString():"core",style:a})}return t};var ec={};ec.appendFromString=function(t){var e=this,n=this,r=""+t,i,a,o;r=r.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){r.length>i.length?r=r.substr(i.length):r=""}function l(){a.length>o.length?a=a.substr(o.length):a=""}for(;;){var u=r.match(/^\s*$/);if(u)break;var c=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){xt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}i=c[0];var d=c[1];if(d!=="core"){var p=new jr(d);if(p.invalid){xt("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),s();continue}}var g=c[2],h=!1;a=g;for(var y=[];;){var w=a.match(/^\s*$/);if(w)break;var b=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){xt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+g),h=!0;break}o=b[0];var E=b[1],S=b[2],x=e.properties[E];if(!x){xt("Skipping property: Invalid property name in: "+o),l();continue}var _=n.parse(E,S);if(!_){xt("Skipping property: Invalid property definition in: "+o),l();continue}y.push({name:E,val:S}),l()}if(h){s();break}n.selector(d);for(var k=0;k<y.length;k++){var v=y[k];n.css(v.name,v.val)}s()}return n};ec.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Jt={};(function(){var t=jt,e=hm,n=pm,r=gm,i=mm,a=function(j){return"^"+j+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(j){var te=t+"|\\w+|"+e+"|"+n+"|"+r+"|"+i;return"^"+j+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+te+")\\s*\\,\\s*("+te+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Jt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(j,te){switch(j.length){case 2:return te[0]!=="deg"&&te[0]!=="rad"&&te[1]!=="deg"&&te[1]!=="rad";case 1:return Ze(j[0])||te[0]==="deg"||te[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(j){var te=j.length;return te===1||te===2||te===4}}};var l={zeroNonZero:function(j,te){return(j==null||te==null)&&j!==te||j==0&&te!=0?!0:j!=0&&te==0},any:function(j,te){return j!=te},emptyNonEmpty:function(j,te){var ve=Wr(j),ye=Wr(te);return ve&&!ye||!ve&&ye}},u=Jt.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],d=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],p=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],g=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],h=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification}],y=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any}],w=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],b=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],E=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],S=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],x=function(j,te){return te.value==="label"?-j.poolIndex():te.pfValue},_=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:x},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],k=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],v=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],D=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],I=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],B=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],P=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],L=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],R=[];Jt.pieBackgroundN=16,R.push({name:"pie-size",type:u.sizeMaybePercent});for(var O=1;O<=Jt.pieBackgroundN;O++)R.push({name:"pie-"+O+"-background-color",type:u.color}),R.push({name:"pie-"+O+"-background-size",type:u.percent}),R.push({name:"pie-"+O+"-background-opacity",type:u.zeroOneNumber});var F=[],$=Jt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(ne){$.forEach(function(j){var te=j+"-"+ne.name,ve=ne.type,ye=ne.triggersBounds;F.push({name:te,type:ve,triggersBounds:ye})})},{});var W=Jt.properties=[].concat(y,S,w,b,E,P,h,g,c,d,p,_,k,v,D,R,I,B,F,L),Y=Jt.propertyGroups={behavior:y,transition:S,visibility:w,overlay:b,underlay:E,ghost:P,commonLabel:h,labelDimensions:g,mainLabel:c,sourceLabel:d,targetLabel:p,nodeBody:_,nodeBorder:k,nodeOutline:v,backgroundImage:D,pie:R,compound:I,edgeLine:B,edgeArrow:F,core:L},ie=Jt.propertyGroupNames={},oe=Jt.propertyGroupKeys=Object.keys(Y);oe.forEach(function(ne){ie[ne]=Y[ne].map(function(j){return j.name}),Y[ne].forEach(function(j){return j.groupKey=ne})});var Q=Jt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Jt.propertyNames=W.map(function(ne){return ne.name});for(var H=0;H<W.length;H++){var U=W[H];W[U.name]=U}for(var G=0;G<Q.length;G++){var q=Q[G],X=W[q.pointsTo],re={name:q.name,alias:!0,pointsTo:X};W.push(re),W[q.name]=re}})();Jt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Jt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=et({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=Jt.pieBackgroundN;c++){var d=u.name.replace("{{i}}",c),p=u.value;l[d]=p}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return Jt.arrowPrefixes.forEach(function(c){var d=c+"-"+u.name,p=u.value;l[d]=p}),l},{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var a=i.name,o=e[a],s=this.parse(a,o);n[a]=s}}return t.defaultProperties=n,t.defaultProperties};Jt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var al={};al.parse=function(t,e,n,r){var i=this;if(Nt(e))return i.parseImplWarn(t,e,n,r);var a=r==="mapping"||r===!0||r===!1||r==null?"dontcare":r,o=n?"t":"f",s=""+e,l=gh(t,s,o,a),u=i.propCache=i.propCache||[],c;return(c=u[l])||(c=u[l]=i.parseImplWarn(t,e,n,r)),(n||r==="mapping")&&(c=sr(c),c&&(c.value=sr(c.value))),c};al.parseImplWarn=function(t,e,n,r){var i=this.parseImpl(t,e,n,r);return!i&&e!=null&&xt("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&xt("The style value of `label` is deprecated for `"+i.name+"`"),i};al.parseImpl=function(t,e,n,r){var i=this;t=Fu(t);var a=i.properties[t],o=e,s=i.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,t=a.name);var l=Ze(e);l&&(e=e.trim());var u=a.type;if(!u)return null;if(n&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Nt(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:n};var c,d;if(!(!l||r||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(s.data.regex).exec(e))){if(n)return!1;var p=s.data;return{name:t,value:c,strValue:""+e,mapped:p,field:c[1],bypass:n}}else if(e.length>=10&&e[0]==="m"&&(d=new RegExp(s.mapData.regex).exec(e))){if(n||u.multiple)return!1;var g=s.mapData;if(!(u.color||u.number))return!1;var h=this.parse(t,d[4]);if(!h||h.mapped)return!1;var y=this.parse(t,d[5]);if(!y||y.mapped)return!1;if(h.pfValue===y.pfValue||h.strValue===y.strValue)return xt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+h.strValue+"`"),this.parse(t,h.strValue);if(u.color){var w=h.value,b=y.value,E=w[0]===b[0]&&w[1]===b[1]&&w[2]===b[2]&&(w[3]===b[3]||(w[3]==null||w[3]===1)&&(b[3]==null||b[3]===1));if(E)return!1}return{name:t,value:d,strValue:""+e,mapped:g,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:h.value,valueMax:y.value,bypass:n}}}if(u.multiple&&r!=="multiple"){var S;if(l?S=e.split(/\s+/):Tt(e)?S=e:S=[e],u.evenMultiple&&S.length%2!==0)return null;for(var x=[],_=[],k=[],v="",D=!1,I=0;I<S.length;I++){var B=i.parse(t,S[I],n,"multiple");D=D||Ze(B.value),x.push(B.value),k.push(B.pfValue!=null?B.pfValue:B.value),_.push(B.units),v+=(I>0?" ":"")+B.strValue}return u.validate&&!u.validate(x,_)?null:u.singleEnum&&D?x.length===1&&Ze(x[0])?{name:t,value:x[0],strValue:x[0],bypass:n}:null:{name:t,value:x,pfValue:k,strValue:v,bypass:n,units:_}}var P=function(){for(var j=0;j<u.enums.length;j++){var te=u.enums[j];if(te===e)return{name:t,value:e,strValue:""+e,bypass:n}}return null};if(u.number){var L,R="px";if(u.units&&(L=u.units),u.implicitUnits&&(R=u.implicitUnits),!u.unitless)if(l){var O="px|em"+(u.allowPercent?"|\\%":"");L&&(O=L);var F=e.match("^("+jt+")("+O+")?$");F&&(e=F[1],L=F[2]||R)}else(!L||u.implicitUnits)&&(L=R);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=o,P();if(u.integer&&!om(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var $={name:t,value:e,strValue:""+e+(L||""),units:L,bypass:n};return u.unitless||L!=="px"&&L!=="em"?$.pfValue=e:$.pfValue=L==="px"||!L?e:this.getEmSizeInPixels()*e,(L==="ms"||L==="s")&&($.pfValue=L==="ms"?e:1e3*e),(L==="deg"||L==="rad")&&($.pfValue=L==="rad"?e:$y(e)),L==="%"&&($.pfValue=e/100),$}else if(u.propList){var W=[],Y=""+e;if(Y!=="none"){for(var ie=Y.split(/\s*,\s*|\s+/),oe=0;oe<ie.length;oe++){var Q=ie[oe].trim();i.properties[Q]?W.push(Q):xt("`"+Q+"` is not a valid property name")}if(W.length===0)return null}return{name:t,value:W,strValue:W.length===0?"none":W.join(" "),bypass:n}}else if(u.color){var H=Em(e);return H?{name:t,value:H,pfValue:H,strValue:"rgb("+H[0]+","+H[1]+","+H[2]+")",bypass:n}:null}else if(u.regex||u.regexes){if(u.enums){var U=P();if(U)return U}for(var G=u.regexes?u.regexes:[u.regex],q=0;q<G.length;q++){var X=new RegExp(G[q]),re=X.exec(e);if(re)return{name:t,value:u.singleRegexMatchValue?re[1]:re,strValue:""+e,bypass:n}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:n}:u.enums?P():null};var un=function t(e){if(!(this instanceof t))return new t(e);if(!zu(e)){Rt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},fn=un.prototype;fn.instanceString=function(){return"style"};fn.clear=function(){for(var t=this._private,e=t.cy,n=e.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(n,!0),n.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};fn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};fn.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};fn.selector=function(t){var e=t==="core"?null:new jr(t),n=this.length++;return this[n]={selector:e,properties:[],mappedProperties:[],index:n},this};fn.css=function(){var t=this,e=arguments;if(e.length===1)for(var n=e[0],r=0;r<t.properties.length;r++){var i=t.properties[r],a=n[i.name];a===void 0&&(a=n[Us(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};fn.style=fn.css;fn.cssRule=function(t,e){var n=this.parse(t,e);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n);var i=!this[r].selector;i&&(this._private.coreStyle[n.name]=n)}return this};fn.append=function(t){return oh(t)?t.appendToStyle(this):Tt(t)?this.appendFromJson(t):Ze(t)&&this.appendFromString(t),this};un.fromJson=function(t,e){var n=new un(t);return n.fromJson(e),n};un.fromString=function(t,e){return new un(t).fromString(e)};[dn,wo,Ju,fr,il,ec,Jt,al].forEach(function(t){et(fn,t)});un.types=fn.types;un.properties=fn.properties;un.propertyGroups=fn.propertyGroups;un.propertyGroupNames=fn.propertyGroupNames;un.propertyGroupKeys=fn.propertyGroupKeys;var ox={style:function(e){if(e){var n=this.setStyle(e);n.update()}return this._private.style},setStyle:function(e){var n=this._private;return oh(e)?n.style=e.generateStyle(this):Tt(e)?n.style=un.fromJson(this,e):Ze(e)?n.style=un.fromString(this,e):n.style=un(this),n.style},updateStyle:function(){this.mutableElements().updateStyle()}},sx="single",Ci={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var n=this._private;if(n.selectionType==null&&(n.selectionType=sx),e!==void 0)(e==="additive"||e==="single")&&(n.selectionType=e);else return n.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,n=this._private.pan,r,i,a,o,s;switch(e.length){case 0:return n;case 1:if(Ze(e[0]))return r=e[0],n[r];if(pt(e[0])){if(!this._private.panningEnabled)return this;a=e[0],o=a.x,s=a.y,ze(o)&&(n.x=o),ze(s)&&(n.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],i=e[1],(r==="x"||r==="y")&&ze(i)&&(n[r]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,n){var r=arguments,i=this._private.pan,a,o,s,l,u;if(!this._private.panningEnabled)return this;switch(r.length){case 1:pt(e)&&(s=r[0],l=s.x,u=s.y,ze(l)&&(i.x+=l),ze(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=e,o=n,(a==="x"||a==="y")&&ze(o)&&(i[a]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,n){var r=this.getFitViewport(e,n);if(r){var i=this._private;i.zoom=r.zoom,i.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,n){if(ze(e)&&n===void 0&&(n=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(Ze(e)){var i=e;e=this.$(i)}else if(um(e)){var a=e;r={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else An(e)||(e=this.mutableElements());if(!(An(e)&&e.empty())){r=r||e.boundingBox();var o=this.width(),s=this.height(),l;if(n=ze(n)?n:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){l=Math.min((o-2*n)/r.w,(s-2*n)/r.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(o-l*(r.x1+r.x2))/2,y:(s-l*(r.y1+r.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,n){var r=this._private;if(n==null){var i=e;e=i.min,n=i.max}return ze(e)&&ze(n)&&e<=n?(r.minZoom=e,r.maxZoom=n):ze(e)&&n===void 0&&e<=r.maxZoom?r.minZoom=e:ze(n)&&e===void 0&&n>=r.minZoom&&(r.maxZoom=n),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var n=this._private,r=n.pan,i=n.zoom,a,o,s=!1;if(n.zoomingEnabled||(s=!0),ze(e)?o=e:pt(e)&&(o=e.level,e.position!=null?a=Ys(e.position,i,r):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!n.panningEnabled&&(s=!0)),o=o>n.maxZoom?n.maxZoom:o,o=o<n.minZoom?n.minZoom:o,s||!ze(o)||o===i||a!=null&&(!ze(a.x)||!ze(a.y)))return null;if(a!=null){var l=r,u=i,c=o,d={x:-c/u*(a.x-l.x)+a.x,y:-c/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:d}}else return{zoomed:!0,panned:!1,zoom:o,pan:r}},zoom:function(e){if(e===void 0)return this._private.zoom;var n=this.getZoomedViewport(e),r=this._private;return n==null||!n.zoomed?this:(r.zoom=n.zoom,n.panned&&(r.pan.x=n.pan.x,r.pan.y=n.pan.y),this.emit("zoom"+(n.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var n=this._private,r=!0,i=!0,a=[],o=!1,s=!1;if(!e)return this;if(ze(e.zoom)||(r=!1),pt(e.pan)||(i=!1),!r&&!i)return this;if(r){var l=e.zoom;l<n.minZoom||l>n.maxZoom||!n.zoomingEnabled?o=!0:(n.zoom=l,a.push("zoom"))}if(i&&(!o||!e.cancelOnFailedZoom)&&n.panningEnabled){var u=e.pan;ze(u.x)&&(n.pan.x=u.x,s=!1),ze(u.y)&&(n.pan.y=u.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var n=this.getCenterPan(e);return n&&(this._private.pan=n,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,n){if(this._private.panningEnabled){if(Ze(e)){var r=e;e=this.mutableElements().filter(r)}else An(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),a=this.width(),o=this.height();n=n===void 0?this._private.zoom:n;var s={x:(a-n*(i.x1+i.x2))/2,y:(o-n*(i.y1+i.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,n=e.container,r=this;return e.sizeCache=e.sizeCache||(n?function(){var i=r.window().getComputedStyle(n),a=function(s){return parseFloat(i.getPropertyValue(s))};return{width:n.clientWidth-a("padding-left")-a("padding-right"),height:n.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,n=this._private.zoom,r=this.renderedExtent(),i={x1:(r.x1-e.x)/n,x2:(r.x2-e.x)/n,y1:(r.y1-e.y)/n,y2:(r.y2-e.y)/n};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),n=this.height();return{x1:0,y1:0,x2:e,y2:n,w:e,h:n}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Ci.centre=Ci.center;Ci.autolockNodes=Ci.autolock;Ci.autoungrabifyNodes=Ci.autoungrabify;var so={data:wt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:wt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:wt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:wt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};so.attr=so.data;so.removeAttr=so.removeData;var lo=function(e){var n=this;e=et({},e);var r=e.container;r&&!Ss(r)&&Ss(r[0])&&(r=r[0]);var i=r?r._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];r&&(r._cyreg=i),i.cy=n;var o=Ut!==void 0&&r!==void 0&&!e.headless,s=e;s.layout=et({name:o?"grid":"null"},s.layout),s.renderer=et({name:o?"canvas":"null"},s.renderer);var l=function(h,y,w){return y!==void 0?y:w!==void 0?w:h},u=this._private={container:r,ready:!1,options:s,elements:new nn(this),listeners:[],aniEles:new nn(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:ze(s.zoom)?s.zoom:1,pan:{x:pt(s.pan)&&ze(s.pan.x)?s.pan.x:0,y:pt(s.pan)&&ze(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var c=function(h,y){var w=h.some(cm);if(w)return sa.all(h).then(y);y(h)};u.styleEnabled&&n.setStyle([]);var d=et({},s,s.renderer);n.initRenderer(d);var p=function(h,y,w){n.notifications(!1);var b=n.mutableElements();b.length>0&&b.remove(),h!=null&&(pt(h)||Tt(h))&&n.add(h),n.one("layoutready",function(S){n.notifications(!0),n.emit(S),n.one("load",y),n.emitAndNotify("load")}).one("layoutstop",function(){n.one("done",w),n.emit("done")});var E=et({},n._private.options.layout);E.eles=n.elements(),n.layout(E).run()};c([s.style,s.elements],function(g){var h=g[0],y=g[1];u.styleEnabled&&n.style().append(h),p(y,function(){n.startAnimationLoop(),u.ready=!0,Nt(s.ready)&&n.on("ready",s.ready);for(var w=0;w<a.length;w++){var b=a[w];n.on("ready",b)}i&&(i.readies=[]),n.emit("ready")},s.done)})},Ds=lo.prototype;et(Ds,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Ut;var n=this._private.container.ownerDocument;return n===void 0||n==null?Ut:n.defaultView||Ut},mount:function(e){if(e!=null){var n=this,r=n._private,i=r.options;return!Ss(e)&&Ss(e[0])&&(e=e[0]),n.stopAnimationLoop(),n.destroyRenderer(),r.container=e,r.styleEnabled=!0,n.invalidateSize(),n.initRenderer(et({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),n.startAnimationLoop(),n.style(i.style),n.emit("mount"),n}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return sr(this._private.options)},json:function(e){var n=this,r=n._private,i=n.mutableElements(),a=function(x){return n.getElementById(x.id())};if(pt(e)){if(n.startBatch(),e.elements){var o={},s=function(x,_){for(var k=[],v=[],D=0;D<x.length;D++){var I=x[D];if(!I.data.id){xt("cy.json() cannot handle elements without an ID attribute");continue}var B=""+I.data.id,P=n.getElementById(B);o[B]=!0,P.length!==0?v.push({ele:P,json:I}):(_&&(I.group=_),k.push(I))}n.add(k);for(var L=0;L<v.length;L++){var R=v[L],O=R.ele,F=R.json;O.json(F)}};if(Tt(e.elements))s(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],d=e.elements[c];Tt(d)&&s(d,c)}var p=n.collection();i.filter(function(S){return!o[S.id()]}).forEach(function(S){S.isParent()?p.merge(S):S.remove()}),p.forEach(function(S){return S.children().move({parent:null})}),p.forEach(function(S){return a(S).remove()})}e.style&&n.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&n.zoom(e.zoom),e.pan&&(e.pan.x!==r.pan.x||e.pan.y!==r.pan.y)&&n.pan(e.pan),e.data&&n.data(e.data);for(var g=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],h=0;h<g.length;h++){var y=g[h];e[y]!=null&&n[y](e[y])}return n.endBatch(),this}else{var w=!!e,b={};w?b.elements=this.elements().map(function(S){return S.json()}):(b.elements={},i.forEach(function(S){var x=S.group();b.elements[x]||(b.elements[x]=[]),b.elements[x].push(S.json())})),this._private.styleEnabled&&(b.style=n.style().json()),b.data=sr(n.data());var E=r.options;return b.zoomingEnabled=r.zoomingEnabled,b.userZoomingEnabled=r.userZoomingEnabled,b.zoom=r.zoom,b.minZoom=r.minZoom,b.maxZoom=r.maxZoom,b.panningEnabled=r.panningEnabled,b.userPanningEnabled=r.userPanningEnabled,b.pan=sr(r.pan),b.boxSelectionEnabled=r.boxSelectionEnabled,b.renderer=sr(E.renderer),b.hideEdgesOnViewport=E.hideEdgesOnViewport,b.textureOnViewport=E.textureOnViewport,b.wheelSensitivity=E.wheelSensitivity,b.motionBlur=E.motionBlur,b.multiClickDebounceTime=E.multiClickDebounceTime,b}}});Ds.$id=Ds.getElementById;[X1,tx,sv,vu,vs,rx,pu,ps,ox,Ci,so].forEach(function(t){et(Ds,t)});var lx={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}},ux={maximal:!1,acyclic:!1},Bi=function(e){return e.scratch("breadthfirst")},zf=function(e,n){return e.scratch("breadthfirst",n)};function lv(t){this.options=et({},lx,ux,t)}lv.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=r.nodes().filter(function(Ee){return!Ee.isParent()}),a=r,o=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,l=En(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u;if(An(e.roots))u=e.roots;else if(Tt(e.roots)){for(var c=[],d=0;d<e.roots.length;d++){var p=e.roots[d],g=n.getElementById(p);c.push(g)}u=n.collection(c)}else if(Ze(e.roots))u=n.$(e.roots);else if(o)u=i.roots();else{var h=r.components();u=n.collection();for(var y=function(Me){var Fe=h[Me],Te=Fe.maxDegree(!1),Oe=Fe.filter(function(Ce){return Ce.degree(!1)===Te});u=u.add(Oe)},w=0;w<h.length;w++)y(w)}var b=[],E={},S=function(Me,Fe){b[Fe]==null&&(b[Fe]=[]);var Te=b[Fe].length;b[Fe].push(Me),zf(Me,{index:Te,depth:Fe})},x=function(Me,Fe){var Te=Bi(Me),Oe=Te.depth,Ce=Te.index;b[Oe][Ce]=null,S(Me,Fe)};a.bfs({roots:u,directed:e.directed,visit:function(Me,Fe,Te,Oe,Ce){var Ae=Me[0],De=Ae.id();S(Ae,Ce),E[De]=!0}});for(var _=[],k=0;k<i.length;k++){var v=i[k];E[v.id()]||_.push(v)}var D=function(Me){for(var Fe=b[Me],Te=0;Te<Fe.length;Te++){var Oe=Fe[Te];if(Oe==null){Fe.splice(Te,1),Te--;continue}zf(Oe,{depth:Me,index:Te})}},I=function(){for(var Me=0;Me<b.length;Me++)D(Me)},B=function(Me,Fe){for(var Te=Bi(Me),Oe=Me.incomers().filter(function(Se){return Se.isNode()&&r.has(Se)}),Ce=-1,Ae=Me.id(),De=0;De<Oe.length;De++){var Ne=Oe[De],He=Bi(Ne);Ce=Math.max(Ce,He.depth)}if(Te.depth<=Ce){if(!e.acyclic&&Fe[Ae])return null;var Xe=Ce+1;return x(Me,Xe),Fe[Ae]=Xe,!0}return!1};if(o&&s){var P=[],L={},R=function(Me){return P.push(Me)},O=function(){return P.shift()};for(i.forEach(function(Ee){return P.push(Ee)});P.length>0;){var F=O(),$=B(F,L);if($)F.outgoers().filter(function(Ee){return Ee.isNode()&&r.has(Ee)}).forEach(R);else if($===null){xt("Detected double maximal shift for node `"+F.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}I();var W=0;if(e.avoidOverlap)for(var Y=0;Y<i.length;Y++){var ie=i[Y],oe=ie.layoutDimensions(e),Q=oe.w,H=oe.h;W=Math.max(W,Q,H)}var U={},G=function(Me){if(U[Me.id()])return U[Me.id()];for(var Fe=Bi(Me).depth,Te=Me.neighborhood(),Oe=0,Ce=0,Ae=0;Ae<Te.length;Ae++){var De=Te[Ae];if(!(De.isEdge()||De.isParent()||!i.has(De))){var Ne=Bi(De);if(Ne!=null){var He=Ne.index,Xe=Ne.depth;if(!(He==null||Xe==null)){var Se=b[Xe].length;Xe<Fe&&(Oe+=He/Se,Ce++)}}}}return Ce=Math.max(1,Ce),Oe=Oe/Ce,Ce===0&&(Oe=0),U[Me.id()]=Oe,Oe},q=function(Me,Fe){var Te=G(Me),Oe=G(Fe),Ce=Te-Oe;return Ce===0?lh(Me.id(),Fe.id()):Ce};e.depthSort!==void 0&&(q=e.depthSort);for(var X=0;X<b.length;X++)b[X].sort(q),D(X);for(var re=[],ne=0;ne<_.length;ne++)re.push(_[ne]);b.unshift(re),I();for(var j=0,te=0;te<b.length;te++)j=Math.max(b[te].length,j);var ve={x:l.x1+l.w/2,y:l.x1+l.h/2},ye=b.reduce(function(Ee,Me){return Math.max(Ee,Me.length)},0),$e=function(Me){var Fe=Bi(Me),Te=Fe.depth,Oe=Fe.index,Ce=b[Te].length,Ae=Math.max(l.w/((e.grid?ye:Ce)+1),W),De=Math.max(l.h/(b.length+1),W),Ne=Math.min(l.w/2/b.length,l.h/2/b.length);if(Ne=Math.max(Ne,W),e.circle){var Xe=Ne*Te+Ne-(b.length>0&&b[0].length<=3?Ne/2:0),Se=2*Math.PI/b[Te].length*Oe;return Te===0&&b[0].length===1&&(Xe=1),{x:ve.x+Xe*Math.cos(Se),y:ve.y+Xe*Math.sin(Se)}}else{var He={x:ve.x+(Oe+1-(Ce+1)/2)*Ae,y:(Te+1)*De};return He}};return r.nodes().layoutPositions(this,e,$e),this};var cx={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function uv(t){this.options=et({},cx,t)}uv.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=r.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var o=En(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,u=l/Math.max(1,a.length-1),c,d=0,p=0;p<a.length;p++){var g=a[p],h=g.layoutDimensions(e),y=h.w,w=h.h;d=Math.max(d,y,w)}if(ze(e.radius)?c=e.radius:a.length<=1?c=0:c=Math.min(o.h,o.w)/2-d,a.length>1&&e.avoidOverlap){d*=1.75;var b=Math.cos(u)-Math.cos(0),E=Math.sin(u)-Math.sin(0),S=Math.sqrt(d*d/(b*b+E*E));c=Math.max(S,c)}var x=function(k,v){var D=e.startAngle+v*u*(i?1:-1),I=c*Math.cos(D),B=c*Math.sin(D),P={x:s.x+I,y:s.y+B};return P};return r.nodes().layoutPositions(this,e,x),this};var fx={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function cv(t){this.options=et({},fx,t)}cv.prototype.run=function(){for(var t=this.options,e=t,n=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,r=t.cy,i=e.eles,a=i.nodes().not(":parent"),o=En(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=0,c=0;c<a.length;c++){var d=a[c],p=void 0;p=e.concentric(d),l.push({value:p,node:d}),d._private.scratch.concentric=p}a.updateStyle();for(var g=0;g<a.length;g++){var h=a[g],y=h.layoutDimensions(e);u=Math.max(u,y.w,y.h)}l.sort(function(Ee,Me){return Me.value-Ee.value});for(var w=e.levelWidth(a),b=[[]],E=b[0],S=0;S<l.length;S++){var x=l[S];if(E.length>0){var _=Math.abs(E[0].value-x.value);_>=w&&(E=[],b.push(E))}E.push(x)}var k=u+e.minNodeSpacing;if(!e.avoidOverlap){var v=b.length>0&&b[0].length>1,D=Math.min(o.w,o.h)/2-k,I=D/(b.length+v?1:0);k=Math.min(k,I)}for(var B=0,P=0;P<b.length;P++){var L=b[P],R=e.sweep===void 0?2*Math.PI-2*Math.PI/L.length:e.sweep,O=L.dTheta=R/Math.max(1,L.length-1);if(L.length>1&&e.avoidOverlap){var F=Math.cos(O)-Math.cos(0),$=Math.sin(O)-Math.sin(0),W=Math.sqrt(k*k/(F*F+$*$));B=Math.max(W,B)}L.r=B,B+=k}if(e.equidistant){for(var Y=0,ie=0,oe=0;oe<b.length;oe++){var Q=b[oe],H=Q.r-ie;Y=Math.max(Y,H)}ie=0;for(var U=0;U<b.length;U++){var G=b[U];U===0&&(ie=G.r),G.r=ie,ie+=Y}}for(var q={},X=0;X<b.length;X++)for(var re=b[X],ne=re.dTheta,j=re.r,te=0;te<re.length;te++){var ve=re[te],ye=e.startAngle+(n?1:-1)*ne*te,$e={x:s.x+j*Math.cos(ye),y:s.y+j*Math.sin(ye)};q[ve.node.id()]=$e}return i.nodes().layoutPositions(this,e,function(Ee){var Me=Ee.id();return q[Me]}),this};var Fl,dx={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,n){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function ol(t){this.options=et({},dx,t),this.options.layout=this;var e=this.options.eles.nodes(),n=this.options.eles.edges(),r=n.filter(function(i){var a=i.source().data("id"),o=i.target().data("id"),s=e.some(function(u){return u.data("id")===a}),l=e.some(function(u){return u.data("id")===o});return!s||!l});this.options.eles=this.options.eles.not(r)}ol.prototype.run=function(){var t=this.options,e=t.cy,n=this;n.stopped=!1,(t.animate===!0||t.animate===!1)&&n.emit({type:"layoutstart",layout:n}),t.debug===!0?Fl=!0:Fl=!1;var r=hx(e,n,t);Fl&&gx(r),t.randomize&&mx(r);var i=Cr(),a=function(){yx(r,e,t),t.fit===!0&&e.fit(t.padding)},o=function(p){return!(n.stopped||p>=t.numIter||(bx(r,t),r.temperature=r.temperature*t.coolingFactor,r.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)a(),n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n});else{var p=t.eles.nodes(),g=fv(r,t,p);p.layoutPositions(n,t,g)}},l=0,u=!0;if(t.animate===!0){var c=function d(){for(var p=0;u&&p<t.refresh;)u=o(l),l++,p++;if(!u)$f(r,t),s();else{var g=Cr();g-i>=t.animationThreshold&&a(),Ts(d)}};c()}else{for(;u;)u=o(l),l++;$f(r,t),s()}return this};ol.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};ol.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var hx=function(e,n,r){for(var i=r.eles.edges(),a=r.eles.nodes(),o=En(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=r.eles.components(),u={},c=0;c<l.length;c++)for(var d=l[c],p=0;p<d.length;p++){var g=d[p];u[g.id()]=c}for(var c=0;c<s.nodeSize;c++){var h=a[c],y=h.layoutDimensions(r),w={};w.isLocked=h.locked(),w.id=h.data("id"),w.parentId=h.data("parent"),w.cmptId=u[h.id()],w.children=[],w.positionX=h.position("x"),w.positionY=h.position("y"),w.offsetX=0,w.offsetY=0,w.height=y.w,w.width=y.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(h.style("padding")),w.padRight=parseFloat(h.style("padding")),w.padTop=parseFloat(h.style("padding")),w.padBottom=parseFloat(h.style("padding")),w.nodeRepulsion=Nt(r.nodeRepulsion)?r.nodeRepulsion(h):r.nodeRepulsion,s.layoutNodes.push(w),s.idToIndex[w.id]=c}for(var b=[],E=0,S=-1,x=[],c=0;c<s.nodeSize;c++){var h=s.layoutNodes[c],_=h.parentId;_!=null?s.layoutNodes[s.idToIndex[_]].children.push(h.id):(b[++S]=h.id,x.push(h.id))}for(s.graphSet.push(x);E<=S;){var k=b[E++],v=s.idToIndex[k],g=s.layoutNodes[v],D=g.children;if(D.length>0){s.graphSet.push(D);for(var c=0;c<D.length;c++)b[++S]=D[c]}}for(var c=0;c<s.graphSet.length;c++)for(var I=s.graphSet[c],p=0;p<I.length;p++){var B=s.idToIndex[I[p]];s.indexToGraph[B]=c}for(var c=0;c<s.edgeSize;c++){var P=i[c],L={};L.id=P.data("id"),L.sourceId=P.data("source"),L.targetId=P.data("target");var R=Nt(r.idealEdgeLength)?r.idealEdgeLength(P):r.idealEdgeLength,O=Nt(r.edgeElasticity)?r.edgeElasticity(P):r.edgeElasticity,F=s.idToIndex[L.sourceId],$=s.idToIndex[L.targetId],W=s.indexToGraph[F],Y=s.indexToGraph[$];if(W!=Y){for(var ie=vx(L.sourceId,L.targetId,s),oe=s.graphSet[ie],Q=0,w=s.layoutNodes[F];oe.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],Q++;for(w=s.layoutNodes[$];oe.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],Q++;R*=Q*r.nestingFactor}L.idealLength=R,L.elasticity=O,s.layoutEdges.push(L)}return s},vx=function(e,n,r){var i=px(e,n,0,r);return 2>i.count?0:i.graph},px=function t(e,n,r,i){var a=i.graphSet[r];if(-1<a.indexOf(e)&&-1<a.indexOf(n))return{count:2,graph:r};for(var o=0,s=0;s<a.length;s++){var l=a[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(c.length!==0){var d=i.indexToGraph[i.idToIndex[c[0]]],p=t(e,n,d,i);if(p.count!==0)if(p.count===1){if(o++,o===2)break}else return p}}return{count:o,graph:r}},gx,mx=function(e,n){for(var r=e.clientWidth,i=e.clientHeight,a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*r,o.positionY=Math.random()*i)}},fv=function(e,n,r){var i=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return n.boundingBox&&(r.forEach(function(o){var s=e.layoutNodes[e.idToIndex[o.data("id")]];a.x1=Math.min(a.x1,s.positionX),a.x2=Math.max(a.x2,s.positionX),a.y1=Math.min(a.y1,s.positionY),a.y2=Math.max(a.y2,s.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(o,s){var l=e.layoutNodes[e.idToIndex[o.data("id")]];if(n.boundingBox){var u=(l.positionX-a.x1)/a.w,c=(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+c*i.h}}else return{x:l.positionX,y:l.positionY}}},yx=function(e,n,r){var i=r.layout,a=r.eles.nodes(),o=fv(e,r,a);a.positions(o),e.ready!==!0&&(e.ready=!0,i.one("layoutready",r.ready),i.emit({type:"layoutready",layout:this}))},bx=function(e,n,r){wx(e,n),Ex(e),Sx(e,n),Tx(e),kx(e)},wx=function(e,n){for(var r=0;r<e.graphSet.length;r++)for(var i=e.graphSet[r],a=i.length,o=0;o<a;o++)for(var s=e.layoutNodes[e.idToIndex[i[o]]],l=o+1;l<a;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];xx(s,u,e,n)}},Ff=function(e){return-e+2*e*Math.random()},xx=function(e,n,r,i){var a=e.cmptId,o=n.cmptId;if(!(a!==o&&!r.isCompound)){var s=n.positionX-e.positionX,l=n.positionY-e.positionY,u=1;s===0&&l===0&&(s=Ff(u),l=Ff(u));var c=Cx(e,n,s,l);if(c>0)var d=i.nodeOverlap*c,p=Math.sqrt(s*s+l*l),g=d*s/p,h=d*l/p;else var y=Ps(e,s,l),w=Ps(n,-1*s,-1*l),b=w.x-y.x,E=w.y-y.y,S=b*b+E*E,p=Math.sqrt(S),d=(e.nodeRepulsion+n.nodeRepulsion)/S,g=d*b/p,h=d*E/p;e.isLocked||(e.offsetX-=g,e.offsetY-=h),n.isLocked||(n.offsetX+=g,n.offsetY+=h)}},Cx=function(e,n,r,i){if(r>0)var a=e.maxX-n.minX;else var a=n.maxX-e.minX;if(i>0)var o=e.maxY-n.minY;else var o=n.maxY-e.minY;return a>=0&&o>=0?Math.sqrt(a*a+o*o):0},Ps=function(e,n,r){var i=e.positionX,a=e.positionY,o=e.height||1,s=e.width||1,l=r/n,u=o/s,c={};return n===0&&0<r||n===0&&0>r?(c.x=i,c.y=a+o/2,c):0<n&&-1*u<=l&&l<=u?(c.x=i+s/2,c.y=a+s*r/2/n,c):0>n&&-1*u<=l&&l<=u?(c.x=i-s/2,c.y=a-s*r/2/n,c):0<r&&(l<=-1*u||l>=u)?(c.x=i+o*n/2/r,c.y=a+o/2,c):(0>r&&(l<=-1*u||l>=u)&&(c.x=i-o*n/2/r,c.y=a-o/2),c)},Ex=function(e,n){for(var r=0;r<e.edgeSize;r++){var i=e.layoutEdges[r],a=e.idToIndex[i.sourceId],o=e.layoutNodes[a],s=e.idToIndex[i.targetId],l=e.layoutNodes[s],u=l.positionX-o.positionX,c=l.positionY-o.positionY;if(!(u===0&&c===0)){var d=Ps(o,u,c),p=Ps(l,-1*u,-1*c),g=p.x-d.x,h=p.y-d.y,y=Math.sqrt(g*g+h*h),w=Math.pow(i.idealLength-y,2)/i.elasticity;if(y!==0)var b=w*g/y,E=w*h/y;else var b=0,E=0;o.isLocked||(o.offsetX+=b,o.offsetY+=E),l.isLocked||(l.offsetX-=b,l.offsetY-=E)}}},Sx=function(e,n){if(n.gravity!==0)for(var r=1,i=0;i<e.graphSet.length;i++){var a=e.graphSet[i],o=a.length;if(i===0)var s=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[a[0]]],c=e.layoutNodes[e.idToIndex[u.parentId]],s=c.positionX,l=c.positionY;for(var d=0;d<o;d++){var p=e.layoutNodes[e.idToIndex[a[d]]];if(!p.isLocked){var g=s-p.positionX,h=l-p.positionY,y=Math.sqrt(g*g+h*h);if(y>r){var w=n.gravity*g/y,b=n.gravity*h/y;p.offsetX+=w,p.offsetY+=b}}}}},Tx=function(e,n){var r=[],i=0,a=-1;for(r.push.apply(r,e.graphSet[0]),a+=e.graphSet[0].length;i<=a;){var o=r[i++],s=e.idToIndex[o],l=e.layoutNodes[s],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,d=l.offsetY,p=0;p<u.length;p++){var g=e.layoutNodes[e.idToIndex[u[p]]];g.offsetX+=c,g.offsetY+=d,r[++a]=u[p]}l.offsetX=0,l.offsetY=0}}},kx=function(e,n){for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];if(!(0<i.children.length||i.isLocked)){var a=_x(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Mx(i,e)}}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},_x=function(e,n,r){var i=Math.sqrt(e*e+n*n);if(i>r)var a={x:r*e/i,y:r*n/i};else var a={x:e,y:n};return a},Mx=function t(e,n){var r=e.parentId;if(r!=null){var i=n.layoutNodes[n.idToIndex[r]],a=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,a=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,a=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,a=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,a=!0),a)return t(i,n)}},$f=function(e,n){for(var r=e.layoutNodes,i=[],a=0;a<r.length;a++){var o=r[a],s=o.cmptId,l=i[s]=i[s]||[];l.push(o)}for(var u=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var d=0;d<c.length;d++){var p=c[d];c.x1=Math.min(c.x1,p.positionX-p.width/2),c.x2=Math.max(c.x2,p.positionX+p.width/2),c.y1=Math.min(c.y1,p.positionY-p.height/2),c.y2=Math.max(c.y2,p.positionY+p.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}i.sort(function(E,S){return S.w*S.h-E.w*E.h});for(var g=0,h=0,y=0,w=0,b=Math.sqrt(u)*e.clientWidth/e.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var d=0;d<c.length;d++){var p=c[d];p.isLocked||(p.positionX+=g-c.x1,p.positionY+=h-c.y1)}g+=c.w+n.componentSpacing,y+=c.w+n.componentSpacing,w=Math.max(w,c.h),y>b&&(h+=w+n.componentSpacing,g=0,y=0,w=0)}}},Ax={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function dv(t){this.options=et({},Ax,t)}dv.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=r.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var a=En(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(a.h===0||a.w===0)r.nodes().layoutPositions(this,e,function(U){return{x:a.x1,y:a.y1}});else{var o=i.size(),s=Math.sqrt(o*a.h/a.w),l=Math.round(s),u=Math.round(a.w/a.h*s),c=function(G){if(G==null)return Math.min(l,u);var q=Math.min(l,u);q==l?l=G:u=G},d=function(G){if(G==null)return Math.max(l,u);var q=Math.max(l,u);q==l?l=G:u=G},p=e.rows,g=e.cols!=null?e.cols:e.columns;if(p!=null&&g!=null)l=p,u=g;else if(p!=null&&g==null)l=p,u=Math.ceil(o/l);else if(p==null&&g!=null)u=g,l=Math.ceil(o/u);else if(u*l>o){var h=c(),y=d();(h-1)*y>=o?c(h-1):(y-1)*h>=o&&d(y-1)}else for(;u*l<o;){var w=c(),b=d();(b+1)*w>=o?d(b+1):c(w+1)}var E=a.w/u,S=a.h/l;if(e.condense&&(E=0,S=0),e.avoidOverlap)for(var x=0;x<i.length;x++){var _=i[x],k=_._private.position;(k.x==null||k.y==null)&&(k.x=0,k.y=0);var v=_.layoutDimensions(e),D=e.avoidOverlapPadding,I=v.w+D,B=v.h+D;E=Math.max(E,I),S=Math.max(S,B)}for(var P={},L=function(G,q){return!!P["c-"+G+"-"+q]},R=function(G,q){P["c-"+G+"-"+q]=!0},O=0,F=0,$=function(){F++,F>=u&&(F=0,O++)},W={},Y=0;Y<i.length;Y++){var ie=i[Y],oe=e.position(ie);if(oe&&(oe.row!==void 0||oe.col!==void 0)){var Q={row:oe.row,col:oe.col};if(Q.col===void 0)for(Q.col=0;L(Q.row,Q.col);)Q.col++;else if(Q.row===void 0)for(Q.row=0;L(Q.row,Q.col);)Q.row++;W[ie.id()]=Q,R(Q.row,Q.col)}}var H=function(G,q){var X,re;if(G.locked()||G.isParent())return!1;var ne=W[G.id()];if(ne)X=ne.col*E+E/2+a.x1,re=ne.row*S+S/2+a.y1;else{for(;L(O,F);)$();X=F*E+E/2+a.x1,re=O*S+S/2+a.y1,R(O,F),$()}return{x:X,y:re}};i.layoutPositions(this,e,H)}return this};var Ix={ready:function(){},stop:function(){}};function tc(t){this.options=et({},Ix,t)}tc.prototype.run=function(){var t=this.options,e=t.eles,n=this;return t.cy,n.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",t.ready),n.emit("layoutready"),n.one("layoutstop",t.stop),n.emit("layoutstop"),this};tc.prototype.stop=function(){return this};var Dx={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function hv(t){this.options=et({},Dx,t)}hv.prototype.run=function(){var t=this.options,e=t.eles,n=e.nodes(),r=Nt(t.positions);function i(a){if(t.positions==null)return Ny(a.position());if(r)return t.positions(a);var o=t.positions[a._private.data.id];return o??null}return n.layoutPositions(this,t,function(a,o){var s=i(a);return a.locked()||s==null?!1:s}),this};var Px={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function vv(t){this.options=et({},Px,t)}vv.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles,r=En(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(o,s){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}};return n.nodes().layoutPositions(this,t,i),this};var Lx=[{name:"breadthfirst",impl:lv},{name:"circle",impl:uv},{name:"concentric",impl:cv},{name:"cose",impl:ol},{name:"grid",impl:dv},{name:"null",impl:tc},{name:"preset",impl:hv},{name:"random",impl:vv}];function pv(t){this.options=t,this.notifications=0}var Hf=function(){},qf=function(){throw new Error("A headless instance can not render images")};pv.prototype={recalculateRenderedStyle:Hf,notify:function(){this.notifications++},init:Hf,isHeadless:function(){return!0},png:qf,jpg:qf};var nc={};nc.arrowShapeWidth=.3;nc.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,n=function(u,c,d,p,g,h,y){var w=g.x-d/2-y,b=g.x+d/2+y,E=g.y-d/2-y,S=g.y+d/2+y,x=w<=u&&u<=b&&E<=c&&c<=S;return x},r=function(u,c,d,p,g){var h=u*Math.cos(p)-c*Math.sin(p),y=u*Math.sin(p)+c*Math.cos(p),w=h*d,b=y*d,E=w+g.x,S=b+g.y;return{x:E,y:S}},i=function(u,c,d,p){for(var g=[],h=0;h<u.length;h+=2){var y=u[h],w=u[h+1];g.push(r(y,w,c,d,p))}return g},a=function(u){for(var c=[],d=0;d<u.length;d++){var p=u[d];c.push(p.x,p.y)}return c},o=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},s=function(u,c){Ze(c)&&(c=t[c]),t[u]=et({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,g,h,y,w,b){var E=a(i(this.points,h+2*b,y,w)),S=wn(p,g,E);return S},roughCollide:n,draw:function(p,g,h,y){var w=i(this.points,g,h,y);e.arrowShapeImpl("polygon")(p,w)},spacing:function(p){return 0},gap:o},c)};s("none",{collide:ks,roughCollide:ks,draw:Hu,spacing:Zc,gap:Zc}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(u,c,d,p,g){var h=i(this.points,c,d,p),y=this.controlPoint,w=r(y[0],y[1],c,d,p);e.arrowShapeImpl(this.name)(u,h,w)},gap:function(u){return o(u)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,d,p,g,h,y){var w=a(i(this.points,d+2*y,p,g)),b=a(i(this.pointsTee,d+2*y,p,g)),E=wn(u,c,w)||wn(u,c,b);return E},draw:function(u,c,d,p,g){var h=i(this.points,c,d,p),y=i(this.pointsTee,c,d,p);e.arrowShapeImpl(this.name)(u,h,y)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,d,p,g,h,y){var w=g,b=Math.pow(w.x-u,2)+Math.pow(w.y-c,2)<=Math.pow((d+2*y)*this.radius,2),E=a(i(this.points,d+2*y,p,g));return wn(u,c,E)||b},draw:function(u,c,d,p,g){var h=i(this.pointsTr,c,d,p);e.arrowShapeImpl(this.name)(u,h,p.x,p.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var d=this.baseCrossLinePts.slice(),p=c/u,g=3,h=5;return d[g]=d[g]-p,d[h]=d[h]-p,d},collide:function(u,c,d,p,g,h,y){var w=a(i(this.points,d+2*y,p,g)),b=a(i(this.crossLinePts(d,h),d+2*y,p,g)),E=wn(u,c,w)||wn(u,c,b);return E},draw:function(u,c,d,p,g){var h=i(this.points,c,d,p),y=i(this.crossLinePts(c,g),c,d,p);e.arrowShapeImpl(this.name)(u,h,y)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return o(u)*.525}}),s("circle",{radius:.15,collide:function(u,c,d,p,g,h,y){var w=g,b=Math.pow(w.x-u,2)+Math.pow(w.y-c,2)<=Math.pow((d+2*y)*this.radius,2);return b},draw:function(u,c,d,p,g){e.arrowShapeImpl(this.name)(u,p.x,p.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var ki={};ki.projectIntoViewport=function(t,e){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],a=r[1],o=r[4],s=n.pan(),l=n.zoom(),u=((t-i)/o-s.x)/l,c=((e-a)/o-s.y)/l;return[u,c]};ki.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),n=this.cy.window().getComputedStyle(t),r=function(b){return parseFloat(n.getPropertyValue(b))},i={left:r("padding-left"),right:r("padding-right"),top:r("padding-top"),bottom:r("padding-bottom")},a={left:r("border-left-width"),right:r("border-right-width"),top:r("border-top-width"),bottom:r("border-bottom-width")},o=t.clientWidth,s=t.clientHeight,l=i.left+i.right,u=i.top+i.bottom,c=a.left+a.right,d=e.width/(o+c),p=o-l,g=s-u,h=e.left+i.left+a.left,y=e.top+i.top+a.top;return this.containerBB=[h,y,p,g,d]};ki.invalidateContainerClientCoordsCache=function(){this.containerBB=null};ki.findNearestElement=function(t,e,n,r){return this.findNearestElements(t,e,n,r)[0]};ki.findNearestElements=function(t,e,n,r){var i=this,a=this,o=a.getCachedZSortedEles(),s=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),c=(r?24:8)/l,d=(r?8:2)/l,p=(r?8:2)/l,g=1/0,h,y;n&&(o=o.interactive);function w(v,D){if(v.isNode()){if(y)return;y=v,s.push(v)}if(v.isEdge()&&(D==null||D<g))if(h){if(h.pstyle("z-compound-depth").value===v.pstyle("z-compound-depth").value&&h.pstyle("z-compound-depth").value===v.pstyle("z-compound-depth").value){for(var I=0;I<s.length;I++)if(s[I].isEdge()){s[I]=v,h=v,g=D??g;break}}}else s.push(v),h=v,g=D??g}function b(v){var D=v.outerWidth()+2*d,I=v.outerHeight()+2*d,B=D/2,P=I/2,L=v.position(),R=v.pstyle("corner-radius").value==="auto"?"auto":v.pstyle("corner-radius").pfValue,O=v._private.rscratch;if(L.x-B<=t&&t<=L.x+B&&L.y-P<=e&&e<=L.y+P){var F=a.nodeShapes[i.getNodeShape(v)];if(F.checkPoint(t,e,0,D,I,L.x,L.y,R,O))return w(v,0),!0}}function E(v){var D=v._private,I=D.rscratch,B=v.pstyle("width").pfValue,P=v.pstyle("arrow-scale").value,L=B/2+c,R=L*L,O=L*2,Y=D.source,ie=D.target,F;if(I.edgeType==="segments"||I.edgeType==="straight"||I.edgeType==="haystack"){for(var $=I.allpts,W=0;W+3<$.length;W+=2)if(Ky(t,e,$[W],$[W+1],$[W+2],$[W+3],O)&&R>(F=Jy(t,e,$[W],$[W+1],$[W+2],$[W+3])))return w(v,F),!0}else if(I.edgeType==="bezier"||I.edgeType==="multibezier"||I.edgeType==="self"||I.edgeType==="compound"){for(var $=I.allpts,W=0;W+5<I.allpts.length;W+=4)if(Yy(t,e,$[W],$[W+1],$[W+2],$[W+3],$[W+4],$[W+5],O)&&R>(F=Qy(t,e,$[W],$[W+1],$[W+2],$[W+3],$[W+4],$[W+5])))return w(v,F),!0}for(var Y=Y||D.source,ie=ie||D.target,oe=i.getArrowWidth(B,P),Q=[{name:"source",x:I.arrowStartX,y:I.arrowStartY,angle:I.srcArrowAngle},{name:"target",x:I.arrowEndX,y:I.arrowEndY,angle:I.tgtArrowAngle},{name:"mid-source",x:I.midX,y:I.midY,angle:I.midsrcArrowAngle},{name:"mid-target",x:I.midX,y:I.midY,angle:I.midtgtArrowAngle}],W=0;W<Q.length;W++){var H=Q[W],U=a.arrowShapes[v.pstyle(H.name+"-arrow-shape").value],G=v.pstyle("width").pfValue;if(U.roughCollide(t,e,oe,H.angle,{x:H.x,y:H.y},G,c)&&U.collide(t,e,oe,H.angle,{x:H.x,y:H.y},G,c))return w(v),!0}u&&s.length>0&&(b(Y),b(ie))}function S(v,D,I){return Gn(v,D,I)}function x(v,D){var I=v._private,B=p,P;D?P=D+"-":P="",v.boundingBox();var L=I.labelBounds[D||"main"],R=v.pstyle(P+"label").value,O=v.pstyle("text-events").strValue==="yes";if(!(!O||!R)){var F=S(I.rscratch,"labelX",D),$=S(I.rscratch,"labelY",D),W=S(I.rscratch,"labelAngle",D),Y=v.pstyle(P+"text-margin-x").pfValue,ie=v.pstyle(P+"text-margin-y").pfValue,oe=L.x1-B-Y,Q=L.x2+B-Y,H=L.y1-B-ie,U=L.y2+B-ie;if(W){var G=Math.cos(W),q=Math.sin(W),X=function($e,Ee){return $e=$e-F,Ee=Ee-$,{x:$e*G-Ee*q+F,y:$e*q+Ee*G+$}},re=X(oe,H),ne=X(oe,U),j=X(Q,H),te=X(Q,U),ve=[re.x+Y,re.y+ie,j.x+Y,j.y+ie,te.x+Y,te.y+ie,ne.x+Y,ne.y+ie];if(wn(t,e,ve))return w(v),!0}else if(Xi(L,t,e))return w(v),!0}}for(var _=o.length-1;_>=0;_--){var k=o[_];k.isNode()?b(k)||x(k):E(k)||x(k)||x(k,"source")||x(k,"target")}return s};ki.getAllInBox=function(t,e,n,r){var i=this.getCachedZSortedEles().interactive,a=[],o=Math.min(t,n),s=Math.max(t,n),l=Math.min(e,r),u=Math.max(e,r);t=o,n=s,e=l,r=u;for(var c=En({x1:t,y1:e,x2:n,y2:r}),d=0;d<i.length;d++){var p=i[d];if(p.isNode()){var g=p,h=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Wu(c,h)&&!Sh(h,c)&&a.push(g)}else{var y=p,w=y._private,b=w.rscratch;if(b.startX!=null&&b.startY!=null&&!Xi(c,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!Xi(c,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var E=w.rstyle.bezierPts||w.rstyle.linePts||w.rstyle.haystackPts,S=!0,x=0;x<E.length;x++)if(!Gy(c,E[x])){S=!1;break}S&&a.push(y)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&a.push(y)}}return a};var Ls={};Ls.calculateArrowAngles=function(t){var e=t._private.rscratch,n=e.edgeType==="haystack",r=e.edgeType==="bezier",i=e.edgeType==="multibezier",a=e.edgeType==="segments",o=e.edgeType==="compound",s=e.edgeType==="self",l,u,c,d,p,g,b,E;if(n?(c=e.haystackPts[0],d=e.haystackPts[1],p=e.haystackPts[2],g=e.haystackPts[3]):(c=e.arrowStartX,d=e.arrowStartY,p=e.arrowEndX,g=e.arrowEndY),b=e.midX,E=e.midY,a)l=c-e.segpts[0],u=d-e.segpts[1];else if(i||o||s||r){var h=e.allpts,y=Xt(h[0],h[2],h[4],.1),w=Xt(h[1],h[3],h[5],.1);l=c-y,u=d-w}else l=c-b,u=d-E;e.srcArrowAngle=Vo(l,u);var b=e.midX,E=e.midY;if(n&&(b=(c+p)/2,E=(d+g)/2),l=p-c,u=g-d,a){var h=e.allpts;if(h.length/2%2===0){var S=h.length/2,x=S-2;l=h[S]-h[x],u=h[S+1]-h[x+1]}else if(e.isRound)l=e.midVector[1],u=-e.midVector[0];else{var S=h.length/2-1,x=S-2;l=h[S]-h[x],u=h[S+1]-h[x+1]}}else if(i||o||s){var h=e.allpts,_=e.ctrlpts,k,v,D,I;if(_.length/2%2===0){var B=h.length/2-1,P=B+2,L=P+2;k=Xt(h[B],h[P],h[L],0),v=Xt(h[B+1],h[P+1],h[L+1],0),D=Xt(h[B],h[P],h[L],1e-4),I=Xt(h[B+1],h[P+1],h[L+1],1e-4)}else{var P=h.length/2-1,B=P-2,L=P+2;k=Xt(h[B],h[P],h[L],.4999),v=Xt(h[B+1],h[P+1],h[L+1],.4999),D=Xt(h[B],h[P],h[L],.5),I=Xt(h[B+1],h[P+1],h[L+1],.5)}l=D-k,u=I-v}if(e.midtgtArrowAngle=Vo(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,a){var h=e.allpts;if(h.length/2%2!==0){if(!e.isRound){var S=h.length/2-1,R=S+2;l=-(h[R]-h[S]),u=-(h[R+1]-h[S+1])}}}if(e.midsrcArrowAngle=Vo(l,u),a)l=p-e.segpts[e.segpts.length-2],u=g-e.segpts[e.segpts.length-1];else if(i||o||s||r){var h=e.allpts,O=h.length,y=Xt(h[O-6],h[O-4],h[O-2],.9),w=Xt(h[O-5],h[O-3],h[O-1],.9);l=p-y,u=g-w}else l=p-b,u=g-E;e.tgtArrowAngle=Vo(l,u)};Ls.getArrowWidth=Ls.getArrowHeight=function(t,e){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[t+", "+e];return r||(r=Math.max(Math.pow(t*13.37,.9),29)*e,n[t+", "+e]=r,r)};var gu,mu,ar={},Nn={},Vf,Wf,hi,gs,br,ai,ci,ir,Ri,Qo,gv,mv,yu,bu,Uf,jf=function(e,n,r){r.x=n.x-e.x,r.y=n.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},Ox=function(e,n){n.x=e.x*-1,n.y=e.y*-1,n.nx=e.nx*-1,n.ny=e.ny*-1,n.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},Nx=function(e,n,r,i,a){if(e!==Uf?jf(n,e,ar):Ox(Nn,ar),jf(n,r,Nn),Vf=ar.nx*Nn.ny-ar.ny*Nn.nx,Wf=ar.nx*Nn.nx-ar.ny*-Nn.ny,br=Math.asin(Math.max(-1,Math.min(1,Vf))),Math.abs(br)<1e-6){gu=n.x,mu=n.y,ci=Ri=0;return}hi=1,gs=!1,Wf<0?br<0?br=Math.PI+br:(br=Math.PI-br,hi=-1,gs=!0):br>0&&(hi=-1,gs=!0),n.radius!==void 0?Ri=n.radius:Ri=i,ai=br/2,Qo=Math.min(ar.len/2,Nn.len/2),a?(ir=Math.abs(Math.cos(ai)*Ri/Math.sin(ai)),ir>Qo?(ir=Qo,ci=Math.abs(ir*Math.sin(ai)/Math.cos(ai))):ci=Ri):(ir=Math.min(Qo,Ri),ci=Math.abs(ir*Math.sin(ai)/Math.cos(ai))),yu=n.x+Nn.nx*ir,bu=n.y+Nn.ny*ir,gu=yu-Nn.ny*ci*hi,mu=bu+Nn.nx*ci*hi,gv=n.x+ar.nx*ir,mv=n.y+ar.ny*ir,Uf=n};function yv(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function rc(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return r===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Nx(t,e,n,r,i),{cx:gu,cy:mu,radius:ci,startX:gv,startY:mv,stopX:yu,stopY:bu,startAngle:ar.ang+Math.PI/2*hi,endAngle:Nn.ang-Math.PI/2*hi,counterClockwise:gs})}var hn={};hn.findMidptPtsEtc=function(t,e){var n=e.posPts,r=e.intersectionPts,i=e.vectorNormInverse,a,o=t.pstyle("source-endpoint"),s=t.pstyle("target-endpoint"),l=o.units!=null&&s.units!=null,u=function(_,k,v,D){var I=D-k,B=v-_,P=Math.sqrt(B*B+I*I);return{x:-I/P,y:B/P}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":a=n;break;case"intersection":a=r;break;case"endpoints":{if(l){var d=this.manualEndptToPx(t.source()[0],o),p=Un(d,2),g=p[0],h=p[1],y=this.manualEndptToPx(t.target()[0],s),w=Un(y,2),b=w[0],E=w[1],S={x1:g,y1:h,x2:b,y2:E};i=u(g,h,b,E),a=S}else xt("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=r;break}}return{midptPts:a,vectorNormInverse:i}};hn.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n._private,i=r.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=r.source,s=r.target,l=o.position(),u=s.position(),c=o.width(),d=s.width(),p=o.height(),g=s.height(),h=n.pstyle("haystack-radius").value,y=h/2;i.haystackPts=i.allpts=[i.source.x*c*y+l.x,i.source.y*p*y+l.y,i.target.x*d*y+u.x,i.target.y*g*y+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}};hn.findSegmentsPoints=function(t,e){var n=t._private.rscratch,r=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),a=t.pstyle("segment-radii"),o=t.pstyle("radius-type"),s=Math.min(r.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=o.pfValue[o.pfValue.length-1];n.edgeType="segments",n.segpts=[],n.radii=[],n.isArcRadius=[];for(var c=0;c<s;c++){var d=r.pfValue[c],p=i.pfValue[c],g=1-d,h=d,y=this.findMidptPtsEtc(t,e),w=y.midptPts,b=y.vectorNormInverse,E={x:w.x1*g+w.x2*h,y:w.y1*g+w.y2*h};n.segpts.push(E.x+b.x*p,E.y+b.y*p),n.radii.push(a.pfValue[c]!==void 0?a.pfValue[c]:l),n.isArcRadius.push((o.pfValue[c]!==void 0?o.pfValue[c]:u)==="arc-radius")}};hn.findLoopPoints=function(t,e,n,r){var i=t._private.rscratch,a=e.dirCounts,o=e.srcPos,s=t.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var p=n,g=d;r&&(p=0,g=l);var h=u-Math.PI/2,y=h-c/2,w=h+c/2,b=u+"_"+c;p=a[b]===void 0?a[b]=0:++a[b],i.ctrlpts=[o.x+Math.cos(y)*1.4*g*(p/3+1),o.y+Math.sin(y)*1.4*g*(p/3+1),o.x+Math.cos(w)*1.4*g*(p/3+1),o.y+Math.sin(w)*1.4*g*(p/3+1)]};hn.findCompoundLoopPoints=function(t,e,n,r){var i=t._private.rscratch;i.edgeType="compound";var a=e.srcPos,o=e.tgtPos,s=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),g=p?p.pfValue[0]:void 0,h=n,y=d;r&&(h=0,y=g);var w=50,b={x:a.x-s/2,y:a.y-l/2},E={x:o.x-u/2,y:o.y-c/2},S={x:Math.min(b.x,E.x),y:Math.min(b.y,E.y)},x=.5,_=Math.max(x,Math.log(s*.01)),k=Math.max(x,Math.log(u*.01));i.ctrlpts=[S.x,S.y-(1+Math.pow(w,1.12)/100)*y*(h/3+1)*_,S.x-(1+Math.pow(w,1.12)/100)*y*(h/3+1)*k,S.y]};hn.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};hn.findBezierPoints=function(t,e,n,r,i){var a=t._private.rscratch,o=t.pstyle("control-point-step-size").pfValue,s=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=s&&l?Math.min(s.value.length,l.value.length):1,c=s?s.pfValue[0]:void 0,d=l.value[0],p=r;a.edgeType=p?"multibezier":"bezier",a.ctrlpts=[];for(var g=0;g<u;g++){var h=(.5-e.eles.length/2+n)*o*(i?-1:1),y=void 0,w=Ch(h);p&&(c=s?s.pfValue[g]:o,d=l.value[g]),r?y=c:y=c!==void 0?w*c:void 0;var b=y!==void 0?y:h,E=1-d,S=d,x=this.findMidptPtsEtc(t,e),_=x.midptPts,k=x.vectorNormInverse,v={x:_.x1*E+_.x2*S,y:_.y1*E+_.y2*S};a.ctrlpts.push(v.x+k.x*b,v.y+k.y*b)}};hn.findTaxiPoints=function(t,e){var n=t._private.rscratch;n.edgeType="segments";var r="vertical",i="horizontal",a="leftward",o="rightward",s="downward",l="upward",u="auto",c=e.posPts,d=e.srcW,p=e.srcH,g=e.tgtW,h=e.tgtH,y=t.pstyle("edge-distances").value,w=y!=="node-position",b=t.pstyle("taxi-direction").value,E=b,S=t.pstyle("taxi-turn"),x=S.units==="%",_=S.pfValue,k=_<0,v=t.pstyle("taxi-turn-min-distance").pfValue,D=w?(d+g)/2:0,I=w?(p+h)/2:0,B=c.x2-c.x1,P=c.y2-c.y1,L=function(me,J){return me>0?Math.max(me-J,0):Math.min(me+J,0)},R=L(B,D),O=L(P,I),F=!1;E===u?b=Math.abs(R)>Math.abs(O)?i:r:E===l||E===s?(b=r,F=!0):(E===a||E===o)&&(b=i,F=!0);var $=b===r,W=$?O:R,Y=$?P:B,ie=Ch(Y),oe=!1;!(F&&(x||k))&&(E===s&&Y<0||E===l&&Y>0||E===a&&Y>0||E===o&&Y<0)&&(ie*=-1,W=ie*Math.abs(W),oe=!0);var Q;if(x){var H=_<0?1+_:_;Q=H*W}else{var U=_<0?W:0;Q=U+_*ie}var G=function(me){return Math.abs(me)<v||Math.abs(me)>=Math.abs(W)},q=G(Q),X=G(Math.abs(W)-Math.abs(Q)),re=q||X;if(re&&!oe)if($){var ne=Math.abs(Y)<=p/2,j=Math.abs(B)<=g/2;if(ne){var te=(c.x1+c.x2)/2,ve=c.y1,ye=c.y2;n.segpts=[te,ve,te,ye]}else if(j){var $e=(c.y1+c.y2)/2,Ee=c.x1,Me=c.x2;n.segpts=[Ee,$e,Me,$e]}else n.segpts=[c.x1,c.y2]}else{var Fe=Math.abs(Y)<=d/2,Te=Math.abs(P)<=h/2;if(Fe){var Oe=(c.y1+c.y2)/2,Ce=c.x1,Ae=c.x2;n.segpts=[Ce,Oe,Ae,Oe]}else if(Te){var De=(c.x1+c.x2)/2,Ne=c.y1,He=c.y2;n.segpts=[De,Ne,De,He]}else n.segpts=[c.x2,c.y1]}else if($){var Xe=c.y1+Q+(w?p/2*ie:0),Se=c.x1,de=c.x2;n.segpts=[Se,Xe,de,Xe]}else{var z=c.x1+Q+(w?d/2*ie:0),le=c.y1,pe=c.y2;n.segpts=[z,le,z,pe]}if(n.isRound){var se=t.pstyle("taxi-radius").value,ue=t.pstyle("radius-type").value[0]==="arc-radius";n.radii=new Array(n.segpts.length/2).fill(se),n.isArcRadius=new Array(n.segpts.length/2).fill(ue)}};hn.tryToCorrectInvalidPoints=function(t,e){var n=t._private.rscratch;if(n.edgeType==="bezier"){var r=e.srcPos,i=e.tgtPos,a=e.srcW,o=e.srcH,s=e.tgtW,l=e.tgtH,u=e.srcShape,c=e.tgtShape,d=e.srcCornerRadius,p=e.tgtCornerRadius,g=e.srcRs,h=e.tgtRs,y=!ze(n.startX)||!ze(n.startY),w=!ze(n.arrowStartX)||!ze(n.arrowStartY),b=!ze(n.endX)||!ze(n.endY),E=!ze(n.arrowEndX)||!ze(n.arrowEndY),S=3,x=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,_=S*x,k=bi({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),v=k<_,D=bi({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),I=D<_,B=!1;if(y||w||v){B=!0;var P={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},L=Math.sqrt(P.x*P.x+P.y*P.y),R={x:P.x/L,y:P.y/L},O=Math.max(a,o),F={x:n.ctrlpts[0]+R.x*2*O,y:n.ctrlpts[1]+R.y*2*O},$=u.intersectLine(r.x,r.y,a,o,F.x,F.y,0,d,g);v?(n.ctrlpts[0]=n.ctrlpts[0]+R.x*(_-k),n.ctrlpts[1]=n.ctrlpts[1]+R.y*(_-k)):(n.ctrlpts[0]=$[0]+R.x*_,n.ctrlpts[1]=$[1]+R.y*_)}if(b||E||I){B=!0;var W={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},Y=Math.sqrt(W.x*W.x+W.y*W.y),ie={x:W.x/Y,y:W.y/Y},oe=Math.max(a,o),Q={x:n.ctrlpts[0]+ie.x*2*oe,y:n.ctrlpts[1]+ie.y*2*oe},H=c.intersectLine(i.x,i.y,s,l,Q.x,Q.y,0,p,h);I?(n.ctrlpts[0]=n.ctrlpts[0]+ie.x*(_-D),n.ctrlpts[1]=n.ctrlpts[1]+ie.y*(_-D)):(n.ctrlpts[0]=H[0]+ie.x*_,n.ctrlpts[1]=H[1]+ie.y*_)}B&&this.findEndpoints(t)}};hn.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var n=0;n+1<e.ctrlpts.length;n+=2)e.allpts.push(e.ctrlpts[n],e.ctrlpts[n+1]),n+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[n]+e.ctrlpts[n+2])/2,(e.ctrlpts[n+1]+e.ctrlpts[n+3])/2);e.allpts.push(e.endX,e.endY);var r,i;e.ctrlpts.length/2%2===0?(r=e.allpts.length/2-1,e.midX=e.allpts[r],e.midY=e.allpts[r+1]):(r=e.allpts.length/2-3,i=.5,e.midX=Xt(e.allpts[r],e.allpts[r+2],e.allpts[r+4],i),e.midY=Xt(e.allpts[r+1],e.allpts[r+3],e.allpts[r+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var o=e.radii[a/2-1],s=e.isArcRadius[a/2-1];e.roundCorners.push(rc({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:o},{x:e.allpts[a+2],y:e.allpts[a+3]},o,s))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,u=l-2;e.midX=(e.segpts[u]+e.segpts[l])/2,e.midY=(e.segpts[u+1]+e.segpts[l+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var d={x:e.segpts[c],y:e.segpts[c+1]},p=e.roundCorners[c/2],g=[d.x-p.cx,d.y-p.cy],h=p.radius/Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2));g=g.map(function(y){return y*h}),e.midX=p.cx+g[0],e.midY=p.cy+g[1],e.midVector=g}}}};hn.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||ze(e.startX)&&ze(e.startY)&&ze(e.endX)&&ze(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,xt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};hn.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var n=this,r=n.cy,i=r.hasCompoundNodes(),a={map:new lr,get:function(v){var D=this.map.get(v[0]);return D!=null?D.get(v[1]):null},set:function(v,D){var I=this.map.get(v[0]);I==null&&(I=new lr,this.map.set(v[0],I)),I.set(v[1],D)}},o=[],s=[],l=0;l<t.length;l++){var u=t[l],c=u._private,d=u.pstyle("curve-style").value;if(!(u.removed()||!u.takesUpSpace())){if(d==="haystack"){s.push(u);continue}var p=d==="unbundled-bezier"||d.endsWith("segments")||d==="straight"||d==="straight-triangle"||d.endsWith("taxi"),g=d==="unbundled-bezier"||d==="bezier",h=c.source,y=c.target,w=h.poolIndex(),b=y.poolIndex(),E=[w,b].sort(),S=a.get(E);S==null&&(S={eles:[]},a.set(E,S),o.push(E)),S.eles.push(u),p&&(S.hasUnbundled=!0),g&&(S.hasBezier=!0)}}for(var x=function(v){var D=o[v],I=a.get(D),B=void 0;if(!I.hasUnbundled){var P=I.eles[0].parallelEdges().filter(function(z){return z.isBundledBezier()});qu(I.eles),P.forEach(function(z){return I.eles.push(z)}),I.eles.sort(function(z,le){return z.poolIndex()-le.poolIndex()})}var L=I.eles[0],R=L.source(),O=L.target();if(R.poolIndex()>O.poolIndex()){var F=R;R=O,O=F}var $=I.srcPos=R.position(),W=I.tgtPos=O.position(),Y=I.srcW=R.outerWidth(),ie=I.srcH=R.outerHeight(),oe=I.tgtW=O.outerWidth(),Q=I.tgtH=O.outerHeight(),H=I.srcShape=n.nodeShapes[e.getNodeShape(R)],U=I.tgtShape=n.nodeShapes[e.getNodeShape(O)],G=I.srcCornerRadius=R.pstyle("corner-radius").value==="auto"?"auto":R.pstyle("corner-radius").pfValue,q=I.tgtCornerRadius=O.pstyle("corner-radius").value==="auto"?"auto":O.pstyle("corner-radius").pfValue,X=I.tgtRs=O._private.rscratch,re=I.srcRs=R._private.rscratch;I.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ne=0;ne<I.eles.length;ne++){var j=I.eles[ne],te=j[0]._private.rscratch,ve=j.pstyle("curve-style").value,ye=ve==="unbundled-bezier"||ve.endsWith("segments")||ve.endsWith("taxi"),$e=!R.same(j.source());if(!I.calculatedIntersection&&R!==O&&(I.hasBezier||I.hasUnbundled)){I.calculatedIntersection=!0;var Ee=H.intersectLine($.x,$.y,Y,ie,W.x,W.y,0,G,re),Me=I.srcIntn=Ee,Fe=U.intersectLine(W.x,W.y,oe,Q,$.x,$.y,0,q,X),Te=I.tgtIntn=Fe,Oe=I.intersectionPts={x1:Ee[0],x2:Fe[0],y1:Ee[1],y2:Fe[1]},Ce=I.posPts={x1:$.x,x2:W.x,y1:$.y,y2:W.y},Ae=Fe[1]-Ee[1],De=Fe[0]-Ee[0],Ne=Math.sqrt(De*De+Ae*Ae),He=I.vector={x:De,y:Ae},Xe=I.vectorNorm={x:He.x/Ne,y:He.y/Ne},Se={x:-Xe.y,y:Xe.x};I.nodesOverlap=!ze(Ne)||U.checkPoint(Ee[0],Ee[1],0,oe,Q,W.x,W.y,q,X)||H.checkPoint(Fe[0],Fe[1],0,Y,ie,$.x,$.y,G,re),I.vectorNormInverse=Se,B={nodesOverlap:I.nodesOverlap,dirCounts:I.dirCounts,calculatedIntersection:!0,hasBezier:I.hasBezier,hasUnbundled:I.hasUnbundled,eles:I.eles,srcPos:W,srcRs:X,tgtPos:$,tgtRs:re,srcW:oe,srcH:Q,tgtW:Y,tgtH:ie,srcIntn:Te,tgtIntn:Me,srcShape:U,tgtShape:H,posPts:{x1:Ce.x2,y1:Ce.y2,x2:Ce.x1,y2:Ce.y1},intersectionPts:{x1:Oe.x2,y1:Oe.y2,x2:Oe.x1,y2:Oe.y1},vector:{x:-He.x,y:-He.y},vectorNorm:{x:-Xe.x,y:-Xe.y},vectorNormInverse:{x:-Se.x,y:-Se.y}}}var de=$e?B:I;te.nodesOverlap=de.nodesOverlap,te.srcIntn=de.srcIntn,te.tgtIntn=de.tgtIntn,te.isRound=ve.startsWith("round"),i&&(R.isParent()||R.isChild()||O.isParent()||O.isChild())&&(R.parents().anySame(O)||O.parents().anySame(R)||R.same(O)&&R.isParent())?e.findCompoundLoopPoints(j,de,ne,ye):R===O?e.findLoopPoints(j,de,ne,ye):ve.endsWith("segments")?e.findSegmentsPoints(j,de):ve.endsWith("taxi")?e.findTaxiPoints(j,de):ve==="straight"||!ye&&I.eles.length%2===1&&ne===Math.floor(I.eles.length/2)?e.findStraightEdgePoints(j):e.findBezierPoints(j,de,ne,ye,$e),e.findEndpoints(j),e.tryToCorrectInvalidPoints(j,de),e.checkForInvalidEdgeWarning(j),e.storeAllpts(j),e.storeEdgeProjections(j),e.calculateArrowAngles(j),e.recalculateEdgeLabelProjections(j),e.calculateLabelAngles(j)}},_=0;_<o.length;_++)x(_);this.findHaystackPoints(s)}};function bv(t){var e=[];if(t!=null){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e.push({x:r,y:i})}return e}}hn.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var n=e.edgeType;if(n==="segments")return bv(e.segpts)};hn.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var n=e.edgeType;if(n==="bezier"||n==="multibezier"||n==="self"||n==="compound")return bv(e.ctrlpts)};hn.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var xo={};xo.manualEndptToPx=function(t,e){var n=this,r=t.position(),i=t.outerWidth(),a=t.outerHeight(),o=t._private.rscratch;if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*i),e.units[1]==="%"&&(s[1]=s[1]*a),s[0]+=r.x,s[1]+=r.y,s}else{var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(i,a),c=[r.x+Math.cos(l)*u,r.y+Math.sin(l)*u];return n.nodeShapes[this.getNodeShape(t)].intersectLine(r.x,r.y,i,a,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,o)}};xo.findEndpoints=function(t){var e=this,n,r=t.source()[0],i=t.target()[0],a=r.position(),o=i.position(),s=t.pstyle("target-arrow-shape").value,l=t.pstyle("source-arrow-shape").value,u=t.pstyle("target-distance-from-node").pfValue,c=t.pstyle("source-distance-from-node").pfValue,d=r._private.rscratch,p=i._private.rscratch,g=t.pstyle("curve-style").value,h=t._private.rscratch,y=h.edgeType,w=g==="taxi",b=y==="self"||y==="compound",E=y==="bezier"||y==="multibezier"||b,S=y!=="bezier",x=y==="straight"||y==="segments",_=y==="segments",k=E||S||x,v=b||w,D=t.pstyle("source-endpoint"),I=v?"outside-to-node":D.value,B=r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,P=t.pstyle("target-endpoint"),L=v?"outside-to-node":P.value,R=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;h.srcManEndpt=D,h.tgtManEndpt=P;var O,F,$,W;if(E){var Y=[h.ctrlpts[0],h.ctrlpts[1]],ie=S?[h.ctrlpts[h.ctrlpts.length-2],h.ctrlpts[h.ctrlpts.length-1]]:Y;O=ie,F=Y}else if(x){var oe=_?h.segpts.slice(0,2):[o.x,o.y],Q=_?h.segpts.slice(h.segpts.length-2):[a.x,a.y];O=Q,F=oe}if(L==="inside-to-node")n=[o.x,o.y];else if(P.units)n=this.manualEndptToPx(i,P);else if(L==="outside-to-line")n=h.tgtIntn;else if(L==="outside-to-node"||L==="outside-to-node-or-label"?$=O:(L==="outside-to-line"||L==="outside-to-line-or-label")&&($=[a.x,a.y]),n=e.nodeShapes[this.getNodeShape(i)].intersectLine(o.x,o.y,i.outerWidth(),i.outerHeight(),$[0],$[1],0,R,p),L==="outside-to-node-or-label"||L==="outside-to-line-or-label"){var H=i._private.rscratch,U=H.labelWidth,G=H.labelHeight,q=H.labelX,X=H.labelY,re=U/2,ne=G/2,j=i.pstyle("text-valign").value;j==="top"?X-=ne:j==="bottom"&&(X+=ne);var te=i.pstyle("text-halign").value;te==="left"?q-=re:te==="right"&&(q+=re);var ve=ro($[0],$[1],[q-re,X-ne,q+re,X-ne,q+re,X+ne,q-re,X+ne],o.x,o.y);if(ve.length>0){var ye=a,$e=li(ye,qi(n)),Ee=li(ye,qi(ve)),Me=$e;if(Ee<$e&&(n=ve,Me=Ee),ve.length>2){var Fe=li(ye,{x:ve[2],y:ve[3]});Fe<Me&&(n=[ve[2],ve[3]])}}}var Te=Wo(n,O,e.arrowShapes[s].spacing(t)+u),Oe=Wo(n,O,e.arrowShapes[s].gap(t)+u);if(h.endX=Oe[0],h.endY=Oe[1],h.arrowEndX=Te[0],h.arrowEndY=Te[1],I==="inside-to-node")n=[a.x,a.y];else if(D.units)n=this.manualEndptToPx(r,D);else if(I==="outside-to-line")n=h.srcIntn;else if(I==="outside-to-node"||I==="outside-to-node-or-label"?W=F:(I==="outside-to-line"||I==="outside-to-line-or-label")&&(W=[o.x,o.y]),n=e.nodeShapes[this.getNodeShape(r)].intersectLine(a.x,a.y,r.outerWidth(),r.outerHeight(),W[0],W[1],0,B,d),I==="outside-to-node-or-label"||I==="outside-to-line-or-label"){var Ce=r._private.rscratch,Ae=Ce.labelWidth,De=Ce.labelHeight,Ne=Ce.labelX,He=Ce.labelY,Xe=Ae/2,Se=De/2,de=r.pstyle("text-valign").value;de==="top"?He-=Se:de==="bottom"&&(He+=Se);var z=r.pstyle("text-halign").value;z==="left"?Ne-=Xe:z==="right"&&(Ne+=Xe);var le=ro(W[0],W[1],[Ne-Xe,He-Se,Ne+Xe,He-Se,Ne+Xe,He+Se,Ne-Xe,He+Se],a.x,a.y);if(le.length>0){var pe=o,se=li(pe,qi(n)),ue=li(pe,qi(le)),ke=se;if(ue<se&&(n=[le[0],le[1]],ke=ue),le.length>2){var me=li(pe,{x:le[2],y:le[3]});me<ke&&(n=[le[2],le[3]])}}}var J=Wo(n,F,e.arrowShapes[l].spacing(t)+c),be=Wo(n,F,e.arrowShapes[l].gap(t)+c);h.startX=be[0],h.startY=be[1],h.arrowStartX=J[0],h.arrowStartY=J[1],k&&(!ze(h.startX)||!ze(h.startY)||!ze(h.endX)||!ze(h.endY)?h.badLine=!0:h.badLine=!1)};xo.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};xo.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var ic={};function Bx(t,e,n){for(var r=function(u,c,d,p){return Xt(u,c,d,p)},i=e._private,a=i.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var s=t.bezierProjPcts[o];a.push({x:r(n[0],n[2],n[4],s),y:r(n[1],n[3],n[5],s)})}}ic.storeEdgeProjections=function(t){var e=t._private,n=e.rscratch,r=n.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,r==="multibezier"||r==="bezier"||r==="self"||r==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)Bx(this,t,n.allpts.slice(i,i+6))}else if(r==="segments")for(var a=e.rstyle.linePts=[],i=0;i+1<n.allpts.length;i+=2)a.push({x:n.allpts[i],y:n.allpts[i+1]});else if(r==="haystack"){var o=n.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};ic.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var pr={};pr.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Wr(e)){var n,r,i=t._private,a=t.width(),o=t.height(),s=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,d=i.rscratch,p=i.rstyle;switch(u){case"left":n=l.x-a/2-s;break;case"right":n=l.x+a/2+s;break;default:n=l.x}switch(c){case"top":r=l.y-o/2-s;break;case"bottom":r=l.y+o/2+s;break;default:r=l.y}d.labelX=n,d.labelY=r,p.labelX=n,p.labelY=r,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var wv=function(e,n){var r=Math.atan(n/e);return e===0&&r<0&&(r=r*-1),r},xv=function(e,n){var r=n.x-e.x,i=n.y-e.y;return wv(r,i)},Rx=function(e,n,r,i){var a=no(0,i-.001,1),o=no(0,i+.001,1),s=Ui(e,n,r,a),l=Ui(e,n,r,o);return xv(s,l)};pr.recalculateEdgeLabelProjections=function(t){var e,n=t._private,r=n.rscratch,i=this,a={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:r.midX,y:r.midY};var o=function(d,p,g){Rr(n.rscratch,d,p,g),Rr(n.rstyle,d,p,g)};o("labelX",null,e.x),o("labelY",null,e.y);var s=wv(r.midDispX,r.midDispY);o("labelAutoAngle",null,s);var l=function c(){if(c.cache)return c.cache;for(var d=[],p=0;p+5<r.allpts.length;p+=4){var g={x:r.allpts[p],y:r.allpts[p+1]},h={x:r.allpts[p+2],y:r.allpts[p+3]},y={x:r.allpts[p+4],y:r.allpts[p+5]};d.push({p0:g,p1:h,p2:y,startDist:0,length:0,segments:[]})}var w=n.rstyle.bezierPts,b=i.bezierProjPcts.length;function E(v,D,I,B,P){var L=bi(D,I),R=v.segments[v.segments.length-1],O={p0:D,p1:I,t0:B,t1:P,startDist:R?R.startDist+R.length:0,length:L};v.segments.push(O),v.length+=L}for(var S=0;S<d.length;S++){var x=d[S],_=d[S-1];_&&(x.startDist=_.startDist+_.length),E(x,x.p0,w[S*b],0,i.bezierProjPcts[0]);for(var k=0;k<b-1;k++)E(x,w[S*b+k],w[S*b+k+1],i.bezierProjPcts[k],i.bezierProjPcts[k+1]);E(x,w[S*b+b-1],x.p2,i.bezierProjPcts[b-1],1)}return c.cache=d},u=function(d){var p,g=d==="source";if(a[d]){var h=t.pstyle(d+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=l(),w,b=0,E=0,S=0;S<y.length;S++){for(var x=y[g?S:y.length-1-S],_=0;_<x.segments.length;_++){var k=x.segments[g?_:x.segments.length-1-_],v=S===y.length-1&&_===x.segments.length-1;if(b=E,E+=k.length,E>=h||v){w={cp:x,segment:k};break}}if(w)break}var D=w.cp,I=w.segment,B=(h-b)/I.length,P=I.t1-I.t0,L=g?I.t0+P*B:I.t1-P*B;L=no(0,L,1),e=Ui(D.p0,D.p1,D.p2,L),p=Rx(D.p0,D.p1,D.p2,L);break}case"straight":case"segments":case"haystack":{for(var R=0,O,F,$,W,Y=r.allpts.length,ie=0;ie+3<Y&&(g?($={x:r.allpts[ie],y:r.allpts[ie+1]},W={x:r.allpts[ie+2],y:r.allpts[ie+3]}):($={x:r.allpts[Y-2-ie],y:r.allpts[Y-1-ie]},W={x:r.allpts[Y-4-ie],y:r.allpts[Y-3-ie]}),O=bi($,W),F=R,R+=O,!(R>=h));ie+=2);var oe=h-F,Q=oe/O;Q=no(0,Q,1),e=qy($,W,Q),p=xv($,W);break}}o("labelX",d,e.x),o("labelY",d,e.y),o("labelAutoAngle",d,p)}};u("source"),u("target"),this.applyLabelDimensions(t)}};pr.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};pr.applyPrefixedLabelDimensions=function(t,e){var n=t._private,r=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,r),a=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,s=Gn(n.rscratch,"labelWrapCachedLines",e)||[],l=o!=="wrap"?1:Math.max(s.length,1),u=i.height/l,c=u*a,d=i.width,p=i.height+(l-1)*(a-1)*u;Rr(n.rstyle,"labelWidth",e,d),Rr(n.rscratch,"labelWidth",e,d),Rr(n.rstyle,"labelHeight",e,p),Rr(n.rscratch,"labelHeight",e,p),Rr(n.rscratch,"labelLineHeight",e,c)};pr.getLabelText=function(t,e){var n=t._private,r=e?e+"-":"",i=t.pstyle(r+"label").strValue,a=t.pstyle("text-transform").value,o=function(U,G){return G?(Rr(n.rscratch,U,e,G),G):Gn(n.rscratch,U,e)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u="â",c=i.split(`
`),d=t.pstyle("text-max-width").pfValue,p=t.pstyle("text-overflow-wrap").value,g=p==="anywhere",h=[],y=/[\s\u200b]+|$/g,w=0;w<c.length;w++){var b=c[w],E=this.calculateLabelDimensions(t,b),S=E.width;if(g){var x=b.split("").join(u);b=x}if(S>d){var _=b.matchAll(y),k="",v=0,D=rh(_),I;try{for(D.s();!(I=D.n()).done;){var B=I.value,P=B[0],L=b.substring(v,B.index);v=B.index+P.length;var R=k.length===0?L:k+L+P,O=this.calculateLabelDimensions(t,R),F=O.width;F<=d?k+=L+P:(k&&h.push(k),k=L+P)}}catch(H){D.e(H)}finally{D.f()}k.match(/^[\s\u200b]+$/)||h.push(k)}else h.push(b)}o("labelWrapCachedLines",h),i=o("labelWrapCachedText",h.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var $=t.pstyle("text-max-width").pfValue,W="",Y="â¦",ie=!1;if(this.calculateLabelDimensions(t,i).width<$)return i;for(var oe=0;oe<i.length;oe++){var Q=this.calculateLabelDimensions(t,W+i[oe]+Y).width;if(Q>$)break;W+=i[oe],oe===i.length-1&&(ie=!0)}return ie||(W+=Y),W}return i};pr.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,n=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(n){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};pr.calculateLabelDimensions=function(t,e){var n=this,r=n.cy.window(),i=r.document,a=yi(e,t._private.labelDimsKey),o=n.labelDimCache||(n.labelDimCache=[]),s=o[a];if(s!=null)return s;var l=0,u=t.pstyle("font-style").strValue,c=t.pstyle("font-size").pfValue,d=t.pstyle("font-family").strValue,p=t.pstyle("font-weight").strValue,g=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!g){g=this.labelCalcCanvas=i.createElement("canvas"),h=this.labelCalcCanvasContext=g.getContext("2d");var y=g.style;y.position="absolute",y.left="-9999px",y.top="-9999px",y.zIndex="-1",y.visibility="hidden",y.pointerEvents="none"}h.font="".concat(u," ").concat(p," ").concat(c,"px ").concat(d);for(var w=0,b=0,E=e.split(`
`),S=0;S<E.length;S++){var x=E[S],_=h.measureText(x),k=Math.ceil(_.width),v=c;w=Math.max(k,w),b+=v}return w+=l,b+=l,o[a]={width:w,height:b}};pr.calculateLabelAngle=function(t,e){var n=t._private,r=n.rscratch,i=t.isEdge(),a=e?e+"-":"",o=t.pstyle(a+"text-rotation"),s=o.strValue;return s==="none"?0:i&&s==="autorotate"?r.labelAutoAngle:s==="autorotate"?0:o.pfValue};pr.calculateLabelAngles=function(t){var e=this,n=t.isEdge(),r=t._private,i=r.rscratch;i.labelAngle=e.calculateLabelAngle(t),n&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Cv={},Gf=28,Kf=!1;Cv.getNodeShape=function(t){var e=this,n=t.pstyle("shape").value;if(n==="cutrectangle"&&(t.width()<Gf||t.height()<Gf))return Kf||(xt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Kf=!0),"rectangle";if(t.isParent())return n==="rectangle"||n==="roundrectangle"||n==="round-rectangle"||n==="cutrectangle"||n==="cut-rectangle"||n==="barrel"?n:"rectangle";if(n==="polygon"){var r=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(r).name}return n};var sl={};sl.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),n=this,r=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),s)for(var l=0;l<o.length;l++){var u=o[l],c=u._private,d=c.rstyle;d.clean=!1,d.cleanConnected=!1}};n.binder(t).on("bounds.* dirty.*",function(o){var s=o.target;r(s)}).on("style.* background.*",function(o){var s=o.target;r(s,!1)});var i=function(o){if(o){var s=n.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(r(u.connectedEdges()),c.cleanConnected=!0)}if(s)for(var d=0;d<s.length;d++){var p=s[d];p(o,e)}n.recalculateRenderedStyle(e),e=t.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)};sl.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};sl.recalculateRenderedStyle=function(t,e){var n=function(x){return x._private.rstyle.cleanConnected},r=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<t.length;a++){var o=t[a],s=o._private,l=s.rstyle;o.isEdge()&&(!n(o.source())||!n(o.target()))&&(l.clean=!1),!(e&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(o):r.push(o),l.clean=!0)}for(var u=0;u<i.length;u++){var c=i[u],d=c._private,p=d.rstyle,g=c.position();this.recalculateNodeLabelProjection(c),p.nodeX=g.x,p.nodeY=g.y,p.nodeW=c.pstyle("width").pfValue,p.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var h=0;h<r.length;h++){var y=r[h],w=y._private,b=w.rstyle,E=w.rscratch;b.srcX=E.arrowStartX,b.srcY=E.arrowStartY,b.tgtX=E.arrowEndX,b.tgtY=E.arrowEndY,b.midX=E.midX,b.midY=E.midY,b.labelAngle=E.labelAngle,b.sourceLabelAngle=E.sourceLabelAngle,b.targetLabelAngle=E.targetLabelAngle}}};var ll={};ll.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],n=0;n<t.length;n++){var r=t[n],i=r._private.rscratch;r.grabbed()&&!r.isParent()?e.push(r):i.inDragLayer?t.drag.push(r):t.nondrag.push(r)}for(var n=0;n<e.length;n++){var r=e[n];t.drag.push(r)}}};ll.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};ll.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(av),e.interactive=e.filter(function(n){return n.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Ev={};[ki,Ls,hn,xo,ic,pr,Cv,sl,ll].forEach(function(t){et(Ev,t)});var Sv={};Sv.getCachedImage=function(t,e,n){var r=this,i=r.imageCache=r.imageCache||{},a=i[t];if(a)return a.image.complete||a.image.addEventListener("load",n),a.image;a=i[t]=i[t]||{};var o=a.image=new Image;o.addEventListener("load",n),o.addEventListener("error",function(){o.error=!0});var s="data:",l=t.substring(0,s.length).toLowerCase()===s;return l||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o};var ha={};ha.registerBinding=function(t,e,n,r){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var a=[],o=0;o<t.length;o++){var s=t[o];if(s!==void 0){var l=this.binder(s);a.push(l.on.apply(l,i))}}return a}var l=this.binder(t);return l.on.apply(l,i)};ha.binder=function(t){var e=this,n=e.cy.window(),r=t===n||t===n.document||t===n.document.body||lm(t);if(e.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});n.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=i}var o=function(l,u,c){var d=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(d[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:d}),(t.addEventListener||t.on).apply(t,d),this};return{on:o,addEventListener:o,addListener:o,bind:o}};ha.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};ha.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};ha.load=function(){var t=this,e=t.cy.window(),n=function(z){return z.selected()},r=function(z){var le=z.getRootNode();if(le&&le.nodeType===11&&le.host!==void 0)return le},i=function(z,le,pe,se){z==null&&(z=t.cy);for(var ue=0;ue<le.length;ue++){var ke=le[ue];z.emit({originalEvent:pe,type:ke,position:se})}},a=function(z){return z.shiftKey||z.metaKey||z.ctrlKey},o=function(z,le){var pe=!0;if(t.cy.hasCompoundNodes()&&z&&z.pannable())for(var se=0;le&&se<le.length;se++){var z=le[se];if(z.isNode()&&z.isParent()&&!z.pannable()){pe=!1;break}}else pe=!0;return pe},s=function(z){z[0]._private.grabbed=!0},l=function(z){z[0]._private.grabbed=!1},u=function(z){z[0]._private.rscratch.inDragLayer=!0},c=function(z){z[0]._private.rscratch.inDragLayer=!1},d=function(z){z[0]._private.rscratch.isGrabTarget=!0},p=function(z){z[0]._private.rscratch.isGrabTarget=!1},g=function(z,le){var pe=le.addToList,se=pe.has(z);!se&&z.grabbable()&&!z.locked()&&(pe.merge(z),s(z))},h=function(z,le){if(z.cy().hasCompoundNodes()&&!(le.inDragLayer==null&&le.addToList==null)){var pe=z.descendants();le.inDragLayer&&(pe.forEach(u),pe.connectedEdges().forEach(u)),le.addToList&&g(pe,le)}},y=function(z,le){le=le||{};var pe=z.cy().hasCompoundNodes();le.inDragLayer&&(z.forEach(u),z.neighborhood().stdFilter(function(se){return!pe||se.isEdge()}).forEach(u)),le.addToList&&z.forEach(function(se){g(se,le)}),h(z,le),E(z,{inDragLayer:le.inDragLayer}),t.updateCachedGrabbedEles()},w=y,b=function(z){z&&(t.getCachedZSortedEles().forEach(function(le){l(le),c(le),p(le)}),t.updateCachedGrabbedEles())},E=function(z,le){if(!(le.inDragLayer==null&&le.addToList==null)&&z.cy().hasCompoundNodes()){var pe=z.ancestors().orphans();if(!pe.same(z)){var se=pe.descendants().spawnSelf().merge(pe).unmerge(z).unmerge(z.descendants()),ue=se.connectedEdges();le.inDragLayer&&(ue.forEach(u),se.forEach(u)),le.addToList&&se.forEach(function(ke){g(ke,le)})}}},S=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},x=typeof MutationObserver<"u",_=typeof ResizeObserver<"u";x?(t.removeObserver=new MutationObserver(function(de){for(var z=0;z<de.length;z++){var le=de[z],pe=le.removedNodes;if(pe)for(var se=0;se<pe.length;se++){var ue=pe[se];if(ue===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(de){t.destroy()});var k=Gs(function(){t.cy.resize()},100);x&&(t.styleObserver=new MutationObserver(k),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",k),_&&(t.resizeObserver=new ResizeObserver(k),t.resizeObserver.observe(t.container));var v=function(z,le){for(;z!=null;)le(z),z=z.parentNode},D=function(){t.invalidateContainerClientCoordsCache()};v(t.container,function(de){t.registerBinding(de,"transitionend",D),t.registerBinding(de,"animationend",D),t.registerBinding(de,"scroll",D)}),t.registerBinding(t.container,"contextmenu",function(de){de.preventDefault()});var I=function(){return t.selection[4]!==0},B=function(z){for(var le=t.findContainerClientCoords(),pe=le[0],se=le[1],ue=le[2],ke=le[3],me=z.touches?z.touches:[z],J=!1,be=0;be<me.length;be++){var Ie=me[be];if(pe<=Ie.clientX&&Ie.clientX<=pe+ue&&se<=Ie.clientY&&Ie.clientY<=se+ke){J=!0;break}}if(!J)return!1;for(var _e=t.container,Be=z.target,Ge=Be.parentNode,je=!1;Ge;){if(Ge===_e){je=!0;break}Ge=Ge.parentNode}return!!je};t.registerBinding(t.container,"mousedown",function(z){if(B(z)&&!(t.hoverData.which===1&&z.which!==1)){z.preventDefault(),S(),t.hoverData.capture=!0,t.hoverData.which=z.which;var le=t.cy,pe=[z.clientX,z.clientY],se=t.projectIntoViewport(pe[0],pe[1]),ue=t.selection,ke=t.findNearestElements(se[0],se[1],!0,!1),me=ke[0],J=t.dragData.possibleDragElements;t.hoverData.mdownPos=se,t.hoverData.mdownGPos=pe;var be=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var at=t.hoverData.down;at?at.emit({originalEvent:z,type:"taphold",position:{x:se[0],y:se[1]}}):le.emit({originalEvent:z,type:"taphold",position:{x:se[0],y:se[1]}})}},t.tapholdDuration)};if(z.which==3){t.hoverData.cxtStarted=!0;var Ie={originalEvent:z,type:"cxttapstart",position:{x:se[0],y:se[1]}};me?(me.activate(),me.emit(Ie),t.hoverData.down=me):le.emit(Ie),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(z.which==1){me&&me.activate();{if(me!=null&&t.nodeIsGrabbable(me)){var _e=function(at){return{originalEvent:z,type:at,position:{x:se[0],y:se[1]}}},Be=function(at){at.emit(_e("grab"))};if(d(me),!me.selected())J=t.dragData.possibleDragElements=le.collection(),w(me,{addToList:J}),me.emit(_e("grabon")).emit(_e("grab"));else{J=t.dragData.possibleDragElements=le.collection();var Ge=le.$(function(je){return je.isNode()&&je.selected()&&t.nodeIsGrabbable(je)});y(Ge,{addToList:J}),me.emit(_e("grabon")),Ge.forEach(Be)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=me,t.hoverData.downs=ke,t.hoverData.downTime=new Date().getTime()}i(me,["mousedown","tapstart","vmousedown"],z,{x:se[0],y:se[1]}),me==null?(ue[4]=1,t.data.bgActivePosistion={x:se[0],y:se[1]},t.redrawHint("select",!0),t.redraw()):me.pannable()&&(ue[4]=1),be()}ue[0]=ue[2]=se[0],ue[1]=ue[3]=se[1]}},!1);var P=r(t.container);t.registerBinding([e,P],"mousemove",function(z){var le=t.hoverData.capture;if(!(!le&&!B(z))){var pe=!1,se=t.cy,ue=se.zoom(),ke=[z.clientX,z.clientY],me=t.projectIntoViewport(ke[0],ke[1]),J=t.hoverData.mdownPos,be=t.hoverData.mdownGPos,Ie=t.selection,_e=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(_e=t.findNearestElement(me[0],me[1],!0,!1));var Be=t.hoverData.last,Ge=t.hoverData.down,je=[me[0]-Ie[2],me[1]-Ie[3]],at=t.dragData.possibleDragElements,gt;if(be){var It=ke[0]-be[0],Ht=It*It,lt=ke[1]-be[1],ot=lt*lt,Dt=Ht+ot;t.hoverData.isOverThresholdDrag=gt=Dt>=t.desktopTapThreshold2}var Ft=a(z);gt&&(t.hoverData.tapholdCancelled=!0);var Lt=function(){var Pn=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Pn.length===0?(Pn.push(je[0]),Pn.push(je[1])):(Pn[0]+=je[0],Pn[1]+=je[1])};pe=!0,i(_e,["mousemove","vmousemove","tapdrag"],z,{x:me[0],y:me[1]});var Sn=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||se.emit({originalEvent:z,type:"boxstart",position:{x:me[0],y:me[1]}}),Ie[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(gt){var Vt={originalEvent:z,type:"cxtdrag",position:{x:me[0],y:me[1]}};Ge?Ge.emit(Vt):se.emit(Vt),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||_e!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:me[0],y:me[1]}}),t.hoverData.cxtOver=_e,_e&&_e.emit({originalEvent:z,type:"cxtdragover",position:{x:me[0],y:me[1]}}))}}else if(t.hoverData.dragging){if(pe=!0,se.panningEnabled()&&se.userPanningEnabled()){var Zt;if(t.hoverData.justStartedPan){var Tn=t.hoverData.mdownPos;Zt={x:(me[0]-Tn[0])*ue,y:(me[1]-Tn[1])*ue},t.hoverData.justStartedPan=!1}else Zt={x:je[0]*ue,y:je[1]*ue};se.panBy(Zt),se.emit("dragpan"),t.hoverData.dragged=!0}me=t.projectIntoViewport(z.clientX,z.clientY)}else if(Ie[4]==1&&(Ge==null||Ge.pannable())){if(gt){if(!t.hoverData.dragging&&se.boxSelectionEnabled()&&(Ft||!se.panningEnabled()||!se.userPanningEnabled()))Sn();else if(!t.hoverData.selecting&&se.panningEnabled()&&se.userPanningEnabled()){var gn=o(Ge,t.hoverData.downs);gn&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ie[4]=0,t.data.bgActivePosistion=qi(J),t.redrawHint("select",!0),t.redraw())}Ge&&Ge.pannable()&&Ge.active()&&Ge.unactivate()}}else{if(Ge&&Ge.pannable()&&Ge.active()&&Ge.unactivate(),(!Ge||!Ge.grabbed())&&_e!=Be&&(Be&&i(Be,["mouseout","tapdragout"],z,{x:me[0],y:me[1]}),_e&&i(_e,["mouseover","tapdragover"],z,{x:me[0],y:me[1]}),t.hoverData.last=_e),Ge)if(gt){if(se.boxSelectionEnabled()&&Ft)Ge&&Ge.grabbed()&&(b(at),Ge.emit("freeon"),at.emit("free"),t.dragData.didDrag&&(Ge.emit("dragfreeon"),at.emit("dragfree"))),Sn();else if(Ge&&Ge.grabbed()&&t.nodeIsDraggable(Ge)){var Yt=!t.dragData.didDrag;Yt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||y(at,{inDragLayer:!0});var qt={x:0,y:0};if(ze(je[0])&&ze(je[1])&&(qt.x+=je[0],qt.y+=je[1],Yt)){var on=t.hoverData.dragDelta;on&&ze(on[0])&&ze(on[1])&&(qt.x+=on[0],qt.y+=on[1])}t.hoverData.draggingEles=!0,at.silentShift(qt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Lt();pe=!0}if(Ie[2]=me[0],Ie[3]=me[1],pe)return z.stopPropagation&&z.stopPropagation(),z.preventDefault&&z.preventDefault(),!1}},!1);var L,R,O;t.registerBinding(e,"mouseup",function(z){if(!(t.hoverData.which===1&&z.which!==1&&t.hoverData.capture)){var le=t.hoverData.capture;if(le){t.hoverData.capture=!1;var pe=t.cy,se=t.projectIntoViewport(z.clientX,z.clientY),ue=t.selection,ke=t.findNearestElement(se[0],se[1],!0,!1),me=t.dragData.possibleDragElements,J=t.hoverData.down,be=a(z);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,J&&J.unactivate(),t.hoverData.which===3){var Ie={originalEvent:z,type:"cxttapend",position:{x:se[0],y:se[1]}};if(J?J.emit(Ie):pe.emit(Ie),!t.hoverData.cxtDragged){var _e={originalEvent:z,type:"cxttap",position:{x:se[0],y:se[1]}};J?J.emit(_e):pe.emit(_e)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(ke,["mouseup","tapend","vmouseup"],z,{x:se[0],y:se[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(J,["click","tap","vclick"],z,{x:se[0],y:se[1]}),R=!1,z.timeStamp-O<=pe.multiClickDebounceTime()?(L&&clearTimeout(L),R=!0,O=null,i(J,["dblclick","dbltap","vdblclick"],z,{x:se[0],y:se[1]})):(L=setTimeout(function(){R||i(J,["oneclick","onetap","voneclick"],z,{x:se[0],y:se[1]})},pe.multiClickDebounceTime()),O=z.timeStamp)),J==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(z)&&(pe.$(n).unselect(["tapunselect"]),me.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=me=pe.collection()),ke==J&&!t.dragData.didDrag&&!t.hoverData.selecting&&ke!=null&&ke._private.selectable&&(t.hoverData.dragging||(pe.selectionType()==="additive"||be?ke.selected()?ke.unselect(["tapunselect"]):ke.select(["tapselect"]):be||(pe.$(n).unmerge(ke).unselect(["tapunselect"]),ke.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Be=pe.collection(t.getAllInBox(ue[0],ue[1],ue[2],ue[3]));t.redrawHint("select",!0),Be.length>0&&t.redrawHint("eles",!0),pe.emit({type:"boxend",originalEvent:z,position:{x:se[0],y:se[1]}});var Ge=function(gt){return gt.selectable()&&!gt.selected()};pe.selectionType()==="additive"||be||pe.$(n).unmerge(Be).unselect(),Be.emit("box").stdFilter(Ge).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ue[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var je=J&&J.grabbed();b(me),je&&(J.emit("freeon"),me.emit("free"),t.dragData.didDrag&&(J.emit("dragfreeon"),me.emit("dragfree")))}}ue[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var F=function(z){if(!t.scrollingPage){var le=t.cy,pe=le.zoom(),se=le.pan(),ue=t.projectIntoViewport(z.clientX,z.clientY),ke=[ue[0]*pe+se.x,ue[1]*pe+se.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||I()){z.preventDefault();return}if(le.panningEnabled()&&le.userPanningEnabled()&&le.zoomingEnabled()&&le.userZoomingEnabled()){z.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var me;z.deltaY!=null?me=z.deltaY/-250:z.wheelDeltaY!=null?me=z.wheelDeltaY/1e3:me=z.wheelDelta/1e3,me=me*t.wheelSensitivity;var J=z.deltaMode===1;J&&(me*=33);var be=le.zoom()*Math.pow(10,me);z.type==="gesturechange"&&(be=t.gestureStartZoom*z.scale),le.zoom({level:be,renderedPosition:{x:ke[0],y:ke[1]}}),le.emit(z.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",F,!0),t.registerBinding(e,"scroll",function(z){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(z){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||z.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(de){t.hasTouchStarted||F(de)},!0),t.registerBinding(t.container,"mouseout",function(z){var le=t.projectIntoViewport(z.clientX,z.clientY);t.cy.emit({originalEvent:z,type:"mouseout",position:{x:le[0],y:le[1]}})},!1),t.registerBinding(t.container,"mouseover",function(z){var le=t.projectIntoViewport(z.clientX,z.clientY);t.cy.emit({originalEvent:z,type:"mouseover",position:{x:le[0],y:le[1]}})},!1);var $,W,Y,ie,oe,Q,H,U,G,q,X,re,ne,j=function(z,le,pe,se){return Math.sqrt((pe-z)*(pe-z)+(se-le)*(se-le))},te=function(z,le,pe,se){return(pe-z)*(pe-z)+(se-le)*(se-le)},ve;t.registerBinding(t.container,"touchstart",ve=function(z){if(t.hasTouchStarted=!0,!!B(z)){S(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var le=t.cy,pe=t.touchData.now,se=t.touchData.earlier;if(z.touches[0]){var ue=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);pe[0]=ue[0],pe[1]=ue[1]}if(z.touches[1]){var ue=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);pe[2]=ue[0],pe[3]=ue[1]}if(z.touches[2]){var ue=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);pe[4]=ue[0],pe[5]=ue[1]}if(z.touches[1]){t.touchData.singleTouchMoved=!0,b(t.dragData.touchDragEles);var ke=t.findContainerClientCoords();G=ke[0],q=ke[1],X=ke[2],re=ke[3],$=z.touches[0].clientX-G,W=z.touches[0].clientY-q,Y=z.touches[1].clientX-G,ie=z.touches[1].clientY-q,ne=0<=$&&$<=X&&0<=Y&&Y<=X&&0<=W&&W<=re&&0<=ie&&ie<=re;var me=le.pan(),J=le.zoom();oe=j($,W,Y,ie),Q=te($,W,Y,ie),H=[($+Y)/2,(W+ie)/2],U=[(H[0]-me.x)/J,(H[1]-me.y)/J];var be=200,Ie=be*be;if(Q<Ie&&!z.touches[2]){var _e=t.findNearestElement(pe[0],pe[1],!0,!0),Be=t.findNearestElement(pe[2],pe[3],!0,!0);_e&&_e.isNode()?(_e.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:pe[0],y:pe[1]}}),t.touchData.start=_e):Be&&Be.isNode()?(Be.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:pe[0],y:pe[1]}}),t.touchData.start=Be):le.emit({originalEvent:z,type:"cxttapstart",position:{x:pe[0],y:pe[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(z.touches[2])le.boxSelectionEnabled()&&z.preventDefault();else if(!z.touches[1]){if(z.touches[0]){var Ge=t.findNearestElements(pe[0],pe[1],!0,!0),je=Ge[0];if(je!=null&&(je.activate(),t.touchData.start=je,t.touchData.starts=Ge,t.nodeIsGrabbable(je))){var at=t.dragData.touchDragEles=le.collection(),gt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),je.selected()?(gt=le.$(function(Dt){return Dt.selected()&&t.nodeIsGrabbable(Dt)}),y(gt,{addToList:at})):w(je,{addToList:at}),d(je);var It=function(Ft){return{originalEvent:z,type:Ft,position:{x:pe[0],y:pe[1]}}};je.emit(It("grabon")),gt?gt.forEach(function(Dt){Dt.emit(It("grab"))}):je.emit(It("grab"))}i(je,["touchstart","tapstart","vmousedown"],z,{x:pe[0],y:pe[1]}),je==null&&(t.data.bgActivePosistion={x:ue[0],y:ue[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],z,{x:pe[0],y:pe[1]})},t.tapholdDuration)}}if(z.touches.length>=1){for(var Ht=t.touchData.startPosition=[null,null,null,null,null,null],lt=0;lt<pe.length;lt++)Ht[lt]=se[lt]=pe[lt];var ot=z.touches[0];t.touchData.startGPosition=[ot.clientX,ot.clientY]}}},!1);var ye;t.registerBinding(e,"touchmove",ye=function(z){var le=t.touchData.capture;if(!(!le&&!B(z))){var pe=t.selection,se=t.cy,ue=t.touchData.now,ke=t.touchData.earlier,me=se.zoom();if(z.touches[0]){var J=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ue[0]=J[0],ue[1]=J[1]}if(z.touches[1]){var J=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);ue[2]=J[0],ue[3]=J[1]}if(z.touches[2]){var J=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);ue[4]=J[0],ue[5]=J[1]}var be=t.touchData.startGPosition,Ie;if(le&&z.touches[0]&&be){for(var _e=[],Be=0;Be<ue.length;Be++)_e[Be]=ue[Be]-ke[Be];var Ge=z.touches[0].clientX-be[0],je=Ge*Ge,at=z.touches[0].clientY-be[1],gt=at*at,It=je+gt;Ie=It>=t.touchTapThreshold2}if(le&&t.touchData.cxt){z.preventDefault();var Ht=z.touches[0].clientX-G,lt=z.touches[0].clientY-q,ot=z.touches[1].clientX-G,Dt=z.touches[1].clientY-q,Ft=te(Ht,lt,ot,Dt),Lt=Ft/Q,Sn=150,Vt=Sn*Sn,Zt=1.5,Tn=Zt*Zt;if(Lt>=Tn||Ft>=Vt){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var gn={originalEvent:z,type:"cxttapend",position:{x:ue[0],y:ue[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(gn),t.touchData.start=null):se.emit(gn)}}if(le&&t.touchData.cxt){var gn={originalEvent:z,type:"cxtdrag",position:{x:ue[0],y:ue[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(gn):se.emit(gn),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Yt=t.findNearestElement(ue[0],ue[1],!0,!0);(!t.touchData.cxtOver||Yt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:ue[0],y:ue[1]}}),t.touchData.cxtOver=Yt,Yt&&Yt.emit({originalEvent:z,type:"cxtdragover",position:{x:ue[0],y:ue[1]}}))}else if(le&&z.touches[2]&&se.boxSelectionEnabled())z.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||se.emit({originalEvent:z,type:"boxstart",position:{x:ue[0],y:ue[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,pe[4]=1,!pe||pe.length===0||pe[0]===void 0?(pe[0]=(ue[0]+ue[2]+ue[4])/3,pe[1]=(ue[1]+ue[3]+ue[5])/3,pe[2]=(ue[0]+ue[2]+ue[4])/3+1,pe[3]=(ue[1]+ue[3]+ue[5])/3+1):(pe[2]=(ue[0]+ue[2]+ue[4])/3,pe[3]=(ue[1]+ue[3]+ue[5])/3),t.redrawHint("select",!0),t.redraw();else if(le&&z.touches[1]&&!t.touchData.didSelect&&se.zoomingEnabled()&&se.panningEnabled()&&se.userZoomingEnabled()&&se.userPanningEnabled()){z.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var qt=t.dragData.touchDragEles;if(qt){t.redrawHint("drag",!0);for(var on=0;on<qt.length;on++){var Jr=qt[on]._private;Jr.grabbed=!1,Jr.rscratch.inDragLayer=!1}}var Pn=t.touchData.start,Ht=z.touches[0].clientX-G,lt=z.touches[0].clientY-q,ot=z.touches[1].clientX-G,Dt=z.touches[1].clientY-q,_o=j(Ht,lt,ot,Dt),Mo=_o/oe;if(ne){var hl=Ht-$,Ir=lt-W,Ao=ot-Y,ma=Dt-ie,ya=(hl+Ao)/2,Mi=(Ir+ma)/2,Dr=se.zoom(),ba=Dr*Mo,Qn=se.pan(),wa=U[0]*Dr+Qn.x,xa=U[1]*Dr+Qn.y,Io={x:-ba/Dr*(wa-Qn.x-ya)+wa,y:-ba/Dr*(xa-Qn.y-Mi)+xa};if(Pn&&Pn.active()){var qt=t.dragData.touchDragEles;b(qt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Pn.unactivate().emit("freeon"),qt.emit("free"),t.dragData.didDrag&&(Pn.emit("dragfreeon"),qt.emit("dragfree"))}se.viewport({zoom:ba,pan:Io,cancelOnFailedZoom:!0}),se.emit("pinchzoom"),oe=_o,$=Ht,W=lt,Y=ot,ie=Dt,t.pinching=!0}if(z.touches[0]){var J=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ue[0]=J[0],ue[1]=J[1]}if(z.touches[1]){var J=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);ue[2]=J[0],ue[3]=J[1]}if(z.touches[2]){var J=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);ue[4]=J[0],ue[5]=J[1]}}else if(z.touches[0]&&!t.touchData.didSelect){var mn=t.touchData.start,Ca=t.touchData.last,Yt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Yt=t.findNearestElement(ue[0],ue[1],!0,!0)),le&&mn!=null&&z.preventDefault(),le&&mn!=null&&t.nodeIsDraggable(mn))if(Ie){var qt=t.dragData.touchDragEles,Ai=!t.dragData.didDrag;Ai&&y(qt,{inDragLayer:!0}),t.dragData.didDrag=!0;var ei={x:0,y:0};if(ze(_e[0])&&ze(_e[1])&&(ei.x+=_e[0],ei.y+=_e[1],Ai)){t.redrawHint("eles",!0);var kn=t.touchData.dragDelta;kn&&ze(kn[0])&&ze(kn[1])&&(ei.x+=kn[0],ei.y+=kn[1])}t.hoverData.draggingEles=!0,qt.silentShift(ei).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==ke[0]&&t.touchData.startPosition[1]==ke[1]&&t.redrawHint("eles",!0),t.redraw()}else{var kn=t.touchData.dragDelta=t.touchData.dragDelta||[];kn.length===0?(kn.push(_e[0]),kn.push(_e[1])):(kn[0]+=_e[0],kn[1]+=_e[1])}if(i(mn||Yt,["touchmove","tapdrag","vmousemove"],z,{x:ue[0],y:ue[1]}),(!mn||!mn.grabbed())&&Yt!=Ca&&(Ca&&Ca.emit({originalEvent:z,type:"tapdragout",position:{x:ue[0],y:ue[1]}}),Yt&&Yt.emit({originalEvent:z,type:"tapdragover",position:{x:ue[0],y:ue[1]}})),t.touchData.last=Yt,le)for(var on=0;on<ue.length;on++)ue[on]&&t.touchData.startPosition[on]&&Ie&&(t.touchData.singleTouchMoved=!0);if(le&&(mn==null||mn.pannable())&&se.panningEnabled()&&se.userPanningEnabled()){var Do=o(mn,t.touchData.starts);Do&&(z.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=qi(t.touchData.startPosition)),t.swipePanning?(se.panBy({x:_e[0]*me,y:_e[1]*me}),se.emit("dragpan")):Ie&&(t.swipePanning=!0,se.panBy({x:Ge*me,y:at*me}),se.emit("dragpan"),mn&&(mn.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var J=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ue[0]=J[0],ue[1]=J[1]}}for(var Be=0;Be<ue.length;Be++)ke[Be]=ue[Be];le&&z.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var $e;t.registerBinding(e,"touchcancel",$e=function(z){var le=t.touchData.start;t.touchData.capture=!1,le&&le.unactivate()});var Ee,Me,Fe,Te;if(t.registerBinding(e,"touchend",Ee=function(z){var le=t.touchData.start,pe=t.touchData.capture;if(pe)z.touches.length===0&&(t.touchData.capture=!1),z.preventDefault();else return;var se=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var ue=t.cy,ke=ue.zoom(),me=t.touchData.now,J=t.touchData.earlier;if(z.touches[0]){var be=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);me[0]=be[0],me[1]=be[1]}if(z.touches[1]){var be=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);me[2]=be[0],me[3]=be[1]}if(z.touches[2]){var be=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);me[4]=be[0],me[5]=be[1]}le&&le.unactivate();var Ie;if(t.touchData.cxt){if(Ie={originalEvent:z,type:"cxttapend",position:{x:me[0],y:me[1]}},le?le.emit(Ie):ue.emit(Ie),!t.touchData.cxtDragged){var _e={originalEvent:z,type:"cxttap",position:{x:me[0],y:me[1]}};le?le.emit(_e):ue.emit(_e)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!z.touches[2]&&ue.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Be=ue.collection(t.getAllInBox(se[0],se[1],se[2],se[3]));se[0]=void 0,se[1]=void 0,se[2]=void 0,se[3]=void 0,se[4]=0,t.redrawHint("select",!0),ue.emit({type:"boxend",originalEvent:z,position:{x:me[0],y:me[1]}});var Ge=function(Vt){return Vt.selectable()&&!Vt.selected()};Be.emit("box").stdFilter(Ge).select().emit("boxselect"),Be.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(le!=null&&le.unactivate(),z.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!z.touches[1]){if(!z.touches[0]){if(!z.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var je=t.dragData.touchDragEles;if(le!=null){var at=le._private.grabbed;b(je),t.redrawHint("drag",!0),t.redrawHint("eles",!0),at&&(le.emit("freeon"),je.emit("free"),t.dragData.didDrag&&(le.emit("dragfreeon"),je.emit("dragfree"))),i(le,["touchend","tapend","vmouseup","tapdragout"],z,{x:me[0],y:me[1]}),le.unactivate(),t.touchData.start=null}else{var gt=t.findNearestElement(me[0],me[1],!0,!0);i(gt,["touchend","tapend","vmouseup","tapdragout"],z,{x:me[0],y:me[1]})}var It=t.touchData.startPosition[0]-me[0],Ht=It*It,lt=t.touchData.startPosition[1]-me[1],ot=lt*lt,Dt=Ht+ot,Ft=Dt*ke*ke;t.touchData.singleTouchMoved||(le||ue.$(":selected").unselect(["tapunselect"]),i(le,["tap","vclick"],z,{x:me[0],y:me[1]}),Me=!1,z.timeStamp-Te<=ue.multiClickDebounceTime()?(Fe&&clearTimeout(Fe),Me=!0,Te=null,i(le,["dbltap","vdblclick"],z,{x:me[0],y:me[1]})):(Fe=setTimeout(function(){Me||i(le,["onetap","voneclick"],z,{x:me[0],y:me[1]})},ue.multiClickDebounceTime()),Te=z.timeStamp)),le!=null&&!t.dragData.didDrag&&le._private.selectable&&Ft<t.touchTapThreshold2&&!t.pinching&&(ue.selectionType()==="single"?(ue.$(n).unmerge(le).unselect(["tapunselect"]),le.select(["tapselect"])):le.selected()?le.unselect(["tapunselect"]):le.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Lt=0;Lt<me.length;Lt++)J[Lt]=me[Lt];t.dragData.didDrag=!1,z.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),z.touches.length<2&&(z.touches.length===1&&(t.touchData.startGPosition=[z.touches[0].clientX,z.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Oe=[],Ce=function(z){return{clientX:z.clientX,clientY:z.clientY,force:1,identifier:z.pointerId,pageX:z.pageX,pageY:z.pageY,radiusX:z.width/2,radiusY:z.height/2,screenX:z.screenX,screenY:z.screenY,target:z.target}},Ae=function(z){return{event:z,touch:Ce(z)}},De=function(z){Oe.push(Ae(z))},Ne=function(z){for(var le=0;le<Oe.length;le++){var pe=Oe[le];if(pe.event.pointerId===z.pointerId){Oe.splice(le,1);return}}},He=function(z){var le=Oe.filter(function(pe){return pe.event.pointerId===z.pointerId})[0];le.event=z,le.touch=Ce(z)},Xe=function(z){z.touches=Oe.map(function(le){return le.touch})},Se=function(z){return z.pointerType==="mouse"||z.pointerType===4};t.registerBinding(t.container,"pointerdown",function(de){Se(de)||(de.preventDefault(),De(de),Xe(de),ve(de))}),t.registerBinding(t.container,"pointerup",function(de){Se(de)||(Ne(de),Xe(de),Ee(de))}),t.registerBinding(t.container,"pointercancel",function(de){Se(de)||(Ne(de),Xe(de),$e(de))}),t.registerBinding(t.container,"pointermove",function(de){Se(de)||(de.preventDefault(),He(de),Xe(de),ye(de))})}};var Mr={};Mr.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(r,i,a,o,s,l){this.renderer.nodeShapeImpl("polygon",r,i,a,o,s,this.points)},intersectLine:function(r,i,a,o,s,l,u,c){return ro(s,l,this.points,r,i,a/2,o/2,u)},checkPoint:function(r,i,a,o,s,l,u,c){return Er(r,i,this.points,l,u,o,s,[0,-1],a)}}};Mr.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,n,r,i,a,o){this.renderer.nodeShapeImpl(this.name,e,n,r,i,a)},intersectLine:function(e,n,r,i,a,o,s,l){return t0(a,o,e,n,r/2+s,i/2+s)},checkPoint:function(e,n,r,i,a,o,s,l){return pi(e,n,i,a,o,s,r)}}};Mr.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(r,i,a,o,s,l,u){if(l[u]!==void 0&&l[u+"-cx"]===r&&l[u+"-cy"]===i)return l[u];l[u]=new Array(e.length/2),l[u+"-cx"]=r,l[u+"-cy"]=i;var c=a/2,d=o/2;s=s==="auto"?_h(a,o):s;for(var p=new Array(e.length/2),g=0;g<e.length/2;g++)p[g]={x:r+c*e[g*2],y:i+d*e[g*2+1]};var h,y,w,b,E=p.length;for(y=p[E-1],h=0;h<E;h++)w=p[h%E],b=p[(h+1)%E],l[u][h]=rc(y,w,b,s),y=w,w=b;return l[u]},draw:function(r,i,a,o,s,l,u){this.renderer.nodeShapeImpl("round-polygon",r,i,a,o,s,this.points,this.getOrCreateCorners(i,a,o,s,l,u,"drawCorners"))},intersectLine:function(r,i,a,o,s,l,u,c,d){return n0(s,l,this.points,r,i,a,o,u,this.getOrCreateCorners(r,i,a,o,c,d,"corners"))},checkPoint:function(r,i,a,o,s,l,u,c,d){return e0(r,i,this.points,l,u,o,s,this.getOrCreateCorners(l,u,o,s,c,d,"corners"))}}};Mr.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:pn(4,0),draw:function(e,n,r,i,a,o){this.renderer.nodeShapeImpl(this.name,e,n,r,i,a,this.points,o)},intersectLine:function(e,n,r,i,a,o,s,l){return Th(a,o,e,n,r,i,s,l)},checkPoint:function(e,n,r,i,a,o,s,l){var u=i/2,c=a/2;l=l==="auto"?wi(i,a):l,l=Math.min(u,c,l);var d=l*2;return!!(Er(e,n,this.points,o,s,i,a-d,[0,-1],r)||Er(e,n,this.points,o,s,i-d,a,[0,-1],r)||pi(e,n,d,d,o-u+l,s-c+l,r)||pi(e,n,d,d,o+u-l,s-c+l,r)||pi(e,n,d,d,o+u-l,s+c-l,r)||pi(e,n,d,d,o-u+l,s+c-l,r))}}};Mr.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Uu(),points:pn(4,0),draw:function(e,n,r,i,a,o){this.renderer.nodeShapeImpl(this.name,e,n,r,i,a,null,o)},generateCutTrianglePts:function(e,n,r,i,a){var o=a==="auto"?this.cornerLength:a,s=n/2,l=e/2,u=r-l,c=r+l,d=i-s,p=i+s;return{topLeft:[u,d+o,u+o,d,u+o,d+o],topRight:[c-o,d,c,d+o,c-o,d+o],bottomRight:[c,p-o,c-o,p,c-o,p-o],bottomLeft:[u+o,p,u,p-o,u+o,p-o]}},intersectLine:function(e,n,r,i,a,o,s,l){var u=this.generateCutTrianglePts(r+2*s,i+2*s,e,n,l),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return ro(a,o,c,e,n)},checkPoint:function(e,n,r,i,a,o,s,l){var u=l==="auto"?this.cornerLength:l;if(Er(e,n,this.points,o,s,i,a-2*u,[0,-1],r)||Er(e,n,this.points,o,s,i-2*u,a,[0,-1],r))return!0;var c=this.generateCutTrianglePts(i,a,o,s);return wn(e,n,c.topLeft)||wn(e,n,c.topRight)||wn(e,n,c.bottomRight)||wn(e,n,c.bottomLeft)}}};Mr.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:pn(4,0),draw:function(e,n,r,i,a,o){this.renderer.nodeShapeImpl(this.name,e,n,r,i,a)},intersectLine:function(e,n,r,i,a,o,s,l){var u=.15,c=.5,d=.85,p=this.generateBarrelBezierPts(r+2*s,i+2*s,e,n),g=function(w){var b=Ui({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},u),E=Ui({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},c),S=Ui({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},d);return[w[0],w[1],b.x,b.y,E.x,E.y,S.x,S.y,w[4],w[5]]},h=[].concat(g(p.topLeft),g(p.topRight),g(p.bottomRight),g(p.bottomLeft));return ro(a,o,h,e,n)},generateBarrelBezierPts:function(e,n,r,i){var a=n/2,o=e/2,s=r-o,l=r+o,u=i-a,c=i+a,d=uu(e,n),p=d.heightOffset,g=d.widthOffset,h=d.ctrlPtOffsetPct*e,y={topLeft:[s,u+p,s+h,u,s+g,u],topRight:[l-g,u,l-h,u,l,u+p],bottomRight:[l,c-p,l-h,c,l-g,c],bottomLeft:[s+g,c,s+h,c,s,c-p]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(e,n,r,i,a,o,s,l){var u=uu(i,a),c=u.heightOffset,d=u.widthOffset;if(Er(e,n,this.points,o,s,i,a-2*c,[0,-1],r)||Er(e,n,this.points,o,s,i-2*d,a,[0,-1],r))return!0;for(var p=this.generateBarrelBezierPts(i,a,o,s),g=function(D,I,B){var P=B[4],L=B[2],R=B[0],O=B[5],F=B[1],$=Math.min(P,R),W=Math.max(P,R),Y=Math.min(O,F),ie=Math.max(O,F);if($<=D&&D<=W&&Y<=I&&I<=ie){var oe=r0(P,L,R),Q=Xy(oe[0],oe[1],oe[2],D),H=Q.filter(function(U){return 0<=U&&U<=1});if(H.length>0)return H[0]}return null},h=Object.keys(p),y=0;y<h.length;y++){var w=h[y],b=p[w],E=g(e,n,b);if(E!=null){var S=b[5],x=b[3],_=b[1],k=Xt(S,x,_,E);if(b.isTop&&k<=n||b.isBottom&&n<=k)return!0}}return!1}}};Mr.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:pn(4,0),draw:function(e,n,r,i,a,o){this.renderer.nodeShapeImpl(this.name,e,n,r,i,a,this.points,o)},intersectLine:function(e,n,r,i,a,o,s,l){var u=e-(r/2+s),c=n-(i/2+s),d=c,p=e+(r/2+s),g=zr(a,o,e,n,u,c,p,d,!1);return g.length>0?g:Th(a,o,e,n,r,i,s,l)},checkPoint:function(e,n,r,i,a,o,s,l){l=l==="auto"?wi(i,a):l;var u=2*l;if(Er(e,n,this.points,o,s,i,a-u,[0,-1],r)||Er(e,n,this.points,o,s,i-u,a,[0,-1],r))return!0;var c=i/2+2*r,d=a/2+2*r,p=[o-c,s-d,o-c,s,o+c,s,o+c,s-d];return!!(wn(e,n,p)||pi(e,n,u,u,o+i/2-l,s+a/2-l,r)||pi(e,n,u,u,o-i/2+l,s+a/2-l,r))}}};Mr.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",pn(3,0)),this.generateRoundPolygon("round-triangle",pn(3,0)),this.generatePolygon("rectangle",pn(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n)}this.generatePolygon("pentagon",pn(5,0)),this.generateRoundPolygon("round-pentagon",pn(5,0)),this.generatePolygon("hexagon",pn(6,0)),this.generateRoundPolygon("round-hexagon",pn(6,0)),this.generatePolygon("heptagon",pn(7,0)),this.generateRoundPolygon("round-heptagon",pn(7,0)),this.generatePolygon("octagon",pn(8,0)),this.generateRoundPolygon("round-octagon",pn(8,0));var r=new Array(20);{var i=lu(5,0),a=lu(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[s*2]*=o,a[s*2+1]*=o;for(var s=0;s<20/4;s++)r[s*4]=i[s*2],r[s*4+1]=i[s*2+1],r[s*4+2]=a[s*2],r[s*4+3]=a[s*2+1]}r=kh(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var c=u.join("$"),d="polygon-"+c,p;return(p=this[d])?p:e.generatePolygon(d,u)}};var Co={};Co.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Co.redraw=function(t){t=t||wh();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Co.beforeRender=function(t,e){if(!this.destroyed){e==null&&Rt("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:t,priority:e}),n.sort(function(r,i){return i.priority-r.priority})}};var Yf=function(e,n,r){for(var i=e.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(n,r)};Co.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var n=function r(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Yf(t,!0,i);var a=Cr();t.render(t.renderOptions);var o=t.lastDrawTime=Cr();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-a),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=o-a;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else Yf(t,!1,i);t.skipFrame=!1,Ts(r)}};Ts(n)}};var zx=function(e){this.init(e)},Tv=zx,va=Tv.prototype;va.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];va.init=function(t){var e=this;e.options=t,e.cy=t.cy;var n=e.container=t.cy.container(),r=e.cy.window();if(r){var i=r.document,a=i.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=i.getElementById(o)!=null;if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!l){var u=i.createElement("style");u.id=o,u.textContent="."+s+" { position: relative; }",a.insertBefore(u,a.children[0])}var c=r.getComputedStyle(n),d=c.getPropertyValue("position");d==="static"&&xt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=ze(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};va.notify=function(t,e){var n=this,r=n.cy;if(!this.destroyed){if(t==="init"){n.load();return}if(t==="destroy"){n.destroy();return}(t==="add"||t==="remove"||t==="move"&&r.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&n.invalidateCachedZSortedEles(),t==="viewport"&&n.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};va.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var n=t.bindings[e],r=n,i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};va.isHeadless=function(){return!1};[nc,Ev,Sv,ha,Mr,Co].forEach(function(t){et(va,t)});var $l=1e3/60,kv={setupDequeueing:function(e){return function(){var r=this,i=this.renderer;if(!r.dequeueingSetup){r.dequeueingSetup=!0;var a=Gs(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),o=function(u,c){var d=Cr(),p=i.averageRedrawTime,g=i.lastRedrawTime,h=[],y=i.cy.extent(),w=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var b=Cr(),E=b-d,S=b-c;if(g<$l){var x=$l-(u?p:0);if(S>=e.deqFastCost*x)break}else if(u){if(E>=e.deqCost*g||E>=e.deqAvgCost*p)break}else if(S>=e.deqNoDrawCost*$l)break;var _=e.deq(r,w,y);if(_.length>0)for(var k=0;k<_.length;k++)h.push(_[k]);else break}h.length>0&&(e.onDeqd(r,h),!u&&e.shouldRedraw(r,h,w,y)&&a())},s=e.priority||Hu;i.beforeRender(o,s(r))}}}},Fx=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ks;Bu(this,t),this.idsByKey=new lr,this.keyForId=new lr,this.cachesByLvl=new lr,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=n}return Ru(t,[{key:"getIdsFor",value:function(n){n==null&&Rt("Can not get id list for null key");var r=this.idsByKey,i=this.idsByKey.get(n);return i||(i=new oa,r.set(n,i)),i}},{key:"addIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).add(r)}},{key:"deleteIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).delete(r)}},{key:"getNumberOfIdsForKey",value:function(n){return n==null?0:this.getIdsFor(n).size}},{key:"updateKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),a=this.getKey(n);this.deleteIdForKey(i,r),this.addIdForKey(a,r),this.keyForId.set(r,a)}},{key:"deleteKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteIdForKey(i,r),this.keyForId.delete(r)}},{key:"keyHasChangedFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),a=this.getKey(n);return i!==a}},{key:"isInvalid",value:function(n){return this.keyHasChangedFor(n)||this.doesEleInvalidateKey(n)}},{key:"getCachesAt",value:function(n){var r=this.cachesByLvl,i=this.lvls,a=r.get(n);return a||(a=new lr,r.set(n,a),i.push(n)),a}},{key:"getCache",value:function(n,r){return this.getCachesAt(r).get(n)}},{key:"get",value:function(n,r){var i=this.getKey(n),a=this.getCache(i,r);return a!=null&&this.updateKeyMappingFor(n),a}},{key:"getForCachedKey",value:function(n,r){var i=this.keyForId.get(n.id()),a=this.getCache(i,r);return a}},{key:"hasCache",value:function(n,r){return this.getCachesAt(r).has(n)}},{key:"has",value:function(n,r){var i=this.getKey(n);return this.hasCache(i,r)}},{key:"setCache",value:function(n,r,i){i.key=n,this.getCachesAt(r).set(n,i)}},{key:"set",value:function(n,r,i){var a=this.getKey(n);this.setCache(a,r,i),this.updateKeyMappingFor(n)}},{key:"deleteCache",value:function(n,r){this.getCachesAt(r).delete(n)}},{key:"delete",value:function(n,r){var i=this.getKey(n);this.deleteCache(i,r)}},{key:"invalidateKey",value:function(n){var r=this;this.lvls.forEach(function(i){return r.deleteCache(n,i)})}},{key:"invalidate",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteKeyMappingFor(n);var a=this.doesEleInvalidateKey(n);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}]),t}(),Xf=25,Jo=50,ms=-4,wu=3,$x=7.99,Hx=8,qx=1024,Vx=1024,Wx=1024,Ux=.2,jx=.8,Gx=10,Kx=.15,Yx=.1,Xx=.9,Zx=.9,Qx=100,Jx=1,Vi={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},eC=rn({getKey:null,doesEleInvalidateKey:ks,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:mh,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),qa=function(e,n){var r=this;r.renderer=e,r.onDequeues=[];var i=eC(n);et(r,i),r.lookup=new Fx(i.getKey,i.doesEleInvalidateKey),r.setupDequeueing()},Kt=qa.prototype;Kt.reasons=Vi;Kt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Kt.getRetiredTextureQueue=function(t){var e=this,n=e.eleImgCaches.retired=e.eleImgCaches.retired||{},r=n[t]=n[t]||[];return r};Kt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new yo(function(n,r){return r.reqs-n.reqs});return e};Kt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Kt.getElement=function(t,e,n,r,i){var a=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!a.allowEdgeTxrCaching&&t.isEdge()||!a.allowParentTxrCaching&&t.isParent())return null;if(r==null&&(r=Math.ceil(Vu(s*n))),r<ms)r=ms;else if(s>=$x||r>wu)return null;var u=Math.pow(2,r),c=e.h*u,d=e.w*u,p=o.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,p))return null;var g=l.get(t,r);if(g&&g.invalidated&&(g.invalidated=!1,g.texture.invalidatedWidth-=g.width),g)return g;var h;if(c<=Xf?h=Xf:c<=Jo?h=Jo:h=Math.ceil(c/Jo)*Jo,c>Wx||d>Vx)return null;var y=a.getTextureQueue(h),w=y[y.length-2],b=function(){return a.recycleTexture(h,d)||a.addTexture(h,d)};w||(w=y[y.length-1]),w||(w=b()),w.width-w.usedWidth<d&&(w=b());for(var E=function($){return $&&$.scaledLabelShown===p},S=i&&i===Vi.dequeue,x=i&&i===Vi.highQuality,_=i&&i===Vi.downscale,k,v=r+1;v<=wu;v++){var D=l.get(t,v);if(D){k=D;break}}var I=k&&k.level===r+1?k:null,B=function(){w.context.drawImage(I.texture.canvas,I.x,0,I.width,I.height,w.usedWidth,0,d,c)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,d,h),E(I))B();else if(E(k))if(x){for(var P=k.level;P>r;P--)I=a.getElement(t,e,n,P,Vi.downscale);B()}else return a.queueElement(t,k.level-1),k;else{var L;if(!S&&!x&&!_)for(var R=r-1;R>=ms;R--){var O=l.get(t,R);if(O){L=O;break}}if(E(L))return a.queueElement(t,r),L;w.context.translate(w.usedWidth,0),w.context.scale(u,u),this.drawElement(w.context,t,e,p,!1),w.context.scale(1/u,1/u),w.context.translate(-w.usedWidth,0)}return g={x:w.usedWidth,texture:w,level:r,scale:u,width:d,height:c,scaledLabelShown:p},w.usedWidth+=Math.ceil(d+Hx),w.eleCaches.push(g),l.set(t,r,g),a.checkTextureFullness(w),g};Kt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Kt.invalidateElement=function(t){var e=this,n=e.lookup,r=[],i=n.isInvalid(t);if(i){for(var a=ms;a<=wu;a++){var o=n.getForCachedKey(t,a);o&&r.push(o)}var s=n.invalidate(t);if(s)for(var l=0;l<r.length;l++){var u=r[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};Kt.checkTextureUtility=function(t){t.invalidatedWidth>=Ux*t.width&&this.retireTexture(t)};Kt.checkTextureFullness=function(t){var e=this,n=e.getTextureQueue(t.height);t.usedWidth/t.width>jx&&t.fullnessChecks>=Gx?Ur(n,t):t.fullnessChecks++};Kt.retireTexture=function(t){var e=this,n=t.height,r=e.getTextureQueue(n),i=this.lookup;Ur(r,t),t.retired=!0;for(var a=t.eleCaches,o=0;o<a.length;o++){var s=a[o];i.deleteCache(s.key,s.level)}qu(a);var l=e.getRetiredTextureQueue(n);l.push(t)};Kt.addTexture=function(t,e){var n=this,r=n.getTextureQueue(t),i={};return r.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(qx,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=n.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Kt.recycleTexture=function(t,e){for(var n=this,r=n.getTextureQueue(t),i=n.getRetiredTextureQueue(t),a=0;a<i.length;a++){var o=i[a];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,qu(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Ur(i,o),r.push(o),o}};Kt.queueElement=function(t,e){var n=this,r=n.getElementQueue(),i=n.getElementKeyToQueue(),a=this.getKey(t),o=i[a];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,r.updateItem(o);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:a};r.push(s),i[a]=s}};Kt.dequeue=function(t){for(var e=this,n=e.getElementQueue(),r=e.getElementKeyToQueue(),i=[],a=e.lookup,o=0;o<Jx&&n.size()>0;o++){var s=n.pop(),l=s.key,u=s.eles[0],c=a.hasCache(u,s.level);if(r[l]=null,c)continue;i.push(s);var d=e.getBoundingBox(u);e.getElement(u,d,t,s.level,Vi.dequeue)}return i};Kt.removeFromQueue=function(t){var e=this,n=e.getElementQueue(),r=e.getElementKeyToQueue(),i=this.getKey(t),a=r[i];a!=null&&(a.eles.length===1?(a.reqs=$u,n.updateItem(a),n.pop(),r[i]=null):a.eles.unmerge(t))};Kt.onDequeue=function(t){this.onDequeues.push(t)};Kt.offDequeue=function(t){Ur(this.onDequeues,t)};Kt.setupDequeueing=kv.setupDequeueing({deqRedrawThreshold:Qx,deqCost:Kx,deqAvgCost:Yx,deqNoDrawCost:Xx,deqFastCost:Zx,deq:function(e,n,r){return e.dequeue(n,r)},onDeqd:function(e,n){for(var r=0;r<e.onDequeues.length;r++){var i=e.onDequeues[r];i(n)}},shouldRedraw:function(e,n,r,i){for(var a=0;a<n.length;a++)for(var o=n[a].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(Wu(l,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var tC=1,Wa=-4,Os=2,nC=3.99,rC=50,iC=50,aC=.15,oC=.1,sC=.9,lC=.9,uC=1,Zf=250,cC=4e3*4e3,Qf=32767,fC=!0,_v=function(e){var n=this,r=n.renderer=e,i=r.cy;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=Cr()-2*Zf,n.skipping=!1,n.eleTxrDeqs=i.collection(),n.scheduleElementRefinement=Gs(function(){n.refineElementTextures(n.eleTxrDeqs),n.eleTxrDeqs.unmerge(n.eleTxrDeqs)},iC),r.beforeRender(function(o,s){s-n.lastInvalidationTime<=Zf?n.skipping=!0:n.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var a=function(s,l){return l.reqs-s.reqs};n.layersQueue=new yo(a),n.setupDequeueing()},an=_v.prototype,Jf=0,dC=Math.pow(2,53)-1;an.makeLayer=function(t,e){var n=Math.pow(2,e),r=Math.ceil(t.w*n),i=Math.ceil(t.h*n),a=this.renderer.makeOffscreenCanvas(r,i),o={id:Jf=++Jf%dC,bb:t,level:e,width:r,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(n,n),s.translate(l,u),o};an.getLayers=function(t,e,n){var r=this,i=r.renderer,a=i.cy,o=a.zoom(),s=r.firstGet;if(r.firstGet=!1,n==null){if(n=Math.ceil(Vu(o*e)),n<Wa)n=Wa;else if(o>=nC||n>Os)return null}r.validateLayersElesOrdering(n,t);var l=r.layersByLevel,u=Math.pow(2,n),c=l[n]=l[n]||[],d,p=r.levelIsComplete(n,t),g,h=function(){var B=function(F){if(r.validateLayersElesOrdering(F,t),r.levelIsComplete(F,t))return g=l[F],!0},P=function(F){if(!g)for(var $=n+F;Wa<=$&&$<=Os&&!B($);$+=F);};P(1),P(-1);for(var L=c.length-1;L>=0;L--){var R=c[L];R.invalid&&Ur(c,R)}};if(!p)h();else return c;var y=function(){if(!d){d=En();for(var B=0;B<t.length;B++)Eh(d,t[B].boundingBox())}return d},w=function(B){B=B||{};var P=B.after;y();var L=Math.ceil(d.w*u),R=Math.ceil(d.h*u);if(L>Qf||R>Qf)return null;var O=L*R;if(O>cC)return null;var F=r.makeLayer(d,n);if(P!=null){var $=c.indexOf(P)+1;c.splice($,0,F)}else(B.insert===void 0||B.insert)&&c.unshift(F);return F};if(r.skipping&&!s)return null;for(var b=null,E=t.length/tC,S=!s,x=0;x<t.length;x++){var _=t[x],k=_._private.rscratch,v=k.imgLayerCaches=k.imgLayerCaches||{},D=v[n];if(D){b=D;continue}if((!b||b.eles.length>=E||!Sh(b.bb,_.boundingBox()))&&(b=w({insert:!0,after:b}),!b))return null;g||S?r.queueLayer(b,_):r.drawEleInLayer(b,_,n,e),b.eles.push(_),v[n]=b}return g||(S?null:c)};an.getEleLevelForLayerLevel=function(t,e){return t};an.drawEleInLayer=function(t,e,n,r){var i=this,a=this.renderer,o=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(n=i.getEleLevelForLayerLevel(n,r),a.setImgSmoothing(o,!1),a.drawCachedElement(o,e,null,null,n,fC),a.setImgSmoothing(o,!0))};an.levelIsComplete=function(t,e){var n=this,r=n.layersByLevel[t];if(!r||r.length===0)return!1;for(var i=0,a=0;a<r.length;a++){var o=r[a];if(o.reqs>0||o.invalid)return!1;i+=o.eles.length}return i===e.length};an.validateLayersElesOrdering=function(t,e){var n=this.layersByLevel[t];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=-1,o=0;o<e.length;o++)if(i.eles[0]===e[o]){a=o;break}if(a<0){this.invalidateLayer(i);continue}for(var s=a,o=0;o<i.eles.length;o++)if(i.eles[o]!==e[s+o]){this.invalidateLayer(i);break}}};an.updateElementsInLayers=function(t,e){for(var n=this,r=go(t[0]),i=0;i<t.length;i++)for(var a=r?null:t[i],o=r?t[i]:t[i].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},u=Wa;u<=Os;u++){var c=l[u];c&&(a&&n.getEleLevelForLayerLevel(c.level)!==a.level||e(c,o,a))}};an.haveLayers=function(){for(var t=this,e=!1,n=Wa;n<=Os;n++){var r=t.layersByLevel[n];if(r&&r.length>0){e=!0;break}}return e};an.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Cr(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(r,i,a){e.invalidateLayer(r)}))};an.invalidateLayer=function(t){if(this.lastInvalidationTime=Cr(),!t.invalid){var e=t.level,n=t.eles,r=this.layersByLevel[e];Ur(r,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<n.length;i++){var a=n[i]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};an.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(r,i,a){var o=r.replacement;if(o||(o=r.replacement=e.makeLayer(r.bb,r.level),o.replaces=r,o.eles=r.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)e.queueLayer(o,o.eles[s])})};an.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};an.queueLayer=function(t,e){var n=this,r=n.layersQueue,i=t.elesQueue,a=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(a[e.id()])return;i.push(e),a[e.id()]=!0}t.reqs?(t.reqs++,r.updateItem(t)):(t.reqs=1,r.push(t))}};an.dequeue=function(t){for(var e=this,n=e.layersQueue,r=[],i=0;i<uC&&n.size()!==0;){var a=n.peek();if(a.replacement){n.pop();continue}if(a.replaces&&a!==a.replaces.replacement){n.pop();continue}if(a.invalid){n.pop();continue}var o=a.elesQueue.shift();o&&(e.drawEleInLayer(a,o,a.level,t),i++),r.length===0&&r.push(!0),a.elesQueue.length===0&&(n.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return r};an.applyLayerReplacement=function(t){var e=this,n=e.layersByLevel[t.level],r=t.replaces,i=n.indexOf(r);if(!(i<0||r.invalid)){n[i]=t;for(var a=0;a<t.eles.length;a++){var o=t.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};an.requestRedraw=Gs(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);an.setupDequeueing=kv.setupDequeueing({deqRedrawThreshold:rC,deqCost:aC,deqAvgCost:oC,deqNoDrawCost:sC,deqFastCost:lC,deq:function(e,n){return e.dequeue(n)},onDeqd:Hu,shouldRedraw:mh,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Mv={},ed;function hC(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.lineTo(r.x,r.y)}}function vC(t,e,n){for(var r,i=0;i<e.length;i++){var a=e[i];i===0&&(r=a),t.lineTo(a.x,a.y)}t.quadraticCurveTo(n.x,n.y,r.x,r.y)}function td(t,e,n){t.beginPath&&t.beginPath();for(var r=e,i=0;i<r.length;i++){var a=r[i];t.lineTo(a.x,a.y)}var o=n,s=n[0];t.moveTo(s.x,s.y);for(var i=1;i<o.length;i++){var a=o[i];t.lineTo(a.x,a.y)}t.closePath&&t.closePath()}function pC(t,e,n,r,i){t.beginPath&&t.beginPath(),t.arc(n,r,i,0,Math.PI*2,!1);var a=e,o=a[0];t.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var l=a[s];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function gC(t,e,n,r){t.arc(e,n,r,0,Math.PI*2,!1)}Mv.arrowShapeImpl=function(t){return(ed||(ed={polygon:hC,"triangle-backcurve":vC,"triangle-tee":td,"circle-triangle":pC,"triangle-cross":td,circle:gC}))[t]};var gr={};gr.drawElement=function(t,e,n,r,i,a){var o=this;e.isNode()?o.drawNode(t,e,n,r,i,a):o.drawEdge(t,e,n,r,i,a)};gr.drawElementOverlay=function(t,e){var n=this;e.isNode()?n.drawNodeOverlay(t,e):n.drawEdgeOverlay(t,e)};gr.drawElementUnderlay=function(t,e){var n=this;e.isNode()?n.drawNodeUnderlay(t,e):n.drawEdgeUnderlay(t,e)};gr.drawCachedElementPortion=function(t,e,n,r,i,a,o,s){var l=this,u=n.getBoundingBox(e);if(!(u.w===0||u.h===0)){var c=n.getElement(e,u,r,i,a);if(c!=null){var d=s(l,e);if(d===0)return;var p=o(l,e),g=u.x1,h=u.y1,y=u.w,w=u.h,b,E,S,x,_;if(p!==0){var k=n.getRotationPoint(e);S=k.x,x=k.y,t.translate(S,x),t.rotate(p),_=l.getImgSmoothing(t),_||l.setImgSmoothing(t,!0);var v=n.getRotationOffset(e);b=v.x,E=v.y}else b=g,E=h;var D;d!==1&&(D=t.globalAlpha,t.globalAlpha=D*d),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,b,E,y,w),d!==1&&(t.globalAlpha=D),p!==0&&(t.rotate(-p),t.translate(-S,-x),_||l.setImgSmoothing(t,!1))}else n.drawElement(t,e)}};var mC=function(){return 0},yC=function(e,n){return e.getTextAngle(n,null)},bC=function(e,n){return e.getTextAngle(n,"source")},wC=function(e,n){return e.getTextAngle(n,"target")},xC=function(e,n){return n.effectiveOpacity()},Hl=function(e,n){return n.pstyle("text-opacity").pfValue*n.effectiveOpacity()};gr.drawCachedElement=function(t,e,n,r,i,a){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,d=s.tlbTxrCache,p=e.boundingBox(),g=a===!0?l.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!r||Wu(p,r))){var h=e.isEdge(),y=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,l,n,i,g,mC,xC),(!h||!y)&&o.drawCachedElementPortion(t,e,u,n,i,g,yC,Hl),h&&!y&&(o.drawCachedElementPortion(t,e,c,n,i,g,bC,Hl),o.drawCachedElementPortion(t,e,d,n,i,g,wC,Hl)),o.drawElementOverlay(t,e)}};gr.drawElements=function(t,e){for(var n=this,r=0;r<e.length;r++){var i=e[r];n.drawElement(t,i)}};gr.drawCachedElements=function(t,e,n,r){for(var i=this,a=0;a<e.length;a++){var o=e[a];i.drawCachedElement(t,o,n,r)}};gr.drawCachedNodes=function(t,e,n,r){for(var i=this,a=0;a<e.length;a++){var o=e[a];o.isNode()&&i.drawCachedElement(t,o,n,r)}};gr.drawLayeredElements=function(t,e,n,r){var i=this,a=i.data.lyrTxrCache.getLayers(e,n);if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s.bb;l.w===0||l.h===0||t.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(t,e,n,r)};var Ar={};Ar.drawEdge=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=e._private.rscratch;if(!(a&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;n&&(l=n,t.translate(-l.x1,-l.y1));var u=a?e.pstyle("opacity").value:1,c=a?e.pstyle("line-opacity").value:1,d=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,g=e.pstyle("width").pfValue,h=e.pstyle("line-cap").value,y=e.pstyle("line-outline-width").value,w=e.pstyle("line-outline-color").value,b=u*c,E=u*c,S=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;d==="straight-triangle"?(o.eleStrokeStyle(t,e,F),o.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=g,t.lineCap=h,o.eleStrokeStyle(t,e,F),o.drawEdgePath(e,t,s.allpts,p),t.lineCap="butt")},x=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;if(t.lineWidth=g+y,t.lineCap=h,y>0)o.colorStrokeStyle(t,w[0],w[1],w[2],F);else{t.lineCap="butt";return}d==="straight-triangle"?o.drawEdgeTrianglePath(e,t,s.allpts):(o.drawEdgePath(e,t,s.allpts,p),t.lineCap="butt")},_=function(){i&&o.drawEdgeOverlay(t,e)},k=function(){i&&o.drawEdgeUnderlay(t,e)},v=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;o.drawArrowheads(t,e,F)},D=function(){o.drawElementText(t,e,null,r)};t.lineJoin="round";var I=e.pstyle("ghost").value==="yes";if(I){var B=e.pstyle("ghost-offset-x").pfValue,P=e.pstyle("ghost-offset-y").pfValue,L=e.pstyle("ghost-opacity").value,R=b*L;t.translate(B,P),S(R),v(R),t.translate(-B,-P)}else x();k(),S(),v(),_(),D(),n&&t.translate(l.x1,l.y1)}};var Av=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(n,r){if(r.visible()){var i=r.pstyle("".concat(e,"-opacity")).value;if(i!==0){var a=this,o=a.usePaths(),s=r._private.rscratch,l=r.pstyle("".concat(e,"-padding")).pfValue,u=2*l,c=r.pstyle("".concat(e,"-color")).value;n.lineWidth=u,s.edgeType==="self"&&!o?n.lineCap="butt":n.lineCap="round",a.colorStrokeStyle(n,c[0],c[1],c[2],i),a.drawEdgePath(r,n,s.allpts,"solid")}}}};Ar.drawEdgeOverlay=Av("overlay");Ar.drawEdgeUnderlay=Av("underlay");Ar.drawEdgePath=function(t,e,n,r){var i=t._private.rscratch,a=e,o,s=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(l){var d=n.join("$"),p=i.pathCacheKey&&i.pathCacheKey===d;p?(o=e=i.pathCache,s=!0):(o=e=new Path2D,i.pathCacheKey=d,i.pathCache=o)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!s&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var g=2;g+3<n.length;g+=4)e.quadraticCurveTo(n[g],n[g+1],n[g+2],n[g+3]);break;case"straight":case"haystack":for(var h=2;h+1<n.length;h+=2)e.lineTo(n[h],n[h+1]);break;case"segments":if(i.isRound){var y=rh(i.roundCorners),w;try{for(y.s();!(w=y.n()).done;){var b=w.value;yv(e,b)}}catch(S){y.e(S)}finally{y.f()}e.lineTo(n[n.length-2],n[n.length-1])}else for(var E=2;E+1<n.length;E+=2)e.lineTo(n[E],n[E+1]);break}e=a,l?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};Ar.drawEdgeTrianglePath=function(t,e,n){e.fillStyle=e.strokeStyle;for(var r=t.pstyle("width").pfValue,i=0;i+1<n.length;i+=2){var a=[n[i+2]-n[i],n[i+3]-n[i+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],l=[s[0]*r/2,s[1]*r/2];e.beginPath(),e.moveTo(n[i]-l[0],n[i+1]-l[1]),e.lineTo(n[i]+l[0],n[i+1]+l[1]),e.lineTo(n[i+2],n[i+3]),e.closePath(),e.fill()}};Ar.drawArrowheads=function(t,e,n){var r=e._private.rscratch,i=r.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(t,e,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(t,e,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(t,e,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)};Ar.drawArrowhead=function(t,e,n,r,i,a,o){if(!(isNaN(r)||r==null||isNaN(i)||i==null||isNaN(a)||a==null)){var s=this,l=e.pstyle(n+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(n+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(n+"-arrow-fill").value,d=e.pstyle("width").pfValue,p=e.pstyle(n+"-arrow-width"),g=p.value==="match-line"?d:p.pfValue;p.units==="%"&&(g*=d);var h=e.pstyle("opacity").value;o===void 0&&(o=h);var y=t.globalCompositeOperation;(o!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,u,d,l,g,r,i,a),t.globalCompositeOperation=y);var w=e.pstyle(n+"-arrow-color").value;s.colorFillStyle(t,w[0],w[1],w[2],o),s.colorStrokeStyle(t,w[0],w[1],w[2],o),s.drawArrowShape(e,t,c,d,l,g,r,i,a)}}};Ar.drawArrowShape=function(t,e,n,r,i,a,o,s,l){var u=this,c=this.usePaths()&&i!=="triangle-cross",d=!1,p,g=e,h={x:o,y:s},y=t.pstyle("arrow-scale").value,w=this.getArrowWidth(r,y),b=u.arrowShapes[i];if(c){var E=u.arrowPathCache=u.arrowPathCache||[],S=yi(i),x=E[S];x!=null?(p=e=x,d=!0):(p=e=new Path2D,E[S]=p)}d||(e.beginPath&&e.beginPath(),c?b.draw(e,1,0,{x:0,y:0},1):b.draw(e,w,l,h,r),e.closePath&&e.closePath()),e=g,c&&(e.translate(o,s),e.rotate(l),e.scale(w,w)),(n==="filled"||n==="both")&&(c?e.fill(p):e.fill()),(n==="hollow"||n==="both")&&(e.lineWidth=a/(c?w:1),e.lineJoin="miter",c?e.stroke(p):e.stroke()),c&&(e.scale(1/w,1/w),e.rotate(-l),e.translate(-o,-s))};var ac={};ac.safeDrawImage=function(t,e,n,r,i,a,o,s,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{t.drawImage(e,n,r,i,a,o,s,l,u)}catch(c){xt(c)}};ac.drawInscribedImage=function(t,e,n,r,i){var a=this,o=n.position(),s=o.x,l=o.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),d=c(n,"background-fit","value",r),p=c(n,"background-repeat","value",r),g=n.width(),h=n.height(),y=n.padding()*2,w=g+(c(n,"background-width-relative-to","value",r)==="inner"?0:y),b=h+(c(n,"background-height-relative-to","value",r)==="inner"?0:y),E=n._private.rscratch,S=c(n,"background-clip","value",r),x=S==="node",_=c(n,"background-image-opacity","value",r)*i,k=c(n,"background-image-smoothing","value",r),v=n.pstyle("corner-radius").value;v!=="auto"&&(v=n.pstyle("corner-radius").pfValue);var D=e.width||e.cachedW,I=e.height||e.cachedH;(D==null||I==null)&&(document.body.appendChild(e),D=e.cachedW=e.width||e.offsetWidth,I=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var B=D,P=I;if(c(n,"background-width","value",r)!=="auto"&&(c(n,"background-width","units",r)==="%"?B=c(n,"background-width","pfValue",r)*w:B=c(n,"background-width","pfValue",r)),c(n,"background-height","value",r)!=="auto"&&(c(n,"background-height","units",r)==="%"?P=c(n,"background-height","pfValue",r)*b:P=c(n,"background-height","pfValue",r)),!(B===0||P===0)){if(d==="contain"){var L=Math.min(w/B,b/P);B*=L,P*=L}else if(d==="cover"){var L=Math.max(w/B,b/P);B*=L,P*=L}var R=s-w/2,O=c(n,"background-position-x","units",r),F=c(n,"background-position-x","pfValue",r);O==="%"?R+=(w-B)*F:R+=F;var $=c(n,"background-offset-x","units",r),W=c(n,"background-offset-x","pfValue",r);$==="%"?R+=(w-B)*W:R+=W;var Y=l-b/2,ie=c(n,"background-position-y","units",r),oe=c(n,"background-position-y","pfValue",r);ie==="%"?Y+=(b-P)*oe:Y+=oe;var Q=c(n,"background-offset-y","units",r),H=c(n,"background-offset-y","pfValue",r);Q==="%"?Y+=(b-P)*H:Y+=H,E.pathCache&&(R-=s,Y-=l,s=0,l=0);var U=t.globalAlpha;t.globalAlpha=_;var G=a.getImgSmoothing(t),q=!1;if(k==="no"&&G?(a.setImgSmoothing(t,!1),q=!0):k==="yes"&&!G&&(a.setImgSmoothing(t,!0),q=!0),p==="no-repeat")x&&(t.save(),E.pathCache?t.clip(E.pathCache):(a.nodeShapes[a.getNodeShape(n)].draw(t,s,l,w,b,v,E),t.clip())),a.safeDrawImage(t,e,0,0,D,I,R,Y,B,P),x&&t.restore();else{var X=t.createPattern(e,p);t.fillStyle=X,a.nodeShapes[a.getNodeShape(n)].draw(t,s,l,w,b,v,E),t.translate(R,Y),t.fill(),t.translate(-R,-Y)}t.globalAlpha=U,q&&a.setImgSmoothing(t,G)}};var _i={};_i.eleTextBiggerThanMin=function(t,e){if(!e){var n=t.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(Vu(n*r));e=Math.pow(2,i)}var a=t.pstyle("font-size").pfValue*e,o=t.pstyle("min-zoomed-font-size").pfValue;return!(a<o)};_i.drawElementText=function(t,e,n,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(r==null){if(a&&!o.eleTextBiggerThanMin(e))return}else if(r===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,c=e.pstyle("label"),d=e.pstyle("source-label"),p=e.pstyle("target-label");if(u||(!c||!c.value)&&(!d||!d.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var g=!n,h;n&&(h=n,t.translate(-h.x1,-h.y1)),i==null?(o.drawText(t,e,null,g,a),e.isEdge()&&(o.drawText(t,e,"source",g,a),o.drawText(t,e,"target",g,a))):o.drawText(t,e,i,g,a),n&&t.translate(h.x1,h.y1)};_i.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(e=this.fontCaches[n],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};_i.setupTextStyle=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=n?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*s,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=r+" "+o+" "+i+" "+a,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],s),this.colorStrokeStyle(t,c[0],c[1],c[2],l)};function ql(t,e,n,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+a,n),t.lineTo(e+r-a,n),t.quadraticCurveTo(e+r,n,e+r,n+a),t.lineTo(e+r,n+i-a),t.quadraticCurveTo(e+r,n+i,e+r-a,n+i),t.lineTo(e+a,n+i),t.quadraticCurveTo(e,n+i,e,n+i-a),t.lineTo(e,n+a),t.quadraticCurveTo(e,n,e+a,n),t.closePath(),o?t.stroke():t.fill()}_i.getTextAngle=function(t,e){var n,r=t._private,i=r.rscratch,a=e?e+"-":"",o=t.pstyle(a+"text-rotation"),s=Gn(i,"labelAngle",e);return o.strValue==="autorotate"?n=t.isEdge()?s:0:o.strValue==="none"?n=0:n=o.pfValue,n};_i.drawText=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,o=a.rscratch,s=i?e.effectiveOpacity():1;if(!(i&&(s===0||e.pstyle("text-opacity").value===0))){n==="main"&&(n=null);var l=Gn(o,"labelX",n),u=Gn(o,"labelY",n),c,d,p=this.getLabelText(e,n);if(p!=null&&p!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,i);var g=n?n+"-":"",h=Gn(o,"labelWidth",n),y=Gn(o,"labelHeight",n),w=e.pstyle(g+"text-margin-x").pfValue,b=e.pstyle(g+"text-margin-y").pfValue,E=e.isEdge(),S=e.pstyle("text-halign").value,x=e.pstyle("text-valign").value;E&&(S="center",x="center"),l+=w,u+=b;var _;switch(r?_=this.getTextAngle(e,n):_=0,_!==0&&(c=l,d=u,t.translate(c,d),t.rotate(_),l=0,u=0),x){case"top":break;case"center":u+=y/2;break;case"bottom":u+=y;break}var k=e.pstyle("text-background-opacity").value,v=e.pstyle("text-border-opacity").value,D=e.pstyle("text-border-width").pfValue,I=e.pstyle("text-background-padding").pfValue,B=e.pstyle("text-background-shape").strValue,P=B.indexOf("round")===0,L=2;if(k>0||D>0&&v>0){var R=l-I;switch(S){case"left":R-=h;break;case"center":R-=h/2;break}var O=u-y-I,F=h+2*I,$=y+2*I;if(k>0){var W=t.fillStyle,Y=e.pstyle("text-background-color").value;t.fillStyle="rgba("+Y[0]+","+Y[1]+","+Y[2]+","+k*s+")",P?ql(t,R,O,F,$,L):t.fillRect(R,O,F,$),t.fillStyle=W}if(D>0&&v>0){var ie=t.strokeStyle,oe=t.lineWidth,Q=e.pstyle("text-border-color").value,H=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+Q[0]+","+Q[1]+","+Q[2]+","+v*s+")",t.lineWidth=D,t.setLineDash)switch(H){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=D/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(P?ql(t,R,O,F,$,L,"stroke"):t.strokeRect(R,O,F,$),H==="double"){var U=D/2;P?ql(t,R+U,O+U,F-U*2,$-U*2,L,"stroke"):t.strokeRect(R+U,O+U,F-U*2,$-U*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=oe,t.strokeStyle=ie}}var G=2*e.pstyle("text-outline-width").pfValue;if(G>0&&(t.lineWidth=G),e.pstyle("text-wrap").value==="wrap"){var q=Gn(o,"labelWrapCachedLines",n),X=Gn(o,"labelLineHeight",n),re=h/2,ne=this.getLabelJustification(e);switch(ne==="auto"||(S==="left"?ne==="left"?l+=-h:ne==="center"&&(l+=-re):S==="center"?ne==="left"?l+=-re:ne==="right"&&(l+=re):S==="right"&&(ne==="center"?l+=re:ne==="right"&&(l+=h))),x){case"top":u-=(q.length-1)*X;break;case"center":case"bottom":u-=(q.length-1)*X;break}for(var j=0;j<q.length;j++)G>0&&t.strokeText(q[j],l,u),t.fillText(q[j],l,u),u+=X}else G>0&&t.strokeText(p,l,u),t.fillText(p,l,u);_!==0&&(t.rotate(-_),t.translate(-c,-d))}}};var pa={};pa.drawNode=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,u=e._private,c=u.rscratch,d=e.position();if(!(!ze(d.x)||!ze(d.y))&&!(a&&!e.visible())){var p=a?e.effectiveOpacity():1,g=o.usePaths(),h,y=!1,w=e.padding();s=e.width()+2*w,l=e.height()+2*w;var b;n&&(b=n,t.translate(-b.x1,-b.y1));for(var E=e.pstyle("background-image"),S=E.value,x=new Array(S.length),_=new Array(S.length),k=0,v=0;v<S.length;v++){var D=S[v],I=x[v]=D!=null&&D!=="none";if(I){var B=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",v);k++,_[v]=o.getCachedImage(D,B,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var P=e.pstyle("background-blacken").value,L=e.pstyle("border-width").pfValue,R=e.pstyle("background-opacity").value*p,O=e.pstyle("border-color").value,F=e.pstyle("border-style").value,$=e.pstyle("border-join").value,W=e.pstyle("border-cap").value,Y=e.pstyle("border-position").value,ie=e.pstyle("border-dash-pattern").pfValue,oe=e.pstyle("border-dash-offset").pfValue,Q=e.pstyle("border-opacity").value*p,H=e.pstyle("outline-width").pfValue,U=e.pstyle("outline-color").value,G=e.pstyle("outline-style").value,q=e.pstyle("outline-opacity").value*p,X=e.pstyle("outline-offset").value,re=e.pstyle("corner-radius").value;re!=="auto"&&(re=e.pstyle("corner-radius").pfValue);var ne=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R;o.eleFillStyle(t,e,se)},j=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Q;o.colorStrokeStyle(t,O[0],O[1],O[2],se)},te=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q;o.colorStrokeStyle(t,U[0],U[1],U[2],se)},ve=function(se,ue,ke,me){var J=o.nodePathCache=o.nodePathCache||[],be=gh(ke==="polygon"?ke+","+me.join(","):ke,""+ue,""+se,""+re),Ie=J[be],_e,Be=!1;return Ie!=null?(_e=Ie,Be=!0,c.pathCache=_e):(_e=new Path2D,J[be]=c.pathCache=_e),{path:_e,cacheHit:Be}},ye=e.pstyle("shape").strValue,$e=e.pstyle("shape-polygon-points").pfValue;if(g){t.translate(d.x,d.y);var Ee=ve(s,l,ye,$e);h=Ee.path,y=Ee.cacheHit}var Me=function(){if(!y){var se=d;g&&(se={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(h||t,se.x,se.y,s,l,re,c)}g?t.fill(h):t.fill()},Fe=function(){for(var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ke=u.backgrounding,me=0,J=0;J<_.length;J++){var be=e.cy().style().getIndexedStyle(e,"background-image-containment","value",J);if(ue&&be==="over"||!ue&&be==="inside"){me++;continue}x[J]&&_[J].complete&&!_[J].error&&(me++,o.drawInscribedImage(t,_[J],e,J,se))}u.backgrounding=me!==k,ke!==u.backgrounding&&e.updateStyle(!1)},Te=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;o.hasPie(e)&&(o.drawPie(t,e,ue),se&&(g||o.nodeShapes[o.getNodeShape(e)].draw(t,d.x,d.y,s,l,re,c)))},Oe=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,ue=(P>0?P:-P)*se,ke=P>0?0:255;P!==0&&(o.colorFillStyle(t,ke,ke,ke,ue),g?t.fill(h):t.fill())},Ce=function(){if(L>0){if(t.lineWidth=L,t.lineCap=W,t.lineJoin=$,t.setLineDash)switch(F){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(ie),t.lineDashOffset=oe;break;case"solid":case"double":t.setLineDash([]);break}if(Y!=="center"){if(t.save(),t.lineWidth*=2,Y==="inside")g?t.clip(h):t.clip();else{var se=new Path2D;se.rect(-s/2-L,-l/2-L,s+2*L,l+2*L),se.addPath(h),t.clip(se,"evenodd")}g?t.stroke(h):t.stroke(),t.restore()}else g?t.stroke(h):t.stroke();if(F==="double"){t.lineWidth=L/3;var ue=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",g?t.stroke(h):t.stroke(),t.globalCompositeOperation=ue}t.setLineDash&&t.setLineDash([])}},Ae=function(){if(H>0){if(t.lineWidth=H,t.lineCap="butt",t.setLineDash)switch(G){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var se=d;g&&(se={x:0,y:0});var ue=o.getNodeShape(e),ke=L;Y==="inside"&&(ke=0),Y==="outside"&&(ke*=2);var me=(s+ke+(H+X))/s,J=(l+ke+(H+X))/l,be=s*me,Ie=l*J,_e=o.nodeShapes[ue].points,Be;if(g){var Ge=ve(be,Ie,ue,_e);Be=Ge.path}if(ue==="ellipse")o.drawEllipsePath(Be||t,se.x,se.y,be,Ie);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ue)){var je=0,at=0,gt=0;ue==="round-diamond"?je=(ke+X+H)*1.4:ue==="round-heptagon"?(je=(ke+X+H)*1.075,gt=-(ke/2+X+H)/35):ue==="round-hexagon"?je=(ke+X+H)*1.12:ue==="round-pentagon"?(je=(ke+X+H)*1.13,gt=-(ke/2+X+H)/15):ue==="round-tag"?(je=(ke+X+H)*1.12,at=(ke/2+H+X)*.07):ue==="round-triangle"&&(je=(ke+X+H)*(Math.PI/2),gt=-(ke+X/2+H)/Math.PI),je!==0&&(me=(s+je)/s,be=s*me,["round-hexagon","round-tag"].includes(ue)||(J=(l+je)/l,Ie=l*J)),re=re==="auto"?_h(be,Ie):re;for(var It=be/2,Ht=Ie/2,lt=re+(ke+H+X)/2,ot=new Array(_e.length/2),Dt=new Array(_e.length/2),Ft=0;Ft<_e.length/2;Ft++)ot[Ft]={x:se.x+at+It*_e[Ft*2],y:se.y+gt+Ht*_e[Ft*2+1]};var Lt,Sn,Vt,Zt,Tn=ot.length;for(Sn=ot[Tn-1],Lt=0;Lt<Tn;Lt++)Vt=ot[Lt%Tn],Zt=ot[(Lt+1)%Tn],Dt[Lt]=rc(Sn,Vt,Zt,lt),Sn=Vt,Vt=Zt;o.drawRoundPolygonPath(Be||t,se.x+at,se.y+gt,s*me,l*J,_e,Dt)}else if(["roundrectangle","round-rectangle"].includes(ue))re=re==="auto"?wi(be,Ie):re,o.drawRoundRectanglePath(Be||t,se.x,se.y,be,Ie,re+(ke+H+X)/2);else if(["cutrectangle","cut-rectangle"].includes(ue))re=re==="auto"?Uu():re,o.drawCutRectanglePath(Be||t,se.x,se.y,be,Ie,null,re+(ke+H+X)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ue))re=re==="auto"?wi(be,Ie):re,o.drawBottomRoundRectanglePath(Be||t,se.x,se.y,be,Ie,re+(ke+H+X)/2);else if(ue==="barrel")o.drawBarrelPath(Be||t,se.x,se.y,be,Ie);else if(ue.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ue)){var gn=(ke+H+X)/s;_e=_s(Ms(_e,gn)),o.drawPolygonPath(Be||t,se.x,se.y,s,l,_e)}else{var Yt=(ke+H+X)/s;_e=_s(Ms(_e,-Yt)),o.drawPolygonPath(Be||t,se.x,se.y,s,l,_e)}if(g?t.stroke(Be):t.stroke(),G==="double"){t.lineWidth=ke/3;var qt=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",g?t.stroke(Be):t.stroke(),t.globalCompositeOperation=qt}t.setLineDash&&t.setLineDash([])}},De=function(){i&&o.drawNodeOverlay(t,e,d,s,l)},Ne=function(){i&&o.drawNodeUnderlay(t,e,d,s,l)},He=function(){o.drawElementText(t,e,null,r)},Xe=e.pstyle("ghost").value==="yes";if(Xe){var Se=e.pstyle("ghost-offset-x").pfValue,de=e.pstyle("ghost-offset-y").pfValue,z=e.pstyle("ghost-opacity").value,le=z*p;t.translate(Se,de),te(),Ae(),ne(z*R),Me(),Fe(le,!0),j(z*Q),Ce(),Te(P!==0||L!==0),Fe(le,!1),Oe(le),t.translate(-Se,-de)}g&&t.translate(-d.x,-d.y),Ne(),g&&t.translate(d.x,d.y),te(),Ae(),ne(),Me(),Fe(p,!0),j(),Ce(),Te(P!==0||L!==0),Fe(p,!1),Oe(),g&&t.translate(-d.x,-d.y),He(),De(),n&&t.translate(b.x1,b.y1)}};var Iv=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(n,r,i,a,o){var s=this;if(r.visible()){var l=r.pstyle("".concat(e,"-padding")).pfValue,u=r.pstyle("".concat(e,"-opacity")).value,c=r.pstyle("".concat(e,"-color")).value,d=r.pstyle("".concat(e,"-shape")).value,p=r.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(i=i||r.position(),a==null||o==null){var g=r.padding();a=r.width()+2*g,o=r.height()+2*g}s.colorFillStyle(n,c[0],c[1],c[2],u),s.nodeShapes[d].draw(n,i.x,i.y,a+l*2,o+l*2,p),n.fill()}}}};pa.drawNodeOverlay=Iv("overlay");pa.drawNodeUnderlay=Iv("underlay");pa.hasPie=function(t){return t=t[0],t._private.hasPie};pa.drawPie=function(t,e,n,r){e=e[0],r=r||e.position();var i=e.cy().style(),a=e.pstyle("pie-size"),o=r.x,s=r.y,l=e.width(),u=e.height(),c=Math.min(l,u)/2,d=0,p=this.usePaths();p&&(o=0,s=0),a.units==="%"?c=c*a.pfValue:a.pfValue!==void 0&&(c=a.pfValue/2);for(var g=1;g<=i.pieBackgroundN;g++){var h=e.pstyle("pie-"+g+"-background-size").value,y=e.pstyle("pie-"+g+"-background-color").value,w=e.pstyle("pie-"+g+"-background-opacity").value*n,b=h/100;b+d>1&&(b=1-d);var E=1.5*Math.PI+2*Math.PI*d,S=2*Math.PI*b,x=E+S;h===0||d>=1||d+b>1||(t.beginPath(),t.moveTo(o,s),t.arc(o,s,c,E,x),t.closePath(),this.colorFillStyle(t,y[0],y[1],y[2],w),t.fill(),d+=b)}};var Dn={},CC=100;Dn.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),n=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/n};Dn.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],n=!0,r,i=0;i<e.length;i++)if(r=e[i],r.context===t){n=!1;break}return n&&(r={context:t},e.push(r)),r};Dn.createGradientStyleFor=function(t,e,n,r,i){var a,o=this.usePaths(),s=n.pstyle(e+"-gradient-stop-colors").value,l=n.pstyle(e+"-gradient-stop-positions").pfValue;if(r==="radial-gradient")if(n.isEdge()){var u=n.sourceEndpoint(),c=n.targetEndpoint(),d=n.midpoint(),p=bi(u,d),g=bi(c,d);a=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(p,g))}else{var h=o?{x:0,y:0}:n.position(),y=n.paddedWidth(),w=n.paddedHeight();a=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(y,w))}else if(n.isEdge()){var b=n.sourceEndpoint(),E=n.targetEndpoint();a=t.createLinearGradient(b.x,b.y,E.x,E.y)}else{var S=o?{x:0,y:0}:n.position(),x=n.paddedWidth(),_=n.paddedHeight(),k=x/2,v=_/2,D=n.pstyle("background-gradient-direction").value;switch(D){case"to-bottom":a=t.createLinearGradient(S.x,S.y-v,S.x,S.y+v);break;case"to-top":a=t.createLinearGradient(S.x,S.y+v,S.x,S.y-v);break;case"to-left":a=t.createLinearGradient(S.x+k,S.y,S.x-k,S.y);break;case"to-right":a=t.createLinearGradient(S.x-k,S.y,S.x+k,S.y);break;case"to-bottom-right":case"to-right-bottom":a=t.createLinearGradient(S.x-k,S.y-v,S.x+k,S.y+v);break;case"to-top-right":case"to-right-top":a=t.createLinearGradient(S.x-k,S.y+v,S.x+k,S.y-v);break;case"to-bottom-left":case"to-left-bottom":a=t.createLinearGradient(S.x+k,S.y-v,S.x-k,S.y+v);break;case"to-top-left":case"to-left-top":a=t.createLinearGradient(S.x+k,S.y+v,S.x-k,S.y-v);break}}if(!a)return null;for(var I=l.length===s.length,B=s.length,P=0;P<B;P++)a.addColorStop(I?l[P]:P/(B-1),"rgba("+s[P][0]+","+s[P][1]+","+s[P][2]+","+i+")");return a};Dn.gradientFillStyle=function(t,e,n,r){var i=this.createGradientStyleFor(t,"background",e,n,r);if(!i)return null;t.fillStyle=i};Dn.colorFillStyle=function(t,e,n,r,i){t.fillStyle="rgba("+e+","+n+","+r+","+i+")"};Dn.eleFillStyle=function(t,e,n){var r=e.pstyle("background-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientFillStyle(t,e,r,n);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],n)}};Dn.gradientStrokeStyle=function(t,e,n,r){var i=this.createGradientStyleFor(t,"line",e,n,r);if(!i)return null;t.strokeStyle=i};Dn.colorStrokeStyle=function(t,e,n,r,i){t.strokeStyle="rgba("+e+","+n+","+r+","+i+")"};Dn.eleStrokeStyle=function(t,e,n){var r=e.pstyle("line-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientStrokeStyle(t,e,r,n);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],n)}};Dn.matchCanvasSize=function(t){var e=this,n=e.data,r=e.findContainerClientCoords(),i=r[2],a=r[3],o=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=i*o,u=a*o,c;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var d=n.canvasContainer;d.style.width=i+"px",d.style.height=a+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)c=n.canvases[p],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";for(var p=0;p<e.BUFFER_COUNT;p++)c=n.bufferCanvases[p],c.width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";e.textureMult=1,o<=1&&(c=n.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=l*e.textureMult,c.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u}};Dn.renderTo=function(t,e,n,r){this.render({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})};Dn.render=function(t){t=t||wh();var e=t.forcedContext,n=t.drawAllLayers,r=t.drawOnlyNodeLayer,i=t.forcedZoom,a=t.forcedPan,o=this,s=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=o.cy,u=o.data,c=u.canvasNeedsRedraw,d=o.textureOnViewport&&!e&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),p=t.motionBlur!==void 0?t.motionBlur:o.motionBlur,g=o.motionBlurPxRatio,h=l.hasCompoundNodes(),y=o.hoverData.draggingEles,w=!!(o.hoverData.selecting||o.touchData.selecting);p=p&&!e&&o.motionBlurEnabled&&!w;var b=p;e||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!e&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),p&&(o.mbFrames==null&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(b=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!d&&(c[o.NODE]=!0,c[o.SELECT_BOX]=!0);var E=l.style(),S=l.zoom(),x=i!==void 0?i:S,_=l.pan(),k={x:_.x,y:_.y},v={zoom:S,pan:{x:_.x,y:_.y}},D=o.prevViewport,I=D===void 0||v.zoom!==D.zoom||v.pan.x!==D.pan.x||v.pan.y!==D.pan.y;!I&&!(y&&!h)&&(o.motionBlurPxRatio=1),a&&(k=a),x*=s,k.x*=s,k.y*=s;var B=o.getCachedZSortedEles();function P(Ee,Me,Fe,Te,Oe){var Ce=Ee.globalCompositeOperation;Ee.globalCompositeOperation="destination-out",o.colorFillStyle(Ee,255,255,255,o.motionBlurTransparency),Ee.fillRect(Me,Fe,Te,Oe),Ee.globalCompositeOperation=Ce}function L(Ee,Me){var Fe,Te,Oe,Ce;!o.clearingMotionBlur&&(Ee===u.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]||Ee===u.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])?(Fe={x:_.x*g,y:_.y*g},Te=S*g,Oe=o.canvasWidth*g,Ce=o.canvasHeight*g):(Fe=k,Te=x,Oe=o.canvasWidth,Ce=o.canvasHeight),Ee.setTransform(1,0,0,1,0,0),Me==="motionBlur"?P(Ee,0,0,Oe,Ce):!e&&(Me===void 0||Me)&&Ee.clearRect(0,0,Oe,Ce),n||(Ee.translate(Fe.x,Fe.y),Ee.scale(Te,Te)),a&&Ee.translate(a.x,a.y),i&&Ee.scale(i,i)}if(d||(o.textureDrawLastFrame=!1),d){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=l.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var R=o.data.bufferContexts[o.TEXTURE_BUFFER];R.setTransform(1,0,0,1,0,0),R.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:R,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult});var v=o.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:o.canvasWidth,height:o.canvasHeight};v.mpan={x:(0-v.pan.x)/v.zoom,y:(0-v.pan.y)/v.zoom}}c[o.DRAG]=!1,c[o.NODE]=!1;var O=u.contexts[o.NODE],F=o.textureCache.texture,v=o.textureCache.viewport;O.setTransform(1,0,0,1,0,0),p?P(O,0,0,v.width,v.height):O.clearRect(0,0,v.width,v.height);var $=E.core("outside-texture-bg-color").value,W=E.core("outside-texture-bg-opacity").value;o.colorFillStyle(O,$[0],$[1],$[2],W),O.fillRect(0,0,v.width,v.height);var S=l.zoom();L(O,!1),O.clearRect(v.mpan.x,v.mpan.y,v.width/v.zoom/s,v.height/v.zoom/s),O.drawImage(F,v.mpan.x,v.mpan.y,v.width/v.zoom/s,v.height/v.zoom/s)}else o.textureOnViewport&&!e&&(o.textureCache=null);var Y=l.extent(),ie=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),oe=o.hideEdgesOnViewport&&ie,Q=[];if(Q[o.NODE]=!c[o.NODE]&&p&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,Q[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),Q[o.DRAG]=!c[o.DRAG]&&p&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,Q[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),c[o.NODE]||n||r||Q[o.NODE]){var H=p&&!Q[o.NODE]&&g!==1,O=e||(H?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:u.contexts[o.NODE]),U=p&&!H?"motionBlur":void 0;L(O,U),oe?o.drawCachedNodes(O,B.nondrag,s,Y):o.drawLayeredElements(O,B.nondrag,s,Y),o.debug&&o.drawDebugPoints(O,B.nondrag),!n&&!p&&(c[o.NODE]=!1)}if(!r&&(c[o.DRAG]||n||Q[o.DRAG])){var H=p&&!Q[o.DRAG]&&g!==1,O=e||(H?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:u.contexts[o.DRAG]);L(O,p&&!H?"motionBlur":void 0),oe?o.drawCachedNodes(O,B.drag,s,Y):o.drawCachedElements(O,B.drag,s,Y),o.debug&&o.drawDebugPoints(O,B.drag),!n&&!p&&(c[o.DRAG]=!1)}if(o.showFps||!r&&c[o.SELECT_BOX]&&!n){var O=e||u.contexts[o.SELECT_BOX];if(L(O),o.selection[4]==1&&(o.hoverData.selecting||o.touchData.selecting)){var S=o.cy.zoom(),G=E.core("selection-box-border-width").value/S;O.lineWidth=G,O.fillStyle="rgba("+E.core("selection-box-color").value[0]+","+E.core("selection-box-color").value[1]+","+E.core("selection-box-color").value[2]+","+E.core("selection-box-opacity").value+")",O.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),G>0&&(O.strokeStyle="rgba("+E.core("selection-box-border-color").value[0]+","+E.core("selection-box-border-color").value[1]+","+E.core("selection-box-border-color").value[2]+","+E.core("selection-box-opacity").value+")",O.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(u.bgActivePosistion&&!o.hoverData.selecting){var S=o.cy.zoom(),q=u.bgActivePosistion;O.fillStyle="rgba("+E.core("active-bg-color").value[0]+","+E.core("active-bg-color").value[1]+","+E.core("active-bg-color").value[2]+","+E.core("active-bg-opacity").value+")",O.beginPath(),O.arc(q.x,q.y,E.core("active-bg-size").pfValue/S,0,2*Math.PI),O.fill()}var X=o.lastRedrawTime;if(o.showFps&&X){X=Math.round(X);var re=Math.round(1e3/X);O.setTransform(1,0,0,1,0,0),O.fillStyle="rgba(255, 0, 0, 0.75)",O.strokeStyle="rgba(255, 0, 0, 0.75)",O.lineWidth=1,O.fillText("1 frame = "+X+" ms = "+re+" fps",0,20);var ne=60;O.strokeRect(0,30,250,20),O.fillRect(0,30,250*Math.min(re/ne,1),20)}n||(c[o.SELECT_BOX]=!1)}if(p&&g!==1){var j=u.contexts[o.NODE],te=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],ve=u.contexts[o.DRAG],ye=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],$e=function(Me,Fe,Te){Me.setTransform(1,0,0,1,0,0),Te||!b?Me.clearRect(0,0,o.canvasWidth,o.canvasHeight):P(Me,0,0,o.canvasWidth,o.canvasHeight);var Oe=g;Me.drawImage(Fe,0,0,o.canvasWidth*Oe,o.canvasHeight*Oe,0,0,o.canvasWidth,o.canvasHeight)};(c[o.NODE]||Q[o.NODE])&&($e(j,te,Q[o.NODE]),c[o.NODE]=!1),(c[o.DRAG]||Q[o.DRAG])&&($e(ve,ye,Q[o.DRAG]),c[o.DRAG]=!1)}o.prevViewport=v,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),p&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!d,o.mbFrames=0,c[o.NODE]=!0,c[o.DRAG]=!0,o.redraw()},CC)),e||l.emit("render")};var Xr={};Xr.drawPolygonPath=function(t,e,n,r,i,a){var o=r/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*a[0],n+s*a[1]);for(var l=1;l<a.length/2;l++)t.lineTo(e+o*a[l*2],n+s*a[l*2+1]);t.closePath()};Xr.drawRoundPolygonPath=function(t,e,n,r,i,a,o){o.forEach(function(s){return yv(t,s)}),t.closePath()};Xr.drawRoundRectanglePath=function(t,e,n,r,i,a){var o=r/2,s=i/2,l=a==="auto"?wi(r,i):Math.min(a,s,o);t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.arcTo(e+o,n-s,e+o,n,l),t.arcTo(e+o,n+s,e,n+s,l),t.arcTo(e-o,n+s,e-o,n,l),t.arcTo(e-o,n-s,e,n-s,l),t.lineTo(e,n-s),t.closePath()};Xr.drawBottomRoundRectanglePath=function(t,e,n,r,i,a){var o=r/2,s=i/2,l=a==="auto"?wi(r,i):a;t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.lineTo(e+o,n-s),t.lineTo(e+o,n),t.arcTo(e+o,n+s,e,n+s,l),t.arcTo(e-o,n+s,e-o,n,l),t.lineTo(e-o,n-s),t.lineTo(e,n-s),t.closePath()};Xr.drawCutRectanglePath=function(t,e,n,r,i,a,o){var s=r/2,l=i/2,u=o==="auto"?Uu():o;t.beginPath&&t.beginPath(),t.moveTo(e-s+u,n-l),t.lineTo(e+s-u,n-l),t.lineTo(e+s,n-l+u),t.lineTo(e+s,n+l-u),t.lineTo(e+s-u,n+l),t.lineTo(e-s+u,n+l),t.lineTo(e-s,n+l-u),t.lineTo(e-s,n-l+u),t.closePath()};Xr.drawBarrelPath=function(t,e,n,r,i){var a=r/2,o=i/2,s=e-a,l=e+a,u=n-o,c=n+o,d=uu(r,i),p=d.widthOffset,g=d.heightOffset,h=d.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(s,u+g),t.lineTo(s,c-g),t.quadraticCurveTo(s+h,c,s+p,c),t.lineTo(l-p,c),t.quadraticCurveTo(l-h,c,l,c-g),t.lineTo(l,u+g),t.quadraticCurveTo(l-h,u,l-p,u),t.lineTo(s+p,u),t.quadraticCurveTo(s+h,u,s,u+g),t.closePath()};var nd=Math.sin(0),rd=Math.cos(0),xu={},Cu={},Dv=Math.PI/40;for(var zi=0*Math.PI;zi<2*Math.PI;zi+=Dv)xu[zi]=Math.sin(zi),Cu[zi]=Math.cos(zi);Xr.drawEllipsePath=function(t,e,n,r,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,n,r/2,i/2,0,0,2*Math.PI);else for(var a,o,s=r/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=Dv)a=e-s*xu[u]*nd+s*Cu[u]*rd,o=n+l*Cu[u]*nd+l*xu[u]*rd,u===0?t.moveTo(a,o):t.lineTo(a,o);t.closePath()};var Eo={};Eo.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]};Eo.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements(),r=n.boundingBox(),i=this.findContainerClientCoords(),a=t.full?Math.ceil(r.w):i[2],o=t.full?Math.ceil(r.h):i[3],s=ze(t.maxWidth)||ze(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)a*=t.scale,o*=t.scale,u=t.scale;else if(s){var c=1/0,d=1/0;ze(t.maxWidth)&&(c=u*t.maxWidth/a),ze(t.maxHeight)&&(d=u*t.maxHeight/o),u=Math.min(c,d),a*=u,o*=u}s||(a*=l,o*=l,u*=l);var p=document.createElement("canvas");p.width=a,p.height=o,p.style.width=a+"px",p.style.height=o+"px";var g=p.getContext("2d");if(a>0&&o>0){g.clearRect(0,0,a,o),g.globalCompositeOperation="source-over";var h=this.getCachedZSortedEles();if(t.full)g.translate(-r.x1*u,-r.y1*u),g.scale(u,u),this.drawElements(g,h),g.scale(1/u,1/u),g.translate(r.x1*u,r.y1*u);else{var y=e.pan(),w={x:y.x*u,y:y.y*u};u*=e.zoom(),g.translate(w.x,w.y),g.scale(u,u),this.drawElements(g,h),g.scale(1/u,1/u),g.translate(-w.x,-w.y)}t.bg&&(g.globalCompositeOperation="destination-over",g.fillStyle=t.bg,g.rect(0,0,a,o),g.fill())}return p};function EC(t,e){for(var n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return new Blob([r],{type:e})}function id(t){var e=t.indexOf(",");return t.substr(e+1)}function Pv(t,e,n){var r=function(){return e.toDataURL(n,t.quality)};switch(t.output){case"blob-promise":return new sa(function(i,a){try{e.toBlob(function(o){o!=null?i(o):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,t.quality)}catch(o){a(o)}});case"blob":return EC(id(r()),n);case"base64":return id(r());case"base64uri":default:return r()}}Eo.png=function(t){return Pv(t,this.bufferCanvasImage(t),"image/png")};Eo.jpg=function(t){return Pv(t,this.bufferCanvasImage(t),"image/jpeg")};var Lv={};Lv.nodeShapeImpl=function(t,e,n,r,i,a,o,s){switch(t){case"ellipse":return this.drawEllipsePath(e,n,r,i,a);case"polygon":return this.drawPolygonPath(e,n,r,i,a,o);case"round-polygon":return this.drawRoundPolygonPath(e,n,r,i,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,n,r,i,a,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,n,r,i,a,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,n,r,i,a,s);case"barrel":return this.drawBarrelPath(e,n,r,i,a)}};var SC=Ov,mt=Ov.prototype;mt.CANVAS_LAYERS=3;mt.SELECT_BOX=0;mt.DRAG=1;mt.NODE=2;mt.BUFFER_COUNT=3;mt.TEXTURE_BUFFER=0;mt.MOTIONBLUR_BUFFER_NODE=1;mt.MOTIONBLUR_BUFFER_DRAG=2;function Ov(t){var e=this,n=e.cy.window(),r=n.document;e.data={canvases:new Array(mt.CANVAS_LAYERS),contexts:new Array(mt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(mt.CANVAS_LAYERS),bufferCanvases:new Array(mt.BUFFER_COUNT),bufferContexts:new Array(mt.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=r.createElement("div");var o=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=a,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=t.cy.container();s.appendChild(e.data.canvasContainer),s.style[i]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};fm()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<mt.CANVAS_LAYERS;u++){var c=e.data.canvases[u]=r.createElement("canvas");e.data.contexts[u]=c.getContext("2d"),Object.keys(l).forEach(function(ne){c.style[ne]=l[ne]}),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(mt.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[u]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[mt.NODE].setAttribute("data-id","layer"+mt.NODE+"-node"),e.data.canvases[mt.SELECT_BOX].setAttribute("data-id","layer"+mt.SELECT_BOX+"-selectbox"),e.data.canvases[mt.DRAG].setAttribute("data-id","layer"+mt.DRAG+"-drag");for(var u=0;u<mt.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=r.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0;var d=En(),p=function(j){return{x:(j.x1+j.x2)/2,y:(j.y1+j.y2)/2}},g=function(j){return{x:-j.w/2,y:-j.h/2}},h=function(j){var te=j[0]._private,ve=te.oldBackgroundTimestamp===te.backgroundTimestamp;return!ve},y=function(j){return j[0]._private.nodeKey},w=function(j){return j[0]._private.labelStyleKey},b=function(j){return j[0]._private.sourceLabelStyleKey},E=function(j){return j[0]._private.targetLabelStyleKey},S=function(j,te,ve,ye,$e){return e.drawElement(j,te,ve,!1,!1,$e)},x=function(j,te,ve,ye,$e){return e.drawElementText(j,te,ve,ye,"main",$e)},_=function(j,te,ve,ye,$e){return e.drawElementText(j,te,ve,ye,"source",$e)},k=function(j,te,ve,ye,$e){return e.drawElementText(j,te,ve,ye,"target",$e)},v=function(j){return j.boundingBox(),j[0]._private.bodyBounds},D=function(j){return j.boundingBox(),j[0]._private.labelBounds.main||d},I=function(j){return j.boundingBox(),j[0]._private.labelBounds.source||d},B=function(j){return j.boundingBox(),j[0]._private.labelBounds.target||d},P=function(j,te){return te},L=function(j){return p(v(j))},R=function(j,te,ve){var ye=j?j+"-":"";return{x:te.x+ve.pstyle(ye+"text-margin-x").pfValue,y:te.y+ve.pstyle(ye+"text-margin-y").pfValue}},O=function(j,te,ve){var ye=j[0]._private.rscratch;return{x:ye[te],y:ye[ve]}},F=function(j){return R("",O(j,"labelX","labelY"),j)},$=function(j){return R("source",O(j,"sourceLabelX","sourceLabelY"),j)},W=function(j){return R("target",O(j,"targetLabelX","targetLabelY"),j)},Y=function(j){return g(v(j))},ie=function(j){return g(I(j))},oe=function(j){return g(B(j))},Q=function(j){var te=D(j),ve=g(D(j));if(j.isNode()){switch(j.pstyle("text-halign").value){case"left":ve.x=-te.w-(te.leftPad||0);break;case"right":ve.x=-(te.rightPad||0);break}switch(j.pstyle("text-valign").value){case"top":ve.y=-te.h-(te.topPad||0);break;case"bottom":ve.y=-(te.botPad||0);break}}return ve},H=e.data.eleTxrCache=new qa(e,{getKey:y,doesEleInvalidateKey:h,drawElement:S,getBoundingBox:v,getRotationPoint:L,getRotationOffset:Y,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),U=e.data.lblTxrCache=new qa(e,{getKey:w,drawElement:x,getBoundingBox:D,getRotationPoint:F,getRotationOffset:Q,isVisible:P}),G=e.data.slbTxrCache=new qa(e,{getKey:b,drawElement:_,getBoundingBox:I,getRotationPoint:$,getRotationOffset:ie,isVisible:P}),q=e.data.tlbTxrCache=new qa(e,{getKey:E,drawElement:k,getBoundingBox:B,getRotationPoint:W,getRotationOffset:oe,isVisible:P}),X=e.data.lyrTxrCache=new _v(e);e.onUpdateEleCalcs(function(j,te){H.invalidateElements(te),U.invalidateElements(te),G.invalidateElements(te),q.invalidateElements(te),X.invalidateElements(te);for(var ve=0;ve<te.length;ve++){var ye=te[ve]._private;ye.oldBackgroundTimestamp=ye.backgroundTimestamp}});var re=function(j){for(var te=0;te<j.length;te++)X.enqueueElementRefinement(j[te].ele)};H.onDequeue(re),U.onDequeue(re),G.onDequeue(re),q.onDequeue(re)}mt.redrawHint=function(t,e){var n=this;switch(t){case"eles":n.data.canvasNeedsRedraw[mt.NODE]=e;break;case"drag":n.data.canvasNeedsRedraw[mt.DRAG]=e;break;case"select":n.data.canvasNeedsRedraw[mt.SELECT_BOX]=e;break}};var TC=typeof Path2D<"u";mt.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};mt.usePaths=function(){return TC&&this.pathsEnabled};mt.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};mt.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};mt.makeOffscreenCanvas=function(t,e){var n;if((typeof OffscreenCanvas>"u"?"undefined":Gt(OffscreenCanvas))!=="undefined")n=new OffscreenCanvas(t,e);else{var r=this.cy.window(),i=r.document;n=i.createElement("canvas"),n.width=t,n.height=e}return n};[Mv,gr,Ar,ac,_i,pa,Dn,Xr,Eo,Lv].forEach(function(t){et(mt,t)});var kC=[{name:"null",impl:pv},{name:"base",impl:Tv},{name:"canvas",impl:SC}],_C=[{type:"layout",extensions:Lx},{type:"renderer",extensions:kC}],Nv={},Bv={};function Rv(t,e,n){var r=n,i=function(D){xt("Can not register `"+e+"` for `"+t+"` since `"+D+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(lo.prototype[e])return i(e);lo.prototype[e]=n}else if(t==="collection"){if(nn.prototype[e])return i(e);nn.prototype[e]=n}else if(t==="layout"){for(var a=function(D){this.options=D,n.call(this,D),pt(this._private)||(this._private={}),this._private.cy=D.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(n.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=n.prototype.stop;o.stop=function(){var v=this.options;if(v&&v.animate){var D=this.animations;if(D)for(var I=0;I<D.length;I++)D[I].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var d=function(D){return D._private.cy},p={addEventFields:function(D,I){I.layout=D,I.cy=d(D),I.target=D},bubble:function(){return!0},parent:function(D){return d(D)}};et(o,{createEmitter:function(){return this._private.emitter=new tl(p,this),this},emitter:function(){return this._private.emitter},on:function(D,I){return this.emitter().on(D,I),this},one:function(D,I){return this.emitter().one(D,I),this},once:function(D,I){return this.emitter().one(D,I),this},removeListener:function(D,I){return this.emitter().removeListener(D,I),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(D,I){return this.emitter().emit(D,I),this}}),wt.eventAliasesOn(o),r=a}else if(t==="renderer"&&e!=="null"&&e!=="base"){var g=zv("renderer","base"),h=g.prototype,y=n,w=n.prototype,b=function(){g.apply(this,arguments),y.apply(this,arguments)},E=b.prototype;for(var S in h){var x=h[S],_=w[S]!=null;if(_)return i(S);E[S]=x}for(var k in w)E[k]=w[k];h.clientFunctions.forEach(function(v){E[v]=E[v]||function(){Rt("Renderer does not implement `renderer."+v+"()` on its prototype")}}),r=b}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Rt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return uh({map:Nv,keys:[t,e],value:r})}function zv(t,e){return ch({map:Nv,keys:[t,e]})}function MC(t,e,n,r,i){return uh({map:Bv,keys:[t,e,n,r],value:i})}function AC(t,e,n,r){return ch({map:Bv,keys:[t,e,n,r]})}var Eu=function(){if(arguments.length===2)return zv.apply(null,arguments);if(arguments.length===3)return Rv.apply(null,arguments);if(arguments.length===4)return AC.apply(null,arguments);if(arguments.length===5)return MC.apply(null,arguments);Rt("Invalid extension access syntax")};lo.prototype.extension=Eu;_C.forEach(function(t){t.extensions.forEach(function(e){Rv(t.type,e.name,e.impl)})});var Fv=function t(){if(!(this instanceof t))return new t;this.length=0},Ei=Fv.prototype;Ei.instanceString=function(){return"stylesheet"};Ei.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Ei.css=function(t,e){var n=this.length-1;if(Ze(t))this[n].properties.push({name:t,value:e});else if(pt(t))for(var r=t,i=Object.keys(r),a=0;a<i.length;a++){var o=i[a],s=r[o];if(s!=null){var l=un.properties[o]||un.properties[Us(o)];if(l!=null){var u=l.name,c=s;this[n].properties.push({name:u,value:c})}}}return this};Ei.style=Ei.css;Ei.generateStyle=function(t){var e=new un(t);return this.appendToStyle(e)};Ei.appendToStyle=function(t){for(var e=0;e<this.length;e++){var n=this[e],r=n.selector,i=n.properties;t.selector(r);for(var a=0;a<i.length;a++){var o=i[a];t.css(o.name,o.value)}}return t};var IC="3.30.4",dr=function(e){if(e===void 0&&(e={}),pt(e))return new lo(e);if(Ze(e))return Eu.apply(Eu,arguments)};dr.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(dr),t.apply(null,e),this};dr.warnings=function(t){return yh(t)};dr.version=IC;dr.stylesheet=dr.Stylesheet=Fv;var ys={exports:{}},DC=ys.exports,ad;function PC(){return ad||(ad=1,function(t,e){(function(r,i){t.exports=i()})(DC,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.i=function(a){return a},i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=11)}([function(n,r,i){n.exports=Object.assign!=null?Object.assign.bind(Object):function(a){for(var o=arguments.length,s=Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return s.forEach(function(u){Object.keys(u).forEach(function(c){return a[c]=u[c]})}),a}},function(n,r,i){var a=i(0),o=Object.freeze({source:null,target:null,length:80,coeff:2e-4,weight:1});function s(u){return a({},o,u)}function l(u){var c=u.source,d=u.target,p=u.length<0?o.length:u.length,g=d.pos.x-c.pos.x,h=d.pos.y-c.pos.y,y=Math.sqrt(g*g+h*h);y===0&&(g=(Math.random()-.5)/50,h=(Math.random()-.5)/50,y=Math.sqrt(g*g+h*h));var w=y-p,b=(!u.coeff||u.coeff<0?o.springCoeff:u.coeff)*w/y*u.weight;c.force.x+=b*g,c.force.y+=b*h,d.force.x-=b*g,d.force.y-=b*h}n.exports={makeSpring:s,applySpring:l}},function(n,r,i){var a=function(){function O(F,$){for(var W=0;W<$.length;W++){var Y=$[W];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(F,Y.key,Y)}}return function(F,$,W){return $&&O(F.prototype,$),W&&O(F,W),F}}();function o(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}function s(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:O}function l(O,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);O.prototype=Object.create(F&&F.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(O,F):O.__proto__=F)}var u=i(13),c=i(0),d=i(4),p=i(10),g=p.tick,h=i(7),y=h.makeQuadtree,w=i(3),b=w.makeBody,E=i(1),S=E.makeSpring,x=function(F){return typeof F=="function"},_=function(F){return F.isParent()},k=function(F){return!_(F)},v=function(F){return _(F.source())||_(F.target())},D=function(F){return!v(F)},I=function(F){return F.scratch("euler").body},B=function(F){return _(F)?F.descendants().filter(k):F},P=function(F){var $=F.scratch("euler");return $||($={},F.scratch("euler",$)),$},L=function(F,$){return x(F)?F($):F},R=function(O){l(F,O);function F($){return o(this,F),s(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,c({},d,$)))}return a(F,[{key:"prerun",value:function(W){var Y=W;Y.quadtree=y();var ie=Y.bodies=[];Y.nodes.filter(function(Q){return k(Q)}).forEach(function(Q){var H=P(Q),U=b({pos:{x:H.x,y:H.y},mass:L(Y.mass,Q),locked:H.locked});U._cyNode=Q,H.body=U,U._scratch=H,ie.push(U)});var oe=Y.springs=[];Y.edges.filter(D).forEach(function(Q){var H=S({source:I(Q.source()),target:I(Q.target()),length:L(Y.springLength,Q),coeff:L(Y.springCoeff,Q)});H._cyEdge=Q;var U=P(Q);H._scratch=U,U.spring=H,oe.push(H)}),Y.edges.filter(v).forEach(function(Q){var H=B(Q.source()),U=B(Q.target());H=[H[0]],U=[U[0]],H.forEach(function(G){U.forEach(function(q){oe.push(S({source:I(G),target:I(q),length:L(Y.springLength,Q),coeff:L(Y.springCoeff,Q)}))})})})}},{key:"tick",value:function(W){var Y=g(W),ie=Y<=W.movementThreshold;return ie}}]),F}(u);n.exports=R},function(n,r,i){var a=Object.freeze({pos:{x:0,y:0},prevPos:{x:0,y:0},force:{x:0,y:0},velocity:{x:0,y:0},mass:1}),o=function(d){return{x:d.x,y:d.y}},s=function(d,p){return d??p},l=function(d,p){return o(s(d,p))};function u(c){var d={};return d.pos=l(c.pos,a.pos),d.prevPos=l(c.prevPos,d.pos),d.force=l(c.force,a.force),d.velocity=l(c.velocity,a.velocity),d.mass=c.mass!=null?c.mass:a.mass,d.locked=c.locked,d}n.exports={makeBody:u}},function(n,r,i){var a=Object.freeze({springLength:function(s){return 80},springCoeff:function(s){return 8e-4},mass:function(s){return 4},gravity:-1.2,pull:.001,theta:.666,dragCoeff:.02,movementThreshold:1,timeStep:20});n.exports=a},function(n,r,i){var a=.02;function o(s,l){var u=void 0;l!=null?u=l:s.dragCoeff!=null?u=s.dragCoeff:u=a,s.force.x-=u*s.velocity.x,s.force.y-=u*s.velocity.y}n.exports={applyDrag:o}},function(n,r,i){function a(o,s){var l=0,u=0,c=0,d=0,p,g=o.length;if(g===0)return 0;for(p=0;p<g;++p){var h=o[p],y=s/h.mass;if(!h.grabbed){h.locked?(h.velocity.x=0,h.velocity.y=0):(h.velocity.x+=y*h.force.x,h.velocity.y+=y*h.force.y);var w=h.velocity.x,b=h.velocity.y,E=Math.sqrt(w*w+b*b);E>1&&(h.velocity.x=w/E,h.velocity.y=b/E),l=s*h.velocity.x,c=s*h.velocity.y,h.pos.x+=l,h.pos.y+=c,u+=Math.abs(l),d+=Math.abs(c)}}return(u*u+d*d)/g}n.exports={integrate:a}},function(n,r,i){var a=i(9),o=i(8),s=function(g){g.x=0,g.y=0},l=function(g,h){var y=1e-8,w=Math.abs(g.x-h.x),b=Math.abs(g.y-h.y);return w<y&&b<y};function u(){var p=[],g=new o,h=[],y=0,w=b();function b(){var _=h[y];return _?(_.quad0=null,_.quad1=null,_.quad2=null,_.quad3=null,_.body=null,_.mass=_.massX=_.massY=0,_.left=_.right=_.top=_.bottom=0):(_=new a,h[y]=_),++y,_}function E(_,k,v,D){var I=p,B=void 0,P=void 0,L=void 0,R=void 0,O=0,F=0,$=1,W=0,Y=1;I[0]=w,s(_.force);var ie=-_.pos.x,oe=-_.pos.y,Q=Math.sqrt(ie*ie+oe*oe),H=_.mass*D/Q;for(O+=H*ie,F+=H*oe;$;){var U=I[W],G=U.body;$-=1,W+=1;var q=G!==_;G&&q?(P=G.pos.x-_.pos.x,L=G.pos.y-_.pos.y,R=Math.sqrt(P*P+L*L),R===0&&(P=(Math.random()-.5)/50,L=(Math.random()-.5)/50,R=Math.sqrt(P*P+L*L)),B=k*G.mass*_.mass/(R*R*R),O+=B*P,F+=B*L):q&&(P=U.massX/U.mass-_.pos.x,L=U.massY/U.mass-_.pos.y,R=Math.sqrt(P*P+L*L),R===0&&(P=(Math.random()-.5)/50,L=(Math.random()-.5)/50,R=Math.sqrt(P*P+L*L)),(U.right-U.left)/R<v?(B=k*U.mass*_.mass/(R*R*R),O+=B*P,F+=B*L):(U.quad0&&(I[Y]=U.quad0,$+=1,Y+=1),U.quad1&&(I[Y]=U.quad1,$+=1,Y+=1),U.quad2&&(I[Y]=U.quad2,$+=1,Y+=1),U.quad3&&(I[Y]=U.quad3,$+=1,Y+=1)))}_.force.x+=O,_.force.y+=F}function S(_){if(_.length!==0){var k=Number.MAX_VALUE,v=Number.MAX_VALUE,D=Number.MIN_VALUE,I=Number.MIN_VALUE,B=void 0,P=_.length;for(B=P;B--;){var L=_[B].pos.x,R=_[B].pos.y;L<k&&(k=L),L>D&&(D=L),R<v&&(v=R),R>I&&(I=R)}var O=D-k,F=I-v;for(O>F?I=v+O:D=k+F,y=0,w=b(),w.left=k,w.right=D,w.top=v,w.bottom=I,B=P-1,B>=0&&(w.body=_[B]);B--;)x(_[B])}}function x(_){for(g.reset(),g.push(w,_);!g.isEmpty();){var k=g.pop(),v=k.node,D=k.body;if(v.body){var W=v.body;if(v.body=null,l(W.pos,D.pos)){var Y=3;do{var ie=Math.random(),oe=(v.right-v.left)*ie,Q=(v.bottom-v.top)*ie;W.pos.x=v.left+oe,W.pos.y=v.top+Q,Y-=1}while(Y>0&&l(W.pos,D.pos));if(Y===0&&l(W.pos,D.pos))return}g.push(v,W),g.push(v,D)}else{var I=D.pos.x,B=D.pos.y;v.mass=v.mass+D.mass,v.massX=v.massX+D.mass*I,v.massY=v.massY+D.mass*B;var P=0,L=v.left,R=(v.right+L)/2,O=v.top,F=(v.bottom+O)/2;I>R&&(P=P+1,L=R,R=v.right),B>F&&(P=P+2,O=F,F=v.bottom);var $=c(v,P);$?g.push($,D):($=b(),$.left=L,$.top=O,$.right=R,$.bottom=F,$.body=D,d(v,P,$))}}}return{insertBodies:S,updateBodyForce:E}}function c(p,g){return g===0?p.quad0:g===1?p.quad1:g===2?p.quad2:g===3?p.quad3:null}function d(p,g,h){g===0?p.quad0=h:g===1?p.quad1=h:g===2?p.quad2=h:g===3&&(p.quad3=h)}n.exports={makeQuadtree:u}},function(n,r,i){n.exports=a;function a(){this.stack=[],this.popIdx=0}a.prototype={isEmpty:function(){return this.popIdx===0},push:function(l,u){var c=this.stack[this.popIdx];c?(c.node=l,c.body=u):this.stack[this.popIdx]=new o(l,u),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};function o(s,l){this.node=s,this.body=l}},function(n,r,i){n.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},function(n,r,i){var a=i(6),o=a.integrate,s=i(5),l=s.applyDrag,u=i(1),c=u.applySpring;function d(p){var g=p.bodies,h=p.springs,y=p.quadtree,w=p.timeStep,b=p.gravity,E=p.theta,S=p.dragCoeff,x=p.pull;g.forEach(function(B){var P=B._scratch;P&&(B.locked=P.locked,B.grabbed=P.grabbed,B.pos.x=P.x,B.pos.y=P.y)}),y.insertBodies(g);for(var _=0;_<g.length;_++){var k=g[_];y.updateBodyForce(k,b,E,x),l(k,S)}for(var v=0;v<h.length;v++){var D=h[v];c(D)}var I=o(g,w);return g.forEach(function(B){var P=B._scratch;P&&(P.x=B.pos.x,P.y=B.pos.y)}),I}n.exports={tick:d}},function(n,r,i){var a=i(2),o=function(l){l&&l("layout","euler",a)};typeof cytoscape<"u"&&o(cytoscape),n.exports=o},function(n,r,i){n.exports=Object.freeze({animate:!0,refresh:10,maxIterations:1e3,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,infinite:!1})},function(n,r,i){var a=function(){function b(E,S){for(var x=0;x<S.length;x++){var _=S[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(E,_.key,_)}}return function(E,S,x){return S&&b(E.prototype,S),x&&b(E,x),E}}();function o(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}var s=i(0),l=i(12),u=i(14),c=i(15),d=c.setInitialPositionState,p=c.refreshPositions,g=c.getNodePositionData,h=i(16),y=h.multitick,w=function(){function b(E){o(this,b);var S=this.options=s({},l,E),x=S.eles.nodes();if(!S.randomize){x=x.sort(function(D,I){return D.position().x-I.position().x});var _={x:0,y:0},k={};x.forEach(function(D){Object.assign(k,D.position()),Math.abs(_.x-k.x)<S.theta&&Math.abs(_.y-k.y)<S.theta&&D.position({x:Math.random()*100,y:Math.random()*100}),Object.assign(_,k)})}var v=this.state=s({},S,{layout:this,nodes:x,edges:S.eles.edges(),tickIndex:0,firstUpdate:!0});v.animateEnd=S.animate&&S.animate==="end",v.animateContinuously=S.animate&&!v.animateEnd}return a(b,[{key:"run",value:function(){var S=this,x=this.state;if(x.tickIndex=0,x.firstUpdate=!0,x.startTime=Date.now(),x.running=!0,x.currentBoundingBox=u(x.boundingBox,x.cy),x.ready&&S.one("ready",x.ready),x.stop&&S.one("stop",x.stop),x.nodes.forEach(function(oe){return d(oe,x)}),S.prerun(x),x.animateContinuously){var _=function(Q){if(x.ungrabifyWhileSimulating){var H=g(Q,x).grabbable=Q.grabbable();H&&Q.ungrabify()}},k=function(Q){if(x.ungrabifyWhileSimulating){var H=g(Q,x).grabbable;H&&Q.grabify()}},v=function(Q){return g(Q,x).grabbed=Q.grabbed()},D=function(Q){var H=Q.target;v(H)},I=D,B=function(Q){var H=Q.target,U=g(H,x),G=H.position();U.x=G.x,U.y=G.y},P=function(Q){Q.on("grab",D),Q.on("free",I),Q.on("drag",B)},L=function(Q){Q.removeListener("grab",D),Q.removeListener("free",I),Q.removeListener("drag",B)},R=function(){x.fit&&x.animateContinuously&&x.cy.fit(x.padding)},O=function(){p(x.nodes,x),R(),requestAnimationFrame(F)},F=function(){y(x,O,$)},$=function(){p(x.nodes,x),R(),x.nodes.forEach(function(Q){k(Q),L(Q)}),x.running=!1,S.emit("layoutstop")};S.emit("layoutstart"),x.nodes.forEach(function(oe){_(oe),P(oe)}),F()}else{for(var W=!1,Y=function(){},ie=function(){return W=!0};!W;)y(x,Y,ie);x.eles.layoutPositions(this,x,function(oe){var Q=g(oe,x);return{x:Q.x,y:Q.y}})}return S.postrun(x),this}},{key:"prerun",value:function(){}},{key:"postrun",value:function(){}},{key:"tick",value:function(){}},{key:"stop",value:function(){return this.state.running=!1,this}},{key:"destroy",value:function(){return this}}]),b}();n.exports=w},function(n,r,i){n.exports=function(a,o){return a==null?a={x1:0,y1:0,w:o.width(),h:o.height()}:a={x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2,w:a.w,h:a.h},a.x2==null&&(a.x2=a.x1+a.w),a.w==null&&(a.w=a.x2-a.x1),a.y2==null&&(a.y2=a.y1+a.h),a.h==null&&(a.h=a.y2-a.y1),a}},function(n,r,i){var a=i(0),o=function(c,d){var p=c.position(),g=d.currentBoundingBox,h=c.scratch(d.name);h==null&&(h={},c.scratch(d.name,h)),a(h,d.randomize?{x:g.x1+Math.random()*g.w,y:g.y1+Math.random()*g.h}:{x:p.x,y:p.y}),h.locked=c.locked()},s=function(c,d){return c.scratch(d.name)},l=function(c,d){c.positions(function(p){var g=p.scratch(d.name);return{x:g.x,y:g.y}})};n.exports={setInitialPositionState:o,getNodePositionData:s,refreshPositions:l}},function(n,r,i){var a=function(){},o=function(u){var c=u,d=u.layout,p=d.tick(c);c.firstUpdate&&(c.animateContinuously&&c.layout.emit("layoutready"),c.firstUpdate=!1),c.tickIndex++;var g=Date.now()-c.startTime;return!c.infinite&&(p||c.tickIndex>=c.maxIterations||g>=c.maxSimulationTime)},s=function(u){for(var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a,p=!1,g=u,h=0;h<g.refresh&&(p=!g.running||o(g),!p);h++);p?d():c()};n.exports={tick:o,multitick:s}}])})}(ys)),ys.exports}var LC=PC();const OC=Ti(LC);dr.use(OC);const NC=500;let Fi;function $v(t,e,n=!1){return"layout"+t+e.sort().toString().replace(/[^a-z]/g,"")+!!n}function Hv(t){const e=[];for(let n=0;n<t.size();n++){const r=t[n];e.push([r.data(Qe.ID),r.position()])}return e}function od(t){const e={x:0,y:0};for(let n=0;n<t.length;n++){const r=t[n].position();e.x+=r.x,e.y+=r.y}return e.x/=t.length,e.y/=t.length,e}async function Fn(t,e,n,r=!1,i=!1){if(t.nodes().size()===0)return Pe.warn("layout.js#run: Graph empty. Nothing to layout."),!1;const a=aa("layout");if(r){const p=new Set,g=[],h=t.nodes();for(let y=0;y<h.length;y++){const w=h[y],b=w.data(Qe.SOURCE);b&&(p.has(b)||(t.add({group:"nodes",data:{id:b,mass:400,type:"virtual"}}),p.add(b)),g.push({group:"edges",data:{source:w.data(Qe.ID),target:b,springLength:180}}))}Pe.debug("Separate subontologies checked"),Pe.debug(`Adding ${g.length} virtual edges.`),t.add(g)}else Pe.debug("Separate subontologies unchecked");Fi&&Fi.stop();let o,s;t.nodes(":selected").size()>1?(o=t.elements(":selected"),s=!0):(o=t.elements(":visible"),s=!1);let l;s&&(l=od(o.nodes()));const u=o.size()>NC&&typeof window<"u",c={...e,animate:u};Fi=o.layout(c),Fi.on("layoutstop",()=>{if(s){const p=od(o.nodes());o.nodes().shift({x:l.x-p.x,y:l.y-p.y})}if(a.stop(),n&&r){const p=t.nodes("[type='virtual']");Pe.debug(`Removing ${p.length} virtual nodes.`),t.remove(p)}if(n&&i){if(typeof localStorage>"u")return Pe.warn("web storage not available, could not write to cache."),!0;const p=Hv(t.nodes()),g=$v(e.name,n,r);localStorage.setItem(g,JSON.stringify(p)),Pe.info("Replaced layout cache.")}});const d=Fi.promiseOn("layoutready");return Fi.run(),await d,!0}async function BC(t,e){const n=new Map(e);let r=0,i=0;const o=await Fn(t,{name:"preset",fit:!0,positions:s=>{let l;return(l=n.get(s.data(Qe.ID)))?(r++,l):(i++,{x:0,y:0})}});if(i>0||r<Hv.length){Pe.debug(`...${r}/${t.nodes().size()} node positions set. ${e.length-r} superfluous layout positions .`);const s=r/e.length,l=r/t.nodes().size();if(s<Ke.layoutCacheMinPrecision)return Pe.warn(`Preset layout precision of ${s} less than minimal required precision of ${Ke.layoutCacheMinPrecision}.`),!1;if(l<Ke.layoutCacheMinRecall)return Pe.warn(`Recall of ${l} less than minimal required of recall of ${Ke.layoutCacheMinRecall}.`),!1}else Pe.debug("...layout applied with 100% overlap.");return r===0?(Pe.error("0 hits in the preset layout."),!1):o}async function qv(t,e,n,r=!1){if(typeof localStorage>"u")return Pe.error("Web storage not available, could not access browser-based cache."),Fn(t,e,n,r,!1);const i=$v(e.name,n,r),a=localStorage.getItem(i);if(a)try{const o=JSON.parse(a);if(Pe.debug(`Loaded layout from cache, applying ${o.length} positions...`),await BC(t,o))return!0;Pe.warn("Could not apply layout to active graph, recalculating layout...")}catch(o){Pe.warn("Could not load cache item, recalculating layout...",o)}else Pe.warn("Layout not in cache, recalculating layout...");return Fn(t,e,n,r,!0)}function RC(t){const e=t.data("springLength");return e||800}const Ua={name:"euler",springLength:t=>RC(t),animate:!0,refresh:50,maxSimulationTime:4e4,maxIterations:500,timeStep:80,randomize:!0,movementThreshold:1,fit:!1,mass:t=>t.data("mass")|40},Ns={name:"euler",springLength:40,animate:!1,maxSimulationTime:1e4,maxIterations:100,timeStep:80,refresh:50,randomize:!1,movementThreshold:1,fit:!1,mass:40},Vv={name:"cose",animate:!0,refresh:50,numIter:500,initialTemp:1e3,nestingFactor:1.01,randomize:!1,fit:!0};function zC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function es(t){return function(e){if(Array.isArray(e))return Vl(e)}(t)||function(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,n){if(e){if(typeof e=="string")return Vl(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vl(e,n)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sd,Wl,oi,Ul,ld,Kn=(sd=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],Wl=function(){function t(r){var i=r.targetModal,a=r.triggers,o=a===void 0?[]:a,s=r.onShow,l=s===void 0?function(){}:s,u=r.onClose,c=u===void 0?function(){}:u,d=r.openTrigger,p=d===void 0?"data-micromodal-trigger":d,g=r.closeTrigger,h=g===void 0?"data-micromodal-close":g,y=r.openClass,w=y===void 0?"is-open":y,b=r.disableScroll,E=b!==void 0&&b,S=r.disableFocus,x=S!==void 0&&S,_=r.awaitCloseAnimation,k=_!==void 0&&_,v=r.awaitOpenAnimation,D=v!==void 0&&v,I=r.debugMode,B=I!==void 0&&I;(function(P,L){if(!(P instanceof L))throw new TypeError("Cannot call a class as a function")})(this,t),this.modal=document.getElementById(i),this.config={debugMode:B,disableScroll:E,openTrigger:p,closeTrigger:h,openClass:w,onShow:l,onClose:c,awaitCloseAnimation:k,awaitOpenAnimation:D,disableFocus:x},o.length>0&&this.registerTriggers.apply(this,es(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e,n;return e=t,(n=[{key:"registerTriggers",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.filter(Boolean).forEach(function(s){s.addEventListener("click",function(l){return r.showModal(l)})})}},{key:"showModal",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var a=function o(){r.modal.removeEventListener("animationend",o,!1),r.setFocusToFirstNode()};this.modal.addEventListener("animationend",a,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,i)}},{key:"closeModal",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,r),this.config.awaitCloseAnimation){var a=this.config.openClass;this.modal.addEventListener("animationend",function o(){i.classList.remove(a),i.removeEventListener("animationend",o,!1)},!1)}else i.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(r){this.modal=document.getElementById(r),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(r){if(this.config.disableScroll){var i=document.querySelector("body");switch(r){case"enable":Object.assign(i.style,{overflow:""});break;case"disable":Object.assign(i.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(r){(r.target.hasAttribute(this.config.closeTrigger)||r.target.parentNode.hasAttribute(this.config.closeTrigger))&&(r.preventDefault(),r.stopPropagation(),this.closeModal(r))}},{key:"onKeydown",value:function(r){r.keyCode===27&&this.closeModal(r),r.keyCode===9&&this.retainFocus(r)}},{key:"getFocusableNodes",value:function(){var r=this.modal.querySelectorAll(sd);return Array.apply(void 0,es(r))}},{key:"setFocusToFirstNode",value:function(){var r=this;if(!this.config.disableFocus){var i=this.getFocusableNodes();if(i.length!==0){var a=i.filter(function(o){return!o.hasAttribute(r.config.closeTrigger)});a.length>0&&a[0].focus(),a.length===0&&i[0].focus()}}}},{key:"retainFocus",value:function(r){var i=this.getFocusableNodes();if(i.length!==0)if(i=i.filter(function(o){return o.offsetParent!==null}),this.modal.contains(document.activeElement)){var a=i.indexOf(document.activeElement);r.shiftKey&&a===0&&(i[i.length-1].focus(),r.preventDefault()),!r.shiftKey&&i.length>0&&a===i.length-1&&(i[0].focus(),r.preventDefault())}else i[0].focus()}}])&&zC(e.prototype,n),t}(),oi=null,Ul=function(t){if(!document.getElementById(t))return console.warn("MicroModal: âSeems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},ld=function(t,e){if(function(r){r.length<=0&&(console.warn("MicroModal: âPlease specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var n in e)Ul(n);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),n=es(document.querySelectorAll("[".concat(e.openTrigger,"]"))),r=function(o,s){var l=[];return o.forEach(function(u){var c=u.attributes[s].value;l[c]===void 0&&(l[c]=[]),l[c].push(u)}),l}(n,e.openTrigger);if(e.debugMode!==!0||ld(n,r)!==!1)for(var i in r){var a=r[i];e.targetModal=i,e.triggers=es(a),oi=new Wl(e)}},show:function(t,e){var n=e||{};n.targetModal=t,n.debugMode===!0&&Ul(t)===!1||(oi&&oi.removeEventListeners(),(oi=new Wl(n)).showModal())},close:function(t){t?oi.closeModalById(t):oi.closeModal()}});typeof window<"u"&&(window.MicroModal=Kn);const Wv=new Map,Uv=new Map,ts=new Set;async function ud(t,e){const n=`SELECT DISTINCT(?class) ?label
  FROM <http://www.snik.eu/ontology/${t}>
  {
    ?class meta:chapter/meta:subChapterOf* <${e}>.
    ?class rdfs:label ?label.
    FILTER(LANGMATCHES(LANG(?label),"en"))
  }
  ORDER BY ASC(?class)`,r=await _r(n);r.forEach(a=>{Uv.set(a.class.value,a.label.value)});const i=r.map(a=>a.class.value);return Wv.set(e,i),new Set(i)}async function cd(t,e){const n=Mn("tab:chapter-search-classes");for(;n.rows.length>0;)n.deleteRow(0);const r=(o,s)=>{const u=n.insertRow().insertCell(),c=document.createElement("a");u.appendChild(c),c.innerText=o,c.addEventListener("click",()=>{Kn.close("chapter-search"),t.resetStyle(),t.presentUris(Array.from(e),s)})};r("Show Only those in Graph",!0),r("Highlight All in Graph",!1);const a=n.insertRow().insertCell();a.innerHTML="&nbsp;";for(const o of e){const l=n.insertRow().insertCell(),u=document.createElement("a");l.appendChild(u),u.innerText=Uv.get(o),u.addEventListener("click",()=>{Kn.close("chapter-search"),t.presentUri(o)})}}async function fd(t,e){Kn.show("chapter-search");const n=Mn("tab:chapter-search-chapters");for(;n.rows.length>0;)n.deleteRow(0);{const s=Mn("tab:chapter-search-classes");for(;s.rows.length>0;)s.deleteRow(0)}ts.clear();const r=n.insertRow().insertCell(),i=document.createElement("a");r.appendChild(i),i.setAttribute("data-i18n","deselect-all"),i.innerText=Xa("deselect-all"),i.addEventListener("click",()=>{for(const s of document.getElementsByClassName("chaptersearch-checkbox"))s.checked&&s.click()});const a=`SELECT COUNT(DISTINCT(?c)) AS ?count ?ch
  FROM <http://www.snik.eu/ontology/${e}>
  {
    ?c meta:chapter/meta:subChapterOf* ?ch.
  } ORDER BY ASC(?ch)`,o=await _r(a);for(const s of o){const l=s.ch.value,u=n.insertRow(),c=u.insertCell();c.addEventListener("click",async()=>cd(t,await ud(e,l)));const d=document.createElement("a");c.appendChild(d),d.innerText=s.ch.value;const p=u.insertCell();p.innerHTML=s.count.value;const g=u.insertCell(),h=document.createElement("input");g.appendChild(h),h.setAttribute("type","checkbox"),h.classList.add("chaptersearch-checkbox"),g.addEventListener("input",async()=>{h.checked?(await ud(e,l),ts.add(l)):ts.delete(l),cd(t,new Set([...ts].map(y=>Wv.get(y)).flat().sort()))})}}const jl=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Gl(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on".concat(e),n)}function Oa(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on".concat(e),n)}function jv(t,e){const n=e.slice(0,e.length-1);for(let r=0;r<n.length;r++)n[r]=t[n[r].toLowerCase()];return n}function Gv(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");const e=t.split(",");let n=e.lastIndexOf("");for(;n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}function FC(t,e){const n=t.length>=e.length?t:e,r=t.length>=e.length?e:t;let i=!0;for(let a=0;a<n.length;a++)r.indexOf(n[a])===-1&&(i=!1);return i}const uo={backspace:8,"â«":8,tab:9,clear:12,enter:13,"â©":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"âª":20,",":188,".":190,"/":191,"`":192,"-":jl?173:189,"=":jl?61:187,";":jl?59:186,"'":222,"[":219,"]":221,"\\":220},hr={"â§":16,shift:16,"â¥":18,alt:18,option:18,"â":17,ctrl:17,control:17,"â":91,cmd:91,command:91},bs={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},en={16:!1,18:!1,17:!1,91:!1},Ot={};for(let t=1;t<20;t++)uo["f".concat(t)]=111+t;let Pt=[],ja=null,Kv="all";const wr=new Map,So=t=>uo[t.toLowerCase()]||hr[t.toLowerCase()]||t.toUpperCase().charCodeAt(0),$C=t=>Object.keys(uo).find(e=>uo[e]===t),HC=t=>Object.keys(hr).find(e=>hr[e]===t);function Yv(t){Kv=t||"all"}function co(){return Kv||"all"}function qC(){return Pt.slice(0)}function VC(){return Pt.map(t=>$C(t)||HC(t)||String.fromCharCode(t))}function WC(){const t=[];return Object.keys(Ot).forEach(e=>{Ot[e].forEach(n=>{let{key:r,scope:i,mods:a,shortcut:o}=n;t.push({scope:i,shortcut:o,mods:a,keys:r.split("+").map(s=>So(s))})})}),t}function UC(t){const e=t.target||t.srcElement,{tagName:n}=e;let r=!0;const i=n==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(i||n==="TEXTAREA"||n==="SELECT")&&!e.readOnly)&&(r=!1),r}function jC(t){return typeof t=="string"&&(t=So(t)),Pt.indexOf(t)!==-1}function GC(t,e){let n,r;t||(t=co());for(const i in Ot)if(Object.prototype.hasOwnProperty.call(Ot,i))for(n=Ot[i],r=0;r<n.length;)n[r].scope===t?n.splice(r,1).forEach(o=>{let{element:s}=o;return oc(s)}):r++;co()===t&&Yv(e||"all")}function KC(t){let e=t.keyCode||t.which||t.charCode;const n=Pt.indexOf(e);if(n>=0&&Pt.splice(n,1),t.key&&t.key.toLowerCase()==="meta"&&Pt.splice(0,Pt.length),(e===93||e===224)&&(e=91),e in en){en[e]=!1;for(const r in hr)hr[r]===e&&(xr[r]=!1)}}function Xv(t){if(typeof t>"u")Object.keys(Ot).forEach(i=>{Array.isArray(Ot[i])&&Ot[i].forEach(a=>ns(a)),delete Ot[i]}),oc(null);else if(Array.isArray(t))t.forEach(i=>{i.key&&ns(i)});else if(typeof t=="object")t.key&&ns(t);else if(typeof t=="string"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let[i,a]=n;typeof i=="function"&&(a=i,i=""),ns({key:t,scope:i,method:a,splitKey:"+"})}}const ns=t=>{let{key:e,scope:n,method:r,splitKey:i="+"}=t;Gv(e).forEach(o=>{const s=o.split(i),l=s.length,u=s[l-1],c=u==="*"?"*":So(u);if(!Ot[c])return;n||(n=co());const d=l>1?jv(hr,s):[],p=[];Ot[c]=Ot[c].filter(g=>{const y=(r?g.method===r:!0)&&g.scope===n&&FC(g.mods,d);return y&&p.push(g.element),!y}),p.forEach(g=>oc(g))})};function dd(t,e,n,r){if(e.element!==r)return;let i;if(e.scope===n||e.scope==="all"){i=e.mods.length>0;for(const a in en)Object.prototype.hasOwnProperty.call(en,a)&&(!en[a]&&e.mods.indexOf(+a)>-1||en[a]&&e.mods.indexOf(+a)===-1)&&(i=!1);(e.mods.length===0&&!en[16]&&!en[18]&&!en[17]&&!en[91]||i||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(Pt),e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function hd(t,e){const n=Ot["*"];let r=t.keyCode||t.which||t.charCode;if(!xr.filter.call(this,t))return;if((r===93||r===224)&&(r=91),Pt.indexOf(r)===-1&&r!==229&&Pt.push(r),["metaKey","ctrlKey","altKey","shiftKey"].forEach(s=>{const l=bs[s];t[s]&&Pt.indexOf(l)===-1?Pt.push(l):!t[s]&&Pt.indexOf(l)>-1?Pt.splice(Pt.indexOf(l),1):s==="metaKey"&&t[s]&&(Pt=Pt.filter(u=>u in bs||u===r))}),r in en){en[r]=!0;for(const s in hr)hr[s]===r&&(xr[s]=!0);if(!n)return}for(const s in en)Object.prototype.hasOwnProperty.call(en,s)&&(en[s]=t[bs[s]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(Pt.indexOf(17)===-1&&Pt.push(17),Pt.indexOf(18)===-1&&Pt.push(18),en[17]=!0,en[18]=!0);const i=co();if(n)for(let s=0;s<n.length;s++)n[s].scope===i&&(t.type==="keydown"&&n[s].keydown||t.type==="keyup"&&n[s].keyup)&&dd(t,n[s],i,e);if(!(r in Ot))return;const a=Ot[r],o=a.length;for(let s=0;s<o;s++)if((t.type==="keydown"&&a[s].keydown||t.type==="keyup"&&a[s].keyup)&&a[s].key){const l=a[s],{splitKey:u}=l,c=l.key.split(u),d=[];for(let p=0;p<c.length;p++)d.push(So(c[p]));d.sort().join("")===Pt.sort().join("")&&dd(t,l,i,e)}}function xr(t,e,n){Pt=[];const r=Gv(t);let i=[],a="all",o=document,s=0,l=!1,u=!0,c="+",d=!1,p=!1;for(n===void 0&&typeof e=="function"&&(n=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(a=e.scope),e.element&&(o=e.element),e.keyup&&(l=e.keyup),e.keydown!==void 0&&(u=e.keydown),e.capture!==void 0&&(d=e.capture),typeof e.splitKey=="string"&&(c=e.splitKey),e.single===!0&&(p=!0)),typeof e=="string"&&(a=e),p&&Xv(t,a);s<r.length;s++)t=r[s].split(c),i=[],t.length>1&&(i=jv(hr,t)),t=t[t.length-1],t=t==="*"?"*":So(t),t in Ot||(Ot[t]=[]),Ot[t].push({keyup:l,keydown:u,scope:a,mods:i,shortcut:r[s],method:n,key:r[s],splitKey:c,element:o});if(typeof o<"u"&&window){if(!wr.has(o)){const g=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return hd(y,o)},h=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;hd(y,o),KC(y)};wr.set(o,{keydownListener:g,keyupListenr:h,capture:d}),Gl(o,"keydown",g,d),Gl(o,"keyup",h,d)}if(!ja){const g=()=>{Pt=[]};ja={listener:g,capture:d},Gl(window,"focus",g,d)}}}function YC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Ot).forEach(n=>{Ot[n].filter(i=>i.scope===e&&i.shortcut===t).forEach(i=>{i&&i.method&&i.method()})})}function oc(t){const e=Object.values(Ot).flat();if(e.findIndex(r=>{let{element:i}=r;return i===t})<0){const{keydownListener:r,keyupListenr:i,capture:a}=wr.get(t)||{};r&&i&&(Oa(t,"keyup",i,a),Oa(t,"keydown",r,a),wr.delete(t))}if((e.length<=0||wr.size<=0)&&(Object.keys(wr).forEach(i=>{const{keydownListener:a,keyupListenr:o,capture:s}=wr.get(i)||{};a&&o&&(Oa(i,"keyup",o,s),Oa(i,"keydown",a,s),wr.delete(i))}),wr.clear(),Object.keys(Ot).forEach(i=>delete Ot[i]),ja)){const{listener:i,capture:a}=ja;Oa(window,"focus",i,a),ja=null}}const Kl={getPressedKeyString:VC,setScope:Yv,getScope:co,deleteScope:GC,getPressedKeyCodes:qC,getAllKeyCodes:WC,isPressed:jC,filter:UC,trigger:YC,unbind:Xv,keyMap:uo,modifier:hr,modifierMap:bs};for(const t in Kl)Object.prototype.hasOwnProperty.call(Kl,t)&&(xr[t]=Kl[t]);if(typeof window<"u"){const t=window.hotkeys;xr.noConflict=e=>(e&&window.hotkeys===xr&&(window.hotkeys=t),xr),window.hotkeys=xr}function XC(){Kn.show("subontology-connectivity");const t=document.getElementById("subontology-connectivity-form");t.listener||(t.listener=async e=>{e.preventDefault(),Kn.close("subontology-connectivity");const n=new We;await n.initialized;const r=[t[0].value,t[1].value];Pe.debug(`Showing connectivity between the subontologies ${r[0]} and ${r[1]}.`);const i=r.map(s=>n.state.cy.nodes(`[source="${s}"]`)),o=i[0].edgesWith(i[1]).connectedNodes();yt.setVisible(n.state.cy.elements(),!1),yt.setVisible(o,!0),yt.setVisible(o.edgesWith(o),!0),o.layout({name:"concentric",fit:!0,levelWidth:function(){return 1},minNodeSpacing:60,concentric:function(s){return i[0].contains(s)?2:1}}).run()},t.addEventListener("submit",t.listener))}let Bs=null;class Rs{constructor(){Et(this,"separateSubsBox");Et(this,"dayModeBox");Et(this,"coloredEdgesBox");Et(this,"showPropertyBox");if(Bs)throw Error("Menu already exists.");document.body.addEventListener("click",Rs.closeListener),this.showCloseMatches=this.showCloseMatches.bind(this),this.addMenu(),Bs=this}separateSubs(){return this.separateSubsBox.checked}coloredEdges(){return this.coloredEdgesBox.checked}showProperty(){return this.showPropertyBox.checked}setLanguage(e){if(yg(e)){Bc();for(const n of We.views()){const r=n.state.graph.cy.elements();n.state.graph.cy.remove(r),r.restore(),n.recreateContextMenus()}}}static about(){var r,i,a,o;const e=(i=(r=We==null?void 0:We.activeState())==null?void 0:r.graph)==null?void 0:i.cy,n=`
${(a=e==null?void 0:e.nodes())==null?void 0:a.size()} nodes, ${(o=e==null?void 0:e.edges())==null?void 0:o.size()} edges loaded.`;window.alert(Yd()+n)}showCloseMatches(){Pe.debug("show close matches start");const n=We.activeState().graph.cy.elements(".unfiltered").not(".hidden").connectedEdges(".unfiltered").filter('[pl="closeMatch"]');yt.setVisible(n,!0),yt.setVisible(n.connectedNodes(".unfiltered"),!0),Pe.debug("show close matches end")}menuData(){return[{i18n:"file",id:"file",entries:[{action:async()=>{await eh(We.activeState().graph.cy,[]),Za(async()=>await qv(We.activeState().graph.cy,Ua,Ke.defaultSubOntologies,this.separateSubs()))},i18n:"load-sparql"},{action:()=>rE(this.optionsToJSON()),i18n:"save-session"},{action:()=>nE(We.activeState().graph),i18n:"save-snik-graph"},{action:()=>iE(We.activeState()),i18n:"save-view"},{action:()=>aE(We.activeState()),i18n:"save-layout"},{action:()=>{Za(()=>Fn(We.activeState().cy,Ua,Ke.defaultSubOntologies,this.separateSubs(),!0))},i18n:"recalculate-layout-replace"},{action:()=>rs(We.activeState().graph,this.dayModeBox.checked,!1,!1),i18n:"save-image-png-visible-region"},{action:()=>rs(We.activeState().graph,this.dayModeBox.checked,!0,!1),i18n:"save-image-png-complete-partial-graph"},{action:()=>rs(We.activeState().graph,this.dayModeBox.checked,!1,!0),i18n:"save-image-png-visible-region-high-res"},{action:()=>rs(We.activeState().graph,this.dayModeBox.checked,!0,!0),i18n:"save-image-png-complete-partial-graph-high-res"},{action:()=>pd(We.activeState().graph,this.dayModeBox.checked,!1),i18n:"save-image-svg-visible-region"},{action:()=>pd(We.activeState().graph,this.dayModeBox.checked,!0),i18n:"save-image-svg-complete-partial-graph"},{action:()=>new We,i18n:"new-view"}]},{i18n:"filter",id:"filter",entries:[]},{i18n:"options",id:"options",entries:[]},{i18n:"layout",entries:[{action:this.showCloseMatches,i18n:"show-close-matches"},{action:()=>{Fn(We.activeState().graph.cy,Ua,Ke.defaultSubOntologies,this.separateSubs()&&!We.activeState().graph.starMode,!0)},i18n:"recalculate-layout",hotkey:"ctrl+alt+l"},{action:()=>{Fn(We.activeState().graph.cy,Ns,Ke.defaultSubOntologies,this.separateSubs()&&!We.activeState().graph.starMode,!1)},i18n:"tight-layout",hotkey:"ctrl+alt+t"},{action:()=>{Fn(We.activeState().graph.cy,Vv,Ke.defaultSubOntologies,this.separateSubs()&&!We.activeState().graph.starMode,!1)},i18n:"compound-layout",hotkey:"ctrl+alt+c"},{action:()=>We.activeState().graph.moveAllMatches(0),i18n:"move-match-on-top"},{action:()=>We.activeState().graph.moveAllMatches(100),i18n:"move-match-nearby"},{action:()=>{fd(We.activeState().graph,"bb")},i18n:"bb-chapter-search"},{action:()=>{fd(We.activeState().graph,"ob")},i18n:"ob-chapter-search"},{action:XC,i18n:"subontology-connectivity"},{action:We.mainView.state.graph.resetStyle,i18n:"reset-view",hotkey:"ctrl+alt+r"},{action:()=>{We.activeView().setTitle(prompt("Rename: "+We.activeView().config.title)||We.activeView().config.title),We.activeState().title=We.activeView().config.title},i18n:"change-title"}]},{i18n:"services",entries:[{action:"http://www.snik.eu/sparql",i18n:"sparql-endpoint"},{action:"http://www.snik.eu/ontology",i18n:"rdf-browser"}]},{i18n:"language",entries:[{action:()=>this.setLanguage(Qe.LABEL_ENGLISH),i18n:"english"},{action:()=>this.setLanguage(Qe.LABEL_GERMAN),i18n:"german"},{action:()=>this.setLanguage(Qe.LABEL_PERSIAN),i18n:"persian"}]},{i18n:"help",entries:[{action:"html/manual.html",i18n:"manual"},{action:"html/layoutHelp.html",i18n:"layout-help"},{action:"doc/index.html",i18n:"developer-doc"},{action:"https://www.youtube.com/channel/UCV8wbTpOdHurbaHqP0sAOng/featured",i18n:"youtube-channel"},{action:"html/troubleshooting.html",i18n:"troubleshooting"},{action:"html/contribute.html",i18n:"contribute"},{action:"https://www.snik.eu/",i18n:"project-homepage"},{action:"https://www.snik.eu/public/SNIK_Metamodell_V10.svg",i18n:"meta-model"},{action:Rs.about,i18n:"about"},{action:"https://github.com/snikproject/ontology/issues",i18n:"feedback-ontology"},{action:"https://github.com/snikproject/graph/issues/new?assignees=KonradHoeffner&labels=feature&projects=&template=featurerequest.yml",i18n:"feature-request"},{action:Pg,i18n:"bug-report"}]}]}addOptions(e){const n=Mn("options-menu-content"),r=["separateSubs","cumulativeSearch","grid","combineMatchMode","dayMode","coloredEdges","showProperty"];this.optionBoxes={};for(const i of r){Pe.trace("Add option "+i);const a=document.createElement("a");e.push(a),n.appendChild(a),a.setAttribute("tabindex","-1"),a.classList.add("dropdown-entry");const o=document.createElement("input");this.optionBoxes[i]=o,a.appendChild(o),o.type="checkbox",o.autocomplete="off",this[i+"Box"]=o,o.id=i+"Box",a.addEventListener("keydown",Xd(o)),a.appendChild(Zd(o,Xa(i),i))}this.separateSubsBox.addEventListener("change",()=>{Pe.debug("Set separate Subontologies to "+this.separateSubsBox.checked)}),this.dayModeBox.addEventListener("change",()=>{for(const i of We.views())i.state.graph.applyStyle(this.dayModeBox.checked,this.coloredEdgesBox.checked,this.showPropertyBox.checked);Pe.debug("Set dayMode to "+this.dayModeBox.checked)}),this.showPropertyBox.addEventListener("change",()=>{for(const i of We.views())i.state.graph.applyStyle(this.dayModeBox.checked,this.coloredEdgesBox.checked,this.showPropertyBox.checked);Pe.debug("Set showProperty to "+this.showPropertyBox.checked)}),this.gridBox.addEventListener("change",()=>{document.body.classList[this.gridBox.checked?"add":"remove"]("grid"),Pe.debug("set gridBox to "+this.gridBox.checked)}),Ke.activeOptions.includes("day")&&this.dayModeBox.click(),Ke.activeOptions.includes("showproperty")&&this.showPropertyBox.click(),this.cumulativeSearchBox.addEventListener("change",()=>{Pe.debug("Set cumulative search to "+this.cumulativeSearchBox.checked)}),this.combineMatchModeBox.addEventListener("change",()=>{Pe.debug("Set combine match mode to "+this.combineMatchModeBox.checked),setTimeout(()=>{this.combineMatches()},10)}),this.coloredEdgesBox.addEventListener("change",()=>{const i=this.coloredEdgesBox.checked;Pe.debug("Set coloredEdges to "+i),Ke.edgesColorized=i;for(const a of We.views())a.state.graph.applyStyle(this.dayModeBox.checked,this.coloredEdgesBox.checked,this.showPropertyBox.checked)}),Ke.activeOptions.includes("edgecolor")&&setTimeout(()=>this.coloredEdgesBox.click(),100)}addMenu(){console.groupCollapsed("Add menu");const e=document.createElement("ul");Mn("top").prepend(e),e.classList.add("dropdown-bar"),e.setAttribute("tabindex","0");const n=this.menuData(),r=[],i=[];for(let a=0;a<n.length;a++){const o=n[a],s=document.createElement("li");s.setAttribute("tabindex","-1"),e.appendChild(s);const l=document.createElement("span");r.push(l),s.appendChild(l),l.classList.add("dropdown-menu"),l.setAttribute("data-i18n",o.i18n),l.setAttribute("tabindex","-1");const u=document.createElement("div");s.appendChild(u),u.classList.add("dropdown-content"),u.setAttribute("tabindex","-1"),o.id&&(u.id=o.id+"-menu-content"),l.addEventListener("click",()=>{for(const d of document.getElementsByClassName("dropdown-content"))u!==d&&d.classList.remove("show");u.classList.toggle("show")});const c=[];i.push(c);for(const d of o.entries){const p=document.createElement("a");switch(c.push(p),p.classList.add("dropdown-entry"),p.setAttribute("data-i18n",d.i18n),d.hotkey&&p.setAttribute("hotkey",d.hotkey),p.setAttribute("tabindex","-1"),u.appendChild(p),p.innerHTML=Xa(d.i18n),typeof d.action){case"string":{p.href=d.action,p.target="_blank";break}case"function":{p.addEventListener("click",d.action);const g=d.hotkey;g&&(xr(g,d.action),p.innerHTML=p.innerHTML+` (${g.toUpperCase()})`);break}default:Pe.error("unknown menu entry action type: "+typeof d.action)}}l.addEventListener("keydown",d=>{switch(d.key){case"ArrowLeft":r[(a-1+r.length)%r.length].focus(),r[(a-1+r.length)%r.length].click();break;case"ArrowRight":r[(a+1)%r.length].focus(),r[(a+1)%r.length].click();break;case"ArrowDown":c[0].focus();break}})}cE(We.activeState().graph,Mn("file-menu-content"),i[0]),Pe.debug("fileLoadEntries added"),vo.addFilterEntries(Mn("filter-menu-content"),i[1]),Pe.debug("filter entries added"),this.addOptions(i[2]);for(let a=0;a<i.length;a++){const o=i[a];for(let s=0;s<o.length;s++)o[s].addEventListener("keydown",l=>{switch(l.key){case"ArrowLeft":r[(a-1+r.length)%r.length].focus(),r[(a-1+r.length)%r.length].click();break;case"ArrowRight":r[(a+1)%r.length].focus(),r[(a+1)%r.length].click();break;case"ArrowUp":o[(s-1+o.length)%o.length].focus();break;case"ArrowDown":o[(s+1)%o.length].focus();break}})}Pe.debug("Menu added"),console.groupEnd(),Bc()}static closeListener(e){if(e&&e.target&&e.target.matches&&!e.target.matches(".dropdown-entry")&&!e.target.matches(".dropdown-menu")&&!e.target.matches("input.filterbox")){const n=document.getElementsByClassName("dropdown-content");Array.from(n).forEach(r=>r.classList.remove("show"))}}optionsToJSON(){const e=["separateSubs","cumulativeSearch","grid","combineMatchMode","dayMode","coloredEdges"],n={};for(const r of e)n[r]=this.optionBoxes[r].checked;return n}optionsFromJSON(e){const n=this.optionsToJSON();for(const[r,i]of Object.entries(e))n[r]!==i&&this.optionBoxes[r].click()}applyOptions(){this.combineMatchModeBox.checked&&this.combineMatches()}combineMatches(){We.views().map(e=>e.state.graph).forEach(e=>e.combineMatch(this.combineMatchModeBox.checked))}}const ZC={version:Vr};function Zv(){const t={filters:vo.toJSON(),options:Bs.optionsToJSON()};return Object.assign(t,ZC),t}function QC(t){vo.fromJSON(t.filters),Bs.optionsFromJSON(t.options)}var Yl={exports:{}},vd;function JC(){return vd||(vd=1,function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var l in a)i.d(s,l,(function(u){return a[u]}).bind(null,l));return s},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=0)}([function(n,r,i){var a=i(1),o=function(s){s&&s("core","svg",a.svg)};typeof cytoscape<"u"&&o(cytoscape),n.exports=o},function(n,r,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o=i(2),s={},l={};l.number=function(u){return u!=null&&(u===void 0?"undefined":a(u))===a(1)&&!isNaN(u)},s.bufferCanvasImage=function(u,c){var d=c.renderer().usePaths;c.renderer().usePaths=function(){return!1},c.elements().forEach(function(P){P._private.rscratch.pathCacheKey=null,P._private.rscratch.pathCache=null});var p=c.renderer(),g=c.mutableElements().boundingBox(),h=p.findContainerClientCoords(),y=u.full?Math.ceil(g.w):h[2],w=u.full?Math.ceil(g.h):h[3],b=l.number(u.maxWidth)||l.number(u.maxHeight),E=p.getPixelRatio(),S=1;if(u.scale!==void 0)y*=u.scale,w*=u.scale,S=u.scale;else if(b){var x=1/0,_=1/0;l.number(u.maxWidth)&&(x=S*u.maxWidth/y),l.number(u.maxHeight)&&(_=S*u.maxHeight/w),y*=S=Math.min(x,_),w*=S}b||(y*=E,w*=E,S*=E);var k=null,v=k=new o(y,w);if(y>0&&w>0){k.clearRect(0,0,y,w),u.bg&&(k.globalCompositeOperation="destination-over",k.fillStyle=u.bg,k.fillRect(0,0,y,w)),k.globalCompositeOperation="source-over";var D=p.getCachedZSortedEles();if(u.full)k.translate(-g.x1*S,-g.y1*S),k.scale(S,S),p.drawElements(k,D),k.scale(1/S,1/S),k.translate(g.x1*S,g.y1*S);else{var I=c.pan(),B={x:I.x*S,y:I.y*S};S*=c.zoom(),k.translate(B.x,B.y),k.scale(S,S),p.drawElements(k,D),k.scale(1/S,1/S),k.translate(-B.x,-B.y)}}return c.renderer().usePaths=d,v},s.svg=function(u){return s.bufferCanvasImage(u||{},this).getSerializedSvg()},n.exports=s},function(n,r,i){(function(){var a,o,s,l,u;function c(h,y){var w,b=Object.keys(y);for(w=0;w<b.length;w++)h=h.replace(new RegExp("\\{"+b[w]+"\\}","gi"),y[b[w]]);return h}function d(h){var y,w,b;if(!h)throw new Error("cannot create a random attribute name for an undefined object");y="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",w="";do for(w="",b=0;b<12;b++)w+=y[Math.floor(Math.random()*y.length)];while(h[w]);return w}function p(h){var y={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return y[h]||y.alphabetic}u=function(h,y){var w,b,E,S={};for(h=h.split(","),y=y||10,w=0;w<h.length;w+=2)b="&"+h[w+1]+";",E=parseInt(h[w],y),S[b]="&#"+E+";";return S["\\xa0"]="&#160;",S}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),a={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(s=function(h,y){this.__root=h,this.__ctx=y}).prototype.addColorStop=function(h,y){var w,b=this.__ctx.__createElement("stop");b.setAttribute("offset",h),y.indexOf("rgba")!==-1?(w=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(y),b.setAttribute("stop-color",c("rgb({r},{g},{b})",{r:w[1],g:w[2],b:w[3]})),b.setAttribute("stop-opacity",w[4])):b.setAttribute("stop-color",y),this.__root.appendChild(b)},l=function(h,y){this.__root=h,this.__ctx=y},(o=function(h){var y,w={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((y=w).width=arguments[0],y.height=arguments[1]):y=h||w,!(this instanceof o))return new o(y);this.width=y.width||w.width,this.height=y.height||w.height,this.enableMirroring=y.enableMirroring!==void 0?y.enableMirroring:w.enableMirroring,this.canvas=this,this.__document=y.document||document,y.ctx?this.__ctx=y.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(h,y,w){y===void 0&&(y={});var b,E,S=this.__document.createElementNS("http://www.w3.org/2000/svg",h),x=Object.keys(y);for(w&&(S.setAttribute("fill","none"),S.setAttribute("stroke","none")),b=0;b<x.length;b++)E=x[b],S.setAttribute(E,y[E]);return S},o.prototype.__setDefaultStyles=function(){var h,y,w=Object.keys(a);for(h=0;h<w.length;h++)this[y=w[h]]=a[y].canvas},o.prototype.__applyStyleState=function(h){if(h){var y,w,b=Object.keys(h);for(y=0;y<b.length;y++)this[w=b[y]]=h[w]}},o.prototype.__getStyleState=function(){var h,y,w={},b=Object.keys(a);for(h=0;h<b.length;h++)w[y=b[h]]=this[y];return w},o.prototype.__applyStyleToCurrentElement=function(h){var y=this.__currentElement;this.__currentElementsToStyle;var w,b,E,S,x,_=Object.keys(a);for(w=0;w<_.length;w++)if(b=a[_[w]],E=this[_[w]],b.apply){if(E instanceof l){if(E.__ctx)for(;E.__ctx.__defs.childNodes.length;)S=E.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[S]=S,this.__defs.appendChild(E.__ctx.__defs.childNodes[0]);y.setAttribute(b.apply,c("url(#{id})",{id:E.__root.getAttribute("id")}))}else if(E instanceof s)y.setAttribute(b.apply,c("url(#{id})",{id:E.__root.getAttribute("id")}));else if(b.apply.indexOf(h)!==-1&&b.svg!==E)if(b.svgAttr!=="stroke"&&b.svgAttr!=="fill"||E.indexOf("rgba")===-1){var k=b.svgAttr;if(_[w]==="globalAlpha"&&(k=h+"-"+b.svgAttr,y.getAttribute(k)))continue;y.setAttribute(k,E)}else{x=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(E),y.setAttribute(b.svgAttr,c("rgb({r},{g},{b})",{r:x[1],g:x[2],b:x[3]}));var v=x[4],D=this.globalAlpha;D!=null&&(v*=D),y.setAttribute(b.svgAttr+"-opacity",v)}}},o.prototype.__closestGroupOrSvg=function(h){return(h=h||this.__currentElement).nodeName==="g"||h.nodeName==="svg"?h:this.__closestGroupOrSvg(h.parentNode)},o.prototype.getSerializedSvg=function(h){var y,w,b,E,S,x=new XMLSerializer().serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(x)&&(x=x.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),h)for(y=Object.keys(u),w=0;w<y.length;w++)b=y[w],E=u[b],(S=new RegExp(b,"gi")).test(x)&&(x=x.replace(S,E));return x},o.prototype.getSvg=function(){return this.__root},o.prototype.save=function(){var h=this.__createElement("g"),y=this.__closestGroupOrSvg();this.__groupStack.push(y),y.appendChild(h),this.__currentElement=h,this.__stack.push(this.__getStyleState())},o.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var h=this.__stack.pop();this.__applyStyleState(h)},o.prototype.__addTransform=function(h){var y=this.__closestGroupOrSvg();if(y.childNodes.length>0){this.__currentElement.nodeName==="path"&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:y,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var w=this.__createElement("g");y.appendChild(w),this.__currentElement=w}var b=this.__currentElement.getAttribute("transform");b?b+=" ":b="",b+=h,this.__currentElement.setAttribute("transform",b)},o.prototype.scale=function(h,y){y===void 0&&(y=h),this.__addTransform(c("scale({x},{y})",{x:h,y}))},o.prototype.rotate=function(h){var y=180*h/Math.PI;this.__addTransform(c("rotate({angle},{cx},{cy})",{angle:y,cx:0,cy:0}))},o.prototype.translate=function(h,y){this.__addTransform(c("translate({x},{y})",{x:h,y}))},o.prototype.transform=function(h,y,w,b,E,S){this.__addTransform(c("matrix({a},{b},{c},{d},{e},{f})",{a:h,b:y,c:w,d:b,e:E,f:S}))},o.prototype.beginPath=function(){var h;this.__currentDefaultPath="",this.__currentPosition={},h=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(h),this.__currentElement=h},o.prototype.__applyCurrentDefaultPath=function(){var h=this.__currentElement;h.nodeName==="path"?h.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",h.nodeName)},o.prototype.__addPathCommand=function(h){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=h},o.prototype.moveTo=function(h,y){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:h,y},this.__addPathCommand(c("M {x} {y}",{x:h,y}))},o.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},o.prototype.lineTo=function(h,y){this.__currentPosition={x:h,y},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(c("L {x} {y}",{x:h,y})):this.__addPathCommand(c("M {x} {y}",{x:h,y}))},o.prototype.bezierCurveTo=function(h,y,w,b,E,S){this.__currentPosition={x:E,y:S},this.__addPathCommand(c("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:h,cp1y:y,cp2x:w,cp2y:b,x:E,y:S}))},o.prototype.quadraticCurveTo=function(h,y,w,b){this.__currentPosition={x:w,y:b},this.__addPathCommand(c("Q {cpx} {cpy} {x} {y}",{cpx:h,cpy:y,x:w,y:b}))};var g=function(h){var y=Math.sqrt(h[0]*h[0]+h[1]*h[1]);return[h[0]/y,h[1]/y]};o.prototype.arcTo=function(h,y,w,b,E){var S=this.__currentPosition&&this.__currentPosition.x,x=this.__currentPosition&&this.__currentPosition.y;if(S!==void 0&&x!==void 0){if(E<0)throw new Error("IndexSizeError: The radius provided ("+E+") is negative.");if(S===h&&x===y||h===w&&y===b||E===0)this.lineTo(h,y);else{var _=g([S-h,x-y]),k=g([w-h,b-y]);if(_[0]*k[1]!=_[1]*k[0]){var v=_[0]*k[0]+_[1]*k[1],D=Math.acos(Math.abs(v)),I=g([_[0]+k[0],_[1]+k[1]]),B=E/Math.sin(D/2),P=h+B*I[0],L=y+B*I[1],R=[-_[1],_[0]],O=[k[1],-k[0]],F=function(Y){var ie=Y[0];return Y[1]>=0?Math.acos(ie):-Math.acos(ie)},$=F(R),W=F(O);this.lineTo(P+R[0]*E,L+R[1]*E),this.arc(P,L,E,$,W)}else this.lineTo(h,y)}}},o.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},o.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},o.prototype.rect=function(h,y,w,b){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(h,y),this.lineTo(h+w,y),this.lineTo(h+w,y+b),this.lineTo(h,y+b),this.lineTo(h,y),this.closePath()},o.prototype.fillRect=function(h,y,w,b){var E;E=this.__createElement("rect",{x:h,y,width:w,height:b},!0),this.__closestGroupOrSvg().appendChild(E),this.__currentElement=E,this.__applyStyleToCurrentElement("fill")},o.prototype.strokeRect=function(h,y,w,b){var E;E=this.__createElement("rect",{x:h,y,width:w,height:b},!0),this.__closestGroupOrSvg().appendChild(E),this.__currentElement=E,this.__applyStyleToCurrentElement("stroke")},o.prototype.__clearCanvas=function(){for(var h=this.__closestGroupOrSvg().getAttribute("transform"),y=this.__root.childNodes[1],w=y.childNodes,b=w.length-1;b>=0;b--)w[b]&&y.removeChild(w[b]);this.__currentElement=y,this.__groupStack=[],h&&this.__addTransform(h)},o.prototype.clearRect=function(h,y,w,b){if(h!==0||y!==0||w!==this.width||b!==this.height){var E,S=this.__closestGroupOrSvg();E=this.__createElement("rect",{x:h,y,width:w,height:b,fill:"#FFFFFF"},!0),S.appendChild(E)}else this.__clearCanvas()},o.prototype.createLinearGradient=function(h,y,w,b){var E=this.__createElement("linearGradient",{id:d(this.__ids),x1:h+"px",x2:w+"px",y1:y+"px",y2:b+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(E),new s(E,this)},o.prototype.createRadialGradient=function(h,y,w,b,E,S){var x=this.__createElement("radialGradient",{id:d(this.__ids),cx:b+"px",cy:E+"px",r:S+"px",fx:h+"px",fy:y+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(x),new s(x,this)},o.prototype.__parseFont=function(){var h=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),y={style:h[1]||"normal",size:h[4]||"10px",family:h[6]||"sans-serif",weight:h[3]||"normal",decoration:h[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(y.decoration="underline"),this.__fontHref&&(y.href=this.__fontHref),y},o.prototype.__wrapTextLink=function(h,y){if(h.href){var w=this.__createElement("a");return w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h.href),w.appendChild(y),w}return y},o.prototype.__applyText=function(h,y,w,b){var E,S,x=this.__parseFont(),_=this.__closestGroupOrSvg(),k=this.__createElement("text",{"font-family":x.family,"font-size":x.size,"font-style":x.style,"font-weight":x.weight,"text-decoration":x.decoration,x:y,y:w,"text-anchor":(E=this.textAlign,S={left:"start",right:"end",center:"middle",start:"start",end:"end"},S[E]||S.start),"dominant-baseline":p(this.textBaseline)},!0);k.appendChild(this.__document.createTextNode(h)),this.__currentElement=k,this.__applyStyleToCurrentElement(b),_.appendChild(this.__wrapTextLink(x,k))},o.prototype.fillText=function(h,y,w){this.__applyText(h,y,w,"fill")},o.prototype.strokeText=function(h,y,w){this.__applyText(h,y,w,"stroke")},o.prototype.measureText=function(h){return this.__ctx.font=this.font,this.__ctx.measureText(h)},o.prototype.arc=function(h,y,w,b,E,S){if(b!==E){(b%=2*Math.PI)===(E%=2*Math.PI)&&(E=(E+2*Math.PI-.001*(S?-1:1))%(2*Math.PI));var x=h+w*Math.cos(E),_=y+w*Math.sin(E),k=h+w*Math.cos(b),v=y+w*Math.sin(b),D=S?0:1,I=0,B=E-b;B<0&&(B+=2*Math.PI),I=S?B>Math.PI?0:1:B>Math.PI?1:0,this.lineTo(k,v),this.__addPathCommand(c("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:w,ry:w,xAxisRotation:0,largeArcFlag:I,sweepFlag:D,endX:x,endY:_})),this.__currentPosition={x,y:_}}},o.prototype.clip=function(){var h=this.__closestGroupOrSvg(),y=this.__createElement("clipPath"),w=d(this.__ids),b=this.__createElement("g");this.__applyCurrentDefaultPath(),h.removeChild(this.__currentElement),y.setAttribute("id",w),y.appendChild(this.__currentElement),this.__defs.appendChild(y),h.setAttribute("clip-path",c("url(#{id})",{id:w})),h.appendChild(b),this.__currentElement=b},o.prototype.drawImage=function(){var h,y,w,b,E,S,x,_,k,v,D,I,B,P=Array.prototype.slice.call(arguments),L=P[0],R=0,O=0;if(P.length===3)h=P[1],y=P[2],w=E=L.width,b=S=L.height;else if(P.length===5)h=P[1],y=P[2],w=P[3],b=P[4],E=L.width,S=L.height;else{if(P.length!==9)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);R=P[1],O=P[2],E=P[3],S=P[4],h=P[5],y=P[6],w=P[7],b=P[8]}x=this.__closestGroupOrSvg(),this.__currentElement;var F="translate("+h+", "+y+")";if(L instanceof o){if((_=L.getSvg().cloneNode(!0)).childNodes&&_.childNodes.length>1){for(k=_.childNodes[0];k.childNodes.length;)B=k.childNodes[0].getAttribute("id"),this.__ids[B]=B,this.__defs.appendChild(k.childNodes[0]);if(v=_.childNodes[1]){var $,W=v.getAttribute("transform");$=W?W+" "+F:F,v.setAttribute("transform",$),x.appendChild(v)}}}else L.nodeName!=="CANVAS"&&L.nodeName!=="IMG"||((D=this.__createElement("image")).setAttribute("width",w),D.setAttribute("height",b),D.setAttribute("opacity",this.globalAlpha),D.setAttribute("preserveAspectRatio","none"),(I=this.__document.createElement("canvas")).width=w,I.height=b,I.getContext("2d").drawImage(L,R,O,E,S,0,0,w,b),L=I,D.setAttribute("transform",F),D.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",L.nodeName==="CANVAS"?L.toDataURL():L.getAttribute("src")),x.appendChild(D))},o.prototype.createPattern=function(h,y){var w,b=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),E=d(this.__ids);return b.setAttribute("id",E),b.setAttribute("width",h.width),b.setAttribute("height",h.height),h.nodeName==="CANVAS"||h.nodeName==="IMG"?((w=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",h.width),w.setAttribute("height",h.height),w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h.nodeName==="CANVAS"?h.toDataURL():h.getAttribute("src")),b.appendChild(w),this.__defs.appendChild(b)):h instanceof o&&(b.appendChild(h.__root.childNodes[1]),this.__defs.appendChild(b)),new l(b,this)},o.prototype.setLineDash=function(h){h&&h.length>0?this.lineDash=h.join(","):this.lineDash=null},o.prototype.drawFocusRing=function(){},o.prototype.createImageData=function(){},o.prototype.getImageData=function(){},o.prototype.putImageData=function(){},o.prototype.globalCompositeOperation=function(){},o.prototype.setTransform=function(){},typeof window=="object"&&(window.C2S=o),typeof n.exports=="object"&&(n.exports=o)})()}])})}(Yl)),Yl.exports}var eE=JC();const tE=Ti(eE);dr.use(tE);var sc=(t=>(t[t.VIEW=0]="VIEW",t[t.LAYOUT=1]="LAYOUT",t))(sc||{});const qr=document.createElement("a");document.body.appendChild(qr);qr.style.display="none";function ul(t,e){const n=JSON.stringify(t),r=new Blob([n],{type:"application/json"}),i=window.URL.createObjectURL(r);qr.href=i,qr.download=e,qr.click(),window.URL.revokeObjectURL(i),Pe.debug("JSON File saved: "+e)}function Qv(t,e){qr.href=t,qr.download=e,qr.click(),window.URL.revokeObjectURL(t),Pe.debug("File saved: "+e)}function nE(t){const e=t.cy.json();delete e.style,ul(e,"snik.json")}function rE(t){const e={title:We.mainView.state.title,graph:We.mainView.state.cy.json(),options:t};delete e.graph.style;const n={tabs:[],state:Zv(),mainGraph:e};for(const r of We.partViews){const i={title:r.state.title,graph:r.state.cy.json()};delete i.graph.style,n.tabs.push(i)}ul(n,"snik-session.json")}function iE(t){const e={version:Vr,title:t.title,type:0,graph:t.cy.json()};delete e.graph.style,ul(e,"snik-view.json")}function aE(t){const e=t.cy.nodes(":visible").map(r=>[r.data(Qe.ID),r.position()]),n={version:Vr,title:t.title,type:1,graph:e};ul(n,"snik-layout.json")}function rs(t,e,n,r){const i={bg:e?"white":"black",full:n,maxWidth:void 0,maxHeight:void 0};r?(i.maxWidth=Ke.download.image.max.width,i.maxHeight=Ke.download.image.max.height):n&&(i.maxWidth=Ke.download.image.standard.width,i.maxHeight=Ke.download.image.standard.height);const a=t.cy.png(i);Qv(a,"snik.png")}function pd(t,e,n=!0){const r={full:n,scale:1,bg:e?"white":"black"},i=t.cy.svg(r),a=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),o=window.URL.createObjectURL(a);Qv(o,"snik.svg")}function cl(t,e){const n=t.target.files[0],r=new FileReader;r.onload=()=>e(JSON.parse(r.result)),r.readAsText(n)}function zs(t,e){const n=t.cy;n.elements().remove(),n.json(e),n.elements().addClass("unfiltered");const r=1*t.cy.elements(":visible").size()/t.cy.elements().size(),i=r<.8;Pe.debug("Load Graph from File: Visible fraction: "+r+" set star mode to "+i),t.cy.nodes(":child").size()>0&&(document.getElementById("combineMatchModeBox").checked=!0),t.starMode=i;const a=n.nodes(":visible");n.center(a),n.fit(a),n.elements().removeClass("highlighted"),n.elements().removeClass("source")}const oE=t=>e=>{cl(e,n=>{zs(t,n)})};async function sE(t){confirm("This will override the current session. Continue?")&&cl(t,async e=>{if(e.state.version!==Vr&&!confirm(`Your file was saved in version ${e.state.version}, but SNIK Graph has version ${Vr}, so it may not work properly. Continue anyway?`))return;We.reset();const n=new We(!1),r=[n.initialized];zs(n.state.graph,e.mainGraph.graph),We.activeView().setTitle(e.mainGraph.title);for(let i=0;i<e.tabs.length;i++){const a=new We(!1);r.push(a.initialized),zs(a.state.graph,e.tabs[i].graph),We.activeView().setTitle(e.tabs[i].title)}await Promise.all(r),QC(e.state)})}function Jv(t,e){let n=!0;return e.version!==Vr&&!confirm(`Your file was saved in version ${e.version}, but SNIK Graph has version ${Vr}, so it may not work properly. Continue anyway?`)?n=!1:e.type===void 0?(alert("Unknown file format, aborting."),n=!1):e.type!==t&&(alert(`Your file was saved as ${e.type}, but you are trying to load a ${t}, aborting.`),n=!1),n}function lE(t){cl(t,e=>{if(!Jv(sc.VIEW,e))return;const n=new We(!1);zs(n.state.graph,e.graph),We.activeView().setTitle(e.title)})}function ep(t,e){if(!Jv(sc.LAYOUT,t))return;const n=e.cy;n.batch(()=>{const r=n.collection();r.merge(t.graph.flatMap(o=>{const s={x:o[1].x,y:o[1].y},l=n.nodes("node[id='"+o[0]+"']");if(l.size()===0)return Pe.warn(`Node with id ${o[0]} was not found.`),null;const u=l.first();return u.unlock(),u.position(s),u}).filter(o=>o));const i=n.nodes().unmerge(r);i.forEach((o,s)=>{o.position({x:(1+s%20)*100,y:s*2})});const a=r.union(r.edges());yt.setVisible(a,!0),yt.setVisible(i,!1),n.elements().unselect(),n.center(r),n.fit(r),console.log("Loaded %d visible nodes into the graph. Hid %d nodes.",r.size(),i.size())})}function uE(t){console.groupCollapsed("Loading JSON Layout file into View."),cl(t,e=>{const n=new We(!0,e.title);ep(e,n.state.graph)}),console.info("Finished loading layout from file."),console.groupEnd()}function Xl(t,e,n,r,i){const a=document.createElement("a");i.push(a),a.classList.add("dropdown-entry"),a.setAttribute("tabindex","-1"),t.appendChild(a);const o=document.createElement("input");o.type="file",o.style.display="none",a.appendChild(o);const s=document.createElement("span");s.innerText=n,s.setAttribute("data-i18n",e),a.appendChild(s),a.addEventListener("click",()=>o.click()),o.addEventListener("change",r)}function cE(t,e,n){Xl(e,"load-view","Load Partial Graph into Session",lE,n),Xl(e,"load-layout","Load Layout of Partial Graph into Session",uE,n),Xl(e,"load-session","Load Session",sE,n)}function Tr(t){return Array.isArray?Array.isArray(t):rp(t)==="[object Array]"}const fE=1/0;function dE(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-fE?"-0":e}function hE(t){return t==null?"":dE(t)}function ur(t){return typeof t=="string"}function tp(t){return typeof t=="number"}function vE(t){return t===!0||t===!1||pE(t)&&rp(t)=="[object Boolean]"}function np(t){return typeof t=="object"}function pE(t){return np(t)&&t!==null}function _n(t){return t!=null}function Zl(t){return!t.trim().length}function rp(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const gE="Incorrect 'index' type",mE=t=>`Invalid value for key ${t}`,yE=t=>`Pattern length exceeds max of ${t}.`,bE=t=>`Missing ${t} property in key`,wE=t=>`Property 'weight' in key '${t}' must be a positive integer`,gd=Object.prototype.hasOwnProperty;class xE{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=ip(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ip(t){let e=null,n=null,r=null,i=1,a=null;if(ur(t)||Tr(t))r=t,e=md(t),n=Su(t);else{if(!gd.call(t,"name"))throw new Error(bE("name"));const o=t.name;if(r=o,gd.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(wE(o));e=md(o),n=Su(o),a=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:a}}function md(t){return Tr(t)?t:t.split(".")}function Su(t){return Tr(t)?t.join("."):t}function CE(t,e){let n=[],r=!1;const i=(a,o,s)=>{if(_n(a))if(!o[s])n.push(a);else{let l=o[s];const u=a[l];if(!_n(u))return;if(s===o.length-1&&(ur(u)||tp(u)||vE(u)))n.push(hE(u));else if(Tr(u)){r=!0;for(let c=0,d=u.length;c<d;c+=1)i(u[c],o,s+1)}else o.length&&i(u,o,s+1)}};return i(t,ur(e)?e.split("."):e,0),r?n:n[0]}const EE={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},SE={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},TE={location:0,threshold:.6,distance:100},kE={useExtendedSearch:!1,getFn:CE,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var it={...SE,...EE,...TE,...kE};const _E=/[^ ]+/g;function ME(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const a=i.match(_E).length;if(n.has(a))return n.get(a);const o=1/Math.pow(a,.5*t),s=parseFloat(Math.round(o*r)/r);return n.set(a,s),s},clear(){n.clear()}}}class lc{constructor({getFn:e=it.getFn,fieldNormWeight:n=it.fieldNormWeight}={}){this.norm=ME(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ur(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();ur(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!_n(e)||Zl(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,a)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(_n(o)){if(Tr(o)){let s=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:c}=l.pop();if(_n(c))if(ur(c)&&!Zl(c)){let d={v:c,i:u,n:this.norm.get(c)};s.push(d)}else Tr(c)&&c.forEach((d,p)=>{l.push({nestedArrIndex:p,value:d})})}r.$[a]=s}else if(ur(o)&&!Zl(o)){let s={v:o,n:this.norm.get(o)};r.$[a]=s}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function ap(t,e,{getFn:n=it.getFn,fieldNormWeight:r=it.fieldNormWeight}={}){const i=new lc({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(ip)),i.setSources(e),i.create(),i}function AE(t,{getFn:e=it.getFn,fieldNormWeight:n=it.fieldNormWeight}={}){const{keys:r,records:i}=t,a=new lc({getFn:e,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(i),a}function is(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=it.distance,ignoreLocation:a=it.ignoreLocation}={}){const o=e/t.length;if(a)return o;const s=Math.abs(r-n);return i?o+s/i:s?1:o}function IE(t=[],e=it.minMatchCharLength){let n=[],r=-1,i=-1,a=0;for(let o=t.length;a<o;a+=1){let s=t[a];s&&r===-1?r=a:!s&&r!==-1&&(i=a-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[a-1]&&a-r>=e&&n.push([r,a-1]),n}const vi=32;function DE(t,e,n,{location:r=it.location,distance:i=it.distance,threshold:a=it.threshold,findAllMatches:o=it.findAllMatches,minMatchCharLength:s=it.minMatchCharLength,includeMatches:l=it.includeMatches,ignoreLocation:u=it.ignoreLocation}={}){if(e.length>vi)throw new Error(yE(vi));const c=e.length,d=t.length,p=Math.max(0,Math.min(r,d));let g=a,h=p;const y=s>1||l,w=y?Array(d):[];let b;for(;(b=t.indexOf(e,h))>-1;){let v=is(e,{currentLocation:b,expectedLocation:p,distance:i,ignoreLocation:u});if(g=Math.min(v,g),h=b+c,y){let D=0;for(;D<c;)w[b+D]=1,D+=1}}h=-1;let E=[],S=1,x=c+d;const _=1<<c-1;for(let v=0;v<c;v+=1){let D=0,I=x;for(;D<I;)is(e,{errors:v,currentLocation:p+I,expectedLocation:p,distance:i,ignoreLocation:u})<=g?D=I:x=I,I=Math.floor((x-D)/2+D);x=I;let B=Math.max(1,p-I+1),P=o?d:Math.min(p+I,d)+c,L=Array(P+2);L[P+1]=(1<<v)-1;for(let O=P;O>=B;O-=1){let F=O-1,$=n[t.charAt(F)];if(y&&(w[F]=+!!$),L[O]=(L[O+1]<<1|1)&$,v&&(L[O]|=(E[O+1]|E[O])<<1|1|E[O+1]),L[O]&_&&(S=is(e,{errors:v,currentLocation:F,expectedLocation:p,distance:i,ignoreLocation:u}),S<=g)){if(g=S,h=F,h<=p)break;B=Math.max(1,2*p-h)}}if(is(e,{errors:v+1,currentLocation:p,expectedLocation:p,distance:i,ignoreLocation:u})>g)break;E=L}const k={isMatch:h>=0,score:Math.max(.001,S)};if(y){const v=IE(w,s);v.length?l&&(k.indices=v):k.isMatch=!1}return k}function PE(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}class op{constructor(e,{location:n=it.location,threshold:r=it.threshold,distance:i=it.distance,includeMatches:a=it.includeMatches,findAllMatches:o=it.findAllMatches,minMatchCharLength:s=it.minMatchCharLength,isCaseSensitive:l=it.isCaseSensitive,ignoreLocation:u=it.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(p,g)=>{this.chunks.push({pattern:p,alphabet:PE(p),startIndex:g})},d=this.pattern.length;if(d>vi){let p=0;const g=d%vi,h=d-g;for(;p<h;)c(this.pattern.substr(p,vi),p),p+=vi;if(g){const y=d-vi;c(this.pattern.substr(y),y)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let h={isMatch:!0,score:0};return r&&(h.indices=[[0,e.length-1]]),h}const{location:i,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:l,ignoreLocation:u}=this.options;let c=[],d=0,p=!1;this.chunks.forEach(({pattern:h,alphabet:y,startIndex:w})=>{const{isMatch:b,score:E,indices:S}=DE(e,h,y,{location:i+w,distance:a,threshold:o,findAllMatches:s,minMatchCharLength:l,includeMatches:r,ignoreLocation:u});b&&(p=!0),d+=E,b&&S&&(c=[...c,...S])});let g={isMatch:p,score:p?d/this.chunks.length:1};return p&&r&&(g.indices=c),g}}class Zr{constructor(e){this.pattern=e}static isMultiMatch(e){return yd(e,this.multiRegex)}static isSingleMatch(e){return yd(e,this.singleRegex)}search(){}}function yd(t,e){const n=t.match(e);return n?n[1]:null}class LE extends Zr{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class OE extends Zr{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class NE extends Zr{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class BE extends Zr{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class RE extends Zr{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class zE extends Zr{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class sp extends Zr{constructor(e,{location:n=it.location,threshold:r=it.threshold,distance:i=it.distance,includeMatches:a=it.includeMatches,findAllMatches:o=it.findAllMatches,minMatchCharLength:s=it.minMatchCharLength,isCaseSensitive:l=it.isCaseSensitive,ignoreLocation:u=it.ignoreLocation}={}){super(e),this._bitapSearch=new op(e,{location:n,threshold:r,distance:i,includeMatches:a,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class lp extends Zr{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],a=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+a,i.push([r,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const Tu=[LE,lp,NE,BE,zE,RE,OE,sp],bd=Tu.length,FE=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,$E="|";function HE(t,e={}){return t.split($E).map(n=>{let r=n.trim().split(FE).filter(a=>a&&!!a.trim()),i=[];for(let a=0,o=r.length;a<o;a+=1){const s=r[a];let l=!1,u=-1;for(;!l&&++u<bd;){const c=Tu[u];let d=c.isMultiMatch(s);d&&(i.push(new c(d,e)),l=!0)}if(!l)for(u=-1;++u<bd;){const c=Tu[u];let d=c.isSingleMatch(s);if(d){i.push(new c(d,e));break}}}return i})}const qE=new Set([sp.type,lp.type]);class VE{constructor(e,{isCaseSensitive:n=it.isCaseSensitive,includeMatches:r=it.includeMatches,minMatchCharLength:i=it.minMatchCharLength,ignoreLocation:a=it.ignoreLocation,findAllMatches:o=it.findAllMatches,location:s=it.location,threshold:l=it.threshold,distance:u=it.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:o,ignoreLocation:a,location:s,threshold:l,distance:u},this.pattern=n?e:e.toLowerCase(),this.query=HE(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let a=0,o=[],s=0;for(let l=0,u=n.length;l<u;l+=1){const c=n[l];o.length=0,a=0;for(let d=0,p=c.length;d<p;d+=1){const g=c[d],{isMatch:h,indices:y,score:w}=g.search(e);if(h){if(a+=1,s+=w,r){const b=g.constructor.type;qE.has(b)?o=[...o,...y]:o.push(y)}}else{s=0,a=0,o.length=0;break}}if(a){let d={isMatch:!0,score:s/a};return r&&(d.indices=o),d}}return{isMatch:!1,score:1}}}const ku=[];function WE(...t){ku.push(...t)}function _u(t,e){for(let n=0,r=ku.length;n<r;n+=1){let i=ku[n];if(i.condition(t,e))return new i(t,e)}return new op(t,e)}const Fs={AND:"$and",OR:"$or"},Mu={PATH:"$path",PATTERN:"$val"},Au=t=>!!(t[Fs.AND]||t[Fs.OR]),UE=t=>!!t[Mu.PATH],jE=t=>!Tr(t)&&np(t)&&!Au(t),wd=t=>({[Fs.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function up(t,e,{auto:n=!0}={}){const r=i=>{let a=Object.keys(i);const o=UE(i);if(!o&&a.length>1&&!Au(i))return r(wd(i));if(jE(i)){const l=o?i[Mu.PATH]:a[0],u=o?i[Mu.PATTERN]:i[l];if(!ur(u))throw new Error(mE(l));const c={keyId:Su(l),pattern:u};return n&&(c.searcher=_u(u,e)),c}let s={children:[],operator:a[0]};return a.forEach(l=>{const u=i[l];Tr(u)&&u.forEach(c=>{s.children.push(r(c))})}),s};return Au(t)||(t=wd(t)),r(t)}function GE(t,{ignoreFieldNorm:e=it.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:a,score:o})=>{const s=i?i.weight:null;r*=Math.pow(o===0&&s?Number.EPSILON:o,(s||1)*(e?1:a))}),n.score=r})}function KE(t,e){const n=t.matches;e.matches=[],_n(n)&&n.forEach(r=>{if(!_n(r.indices)||!r.indices.length)return;const{indices:i,value:a}=r;let o={indices:i,value:a};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),e.matches.push(o)})}function YE(t,e){e.score=t.score}function XE(t,e,{includeMatches:n=it.includeMatches,includeScore:r=it.includeScore}={}){const i=[];return n&&i.push(KE),r&&i.push(YE),t.map(a=>{const{idx:o}=a,s={item:e[o],refIndex:o};return i.length&&i.forEach(l=>{l(a,s)}),s})}class ga{constructor(e,n={},r){this.options={...it,...n},this.options.useExtendedSearch,this._keyStore=new xE(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof lc))throw new Error(gE);this._myIndex=n||ap(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){_n(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const a=this._docs[r];e(a,r)&&(this.removeAt(r),r-=1,i-=1,n.push(a))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:a,sortFn:o,ignoreFieldNorm:s}=this.options;let l=ur(e)?ur(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return GE(l,{ignoreFieldNorm:s}),a&&l.sort(o),tp(n)&&n>-1&&(l=l.slice(0,n)),XE(l,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=_u(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:a,i:o,n:s})=>{if(!_n(a))return;const{isMatch:l,score:u,indices:c}=n.searchIn(a);l&&i.push({item:a,idx:o,matches:[{score:u,value:a,norm:s,indices:c}]})}),i}_searchLogical(e){const n=up(e,this.options),r=(s,l,u)=>{if(!s.children){const{keyId:d,searcher:p}=s,g=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:p});return g&&g.length?[{idx:u,item:l,matches:g}]:[]}const c=[];for(let d=0,p=s.children.length;d<p;d+=1){const g=s.children[d],h=r(g,l,u);if(h.length)c.push(...h);else if(s.operator===Fs.AND)return[]}return c},i=this._myIndex.records,a={},o=[];return i.forEach(({$:s,i:l})=>{if(_n(s)){let u=r(n,s,l);u.length&&(a[l]||(a[l]={idx:l,item:s,matches:[]},o.push(a[l])),u.forEach(({matches:c})=>{a[l].matches.push(...c)}))}}),o}_searchObjectList(e){const n=_u(e,this.options),{keys:r,records:i}=this._myIndex,a=[];return i.forEach(({$:o,i:s})=>{if(!_n(o))return;let l=[];r.forEach((u,c)=>{l.push(...this._findMatches({key:u,value:o[c],searcher:n}))}),l.length&&a.push({idx:s,item:o,matches:l})}),a}_findMatches({key:e,value:n,searcher:r}){if(!_n(n))return[];let i=[];if(Tr(n))n.forEach(({v:a,i:o,n:s})=>{if(!_n(a))return;const{isMatch:l,score:u,indices:c}=r.searchIn(a);l&&i.push({score:u,key:e,value:a,idx:o,norm:s,indices:c})});else{const{v:a,n:o}=n,{isMatch:s,score:l,indices:u}=r.searchIn(a);s&&i.push({score:l,key:e,value:a,norm:o,indices:u})}return i}}ga.version="7.0.0";ga.createIndex=ap;ga.parseIndex=AE;ga.config=it;ga.parseQuery=up;WE(VE);let Iu=null;const ZE={shouldSort:!0,tokenize:!0,threshold:.25,maxPatternLength:40,minMatchCharLength:3,matchAllTokens:!0,location:0,ignoreLocation:!0,distance:100,id:"uri",keys:[{name:"l",weight:.7},{name:"def",weight:.3}]};async function QE(){typeof window<"u"&&console.groupCollapsed("Create Fuse.js index");const t=aa("Create Fuse search index");Pe.debug("Create Fuse Search Index with searchCloseMatch = "+Ke.searchCloseMatch);const e=`select
  ?c as ?uri
  group_concat(distinct(str(?l));separator="|") as ?l
  group_concat(distinct(str(?def));separator="|") as ?def
  from <${Ke.ontology.sparql.graph}>
  {
    {
     {?c a owl:Class.} UNION {?c a [a owl:Class]}
     ?c rdfs:label ?l.
    }
    UNION {?c skos:altLabel ?l.}
    UNION {?c skos:closeMatch|^skos:closeMatch ?cm. ?cm rdfs:label|skos:altLabel ?l.}
    OPTIONAL {?c skos:definition ?def.}
  }`,n=await _r(e),r=[];for(const i of n){const a=i.uri.value.replace(/.*\//,""),o={uri:i.uri.value,l:[...i.l.value.split("|"),a]};r.push(o),o.l=[...new Set(o.l)],i.def.value&&(o.def=i.def.value)}return Iu=new ga(r,ZE),t.stop(r.length+" items"),typeof window<"u"&&console.groupEnd(),r}async function JE(t){return Iu||await QE(),Iu.search(t)}const Ql=100;class eS{constructor(e){Et(this,"resultNodes",[]);e.addEventListener("submit",n=>{n.preventDefault(),Za(()=>this.showSearch(n.target.children.query.value))}),Pe.debug("search initialized")}showSearchResults(e,n){this.resultNodes=[];const r=Mn("tab:search-results");for(;r.rows.length>0;)r.deleteRow(0);if(n.length===0)return Mn("h2:search-results").innerHTML=`No Search Results for "${e}"`,!1;if(n.length===1)return Kn.close("search-results"),We.activeState().graph.presentUri(n[0]),!0;n.length===Ql?Mn("h2:search-results").innerHTML=`First ${Ql} Search Results for "${e}"`:Mn("h2:search-results").innerHTML=`${n.length} Search Results for "${e}"`;const i={};n.forEach(s=>{const l=We.activeState().cy.getElementById(s)[0];l?(i[s]=0,l.hasClass("hidden")&&!l.hasClass("filtered")?i[s]=1:l.hasClass("filtered")&&(i[s]=2)):i[s]=3});const a=new Set;n.sort((s,l)=>i[s]-i[l]),n.forEach(s=>{const l=r.insertRow(),u=l.insertCell(),c=document.createElement("input");c.type="checkbox",u.appendChild(c),u.addEventListener("change",h=>{a[h.target.checked?"add":"remove"](s)});const d=l.insertCell(),p=l.insertCell();window.presentUri=We.activeState().graph.presentUri,d.innerHTML=`<a class="search-class${i[s]}" href="javascript:MicroModal.close('search-results');window.presentUri('${s}');void(0)">
          ${s.replace(Qd.PREFIX,"")}</a>`;const g=`<a class="search-class${i[s]}" href="${s}" target="_blank">Description</a>`;p.innerHTML=g});const o=r.insertRow(0);o.insertCell();{const s=o.insertCell();s.innerHTML="<a href='#'>Highlight All</a>",s.addEventListener("click",l=>{Kn.close("search-results"),We.activeState().graph.presentUris(n),l.preventDefault()})}{const s=o.insertCell();s.innerHTML="<a href='#'>Highlight Selected</a>",s.addEventListener("click",l=>{Kn.close("search-results"),We.activeState().graph.presentUris([...a]),l.preventDefault()})}return!0}async search(e){const r=`select distinct(?s) { {?s a owl:Class.} UNION {?s a rdf:Property.}
        {?s rdfs:label ?l.} UNION {?s skos:altLabel ?l.}	filter(regex(lcase(replace(str(?l),"[ -]","")),lcase("${e.replace(/[\x22\x27\x5C\x0A\x0D -]/g,"")}"))) } order by asc(strlen(str(?l))) limit ${Ql}`;return Pe.debug(r),(await _r(r)).map(a=>a.s.value)}async showSearch(e){Kn.show("search-results");const r=(await JE(e)).map(i=>i.item.uri);return this.showSearchResults(e,r),!1}}var xn="top",Hn="bottom",qn="right",Cn="left",uc="auto",To=[xn,Hn,qn,Cn],Ji="start",fo="end",tS="clippingParents",cp="viewport",Na="popper",nS="reference",xd=To.reduce(function(t,e){return t.concat([e+"-"+Ji,e+"-"+fo])},[]),fp=[].concat(To,[uc]).reduce(function(t,e){return t.concat([e,e+"-"+Ji,e+"-"+fo])},[]),rS="beforeRead",iS="read",aS="afterRead",oS="beforeMain",sS="main",lS="afterMain",uS="beforeWrite",cS="write",fS="afterWrite",dS=[rS,iS,aS,oS,sS,lS,uS,cS,fS];function vr(t){return t?(t.nodeName||"").toLowerCase():null}function In(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Si(t){var e=In(t).Element;return t instanceof e||t instanceof Element}function $n(t){var e=In(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function cc(t){if(typeof ShadowRoot>"u")return!1;var e=In(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function hS(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},a=e.elements[n];!$n(a)||!vr(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function vS(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=o.reduce(function(l,u){return l[u]="",l},{});!$n(i)||!vr(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}const dp={name:"applyStyles",enabled:!0,phase:"write",fn:hS,effect:vS,requires:["computeStyles"]};function cr(t){return t.split("-")[0]}var gi=Math.max,$s=Math.min,ea=Math.round;function Du(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function hp(){return!/^((?!chrome|android).)*safari/i.test(Du())}function ta(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,a=1;e&&$n(t)&&(i=t.offsetWidth>0&&ea(r.width)/t.offsetWidth||1,a=t.offsetHeight>0&&ea(r.height)/t.offsetHeight||1);var o=Si(t)?In(t):window,s=o.visualViewport,l=!hp()&&n,u=(r.left+(l&&s?s.offsetLeft:0))/i,c=(r.top+(l&&s?s.offsetTop:0))/a,d=r.width/i,p=r.height/a;return{width:d,height:p,top:c,right:u+d,bottom:c+p,left:u,x:u,y:c}}function fc(t){var e=ta(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function vp(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&cc(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kr(t){return In(t).getComputedStyle(t)}function pS(t){return["table","td","th"].indexOf(vr(t))>=0}function Qr(t){return((Si(t)?t.ownerDocument:t.document)||window.document).documentElement}function fl(t){return vr(t)==="html"?t:t.assignedSlot||t.parentNode||(cc(t)?t.host:null)||Qr(t)}function Cd(t){return!$n(t)||kr(t).position==="fixed"?null:t.offsetParent}function gS(t){var e=/firefox/i.test(Du()),n=/Trident/i.test(Du());if(n&&$n(t)){var r=kr(t);if(r.position==="fixed")return null}var i=fl(t);for(cc(i)&&(i=i.host);$n(i)&&["html","body"].indexOf(vr(i))<0;){var a=kr(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function ko(t){for(var e=In(t),n=Cd(t);n&&pS(n)&&kr(n).position==="static";)n=Cd(n);return n&&(vr(n)==="html"||vr(n)==="body"&&kr(n).position==="static")?e:n||gS(t)||e}function dc(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ga(t,e,n){return gi(t,$s(e,n))}function mS(t,e,n){var r=Ga(t,e,n);return r>n?n:r}function pp(){return{top:0,right:0,bottom:0,left:0}}function gp(t){return Object.assign({},pp(),t)}function mp(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var yS=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,gp(typeof e!="number"?e:mp(e,To))};function bS(t){var e,n=t.state,r=t.name,i=t.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=cr(n.placement),l=dc(s),u=[Cn,qn].indexOf(s)>=0,c=u?"height":"width";if(!(!a||!o)){var d=yS(i.padding,n),p=fc(a),g=l==="y"?xn:Cn,h=l==="y"?Hn:qn,y=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],w=o[l]-n.rects.reference[l],b=ko(a),E=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,S=y/2-w/2,x=d[g],_=E-p[c]-d[h],k=E/2-p[c]/2+S,v=Ga(x,k,_),D=l;n.modifiersData[r]=(e={},e[D]=v,e.centerOffset=v-k,e)}}function wS(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||vp(e.elements.popper,i)&&(e.elements.arrow=i))}const xS={name:"arrow",enabled:!0,phase:"main",fn:bS,effect:wS,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function na(t){return t.split("-")[1]}var CS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ES(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:ea(n*i)/i||0,y:ea(r*i)/i||0}}function Ed(t){var e,n=t.popper,r=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,p=o.x,g=p===void 0?0:p,h=o.y,y=h===void 0?0:h,w=typeof c=="function"?c({x:g,y}):{x:g,y};g=w.x,y=w.y;var b=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),S=Cn,x=xn,_=window;if(u){var k=ko(n),v="clientHeight",D="clientWidth";if(k===In(n)&&(k=Qr(n),kr(k).position!=="static"&&s==="absolute"&&(v="scrollHeight",D="scrollWidth")),k=k,i===xn||(i===Cn||i===qn)&&a===fo){x=Hn;var I=d&&k===_&&_.visualViewport?_.visualViewport.height:k[v];y-=I-r.height,y*=l?1:-1}if(i===Cn||(i===xn||i===Hn)&&a===fo){S=qn;var B=d&&k===_&&_.visualViewport?_.visualViewport.width:k[D];g-=B-r.width,g*=l?1:-1}}var P=Object.assign({position:s},u&&CS),L=c===!0?ES({x:g,y},In(n)):{x:g,y};if(g=L.x,y=L.y,l){var R;return Object.assign({},P,(R={},R[x]=E?"0":"",R[S]=b?"0":"",R.transform=(_.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",R))}return Object.assign({},P,(e={},e[x]=E?y+"px":"",e[S]=b?g+"px":"",e.transform="",e))}function SS(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,s=n.roundOffsets,l=s===void 0?!0:s,u={placement:cr(e.placement),variation:na(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ed(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ed(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const TS={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:SS,data:{}};var as={passive:!0};function kS(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=i===void 0?!0:i,o=r.resize,s=o===void 0?!0:o,l=In(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",n.update,as)}),s&&l.addEventListener("resize",n.update,as),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",n.update,as)}),s&&l.removeEventListener("resize",n.update,as)}}const _S={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:kS,data:{}};var MS={left:"right",right:"left",bottom:"top",top:"bottom"};function ws(t){return t.replace(/left|right|bottom|top/g,function(e){return MS[e]})}var AS={start:"end",end:"start"};function Sd(t){return t.replace(/start|end/g,function(e){return AS[e]})}function hc(t){var e=In(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function vc(t){return ta(Qr(t)).left+hc(t).scrollLeft}function IS(t,e){var n=In(t),r=Qr(t),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var u=hp();(u||!u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+vc(t),y:l}}function DS(t){var e,n=Qr(t),r=hc(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=gi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=gi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+vc(t),l=-r.scrollTop;return kr(i||n).direction==="rtl"&&(s+=gi(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function pc(t){var e=kr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function yp(t){return["html","body","#document"].indexOf(vr(t))>=0?t.ownerDocument.body:$n(t)&&pc(t)?t:yp(fl(t))}function Ka(t,e){var n;e===void 0&&(e=[]);var r=yp(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),a=In(r),o=i?[a].concat(a.visualViewport||[],pc(r)?r:[]):r,s=e.concat(o);return i?s:s.concat(Ka(fl(o)))}function Pu(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function PS(t,e){var n=ta(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Td(t,e,n){return e===cp?Pu(IS(t,n)):Si(e)?PS(e,n):Pu(DS(Qr(t)))}function LS(t){var e=Ka(fl(t)),n=["absolute","fixed"].indexOf(kr(t).position)>=0,r=n&&$n(t)?ko(t):t;return Si(r)?e.filter(function(i){return Si(i)&&vp(i,r)&&vr(i)!=="body"}):[]}function OS(t,e,n,r){var i=e==="clippingParents"?LS(t):[].concat(e),a=[].concat(i,[n]),o=a[0],s=a.reduce(function(l,u){var c=Td(t,u,r);return l.top=gi(c.top,l.top),l.right=$s(c.right,l.right),l.bottom=$s(c.bottom,l.bottom),l.left=gi(c.left,l.left),l},Td(t,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function bp(t){var e=t.reference,n=t.element,r=t.placement,i=r?cr(r):null,a=r?na(r):null,o=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,l;switch(i){case xn:l={x:o,y:e.y-n.height};break;case Hn:l={x:o,y:e.y+e.height};break;case qn:l={x:e.x+e.width,y:s};break;case Cn:l={x:e.x-n.width,y:s};break;default:l={x:e.x,y:e.y}}var u=i?dc(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case Ji:l[u]=l[u]-(e[c]/2-n[c]/2);break;case fo:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function ho(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,a=n.strategy,o=a===void 0?t.strategy:a,s=n.boundary,l=s===void 0?tS:s,u=n.rootBoundary,c=u===void 0?cp:u,d=n.elementContext,p=d===void 0?Na:d,g=n.altBoundary,h=g===void 0?!1:g,y=n.padding,w=y===void 0?0:y,b=gp(typeof w!="number"?w:mp(w,To)),E=p===Na?nS:Na,S=t.rects.popper,x=t.elements[h?E:p],_=OS(Si(x)?x:x.contextElement||Qr(t.elements.popper),l,c,o),k=ta(t.elements.reference),v=bp({reference:k,element:S,strategy:"absolute",placement:i}),D=Pu(Object.assign({},S,v)),I=p===Na?D:k,B={top:_.top-I.top+b.top,bottom:I.bottom-_.bottom+b.bottom,left:_.left-I.left+b.left,right:I.right-_.right+b.right},P=t.modifiersData.offset;if(p===Na&&P){var L=P[i];Object.keys(B).forEach(function(R){var O=[qn,Hn].indexOf(R)>=0?1:-1,F=[xn,Hn].indexOf(R)>=0?"y":"x";B[R]+=L[F]*O})}return B}function NS(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?fp:l,c=na(r),d=c?s?xd:xd.filter(function(h){return na(h)===c}):To,p=d.filter(function(h){return u.indexOf(h)>=0});p.length===0&&(p=d);var g=p.reduce(function(h,y){return h[y]=ho(t,{placement:y,boundary:i,rootBoundary:a,padding:o})[cr(y)],h},{});return Object.keys(g).sort(function(h,y){return g[h]-g[y]})}function BS(t){if(cr(t)===uc)return[];var e=ws(t);return[Sd(t),e,Sd(e)]}function RS(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,g=n.flipVariations,h=g===void 0?!0:g,y=n.allowedAutoPlacements,w=e.options.placement,b=cr(w),E=b===w,S=l||(E||!h?[ws(w)]:BS(w)),x=[w].concat(S).reduce(function(G,q){return G.concat(cr(q)===uc?NS(e,{placement:q,boundary:c,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:y}):q)},[]),_=e.rects.reference,k=e.rects.popper,v=new Map,D=!0,I=x[0],B=0;B<x.length;B++){var P=x[B],L=cr(P),R=na(P)===Ji,O=[xn,Hn].indexOf(L)>=0,F=O?"width":"height",$=ho(e,{placement:P,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),W=O?R?qn:Cn:R?Hn:xn;_[F]>k[F]&&(W=ws(W));var Y=ws(W),ie=[];if(a&&ie.push($[L]<=0),s&&ie.push($[W]<=0,$[Y]<=0),ie.every(function(G){return G})){I=P,D=!1;break}v.set(P,ie)}if(D)for(var oe=h?3:1,Q=function(q){var X=x.find(function(re){var ne=v.get(re);if(ne)return ne.slice(0,q).every(function(j){return j})});if(X)return I=X,"break"},H=oe;H>0;H--){var U=Q(H);if(U==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const zS={name:"flip",enabled:!0,phase:"main",fn:RS,requiresIfExists:["offset"],data:{_skip:!1}};function kd(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function _d(t){return[xn,qn,Hn,Cn].some(function(e){return t[e]>=0})}function FS(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=ho(e,{elementContext:"reference"}),s=ho(e,{altBoundary:!0}),l=kd(o,r),u=kd(s,i,a),c=_d(l),d=_d(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const $S={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:FS};function HS(t,e,n){var r=cr(t),i=[Cn,xn].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Cn,qn].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function qS(t){var e=t.state,n=t.options,r=t.name,i=n.offset,a=i===void 0?[0,0]:i,o=fp.reduce(function(c,d){return c[d]=HS(d,e.rects,a),c},{}),s=o[e.placement],l=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const VS={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qS};function WS(t){var e=t.state,n=t.name;e.modifiersData[n]=bp({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const US={name:"popperOffsets",enabled:!0,phase:"read",fn:WS,data:{}};function jS(t){return t==="x"?"y":"x"}function GS(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,p=n.tether,g=p===void 0?!0:p,h=n.tetherOffset,y=h===void 0?0:h,w=ho(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),b=cr(e.placement),E=na(e.placement),S=!E,x=dc(b),_=jS(x),k=e.modifiersData.popperOffsets,v=e.rects.reference,D=e.rects.popper,I=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,B=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(k){if(a){var R,O=x==="y"?xn:Cn,F=x==="y"?Hn:qn,$=x==="y"?"height":"width",W=k[x],Y=W+w[O],ie=W-w[F],oe=g?-D[$]/2:0,Q=E===Ji?v[$]:D[$],H=E===Ji?-D[$]:-v[$],U=e.elements.arrow,G=g&&U?fc(U):{width:0,height:0},q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:pp(),X=q[O],re=q[F],ne=Ga(0,v[$],G[$]),j=S?v[$]/2-oe-ne-X-B.mainAxis:Q-ne-X-B.mainAxis,te=S?-v[$]/2+oe+ne+re+B.mainAxis:H+ne+re+B.mainAxis,ve=e.elements.arrow&&ko(e.elements.arrow),ye=ve?x==="y"?ve.clientTop||0:ve.clientLeft||0:0,$e=(R=P==null?void 0:P[x])!=null?R:0,Ee=W+j-$e-ye,Me=W+te-$e,Fe=Ga(g?$s(Y,Ee):Y,W,g?gi(ie,Me):ie);k[x]=Fe,L[x]=Fe-W}if(s){var Te,Oe=x==="x"?xn:Cn,Ce=x==="x"?Hn:qn,Ae=k[_],De=_==="y"?"height":"width",Ne=Ae+w[Oe],He=Ae-w[Ce],Xe=[xn,Cn].indexOf(b)!==-1,Se=(Te=P==null?void 0:P[_])!=null?Te:0,de=Xe?Ne:Ae-v[De]-D[De]-Se+B.altAxis,z=Xe?Ae+v[De]+D[De]-Se-B.altAxis:He,le=g&&Xe?mS(de,Ae,z):Ga(g?de:Ne,Ae,g?z:He);k[_]=le,L[_]=le-Ae}e.modifiersData[r]=L}}const KS={name:"preventOverflow",enabled:!0,phase:"main",fn:GS,requiresIfExists:["offset"]};function YS(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function XS(t){return t===In(t)||!$n(t)?hc(t):YS(t)}function ZS(t){var e=t.getBoundingClientRect(),n=ea(e.width)/t.offsetWidth||1,r=ea(e.height)/t.offsetHeight||1;return n!==1||r!==1}function QS(t,e,n){n===void 0&&(n=!1);var r=$n(e),i=$n(e)&&ZS(e),a=Qr(e),o=ta(t,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((vr(e)!=="body"||pc(a))&&(s=XS(e)),$n(e)?(l=ta(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=vc(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function JS(t){var e=new Map,n=new Set,r=[];t.forEach(function(a){e.set(a.name,a)});function i(a){n.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!n.has(s)){var l=e.get(s);l&&i(l)}}),r.push(a)}return t.forEach(function(a){n.has(a.name)||i(a)}),r}function eT(t){var e=JS(t);return dS.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function tT(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function nT(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Md={placement:"bottom",modifiers:[],strategy:"absolute"};function Ad(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function rT(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,a=i===void 0?Md:i;return function(s,l,u){u===void 0&&(u=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Md,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],p=!1,g={state:c,setOptions:function(b){var E=typeof b=="function"?b(c.options):b;y(),c.options=Object.assign({},a,c.options,E),c.scrollParents={reference:Si(s)?Ka(s):s.contextElement?Ka(s.contextElement):[],popper:Ka(l)};var S=eT(nT([].concat(r,c.options.modifiers)));return c.orderedModifiers=S.filter(function(x){return x.enabled}),h(),g.update()},forceUpdate:function(){if(!p){var b=c.elements,E=b.reference,S=b.popper;if(Ad(E,S)){c.rects={reference:QS(E,ko(S),c.options.strategy==="fixed"),popper:fc(S)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(B){return c.modifiersData[B.name]=Object.assign({},B.data)});for(var x=0;x<c.orderedModifiers.length;x++){if(c.reset===!0){c.reset=!1,x=-1;continue}var _=c.orderedModifiers[x],k=_.fn,v=_.options,D=v===void 0?{}:v,I=_.name;typeof k=="function"&&(c=k({state:c,options:D,name:I,instance:g})||c)}}}},update:tT(function(){return new Promise(function(w){g.forceUpdate(),w(c)})}),destroy:function(){y(),p=!0}};if(!Ad(s,l))return g;g.setOptions(u).then(function(w){!p&&u.onFirstUpdate&&u.onFirstUpdate(w)});function h(){c.orderedModifiers.forEach(function(w){var b=w.name,E=w.options,S=E===void 0?{}:E,x=w.effect;if(typeof x=="function"){var _=x({state:c,name:b,instance:g,options:S}),k=function(){};d.push(_||k)}})}function y(){d.forEach(function(w){return w()}),d=[]}return g}}var iT=[_S,US,TS,dp,VS,zS,KS,xS,$S],aT=rT({defaultModifiers:iT}),oT="tippy-box",wp="tippy-content",sT="tippy-backdrop",xp="tippy-arrow",Cp="tippy-svg-arrow",fi={passive:!0,capture:!0},Ep=function(){return document.body};function Jl(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function gc(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Sp(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Id(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function lT(t){return t.split(/\s+/).filter(Boolean)}function $i(t){return[].concat(t)}function Dd(t,e){t.indexOf(e)===-1&&t.push(e)}function uT(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function cT(t){return t.split("-")[0]}function Hs(t){return[].slice.call(t)}function Pd(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Ya(){return document.createElement("div")}function dl(t){return["Element","Fragment"].some(function(e){return gc(t,e)})}function fT(t){return gc(t,"NodeList")}function dT(t){return gc(t,"MouseEvent")}function hT(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function vT(t){return dl(t)?[t]:fT(t)?Hs(t):Array.isArray(t)?t:Hs(document.querySelectorAll(t))}function eu(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Ld(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function pT(t){var e,n=$i(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function gT(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var a=i.popperRect,o=i.popperState,s=i.props,l=s.interactiveBorder,u=cT(o.placement),c=o.modifiersData.offset;if(!c)return!0;var d=u==="bottom"?c.top.y:0,p=u==="top"?c.bottom.y:0,g=u==="right"?c.left.x:0,h=u==="left"?c.right.x:0,y=a.top-r+d>l,w=r-a.bottom-p>l,b=a.left-n+g>l,E=n-a.right-h>l;return y||w||b||E})}function tu(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function Od(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var or={isTouch:!1},Nd=0;function mT(){or.isTouch||(or.isTouch=!0,window.performance&&document.addEventListener("mousemove",Tp))}function Tp(){var t=performance.now();t-Nd<20&&(or.isTouch=!1,document.removeEventListener("mousemove",Tp)),Nd=t}function yT(){var t=document.activeElement;if(hT(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function bT(){document.addEventListener("touchstart",mT,fi),window.addEventListener("blur",yT)}var wT=typeof window<"u"&&typeof document<"u",xT=wT?!!window.msCrypto:!1,CT={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ET={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Yn=Object.assign({appendTo:Ep,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},CT,ET),ST=Object.keys(Yn),TT=function(e){var n=Object.keys(e);n.forEach(function(r){Yn[r]=e[r]})};function kp(t){var e=t.plugins||[],n=e.reduce(function(r,i){var a=i.name,o=i.defaultValue;if(a){var s;r[a]=t[a]!==void 0?t[a]:(s=Yn[a])!=null?s:o}return r},{});return Object.assign({},t,n)}function kT(t,e){var n=e?Object.keys(kp(Object.assign({},Yn,{plugins:e}))):ST,r=n.reduce(function(i,a){var o=(t.getAttribute("data-tippy-"+a)||"").trim();if(!o)return i;if(a==="content")i[a]=o;else try{i[a]=JSON.parse(o)}catch{i[a]=o}return i},{});return r}function Bd(t,e){var n=Object.assign({},e,{content:Sp(e.content,[t])},e.ignoreAttributes?{}:kT(t,e.plugins));return n.aria=Object.assign({},Yn.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var _T=function(){return"innerHTML"};function Lu(t,e){t[_T()]=e}function Rd(t){var e=Ya();return t===!0?e.className=xp:(e.className=Cp,dl(t)?e.appendChild(t):Lu(e,t)),e}function zd(t,e){dl(e.content)?(Lu(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Lu(t,e.content):t.textContent=e.content)}function Ou(t){var e=t.firstElementChild,n=Hs(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(wp)}),arrow:n.find(function(r){return r.classList.contains(xp)||r.classList.contains(Cp)}),backdrop:n.find(function(r){return r.classList.contains(sT)})}}function _p(t){var e=Ya(),n=Ya();n.className=oT,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Ya();r.className=wp,r.setAttribute("data-state","hidden"),zd(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(a,o){var s=Ou(e),l=s.box,u=s.content,c=s.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(a.content!==o.content||a.allowHTML!==o.allowHTML)&&zd(u,t.props),o.arrow?c?a.arrow!==o.arrow&&(l.removeChild(c),l.appendChild(Rd(o.arrow))):l.appendChild(Rd(o.arrow)):c&&l.removeChild(c)}return{popper:e,onUpdate:i}}_p.$$tippy=!0;var MT=1,os=[],nu=[];function AT(t,e){var n=Bd(t,Object.assign({},Yn,kp(Pd(e)))),r,i,a,o=!1,s=!1,l=!1,u=!1,c,d,p,g=[],h=Id(Ee,n.interactiveDebounce),y,w=MT++,b=null,E=uT(n.plugins),S={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},x={id:w,reference:t,popper:Ya(),popperInstance:b,props:n,state:S,plugins:E,clearDelayTimeouts:de,setProps:z,setContent:le,show:pe,hide:se,hideWithInteractivity:ue,enable:Xe,disable:Se,unmount:ke,destroy:me};if(!n.render)return x;var _=n.render(x),k=_.popper,v=_.onUpdate;k.setAttribute("data-tippy-root",""),k.id="tippy-"+x.id,x.popper=k,t._tippy=x,k._tippy=x;var D=E.map(function(J){return J.fn(x)}),I=t.hasAttribute("aria-expanded");return ve(),oe(),W(),Y("onCreate",[x]),n.showOnCreate&&Ne(),k.addEventListener("mouseenter",function(){x.props.interactive&&x.state.isVisible&&x.clearDelayTimeouts()}),k.addEventListener("mouseleave",function(){x.props.interactive&&x.props.trigger.indexOf("mouseenter")>=0&&O().addEventListener("mousemove",h)}),x;function B(){var J=x.props.touch;return Array.isArray(J)?J:[J,0]}function P(){return B()[0]==="hold"}function L(){var J;return!!((J=x.props.render)!=null&&J.$$tippy)}function R(){return y||t}function O(){var J=R().parentNode;return J?pT(J):document}function F(){return Ou(k)}function $(J){return x.state.isMounted&&!x.state.isVisible||or.isTouch||c&&c.type==="focus"?0:Jl(x.props.delay,J?0:1,Yn.delay)}function W(J){J===void 0&&(J=!1),k.style.pointerEvents=x.props.interactive&&!J?"":"none",k.style.zIndex=""+x.props.zIndex}function Y(J,be,Ie){if(Ie===void 0&&(Ie=!0),D.forEach(function(Be){Be[J]&&Be[J].apply(Be,be)}),Ie){var _e;(_e=x.props)[J].apply(_e,be)}}function ie(){var J=x.props.aria;if(J.content){var be="aria-"+J.content,Ie=k.id,_e=$i(x.props.triggerTarget||t);_e.forEach(function(Be){var Ge=Be.getAttribute(be);if(x.state.isVisible)Be.setAttribute(be,Ge?Ge+" "+Ie:Ie);else{var je=Ge&&Ge.replace(Ie,"").trim();je?Be.setAttribute(be,je):Be.removeAttribute(be)}})}}function oe(){if(!(I||!x.props.aria.expanded)){var J=$i(x.props.triggerTarget||t);J.forEach(function(be){x.props.interactive?be.setAttribute("aria-expanded",x.state.isVisible&&be===R()?"true":"false"):be.removeAttribute("aria-expanded")})}}function Q(){O().removeEventListener("mousemove",h),os=os.filter(function(J){return J!==h})}function H(J){if(!(or.isTouch&&(l||J.type==="mousedown"))){var be=J.composedPath&&J.composedPath()[0]||J.target;if(!(x.props.interactive&&Od(k,be))){if($i(x.props.triggerTarget||t).some(function(Ie){return Od(Ie,be)})){if(or.isTouch||x.state.isVisible&&x.props.trigger.indexOf("click")>=0)return}else Y("onClickOutside",[x,J]);x.props.hideOnClick===!0&&(x.clearDelayTimeouts(),x.hide(),s=!0,setTimeout(function(){s=!1}),x.state.isMounted||X())}}}function U(){l=!0}function G(){l=!1}function q(){var J=O();J.addEventListener("mousedown",H,!0),J.addEventListener("touchend",H,fi),J.addEventListener("touchstart",G,fi),J.addEventListener("touchmove",U,fi)}function X(){var J=O();J.removeEventListener("mousedown",H,!0),J.removeEventListener("touchend",H,fi),J.removeEventListener("touchstart",G,fi),J.removeEventListener("touchmove",U,fi)}function re(J,be){j(J,function(){!x.state.isVisible&&k.parentNode&&k.parentNode.contains(k)&&be()})}function ne(J,be){j(J,be)}function j(J,be){var Ie=F().box;function _e(Be){Be.target===Ie&&(tu(Ie,"remove",_e),be())}if(J===0)return be();tu(Ie,"remove",d),tu(Ie,"add",_e),d=_e}function te(J,be,Ie){Ie===void 0&&(Ie=!1);var _e=$i(x.props.triggerTarget||t);_e.forEach(function(Be){Be.addEventListener(J,be,Ie),g.push({node:Be,eventType:J,handler:be,options:Ie})})}function ve(){P()&&(te("touchstart",$e,{passive:!0}),te("touchend",Me,{passive:!0})),lT(x.props.trigger).forEach(function(J){if(J!=="manual")switch(te(J,$e),J){case"mouseenter":te("mouseleave",Me);break;case"focus":te(xT?"focusout":"blur",Fe);break;case"focusin":te("focusout",Fe);break}})}function ye(){g.forEach(function(J){var be=J.node,Ie=J.eventType,_e=J.handler,Be=J.options;be.removeEventListener(Ie,_e,Be)}),g=[]}function $e(J){var be,Ie=!1;if(!(!x.state.isEnabled||Te(J)||s)){var _e=((be=c)==null?void 0:be.type)==="focus";c=J,y=J.currentTarget,oe(),!x.state.isVisible&&dT(J)&&os.forEach(function(Be){return Be(J)}),J.type==="click"&&(x.props.trigger.indexOf("mouseenter")<0||o)&&x.props.hideOnClick!==!1&&x.state.isVisible?Ie=!0:Ne(J),J.type==="click"&&(o=!Ie),Ie&&!_e&&He(J)}}function Ee(J){var be=J.target,Ie=R().contains(be)||k.contains(be);if(!(J.type==="mousemove"&&Ie)){var _e=De().concat(k).map(function(Be){var Ge,je=Be._tippy,at=(Ge=je.popperInstance)==null?void 0:Ge.state;return at?{popperRect:Be.getBoundingClientRect(),popperState:at,props:n}:null}).filter(Boolean);gT(_e,J)&&(Q(),He(J))}}function Me(J){var be=Te(J)||x.props.trigger.indexOf("click")>=0&&o;if(!be){if(x.props.interactive){x.hideWithInteractivity(J);return}He(J)}}function Fe(J){x.props.trigger.indexOf("focusin")<0&&J.target!==R()||x.props.interactive&&J.relatedTarget&&k.contains(J.relatedTarget)||He(J)}function Te(J){return or.isTouch?P()!==J.type.indexOf("touch")>=0:!1}function Oe(){Ce();var J=x.props,be=J.popperOptions,Ie=J.placement,_e=J.offset,Be=J.getReferenceClientRect,Ge=J.moveTransition,je=L()?Ou(k).arrow:null,at=Be?{getBoundingClientRect:Be,contextElement:Be.contextElement||R()}:t,gt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(lt){var ot=lt.state;if(L()){var Dt=F(),Ft=Dt.box;["placement","reference-hidden","escaped"].forEach(function(Lt){Lt==="placement"?Ft.setAttribute("data-placement",ot.placement):ot.attributes.popper["data-popper-"+Lt]?Ft.setAttribute("data-"+Lt,""):Ft.removeAttribute("data-"+Lt)}),ot.attributes.popper={}}}},It=[{name:"offset",options:{offset:_e}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ge}},gt];L()&&je&&It.push({name:"arrow",options:{element:je,padding:3}}),It.push.apply(It,(be==null?void 0:be.modifiers)||[]),x.popperInstance=aT(at,k,Object.assign({},be,{placement:Ie,onFirstUpdate:p,modifiers:It}))}function Ce(){x.popperInstance&&(x.popperInstance.destroy(),x.popperInstance=null)}function Ae(){var J=x.props.appendTo,be,Ie=R();x.props.interactive&&J===Ep||J==="parent"?be=Ie.parentNode:be=Sp(J,[Ie]),be.contains(k)||be.appendChild(k),x.state.isMounted=!0,Oe()}function De(){return Hs(k.querySelectorAll("[data-tippy-root]"))}function Ne(J){x.clearDelayTimeouts(),J&&Y("onTrigger",[x,J]),q();var be=$(!0),Ie=B(),_e=Ie[0],Be=Ie[1];or.isTouch&&_e==="hold"&&Be&&(be=Be),be?r=setTimeout(function(){x.show()},be):x.show()}function He(J){if(x.clearDelayTimeouts(),Y("onUntrigger",[x,J]),!x.state.isVisible){X();return}if(!(x.props.trigger.indexOf("mouseenter")>=0&&x.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(J.type)>=0&&o)){var be=$(!1);be?i=setTimeout(function(){x.state.isVisible&&x.hide()},be):a=requestAnimationFrame(function(){x.hide()})}}function Xe(){x.state.isEnabled=!0}function Se(){x.hide(),x.state.isEnabled=!1}function de(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(a)}function z(J){if(!x.state.isDestroyed){Y("onBeforeUpdate",[x,J]),ye();var be=x.props,Ie=Bd(t,Object.assign({},be,Pd(J),{ignoreAttributes:!0}));x.props=Ie,ve(),be.interactiveDebounce!==Ie.interactiveDebounce&&(Q(),h=Id(Ee,Ie.interactiveDebounce)),be.triggerTarget&&!Ie.triggerTarget?$i(be.triggerTarget).forEach(function(_e){_e.removeAttribute("aria-expanded")}):Ie.triggerTarget&&t.removeAttribute("aria-expanded"),oe(),W(),v&&v(be,Ie),x.popperInstance&&(Oe(),De().forEach(function(_e){requestAnimationFrame(_e._tippy.popperInstance.forceUpdate)})),Y("onAfterUpdate",[x,J])}}function le(J){x.setProps({content:J})}function pe(){var J=x.state.isVisible,be=x.state.isDestroyed,Ie=!x.state.isEnabled,_e=or.isTouch&&!x.props.touch,Be=Jl(x.props.duration,0,Yn.duration);if(!(J||be||Ie||_e)&&!R().hasAttribute("disabled")&&(Y("onShow",[x],!1),x.props.onShow(x)!==!1)){if(x.state.isVisible=!0,L()&&(k.style.visibility="visible"),W(),q(),x.state.isMounted||(k.style.transition="none"),L()){var Ge=F(),je=Ge.box,at=Ge.content;eu([je,at],0)}p=function(){var It;if(!(!x.state.isVisible||u)){if(u=!0,k.offsetHeight,k.style.transition=x.props.moveTransition,L()&&x.props.animation){var Ht=F(),lt=Ht.box,ot=Ht.content;eu([lt,ot],Be),Ld([lt,ot],"visible")}ie(),oe(),Dd(nu,x),(It=x.popperInstance)==null||It.forceUpdate(),Y("onMount",[x]),x.props.animation&&L()&&ne(Be,function(){x.state.isShown=!0,Y("onShown",[x])})}},Ae()}}function se(){var J=!x.state.isVisible,be=x.state.isDestroyed,Ie=!x.state.isEnabled,_e=Jl(x.props.duration,1,Yn.duration);if(!(J||be||Ie)&&(Y("onHide",[x],!1),x.props.onHide(x)!==!1)){if(x.state.isVisible=!1,x.state.isShown=!1,u=!1,o=!1,L()&&(k.style.visibility="hidden"),Q(),X(),W(!0),L()){var Be=F(),Ge=Be.box,je=Be.content;x.props.animation&&(eu([Ge,je],_e),Ld([Ge,je],"hidden"))}ie(),oe(),x.props.animation?L()&&re(_e,x.unmount):x.unmount()}}function ue(J){O().addEventListener("mousemove",h),Dd(os,h),h(J)}function ke(){x.state.isVisible&&x.hide(),x.state.isMounted&&(Ce(),De().forEach(function(J){J._tippy.unmount()}),k.parentNode&&k.parentNode.removeChild(k),nu=nu.filter(function(J){return J!==x}),x.state.isMounted=!1,Y("onHidden",[x]))}function me(){x.state.isDestroyed||(x.clearDelayTimeouts(),x.unmount(),ye(),delete t._tippy,x.state.isDestroyed=!0,Y("onDestroy",[x]))}}function ra(t,e){e===void 0&&(e={});var n=Yn.plugins.concat(e.plugins||[]);bT();var r=Object.assign({},e,{plugins:n}),i=vT(t),a=i.reduce(function(o,s){var l=s&&AT(s,r);return l&&o.push(l),o},[]);return dl(t)?a[0]:a}ra.defaultProps=Yn;ra.setDefaultProps=TT;ra.currentInput=or;Object.assign({},dp,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});ra.setDefaultProps({render:_p});const IT={"SNIK Graph Manual":{img:"graph.png"},"Multiview-Functionality":{"":"SNIK Graph supports the organization and management of different partial models in separate views.To copy a part of the whole graph, press 'C' or 'S' and to insert it into a new model press 'V' or 'P'.","search-field":"Search the currently active view for resources by entering a full or partial name.","View-specific menu":{"":"The view-specific menu can be found in the upper right position of each view, described from left to right.",img:"viewmenu.png",recalculatesign:"Recalculate Layout",tightlayoutsign:"Tight layout",compoundlayoutsign:"Compound layout",addsign:"Open new Tab",plussign:"Zoom in",minussign:"Zoom out"}},menu:{file:{"":"Holds different file options like loading and saving the graph in different ways.","load-sparql":"Discard the currently loaded graph and load all ontologies of SNIK.","load-session":"Load a complete session from a Cytoscape JSON File. Caution: Discards all changes!","load-view":"Load a saved view (partial graph) and include it in the current session.","load-layout":"Load a saved layout of a partial graph and include it in the current session.","save-session":"Save the complete Session (all views).","save-snik-graph":"Save the complete SNIK graph to a Cytoscape file.","save-view":"Save only the currently active view (partial graph).","save-layout":"Save only the position information of the nodes currently not hidden.","recalculate-layout-replace":"Recalculate the position of all visible nodes. May take a while when a large number of nodes are visible.","save-image-png-visible-region":"Save a screenshot of the currently active view.","save-image-png-complete-partial-graph":"Save an image of the whole graph with the same pixel density as the current view.","save-image-png-visible-region-high-res":"Save an image of the current view with a high resolution, for example for printing.","save-image-png-complete-partial-graph-high-res":"Save an image of the whole graph with a high resolution, for example for printing."},filter:{"":"A collection of filters to display relevant subgraphs. Filters are applied to all open views.",meta:"The Meta Ontology provides common superclasses and properties for the subontologies of SNIK.",bb:'Based on the book "Health Information Systems OntologyâArchitectures and Strategies".',ob:'Based on the book"IT-Projektmanagement im Gesundheitswesen - Lehrbuch und Projektleitfaden.',he:'Based on the book "Informationsmanagement: Grundlagen, Aufgaben, Methoden".',ciox:"Based on interviews about the Health Information System with Department B1, the Department for Information Management, of the Uniklinikum Leipzig.",role:"Who...",function:"...does what...",entitytype:"...and which information is therefore needed."},options:{"":"Here you can find different checkboxes that toggle the behaviour of SNIK Graph. These are applied to all open views.","separate-subs":"Spread the SNIK Graph into subgraphs of the subontologies.","cumulative-search":"Keep previous search results visible when searching again.",grid:"shows a grid that supports better organizing of nodes.","combine-match":'Highlights groups of classes representing the same concept from different subontologies (matches) by placing them in boxes. Use "move matches on top of each other" or "move matches nearby" to shrink those boxes.',showInstances:"Display instances of SNIK Classes, if loaded via parameter.","day-mode":"White background. Saves ink when printing.","dev-mode":"Additional context menu entries for developers.","ext-mode":"Additional context menu entries for power users."},layout:{"":"This part of the menu holds the layout features.","show-close-matches":"Shows (unhides) all nodes that are connected via close matches to visible nodes.","recalculate-layout":"Hotkey: Ctrl+Alt+L. Recalculates the position of all selected nodes, or all visible nodes if there are not at least two selected nodes. Can take a while if there are many visible nodes.","tight-layout":"Hotkey: Ctrl+Alt+T. You can use this for a more narrow view.","compound-layout":"Hotkey: Ctrl+Alt+C. Layout that tries to places combined matches next to each other.","move-match-on-top":'Requires enabled "Combine Matching" option. Places all matching nodes in the center of their group.',"move-match-nearby":'Requires enabled "Combine Matching" option. Places all matching nodes in a small circle in their group.',"bb-chapter-search":'Presents you all chapters of the "blue book" and lets you build a subgraph out of selected chapters .',"ob-chapter-search":'Presents you all chapters of the "orange book" and lets you build a subgraph out of selected chapters .',"subontology-connectivity":"Shows the connectivity between chosen Subontologies, i.e. between BB and OB, in a new tab.",img:"subontologyConnectivity.png","reset-view":"Resets all the layout operations to get you back to the starting point of the visualization.","change-title":"Opens a prompt to change the title of the currently active view."},services:{"":"Other ways to access SNIK.","sparql-endpoint":"Expert interface for the SPARQL Protocol and RDF Query Language endpoint.","rdf-browser":"Browse complete descriptions of resources in the RDF browser."},language:"Language switch, you can choose between English, German and Persian. Ontologies may not or not fully support all available languages.",help:"Common Help Menu, holds e.g. this manual"},"context-menu":{"":"Right click on a node/edge to open the context menu and choose among:","base-mode":{description:"Opens the node in an RDF browser, which shows all its properties and values.",star:{"":"Highlights and expands the node and all its directly connected nodes.",img:"star.png"},"incoming-star":"Highlights and expands the node and all neighbours directly connected via incoming edges.","outgoing-star":"Highlights and expands the node and all neighbours directly connected via outgoing edges.",path:{"":"Shortest Path between a selected source and this node.",img:"star.png"},spiderworm:{"":"The Spider Worm consists of the shortest path between a selected source and this node plus all direct neighbours. Displaying a spiderworm hides all other nodes and edges.",img:"spiderworm.png"},edit:"If you are a domain expert and notice incorrectly modelled facts or connections of a node, feel free to send us an issue.","combine-close-matches":"Merge equivalent classes from different subontologies.","class-use":"Visualize the interplay of role, function and entity type (related to the Meta model).",hide:"Hide the selected item until the view is resetted.","set-path-source":"Set the starting point for path operations.","confirm-link":"Confirm that the automatically generated interlink is correct."},"dev-mode":{"remove-permanently":"Send us an issue to delete the selected item permanently. Also removes it until graph is reloaded.",debug:"Get debug information to the edge/node from the JSON File"},"ext-mode":{doublestar:{"":"The double star is like the spiderworm but shows connected nodes for both source and target, not just the target.",img:"doublestar.png"},starpath:{"":"Creates a path and star (expand) every node along it.",img:"starpath.png"},circlestar:{"":"A star (expansion of the node) using a circular layout. Hides all other nodes.",img:"circlestar.png"},lodlive:"Third party data visualization exploration tool."}}};function Mp(t){const e={};for(const n in t){if(n===""||n==="img")continue;const r=t[n];if(typeof r=="string"){e[n]=r;continue}r[""]&&(e[n]=r[""]),Object.assign(e,Mp(r))}return e}const qs=Mp(IT);function Fd(){const t="right-end",e="reddark";for(const n in qs){const r=qs[n];if(typeof r!="string"&&console.error("value "+r+" for key "+n+" not a string"),document.getElementById(n))ra("#"+n,{content:r,placement:t,theme:e});else{const a=`[data-i18n="${n}"]`;document.querySelectorAll(a).length>0?ra(a,{content:r,placement:t,theme:e}):Pe.trace(`tooltip init: found none of #${n} and [data-i18n="${n}"]`)}}}var xs={exports:{}},DT=xs.exports,$d;function PT(){return $d||($d=1,function(t,e){(function(n,r){t.exports=r()})(DT,function(){var n=function(){function r(g){return o.appendChild(g.dom),g}function i(g){for(var h=0;h<o.children.length;h++)o.children[h].style.display=h===g?"block":"none";a=g}var a=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(g){g.preventDefault(),i(++a%o.children.length)},!1);var s=(performance||Date).now(),l=s,u=0,c=r(new n.Panel("FPS","#0ff","#002")),d=r(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=r(new n.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:o,addPanel:r,showPanel:i,begin:function(){s=(performance||Date).now()},end:function(){u++;var g=(performance||Date).now();if(d.update(g-s,200),g>l+1e3&&(c.update(1e3*u/(g-l),100),l=g,u=0,p)){var h=performance.memory;p.update(h.usedJSHeapSize/1048576,h.jsHeapSizeLimit/1048576)}return g},update:function(){s=this.end()},domElement:o,setMode:i}};return n.Panel=function(r,i,a){var o=1/0,s=0,l=Math.round,u=l(window.devicePixelRatio||1),c=80*u,d=48*u,p=3*u,g=2*u,h=3*u,y=15*u,w=74*u,b=30*u,E=document.createElement("canvas");E.width=c,E.height=d,E.style.cssText="width:80px;height:48px";var S=E.getContext("2d");return S.font="bold "+9*u+"px Helvetica,Arial,sans-serif",S.textBaseline="top",S.fillStyle=a,S.fillRect(0,0,c,d),S.fillStyle=i,S.fillText(r,p,g),S.fillRect(h,y,w,b),S.fillStyle=a,S.globalAlpha=.9,S.fillRect(h,y,w,b),{dom:E,update:function(x,_){o=Math.min(o,x),s=Math.max(s,x),S.fillStyle=a,S.globalAlpha=1,S.fillRect(0,0,c,y),S.fillStyle=i,S.fillText(l(x)+" "+r+" ("+l(o)+"-"+l(s)+")",p,g),S.drawImage(E,h+u,y,w-u,b,h,y,w-u,b),S.fillRect(h+w-u,y,u,b),S.fillStyle=a,S.globalAlpha=.9,S.fillRect(h+w-u,y,u,l((1-x/_)*b))}}},n})}(xs)),xs.exports}var LT=PT();const ru=Ti(LT);function OT(t){const e=[];for(let o=0;o<4;o++){const s=new ru;s.domElement.style.cssText=`position:absolute;top:0px;right:${100*o}px;`,document.body.appendChild(s.dom),e.push(s)}const r=e[2].addPanel(new ru.Panel("Nodes","#ff8","#221")),i=e[3].addPanel(new ru.Panel("Edges","#f8f","#212"));for(let o=0;o<e.length;o++)e[o].showPanel(Math.min(o,e.length-2));let a=0;requestAnimationFrame(function o(){for(const s of e)s.update();a=(a+1)%30,a===0&&(r.update(t.nodes(":visible").size()),i.update(t.edges(":visible").size())),requestAnimationFrame(o)})}function NT(){const t=new URL(window.location.href),e={endpoint:Ke.ontology.sparql.endpoint,instances:Ke.ontology.sparql.instances};return Object.assign(e,{empty:t.searchParams.get("empty")!==null,clazz:t.searchParams.get("class"),jsonUrl:t.searchParams.get("json"),...t.searchParams.get("sparql")&&{endpoint:t.searchParams.get("sparql")},...t.searchParams.get("instances")!==null&&{instances:t.searchParams.get("instances")===""||t.searchParams.get("instances")==="true"},virtual:t.searchParams.get("virtual")!==null,rdfGraph:t.searchParams.get("graph"),sub:t.searchParams.get("sub"),benchmark:t.searchParams.get("benchmark")!==null})}async function BT(t,e){var n,r;try{if(e.benchmark&&OT(t.cy),e.empty){Pe.info('Parameter "empty" detected. Skip loading and display file load prompt.');const a=document.getElementById("loadarea"),o=document.createElement("center");a.appendChild(o),o.innerHTML+=`<button id="load-button" style="font-size:10vh;margin-top:20vh">Datei Laden
      <input id="load-input" type="file" style="display:none"></input>
      </button>`;const s=document.getElementById("load-input"),l=document.getElementById("load-button");l.onclick=()=>{s.click()},s.addEventListener("change",u=>{a.removeChild(o),t.cy.resize(),oE(t)(u)});return}if(e.jsonUrl){Pe.info("Loading from JSON URL "+e.jsonUrl);const a=await(await fetch(e.jsonUrl)).json();t.cy.add(a),Fn(t.cy,Ns);return}Pe.debug("Loading from SPARQL Endpoint "+e.endpoint),Ke.ontology.sparql.endpoint=e.endpoint;const i=[];if(Ke.ontology.isSnik){let a=((n=e.sub)==null?void 0:n.split(","))||[];a.length===0&&(a=[...Ke.helperGraphs,...Ke.defaultSubOntologies]),i.push(...a.map(o=>Qd.PREFIX+o))}if(console.debug(`Loading graph with${e.instances?"":"out"} instances.`),await eh(t.cy,i,e.instances,e.virtual),t.instancesLoaded=e.instances,yt.setVisible(t.cy.edges("[p='http://www.w3.org/1999/02/22-rdf-syntax-ns#type']"),!1),(r=Ke.ontology)!=null&&r.initialView){const a={version:Ke.ontology.initialView.version,title:Ke.ontology.initialView.title,type:Ke.ontology.initialView.type,graph:Ke.ontology.initialView.graph};ep(a,We.activeState().graph)}else if(Ke.ontology.isSnik){await qv(t.cy,Ua,Ke.defaultSubOntologies,!1),yt.setVisible(t.cy.elements(),!1);const a=t.cy.nodes("node[id='http://www.snik.eu/ontology/bb/ChiefInformationOfficer']");t.showStar(a),await Fn(t.cy,Ns),t.cy.elements().unselect(),t.cy.center(a),t.cy.fit(t.cy.elements(":visible")),yt.setVisible(a,!0),t.starMode=!0}e.clazz&&(Pe.info(`Parameter "class" detected. Centering on URI ${e.clazz}.`),setTimeout(()=>t.presentUri(e.clazz),300))}catch(i){Pe.error(i),Pe.error("Error initializing SNIK Graph "+i)}}async function RT(t){await Za(async()=>{const e=NT();await BT(t,e),new eS(Mn("search")),Fd()}),Fd()}var Cs={exports:{}},zT=Cs.exports,Hd;function FT(){return Hd||(Hd=1,function(t,e){(function(n,r){t.exports=r()})(zT,function(){return(()=>{var n={621:(a,o,s)=>{function l(H,U){(U==null||U>H.length)&&(U=H.length);for(var G=0,q=new Array(U);G<U;G++)q[G]=H[G];return q}function u(H,U){var G={};for(var q in H)G[q]=H[q];for(var X in U)G[X]instanceof Array?G[X]=G[X].concat(U[X]):G[X]=U[X];return G}function c(H){for(var U="",G=0;G<H.length;G++)U+=H[G],G!==H.length-1&&(U+=" ");return U}function d(H,U,G){G?H.setAttribute(U,""):H.removeAttribute(U)}function p(H,U,G){customElements.get(H)===void 0&&customElements.define(H,U,{extends:G})}s.r(o),s.d(o,{contextMenus:()=>Q});var g="cy-context-menus-divider",h={evtType:"cxttap",menuItems:[],menuItemClasses:["cy-context-menus-cxt-menuitem"],contextMenuClasses:["cy-context-menus-cxt-menu"],submenuIndicator:{src:"assets/submenu-indicator-default.svg",width:12,height:12}};function y(H){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(H)}function w(H,U){var G;if(typeof Symbol>"u"||H[Symbol.iterator]==null){if(Array.isArray(H)||(G=function(te,ve){if(te){if(typeof te=="string")return b(te,ve);var ye=Object.prototype.toString.call(te).slice(8,-1);return ye==="Object"&&te.constructor&&(ye=te.constructor.name),ye==="Map"||ye==="Set"?Array.from(te):ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye)?b(te,ve):void 0}}(H))||U){G&&(H=G);var q=0,X=function(){};return{s:X,n:function(){return q>=H.length?{done:!0}:{done:!1,value:H[q++]}},e:function(te){throw te},f:X}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,ne=!0,j=!1;return{s:function(){G=H[Symbol.iterator]()},n:function(){var te=G.next();return ne=te.done,te},e:function(te){j=!0,re=te},f:function(){try{ne||G.return==null||G.return()}finally{if(j)throw re}}}}function b(H,U){(U==null||U>H.length)&&(U=H.length);for(var G=0,q=new Array(U);G<U;G++)q[G]=H[G];return q}function E(H,U){if(!(H instanceof U))throw new TypeError("Cannot call a class as a function")}function S(H,U){for(var G=0;G<U.length;G++){var q=U[G];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(H,q.key,q)}}function x(H,U,G){return U&&S(H.prototype,U),G&&S(H,G),H}function _(H,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(U&&U.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),U&&R(H,U)}function k(H){var U=L();return function(){var G,q=O(H);if(U){var X=O(this).constructor;G=Reflect.construct(q,arguments,X)}else G=q.apply(this,arguments);return v(this,G)}}function v(H,U){return!U||y(U)!=="object"&&typeof U!="function"?D(H):U}function D(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function I(H,U,G){return(I=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(q,X,re){var ne=function(te,ve){for(;!Object.prototype.hasOwnProperty.call(te,ve)&&(te=O(te))!==null;);return te}(q,X);if(ne){var j=Object.getOwnPropertyDescriptor(ne,X);return j.get?j.get.call(re):j.value}})(H,U,G||H)}function B(H){var U=typeof Map=="function"?new Map:void 0;return(B=function(G){if(G===null||(q=G,Function.toString.call(q).indexOf("[native code]")===-1))return G;var q;if(typeof G!="function")throw new TypeError("Super expression must either be null or a function");if(U!==void 0){if(U.has(G))return U.get(G);U.set(G,X)}function X(){return P(G,arguments,O(this).constructor)}return X.prototype=Object.create(G.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),R(X,G)})(H)}function P(H,U,G){return(P=L()?Reflect.construct:function(q,X,re){var ne=[null];ne.push.apply(ne,X);var j=new(Function.bind.apply(q,ne));return re&&R(j,re.prototype),j}).apply(null,arguments)}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(H,U){return(R=Object.setPrototypeOf||function(G,q){return G.__proto__=q,G})(H,U)}function O(H){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)})(H)}function F(H){H.preventDefault(),H.stopPropagation()}var $=function(H){_(G,H);var U=k(G);function G(q,X,re){var ne,j,te,ve,ye,$e,Ee,Me,Fe,Te;E(this,G),I((j=D(Te=U.call(this)),O(G.prototype)),"setAttribute",j).call(j,"id",q.id);var Oe=Te._getMenuItemClassStr(re.cxtMenuItemClasses,q.hasTrailingDivider);if(I((te=D(Te),O(G.prototype)),"setAttribute",te).call(te,"class",Oe),I((ve=D(Te),O(G.prototype)),"setAttribute",ve).call(ve,"title",(ne=q.tooltipText)!==null&&ne!==void 0?ne:""),q.disabled&&d(D(Te),"disabled",!0),q.image){var Ce=document.createElement("img");Ce.src=q.image.src,Ce.width=q.image.width,Ce.height=q.image.height,Ce.style.position="absolute",Ce.style.top=q.image.y+"px",Ce.style.left=q.image.x+"px",I((ye=D(Te),O(G.prototype)),"appendChild",ye).call(ye,Ce)}if(Te.innerHTML+=q.content,Te.onMenuItemClick=X,Te.data={},Te.clickFns=[],Te.selector=q.selector,Te.hasTrailingDivider=q.hasTrailingDivider,Te.show=q.show===void 0||q.show,Te.coreAsWell=q.coreAsWell||!1,Te.scratchpad=re,q.onClickFunction===void 0&&q.submenu===void 0)throw new Error("A menu item must either have click function or a submenu or both");return Te.onClickFunction=q.onClickFunction,q.submenu instanceof Array&&Te._createSubmenu(q.submenu),I(($e=D(Te),O(G.prototype)),"addEventListener",$e).call($e,"mousedown",F),I((Ee=D(Te),O(G.prototype)),"addEventListener",Ee).call(Ee,"mouseup",F),I((Me=D(Te),O(G.prototype)),"addEventListener",Me).call(Me,"touchstart",F),I((Fe=D(Te),O(G.prototype)),"addEventListener",Fe).call(Fe,"touchend",F),Te}return x(G,[{key:"bindOnClickFunction",value:function(q){this.clickFns.push(q),I(O(G.prototype),"addEventListener",this).call(this,"click",q)}},{key:"unbindOnClickFunctions",value:function(){var q,X=w(this.clickFns);try{for(X.s();!(q=X.n()).done;){var re=q.value;I(O(G.prototype),"removeEventListener",this).call(this,"click",re)}}catch(ne){X.e(ne)}finally{X.f()}this.clickFns=[]}},{key:"enable",value:function(){d(this,"disabled",!1),this.hasSubmenu()&&this.addEventListener("mouseenter",this.mouseEnterHandler)}},{key:"disable",value:function(){d(this,"disabled",!0),this.hasSubmenu()&&this.removeEventListener("mouseenter",this.mouseEnterHandler)}},{key:"hide",value:function(){this.show=!1,this.style.display="none"}},{key:"getHasTrailingDivider",value:function(){return!!this.hasTrailingDivider}},{key:"setHasTrailingDivider",value:function(q){this.hasTrailingDivider=q}},{key:"hasSubmenu",value:function(){return this.submenu instanceof W}},{key:"appendSubmenuItem",value:function(q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this.hasSubmenu()||this._createSubmenu(),this.submenu.appendMenuItem(q,X)}},{key:"isClickable",value:function(){return this.onClickFunction!==void 0}},{key:"display",value:function(){this.show=!0,this.style.display="block"}},{key:"isVisible",value:function(){return this.show===!0&&this.style.display!=="none"}},{key:"removeSubmenu",value:function(){this.hasSubmenu()&&(this.submenu.removeAllMenuItems(),this.detachSubmenu())}},{key:"detachSubmenu",value:function(){this.hasSubmenu()&&(this.removeChild(this.submenu),this.removeChild(this.indicator),this.removeEventListener("mouseenter",this.mouseEnterHandler),this.removeEventListener("mouseleave",this.mouseLeaveHandler),this.submenu=void 0,this.indicator=void 0)}},{key:"_onMouseEnter",value:function(q){var X=this.getBoundingClientRect(),re=function(ye){ye.style.opacity="0",ye.style.display="block";var $e=ye.getBoundingClientRect();return ye.style.opacity="1",ye.style.display="none",$e}(this.submenu),ne=X.right+re.width>window.innerWidth,j=X.top+re.height>window.innerHeight;ne||j?ne&&!j?(this.submenu.style.right=this.clientWidth+"px",this.submenu.style.top="0px",this.submenu.style.left="auto",this.submenu.style.bottom="auto"):ne&&j?(this.submenu.style.right=this.clientWidth+"px",this.submenu.style.bottom="0px",this.submenu.style.top="auto",this.submenu.style.left="auto"):(this.submenu.style.left=this.clientWidth+"px",this.submenu.style.bottom="0px",this.submenu.style.right="auto",this.submenu.style.top="auto"):(this.submenu.style.left=this.clientWidth+"px",this.submenu.style.top="0px",this.submenu.style.right="auto",this.submenu.style.bottom="auto"),this.submenu.display();var te=Array.from(this.submenu.children).filter(function(ye){if(ye instanceof G)return ye.isVisible()}),ve=te.length;te.forEach(function(ye,$e){ye instanceof G&&($e<ve-1&&ye.getHasTrailingDivider()?ye.classList.add(g):ye.getHasTrailingDivider()&&ye.classList.remove(g))})}},{key:"_onMouseLeave",value:function(q){var X,re,ne,j,te;X={x:q.clientX,y:q.clientY},re=this.submenu,j=X.y,(ne=X.x)>=(te=re.getBoundingClientRect()).left&&ne<=te.right&&j>=te.top&&j<=te.bottom||this.submenu.hide()}},{key:"_createSubmenu",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.indicator=this.scratchpad.submenuIndicatorGen(),this.submenu=new W(this.onMenuItemClick,this.scratchpad),this.appendChild(this.indicator),this.appendChild(this.submenu);var X,re=w(q);try{for(re.s();!(X=re.n()).done;){var ne=X.value,j=new G(ne,this.onMenuItemClick,this.scratchpad);this.submenu.appendMenuItem(j)}}catch(te){re.e(te)}finally{re.f()}this.mouseEnterHandler=this._onMouseEnter.bind(this),this.mouseLeaveHandler=this._onMouseLeave.bind(this),this.addEventListener("mouseenter",this.mouseEnterHandler),this.addEventListener("mouseleave",this.mouseLeaveHandler)}},{key:"_getMenuItemClassStr",value:function(q,X){return X?q+" "+g:q}}],[{key:"define",value:function(){p("ctx-menu-item",G,"button")}}]),G}(B(HTMLButtonElement)),W=function(H){_(G,H);var U=k(G);function G(q,X){var re,ne;return E(this,G),I((re=D(ne=U.call(this)),O(G.prototype)),"setAttribute",re).call(re,"class",X.cxtMenuClasses),ne.style.position="absolute",ne.onMenuItemClick=q,ne.scratchpad=X,ne}return x(G,[{key:"hide",value:function(){this.isVisible()&&(this.hideSubmenus(),this.style.display="none")}},{key:"display",value:function(){this.style.display="block"}},{key:"isVisible",value:function(){return this.style.display!=="none"}},{key:"hideMenuItems",value:function(){var q,X=w(this.children);try{for(X.s();!(q=X.n()).done;){var re=q.value;re instanceof HTMLElement?re.style.display="none":console.warn("".concat(re," is not a HTMLElement"))}}catch(ne){X.e(ne)}finally{X.f()}}},{key:"hideSubmenus",value:function(){var q,X=w(this.children);try{for(X.s();!(q=X.n()).done;){var re=q.value;re instanceof $&&re.submenu&&re.submenu.hide()}}catch(ne){X.e(ne)}finally{X.f()}}},{key:"appendMenuItem",value:function(q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(X!==void 0){if(X.parentNode!==this)throw new Error("The item with id='".concat(X.id,"' is not a child of the context menu"));this.insertBefore(q,X)}else this.appendChild(q);q.isClickable()&&this._performBindings(q)}},{key:"moveBefore",value:function(q,X){if(q.parentNode!==this)throw new Error("The item with id='".concat(q.id,"' is not a child of context menu"));if(X.parentNode!==this)throw new Error("The item with id='".concat(X.id,"' is not a child of context menu"));this.removeChild(q),this.insertBefore(q,X)}},{key:"removeAllMenuItems",value:function(){for(;this.firstChild;){var q=this.lastChild;q instanceof $?this._removeImmediateMenuItem(q):(console.warn("Found non menu item in the context menu: ",q),this.removeChild(q))}}},{key:"_removeImmediateMenuItem",value:function(q){if(!this._detachImmediateMenuItem(q))throw new Error("menu item(id=".concat(q.id,") is not in the context menu"));q.detachSubmenu(),q.unbindOnClickFunctions()}},{key:"_detachImmediateMenuItem",value:function(q){if(q.parentNode===this){if(this.removeChild(q),this.children.length<=0){var X=this.parentNode;X instanceof $&&X.detachSubmenu()}return!0}return!1}},{key:"_performBindings",value:function(q){var X=this._bindOnClick(q.onClickFunction);q.bindOnClickFunction(X),q.bindOnClickFunction(this.onMenuItemClick)}},{key:"_bindOnClick",value:function(q){var X=this;return function(){var re=X.scratchpad.currentCyEvent;q(re)}}}],[{key:"define",value:function(){p("menu-item-list",G,"div")}}]),G}(B(HTMLDivElement)),Y=function(H){_(G,H);var U=k(G);function G(q,X){var re;return E(this,G),(re=U.call(this,q,X)).onMenuItemClick=function(ne){F(ne),re.hide(),q()},re}return x(G,[{key:"removeMenuItem",value:function(q){var X=q.parentElement;X instanceof W&&this.contains(X)&&X._removeImmediateMenuItem(q)}},{key:"appendMenuItem",value:function(q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this.ensureDoesntContain(q.id),I(O(G.prototype),"appendMenuItem",this).call(this,q,X)}},{key:"insertMenuItem",value:function(q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=X.before,ne=X.parent;if(this.ensureDoesntContain(q.id),re!==void 0){if(!this.contains(re))throw new Error("before(id=".concat(re.id,") is not in the context menu"));var j=re.parentNode;if(!(j instanceof W))throw new Error("Parent of before(id=".concat(re.id,") is not a submenu"));j.appendMenuItem(q,re)}else if(ne!==void 0){if(!this.contains(ne))throw new Error("parent(id=".concat(ne.id,") is not a descendant of the context menu"));ne.appendSubmenuItem(q)}else this.appendMenuItem(q)}},{key:"moveBefore",value:function(q,X){var re=q.parentElement;if(!this.contains(re))throw new Error("parent(id=".concat(re.id,") is not in the contex menu"));if(!this.contains(X))throw new Error("before(id=".concat(X.id,") is not in the context menu"));re.removeChild(q),this.insertMenuItem(q,{before:X})}},{key:"moveToSubmenu",value:function(q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ne=q.parentElement;if(!(ne instanceof W))throw new Error("current parent(id=".concat(ne.id,") is not a submenu"));if(!this.contains(ne))throw new Error("parent of the menu item(id=".concat(ne.id,") is not in the context menu"));if(X!==null){if(!this.contains(X))throw new Error("parent(id=".concat(X.id,") is not in the context menu"));ne._detachImmediateMenuItem(q),X.appendSubmenuItem(q)}else re!==null&&(q.selector=re.selector,q.coreAsWell=re.coreAsWell),ne._detachImmediateMenuItem(q),this.appendMenuItem(q)}},{key:"ensureDoesntContain",value:function(q){var X=document.getElementById(q);if(X!==void 0&&this.contains(X))throw new Error("There is already an element with id=".concat(q," in the context menu"))}},{key:"ensureContains",value:function(q){var X=document.getElementById(q);if(X==null||X==null||!this.contains(X))throw new Error("An element with id '".concat(q,"' does not exist!"))}}],[{key:"define",value:function(){p("ctx-menu",G,"div")}}]),G}(W);function ie(H,U){var G;if(typeof Symbol>"u"||H[Symbol.iterator]==null){if(Array.isArray(H)||(G=function(te,ve){if(te){if(typeof te=="string")return oe(te,ve);var ye=Object.prototype.toString.call(te).slice(8,-1);return ye==="Object"&&te.constructor&&(ye=te.constructor.name),ye==="Map"||ye==="Set"?Array.from(te):ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye)?oe(te,ve):void 0}}(H))||U){G&&(H=G);var q=0,X=function(){};return{s:X,n:function(){return q>=H.length?{done:!0}:{done:!1,value:H[q++]}},e:function(te){throw te},f:X}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,ne=!0,j=!1;return{s:function(){G=H[Symbol.iterator]()},n:function(){var te=G.next();return ne=te.done,te},e:function(te){j=!0,re=te},f:function(){try{ne||G.return==null||G.return()}finally{if(j)throw re}}}}function oe(H,U){(U==null||U>H.length)&&(U=H.length);for(var G=0,q=new Array(U);G<U;G++)q[G]=H[G];return q}function Q(H){var U=this;U.scratch("cycontextmenus")||U.scratch("cycontextmenus",{});var G,q,X=function(Ce){return U.scratch("cycontextmenus")[Ce]},re=function(Ce,Ae){return U.scratch("cycontextmenus")[Ce]=Ae},ne=X("options"),j=X("cxtMenu"),te=function(Ce){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,De=ye(Ce);if(Ae!==void 0){var Ne=Ee(Ae);j.insertMenuItem(De,{parent:Ne})}else j.insertMenuItem(De)},ve=function(Ce){for(var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,De=0;De<Ce.length;De++)te(Ce[De],Ae)},ye=function(Ce){var Ae=U.scratch("cycontextmenus");return new $(Ce,j.onMenuItemClick,Ae)},$e=function(){X("active")&&(j.removeAllMenuItems(),U.off("tapstart",X("eventCyTapStart")),U.off(ne.evtType,X("onCxttap")),U.off("viewport",X("onViewport")),document.removeEventListener("mouseup",X("hideOnNonCyClick")),j.parentNode.removeChild(j),j=void 0,re("cxtMenu",void 0),re("active",!1),re("anyVisibleChild",!1),re("onCxttap",void 0),re("onViewport",void 0),re("hideOnNonCyClick",void 0))},Ee=function(Ce){var Ae=document.getElementById(Ce);if(Ae instanceof $)return Ae;throw new Error("The item with id=".concat(Ce," is not a menu item"))},Me=function(){var Ce,Ae=!1,De=ie(j.children);try{for(De.s();!(Ce=De.n()).done;){var Ne=Ce.value;if(Ne instanceof $&&Ne.show&&Ne.style.display!="none"){Ae=!0;break}}}catch(He){De.e(He)}finally{De.f()}Ae?j.display():j.hide()};if(H!=="get"){$.define(),W.define(),Y.define(),ne=u(h,H),re("options",ne),X("active")&&$e(),re("active",!0),re("submenuIndicatorGen",(function(Ce){var Ae=document.createElement("img");return Ae.src=Ce.src,Ae.width=Ce.width,Ae.height=Ce.height,Ae.classList.add("cy-context-menus-submenu-indicator"),Ae}).bind(void 0,ne.submenuIndicator));var Fe=c(ne.contextMenuClasses);re("cxtMenuClasses",Fe);var Te=U.scratch("cycontextmenus");j=new Y(function(){return re("cxtMenuPosition",void 0)},Te),re("cxtMenu",j),U.container().appendChild(j),re("cxtMenuItemClasses",c(ne.menuItemClasses));var Oe=ne.menuItems;ve(Oe),q=function(Ce){re("currentCyEvent",Ce),function(de){var z,le=U.container(),pe=X("cxtMenuPosition"),se=de.position||de.cyPosition;if(pe!=se){j.hideMenuItems(),re("anyVisibleChild",!1),re("cxtMenuPosition",se);var ue={top:(z=le.getBoundingClientRect()).top,left:z.left},ke=de.renderedPosition||de.cyRenderedPosition,me=getComputedStyle(le)["border-width"],J=parseInt(me.replace("px",""))||0;J>0&&(ue.top+=J,ue.left+=J);var be=le.clientHeight,Ie=le.clientWidth,_e=be/2,Be=Ie/2;ke.y>_e&&ke.x<=Be?(j.style.left=ke.x+"px",j.style.bottom=be-ke.y+"px",j.style.right="auto",j.style.top="auto"):ke.y>_e&&ke.x>Be?(j.style.right=Ie-ke.x+"px",j.style.bottom=be-ke.y+"px",j.style.left="auto",j.style.top="auto"):ke.y<=_e&&ke.x<=Be?(j.style.left=ke.x+"px",j.style.top=ke.y+"px",j.style.right="auto",j.style.bottom="auto"):(j.style.right=Ie-ke.x+"px",j.style.top=ke.y+"px",j.style.left="auto",j.style.bottom="auto")}}(Ce);var Ae,De=Ce.target||Ce.cyTarget,Ne=ie(j.children);try{for(Ne.s();!(Ae=Ne.n()).done;){var He=Ae.value;He instanceof $&&(De===U?He.coreAsWell:De.is(He.selector))&&He.show&&(j.display(),re("anyVisibleChild",!0),He.display())}}catch(de){Ne.e(de)}finally{Ne.f()}var Xe=Array.from(j.children).filter(function(de){if(de instanceof $)return de.isVisible()}),Se=Xe.length;Xe.forEach(function(de,z){de instanceof $&&(z<Se-1&&de.getHasTrailingDivider()?de.classList.add(g):de.getHasTrailingDivider()&&de.classList.remove(g))}),!X("anyVisibleChild")&&!function(de){return de.offsetWidth<=0&&de.offsetHeight<=0||de.style&&de.style.display||getComputedStyle(de).display}(j)&&j.hide()},U.on(ne.evtType,q),re("onCxttap",q),function(){var Ce=function(De){if(j.contains(De.originalEvent.target))return!1;j.hide(),re("cxtMenuPosition",void 0),re("currentCyEvent",void 0)};U.on("tapstart",Ce),re("eventCyTapStart",Ce);var Ae=function(){j.hide()};U.on("viewport",Ae),re("onViewport",Ae)}(),G=function(Ce){U.container().contains(Ce.target)||j.contains(Ce.target)||(j.hide(),re("cxtMenuPosition",void 0))},document.addEventListener("mouseup",G),re("hideOnNonCyClick",G),function(){var Ce,Ae=function(De,Ne){var He;if(typeof Symbol>"u"||De[Symbol.iterator]==null){if(Array.isArray(De)||(He=function(pe,se){if(pe){if(typeof pe=="string")return l(pe,se);var ue=Object.prototype.toString.call(pe).slice(8,-1);return ue==="Object"&&pe.constructor&&(ue=pe.constructor.name),ue==="Map"||ue==="Set"?Array.from(pe):ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue)?l(pe,se):void 0}}(De))||Ne){He&&(De=He);var Xe=0,Se=function(){};return{s:Se,n:function(){return Xe>=De.length?{done:!0}:{done:!1,value:De[Xe++]}},e:function(pe){throw pe},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,z=!0,le=!1;return{s:function(){He=De[Symbol.iterator]()},n:function(){var pe=He.next();return z=pe.done,pe},e:function(pe){le=!0,de=pe},f:function(){try{z||He.return==null||He.return()}finally{if(le)throw de}}}}(document.getElementsByClassName("cy-context-menus-cxt-menu"));try{for(Ae.s();!(Ce=Ae.n()).done;)Ce.value.addEventListener("contextmenu",function(De){return De.preventDefault()})}catch(De){Ae.e(De)}finally{Ae.f()}}()}return function(Ce){return{isActive:function(){return X("active")},appendMenuItem:function(Ae){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return te(Ae,De),Ce},appendMenuItems:function(Ae){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return ve(Ae,De),Ce},removeMenuItem:function(Ae){var De=Ee(Ae);return j.removeMenuItem(De),Ce},setTrailingDivider:function(Ae,De){var Ne=Ee(Ae);return Ne.setHasTrailingDivider(De),De?Ne.classList.add(g):Ne.classList.remove(g),Ce},insertBeforeMenuItem:function(Ae,De){var Ne=ye(Ae),He=Ee(De);return j.insertMenuItem(Ne,{before:He}),Ce},moveToSubmenu:function(Ae){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ne=Ee(Ae);if(De===null)j.moveToSubmenu(Ne);else if(typeof De=="string"){var He=Ee(De.toString());j.moveToSubmenu(Ne,He)}else De.coreAsWell!==void 0||De.selector!==void 0?j.moveToSubmenu(Ne,null,De):console.warn("options neither has coreAsWell nor selector property but it is an object. Are you sure that this is what you want to do?");return Ce},moveBeforeOtherMenuItem:function(Ae,De){var Ne=Ee(Ae),He=Ee(De);return j.moveBefore(Ne,He),Ce},disableMenuItem:function(Ae){return Ee(Ae).disable(),Ce},enableMenuItem:function(Ae){return Ee(Ae).enable(),Ce},hideMenuItem:function(Ae){return Ee(Ae).hide(),Me(),Ce},showMenuItem:function(Ae){return Ee(Ae).display(),Me(),Ce},destroy:function(){return $e(),Ce},getOptions:function(){return u(h,ne)},swapItems:function(Ae,De){j.ensureContains(Ae),j.ensureContains(De);var Ne=document.getElementById(Ae),He=document.getElementById(De),Xe=Ne.nextSibling,Se=He.nextSibling,de=Ne.parentNode,z=He.parentNode;if(!de.isSameNode(z))throw new Error("To swap, the items should have the same parent!");Xe&&Xe.isSameNode(He)?de.insertBefore(He,Ne):Se&&Se.isSameNode(Ne)?de.insertBefore(Ne,He):(de.insertBefore(He,Ne),de.insertBefore(Ne,Se))}}}(this)}},579:(a,o,s)=>{var l=s(621).contextMenus,u=function(c){c&&c("core","contextMenus",l)};typeof cytoscape<"u"&&u(cytoscape),a.exports=u}},r={};function i(a){var o=r[a];if(o!==void 0)return o.exports;var s=r[a]={exports:{}};return n[a](s,s.exports,i),s.exports}return i.d=(a,o)=>{for(var s in o)i.o(o,s)&&!i.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:o[s]})},i.o=(a,o)=>Object.prototype.hasOwnProperty.call(a,o),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i(579)})()})}(Cs)),Cs.exports}var $T=FT();const HT=Ti($T),qT="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-chevron-right'%3e%3cpolyline%20points='9%2018%2015%2012%209%206'%3e%3c/polyline%3e%3c/svg%3e";dr.use(HT);const iu={menuItems:[],evtType:"cxttap",submenuIndicator:{src:qT,width:12,height:12}};class Vs{constructor(e,n){Et(this,"graph");this.graph=e,Pe.debug("Register Context Menu."),iu.menuItems=n,iu.menuItems.forEach(function r(i){Vs.addTooltip(i),i.content=Xa(i.id),i.submenu&&i.submenu.forEach(a=>r(a))}),e.cy.contextMenus(iu)}static logWrap(e,n){var i;if((i=e==null?void 0:e.onClickFunction)!=null&&i.wrapped)return;const r=e.onClickFunction;e.onClickFunction=a=>{Pe.debug("Context Menu: Operation "+e.content+" on "+n(a)),r(a)},e.onClickFunction.wrapped=!0}static addTooltip(e){(e.submenu??[]).forEach(Vs.addTooltip),e.tooltipText=qs[e.id]||qs[e.id.replace("edge-","")]}}let VT=0;async function WT(t,e){const n={R:["meta:Role","meta:Function","meta:EntityType"],F:["meta:Function","meta:Role","meta:EntityType"],E:["meta:EntityType","meta:Function","meta:Role"]};if(!(e in n)){Pe.error("Unknown subtop '"+e+"'. Cannot display class use.");return}const[r,i,a]=n[e],o=`select distinct ?inner ?middle ?outer ?outerx
    {
      <${t}> (rdfs:subClassOf|skos:closeMatch|^skos:closeMatch)* ?inner.
      ?inner rdf:type ${r}.
      OPTIONAL
      {
        ?inner ?p ?middle.
        ?middle rdf:type ${i}.
        OPTIONAL
        {
          ?middle ?q ?outer.
          ?outer rdf:type ${a}.
          OPTIONAL {?outer (skos:closeMatch|^skos:closeMatch|^rdfs:subClassOf)+ ?outerx.}
        }
      }
    }`,s=await _r(o),[l,u,c,d]=[new Set,new Set,new Set,new Set];for(let x=0;x<s.length;x++)l.add(s[x].inner.value),s[x].middle&&u.add(s[x].middle.value),s[x].outer&&c.add(s[x].outer.value),s[x].outerx&&d.add(s[x].outerx.value);if(u.size===0){Pe.warn("Class "+t+" is not used.");return}const g=document.getElementById("combineMatchModeBox").checked;g&&We.mainView.state.graph.combineMatch(!1);const h=new We(!0,"Class Use "+ ++VT+" "+Xn(t));await h.initialized;const y=h.state.graph;y.cy.startBatch(),y.resetStyle(),yt.setVisible(y.cy.elements(),!1),y.starMode=!0;const w=new Set([...l,...u,...c,...d]),b=y.cy.collection(`node[id='${t}']`);for(const x of w){const _=y.cy.nodes(`node[id='${x}']`);b.merge(_)}const E=b.merge(b.edgesWith(b));b.layout({name:"concentric",fit:!0,levelWidth:function(){return 1},minNodeSpacing:20,concentric:function(x){const _=x.data(Qe.ID);return _===t?10:l.has(_)?9:u.has(_)?8:c.has(_)?7:d.has(_)?6:10}}).run(),yt.setVisible(E,!0),g&&[We.mainView,h].forEach(x=>x.state.graph.combineMatch(!0));const S=y.cy.nodes(`node[id='${t}']`);y.cy.center(S),y.cy.fit(b),y.cy.endBatch()}const qd=t=>e=>t(e.target);function UT(t){return[{id:"compound",selector:"node:compound",submenu:[{id:"open",onClickFunction:e=>{e.target.children().move({event:null}),t.cy.remove(e.target)}},{id:"move-match-on-top",onClickFunction:e=>t.moveNodes(e.target.children(),0)},{id:"move-match-nearby",onClickFunction:e=>t.moveNodes(e.target.children(),100)},{id:"compound-star",onClickFunction:e=>t.multiplex(t.showStar,e.target.children(),!0)()},{id:"compound-incoming-star",onClickFunction:e=>t.multiplex(n=>t.showStar(n,!1,di.IN),e.target.children(),!0)()},{id:"compound-outgoing-star",onClickFunction:e=>t.multiplex(n=>t.showStar(n,!1,di.OUT),e.target.children(),!0)()},{id:"compound-path-source",onClickFunction:e=>{t.setSource(e.target.children()[0])}}]},{id:"edit",selector:"node",onClickFunction:e=>{const n=e.target,r=`Problem with the class [${Xn(n.data(Qe.ID))}](${n.data(Qe.ID)}):

`;Kd(Ke.git.repo.ontology,n.data(Qe.ID),r)}},{id:"class-use",selector:"node",onClickFunction:e=>{const n=e.target;WT(n.data(Qe.ID),n.data(Qe.SUBTOP))}},{id:"hide",selector:"node",onClickFunction:qd(t.multiplex(e=>yt.setVisible(e,!1)))},{id:"set-path-source",selector:"node",onClickFunction:e=>{t.setSource(e.target)}},{id:"description",selector:"node",onClickFunction:e=>{window.open(e.target.data(Qe.ID))}},{id:"star",selector:"node",onClickFunction:async e=>{(await t.showStarMultiplexedNew(!1,di.BOTH))(e.target)}},{id:"incoming-star",selector:"node",onClickFunction:async e=>{(await t.showStarMultiplexedNew(!1,di.IN))(e.target)}},{id:"outgoing-star",selector:"node",onClickFunction:async e=>{(await t.showStarMultiplexedNew(!1,di.OUT))(e.target)}},{id:"path",selector:"node",onClickFunction:e=>t.multiplex(t.showPath(e.target))(t.getSource())},{id:"spiderworm",selector:"node",onClickFunction:e=>t.showWorm(t.getSource(),e.target)},{id:"dev",selector:"node",submenu:[{id:"remove-permanently",selector:"node",onClickFunction:e=>{t.cy.remove(e.target),Ag(e.target)}},{id:"debug",selector:"node",onClickFunction:e=>alert(JSON.stringify(e.target.data(),null,2))}]},{id:"ext",selector:"node",submenu:[{id:"doublestar",selector:"node",onClickFunction:e=>t.multiplex(t.showDoubleStar)(e.target)},{id:"starpath",selector:"node",onClickFunction:e=>t.multiplex(t.showPath(e.target,!0))(t.getSource())},{id:"circlestar",selector:"node",onClickFunction:async e=>{(await t.showStarMultiplexedNew(!0,di.BOTH,!0))(e.target)}},{id:"lodlive",selector:"node",onClickFunction:e=>{window.open("http://en.lodlive.it/?"+e.target.data(Qe.ID))}},{id:"move-selected",selector:"node",onClickFunction:e=>{t.cy.nodes(":selected").positions(()=>e.target.position())}},{id:"close-match",selector:"node",onClickFunction:qd(t.multiplex(t.showCloseMatch,void 0,!0))},{id:"show-instances",onClickFunction:async e=>{const r=e.target.data(Qe.ID),i=`SELECT ?i STR(SAMPLE(?label)) AS ?l {
        ?i a <${r}>
        OPTIONAL {?i rdfs:label ?label. FILTER(LANGMATCHES(LANG(?label),"${Gd()}"))}
        }`;let o=(await _r(i)).map(s=>s.i.value+" "+(s.l?s.l.value:"")).reduce((s,l)=>s+`
`+l,"");o===""&&(o=`Class ${r} does not have any instances.`),alert(o)}}]}]}function jT(t){return[{id:"edge-edit",selector:"edge",onClickFunction:n=>{const r=n.target,i=`Problem with the edge [${su(r)}](${r.data($t.SOURCE)}):

`;Kd(Ke.git.repo.ontology,su(r),i)}},{id:"edge-hide",selector:"edge",onClickFunction:n=>yt.setVisible(n.target,!1)},{id:"edge-description",selector:"edge",onClickFunction:n=>{const r=n.target;r.data($t.AXIOM)?window.open(r.data($t.AXIOM)):Pe.warn("There is no description for this edge.")}},{id:"edge-confirm-link",selector:`edge[${$t.GRAPH} = "http://www.snik.eu/ontology/limes-exact"]`,onClickFunction:n=>Dg(n.target)},{id:"edge-dev",selector:"edge",submenu:[{id:"remove-permanently",onClickFunction:n=>{t.cy.remove(n.target),Ig(n.target)}},{id:"debug",onClickFunction:n=>{alert(JSON.stringify(n.target.data(),null,2))}}]}]}var au={exports:{}},Vd;function GT(){return Vd||(Vd=1,function(t,e){(function(n){var r={config:{},container:{},controls:{},errors:{},items:{},utils:{}};r.utils.F=function(){},r.utils.extend=function(i,a){i.prototype=r.utils.createObject(a.prototype),i.prototype.contructor=i},r.utils.createObject=function(i){return typeof Object.create=="function"?Object.create(i):(r.utils.F.prototype=i,new r.utils.F)},r.utils.objectKeys=function(i){var a,o;if(typeof Object.keys=="function")return Object.keys(i);a=[];for(o in i)a.push(o);return a},r.utils.getHashValue=function(i){var a=location.hash.match(new RegExp(i+"=([^&]*)"));return a?a[1]:null},r.utils.getQueryStringParam=function(i){if(window.location.hash)return r.utils.getHashValue(i);if(!window.location.search)return null;var a=window.location.search.substr(1).split("&"),o={},s,l;for(l=0;l<a.length;l++)s=a[l].split("="),o[s[0]]=s[1];return o[i]||null},r.utils.copy=function(i,a){for(var o in a)i[o]=a[o];return i},r.utils.animFrame=function(i){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)})(function(){i()})},r.utils.indexOf=function(i,a){if(!(a instanceof Array))throw new Error("Haystack is not an Array");if(a.indexOf)return a.indexOf(i);for(var o=0;o<a.length;o++)if(a[o]===i)return o;return-1},typeof/./!="function"&&typeof Int8Array!="object"?r.utils.isFunction=function(i){return typeof i=="function"||!1}:r.utils.isFunction=function(i){return toString.call(i)==="[object Function]"},r.utils.fnBind=function(i,a,o){if(Function.prototype.bind!==void 0)return Function.prototype.bind.apply(i,[a].concat(o||[]));var s=function(){var l=(o||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof s))return i.apply(a,l);i.apply(this,l)};return s.prototype=i.prototype,s},r.utils.removeFromArray=function(i,a){var o=r.utils.indexOf(i,a);if(o===-1)throw new Error("Can't remove item from array. Item is not in the array");a.splice(o,1)},r.utils.now=function(){return typeof Date.now=="function"?Date.now():new Date().getTime()},r.utils.getUniqueId=function(){return(Math.random()*1e15).toString(36).replace(".","")},r.utils.filterXss=function(i,a){var o=i.replace(/javascript/gi,"j&#97;vascript").replace(/expression/gi,"expr&#101;ssion").replace(/onload/gi,"onlo&#97;d").replace(/script/gi,"&#115;cript").replace(/onerror/gi,"on&#101;rror");return a===!0?o:o.replace(/>/g,"&gt;").replace(/</g,"&lt;")},r.utils.stripTags=function(i){return n.trim(i.replace(/(<([^>]+)>)/ig,""))},r.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[r.utils.EventEmitter.ALL_EVENT]=[],this.on=function(i,a,o){if(!r.utils.isFunction(a))throw new Error("Tried to listen to event "+i+" with non-function callback "+a);this._mSubscriptions[i]||(this._mSubscriptions[i]=[]),this._mSubscriptions[i].push({fn:a,ctx:o})},this.emit=function(i){var a,o,s;s=Array.prototype.slice.call(arguments,1);var l=this._mSubscriptions[i];if(l)for(l=l.slice(),a=0;a<l.length;a++)o=l[a].ctx||{},l[a].fn.apply(o,s);s.unshift(i);var u=this._mSubscriptions[r.utils.EventEmitter.ALL_EVENT].slice();for(a=0;a<u.length;a++)o=u[a].ctx||{},u[a].fn.apply(o,s)},this.unbind=function(i,a,o){if(!this._mSubscriptions[i])throw new Error("No subscribtions to unsubscribe for event "+i);var s,l=!1;for(s=0;s<this._mSubscriptions[i].length;s++)(!a||this._mSubscriptions[i][s].fn===a)&&(!o||o===this._mSubscriptions[i][s].ctx)&&(this._mSubscriptions[i].splice(s,1),l=!0);if(l===!1)throw new Error("Nothing to unbind for "+i)},this.off=this.unbind,this.trigger=this.emit},r.utils.EventEmitter.ALL_EVENT="__all",r.utils.DragListener=function(i,a){r.utils.EventEmitter.call(this),this._eElement=n(i),this._oDocument=n(document),this._eBody=n(document.body),this._nButtonCode=a||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=r.utils.fnBind(this.onMouseMove,this),this._fUp=r.utils.fnBind(this.onMouseUp,this),this._fDown=r.utils.fnBind(this.onMouseDown,this),this._eElement.on("mousedown touchstart",this._fDown)},r.utils.DragListener.timeout=null,r.utils.copy(r.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind("mousedown touchstart",this._fDown),this._oDocument.unbind("mouseup touchend",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(i){if(i.preventDefault(),i.button==0||i.type==="touchstart"){var a=this._getCoordinates(i);this._nOriginalX=a.x,this._nOriginalY=a.y,this._oDocument.on("mousemove touchmove",this._fMove),this._oDocument.one("mouseup touchend",this._fUp),this._timeout=setTimeout(r.utils.fnBind(this._startDrag,this),this._nDelay)}},onMouseMove:function(i){if(this._timeout!=null){i.preventDefault();var a=this._getCoordinates(i);this._nX=a.x-this._nOriginalX,this._nY=a.y-this._nOriginalY,this._bDragging===!1&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag()),this._bDragging&&this.emit("drag",this._nX,this._nY,i)}},onMouseUp:function(i){this._timeout!=null&&(clearTimeout(this._timeout),this._eBody.removeClass("lm_dragging"),this._eElement.removeClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events",""),this._oDocument.unbind("mousemove touchmove",this._fMove),this._oDocument.unbind("mouseup touchend",this._fUp),this._bDragging===!0&&(this._bDragging=!1,this.emit("dragStop",i,this._nOriginalX+this._nX)))},_startDrag:function(){this._bDragging=!0,this._eBody.addClass("lm_dragging"),this._eElement.addClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events","none"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)},_getCoordinates:function(i){return i=i.originalEvent&&i.originalEvent.touches?i.originalEvent.touches[0]:i,{x:i.pageX,y:i.pageY}}}),r.LayoutManager=function(i,a){if(!n||typeof n.noConflict!="function"){var o="jQuery is missing as dependency for GoldenLayout. ";throw o+=`Please either expose $ on GoldenLayout's scope (e.g. window) or add "jquery" to `,o+="your paths when using RequireJS/AMD",new Error(o)}r.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={"lm-react-component":r.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=r.utils.fnBind(this._onResize,this),this._unloadFunction=r.utils.fnBind(this._onUnload,this),this._maximisedItem=null,this._maximisePlaceholder=n('<div class="lm_maximise_place"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new r.utils.EventHub(this),this.config=this._createConfig(i),this.container=a,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=n('<div class="lm_drop_tab_placeholder"></div>'),this.isSubWindow===!0&&n("body").css("visibility","hidden"),this._typeToItem={column:r.utils.fnBind(r.items.RowOrColumn,this,[!0]),row:r.utils.fnBind(r.items.RowOrColumn,this,[!1]),stack:r.items.Stack,component:r.items.Component}},r.LayoutManager.__lm=r,r.LayoutManager.minifyConfig=function(i){return new r.utils.ConfigMinifier().minifyConfig(i)},r.LayoutManager.unminifyConfig=function(i){return new r.utils.ConfigMinifier().unminifyConfig(i)},r.utils.copy(r.LayoutManager.prototype,{registerComponent:function(i,a){if(typeof a!="function")throw new Error("Please register a constructor function");if(this._components[i]!==void 0)throw new Error("Component "+i+" is already registered");this._components[i]=a},toConfig:function(i){var a,o,s;if(this.isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");if(i&&!(i instanceof r.items.AbstractContentItem))throw new Error("Root must be a ContentItem");for(a={settings:r.utils.copy({},this.config.settings),dimensions:r.utils.copy({},this.config.dimensions),labels:r.utils.copy({},this.config.labels)},a.content=[],o=function(l,u){var c,d;for(c in u.config)c!=="content"&&(l[c]=u.config[c]);if(u.contentItems.length)for(l.content=[],d=0;d<u.contentItems.length;d++)l.content[d]={},o(l.content[d],u.contentItems[d])},i?o(a,{contentItems:[i]}):o(a,this.root),this._$reconcilePopoutWindows(),a.openPopouts=[],s=0;s<this.openPopouts.length;s++)a.openPopouts.push(this.openPopouts[s].toConfig());return a.maximisedItemId=this._maximisedItem?"__glMaximised":null,a},getComponent:function(i){if(this._components[i]===void 0)throw new r.errors.ConfigurationError('Unknown component "'+i+'"');return this._components[i]},init:function(){if(this._subWindowsCreated===!1&&(this._createSubWindows(),this._subWindowsCreated=!0),document.readyState==="loading"||document.body===null){n(document).ready(r.utils.fnBind(this.init,this));return}if(this.isSubWindow===!0&&this._creationTimeoutPassed===!1){setTimeout(r.utils.fnBind(this.init,this),7),this._creationTimeoutPassed=!0;return}this.isSubWindow===!0&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new r.controls.DropTargetIndicator(this.container),this.transitionIndicator=new r.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit("initialised")},updateSize:function(i,a){arguments.length===2?(this.width=i,this.height=a):(this.width=this.container.width(),this.height=this.container.height()),this.isInitialised===!0&&(this.root.callDownwards("setSize",[this.width,this.height]),this._maximisedItem&&(this._maximisedItem.element.width(this.container.width()),this._maximisedItem.element.height(this.container.height()),this._maximisedItem.callDownwards("setSize")),this._adjustColumnsResponsive())},destroy:function(){this.isInitialised!==!1&&(this._onUnload(),n(window).off("resize",this._resizeFunction),n(window).off("unload beforeunload",this._unloadFunction),this.root.callDownwards("_$destroy",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach(function(i){i._dragListener.destroy(),i._element=null,i._itemConfig=null,i._dragListener=null}),this._dragSources=[])},createContentItem:function(i,a){var o,s;if(typeof i.type!="string")throw new r.errors.ConfigurationError("Missing parameter 'type'",i);if(i.type==="react-component"&&(i.type="component",i.componentName="lm-react-component"),!this._typeToItem[i.type])throw o="Unknown type '"+i.type+"'. Valid types are "+r.utils.objectKeys(this._typeToItem).join(","),new r.errors.ConfigurationError(o);return i.type==="component"&&!(a instanceof r.items.Stack)&&a&&!(this.isSubWindow===!0&&a instanceof r.items.Root)&&(i={type:"stack",width:i.width,height:i.height,content:[i]}),s=new this._typeToItem[i.type](this,i,a),s},createPopout:function(i,a,o,s){var l=i,u=i instanceof r.items.AbstractContentItem,c=this,d,p,g,h,y,w;if(o=o||null,u){for(l=this.toConfig(i).content,o=r.utils.getUniqueId(),h=i.parent,y=i;h.contentItems.length===1&&!h.isRoot;)h=h.parent,y=y.parent;h.addId(o),isNaN(s)&&(s=r.utils.indexOf(y,h.contentItems))}else l instanceof Array||(l=[l]);return!a&&u&&(d=window.screenX||window.screenLeft,p=window.screenY||window.screenTop,g=i.element.offset(),a={left:d+g.left,top:p+g.top,width:i.element.width(),height:i.element.height()}),!a&&!u&&(a={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&i.remove(),w=new r.controls.BrowserPopout(l,a,o,s,this),w.on("initialised",function(){c.emit("windowOpened",w)}),w.on("closed",function(){c._$reconcilePopoutWindows()}),this.openPopouts.push(w),w},createDragSource:function(i,a){this.config.settings.constrainDragToContainer=!1;var o=new r.controls.DragSource(n(i),a,this);return this._dragSources.push(o),o},selectItem:function(i,a){if(this.config.settings.selectionEnabled!==!0)throw new Error("Please set selectionEnabled to true to use this feature");i!==this.selectedItem&&(this.selectedItem!==null&&this.selectedItem.deselect(),i&&a!==!0&&i.select(),this.selectedItem=i,this.emit("selectionChanged",i))},_$maximiseItem:function(i){this._maximisedItem!==null&&this._$minimiseItem(this._maximisedItem),this._maximisedItem=i,this._maximisedItem.addId("__glMaximised"),i.element.addClass("lm_maximised"),i.element.after(this._maximisePlaceholder),this.root.element.prepend(i.element),i.element.width(this.container.width()),i.element.height(this.container.height()),i.callDownwards("setSize"),this._maximisedItem.emit("maximised"),this.emit("stateChanged")},_$minimiseItem:function(i){i.element.removeClass("lm_maximised"),i.removeId("__glMaximised"),this._maximisePlaceholder.after(i.element),this._maximisePlaceholder.remove(),i.parent.callDownwards("setSize"),this._maximisedItem=null,i.emit("minimised"),this.emit("stateChanged")},_$closeWindow:function(){window.setTimeout(function(){window.close()},1)},_$getArea:function(i,a){var o,s,l=1/0,u=null;for(o=0;o<this._itemAreas.length;o++)s=this._itemAreas[o],i>s.x1&&i<s.x2&&a>s.y1&&a<s.y2&&l>s.surface&&(l=s.surface,u=s);return u},_$createRootItemAreas:function(){var i=50,a={y2:0,x2:0,y1:"y2",x1:"x2"};for(var o in a){var s=this.root._$getArea();s.side=o,a[o]?s[o]=s[a[o]]-i:s[o]=i,s.surface=(s.x2-s.x1)*(s.y2-s.y1),this._itemAreas.push(s)}},_$calculateItemAreas:function(){var i,a,o=this._getAllContentItems();if(this._itemAreas=[],o.length===1){this._itemAreas.push(this.root._$getArea());return}for(this._$createRootItemAreas(),i=0;i<o.length;i++)if(o[i].isStack&&(a=o[i]._$getArea(),a!==null))if(a instanceof Array)this._itemAreas=this._itemAreas.concat(a);else{this._itemAreas.push(a);var s={};r.utils.copy(s,a),r.utils.copy(s,a.contentItem._contentAreaDimensions.header.highlightArea),s.surface=(s.x2-s.x1)*(s.y2-s.y1),this._itemAreas.push(s)}},_$normalizeContentItem:function(i,a){if(!i)throw new Error("No content item defined");if(r.utils.isFunction(i)&&(i=i()),i instanceof r.items.AbstractContentItem)return i;if(n.isPlainObject(i)&&i.type){var o=this.createContentItem(i,a);return o.callDownwards("_$init"),o}else throw new Error("Invalid contentItem")},_$reconcilePopoutWindows:function(){var i=[],a;for(a=0;a<this.openPopouts.length;a++)this.openPopouts[a].getWindow().closed===!1?i.push(this.openPopouts[a]):this.emit("windowClosed",this.openPopouts[a]);this.openPopouts.length!==i.length&&(this.emit("stateChanged"),this.openPopouts=i)},_getAllContentItems:function(){var i=[],a=function(o){if(i.push(o),o.contentItems instanceof Array)for(var s=0;s<o.contentItems.length;s++)a(o.contentItems[s])};return a(this.root),i},_bindEvents:function(){this._isFullPage&&n(window).resize(this._resizeFunction),n(window).on("unload beforeunload",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(r.utils.fnBind(this.updateSize,this),100)},_createConfig:function(i){var a=r.utils.getQueryStringParam("gl-window");a&&(this.isSubWindow=!0,i=localStorage.getItem(a),i=JSON.parse(i),i=new r.utils.ConfigMinifier().unminifyConfig(i),localStorage.removeItem(a)),i=n.extend(!0,{},r.config.defaultConfig,i);var o=function(s){for(var l in s)l!=="props"&&typeof s[l]=="object"?o(s[l]):l==="type"&&s[l]==="react-component"&&(s.type="component",s.componentName="lm-react-component")};return o(i),i.settings.hasHeaders===!1&&(i.dimensions.headerHeight=0),i},_adjustToWindowMode:function(){var i=n('<div class="lm_popin" title="'+this.config.labels.popin+'"><div class="lm_icon"></div><div class="lm_bg"></div></div>');i.click(r.utils.fnBind(function(){this.emit("popIn")},this)),document.title=r.utils.stripTags(this.config.content[0].title),n("head").append(n("body link, body style, template, .gl_keep")),this.container=n("body").html("").css("visibility","visible").append(i),document.body.offsetHeight,window.__glInstance=this},_createSubWindows:function(){var i,a;for(i=0;i<this.config.openPopouts.length;i++)a=this.config.openPopouts[i],this.createPopout(a.content,a.dimensions,a.parentId,a.indexInParent)},_setContainer:function(){var i=n(this.container||"body");if(i.length===0)throw new Error("GoldenLayout container not found");if(i.length>1)throw new Error("GoldenLayout more than one container element specified");i[0]===document.body&&(this._isFullPage=!0,n("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"})),this.container=i},_create:function(i){var a;if(!(i.content instanceof Array))throw i.content===void 0?a="Missing setting 'content' on top level of configuration":a="Configuration parameter 'content' must be an array",new r.errors.ConfigurationError(a,i);if(i.content.length>1)throw a="Top level content can't contain more then one element.",new r.errors.ConfigurationError(a,i);this.root=new r.items.Root(this,{content:i.content},this.container),this.root.callDownwards("_$init"),i.maximisedItemId==="__glMaximised"&&this.root.getItemsById(i.maximisedItemId)[0].toggleMaximise()},_onUnload:function(){if(this.config.settings.closePopoutsOnUnload===!0)for(var i=0;i<this.openPopouts.length;i++)this.openPopouts[i].close()},_adjustColumnsResponsive:function(){if(!this._useResponsiveLayout()||this._updatingColumnsResponsive||!this.config.dimensions||!this.config.dimensions.minItemWidth||this.root.contentItems.length===0||!this.root.contentItems[0].isRow){this._firstLoad=!1;return}this._firstLoad=!1;var i=this.root.contentItems[0].contentItems.length;if(!(i<=1)){var a=this.config.dimensions.minItemWidth,o=i*a;if(!(o<=this.width)){this._updatingColumnsResponsive=!0;for(var s=Math.max(Math.floor(this.width/a),1),l=i-s,u=this.root.contentItems[0],c=this._findAllStackContainers()[0],d=0;d<l;d++){var p=u.contentItems[u.contentItems.length-1];this._addChildContentItemsToContainer(c,p)}this._updatingColumnsResponsive=!1}}},_useResponsiveLayout:function(){return this.config.settings&&(this.config.settings.responsiveMode=="always"||this.config.settings.responsiveMode=="onload"&&this._firstLoad)},_addChildContentItemsToContainer:function(i,a){a.type==="stack"?a.contentItems.forEach(function(o){i.addChild(o),a.removeChild(o,!0)}):a.contentItems.forEach(r.utils.fnBind(function(o){this._addChildContentItemsToContainer(i,o)},this))},_findAllStackContainers:function(){var i=[];return this._findAllStackContainersRecursive(i,this.root),i},_findAllStackContainersRecursive:function(i,a){a.contentItems.forEach(r.utils.fnBind(function(o){o.type=="stack"?i.push(o):o.isComponent||this._findAllStackContainersRecursive(i,o)},this))}}),function(){t.exports=r.LayoutManager}(),r.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:""},r.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!0,showMaximiseIcon:!0,showCloseIcon:!0,responsiveMode:"onload",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200},labels:{close:"close",maximise:"maximise",minimise:"minimise",popout:"open in new window",popin:"pop in",tabDropdown:"additional tabs"}},r.container.ItemContainer=function(i,a,o){r.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=i.componentName,this.parent=a,this.layoutManager=o,this.isHidden=!1,this._config=i,this._element=n(['<div class="lm_item_container">','<div class="lm_content"></div>',"</div>"].join("")),this._contentElement=this._element.find(".lm_content")},r.utils.copy(r.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit("hide"),this.isHidden=!0,this._element.hide()},show:function(){this.emit("show"),this.isHidden=!1,this._element.show(),(this.height!=0||this.width!=0)&&this.emit("shown")},setSize:function(i,a){for(var o=this.parent,s=this,l,u,c,d,p,g;!o.isColumn&&!o.isRow;)if(s=o,o=o.parent,o.isRoot)return!1;for(c=o.isColumn?"height":"width",d=c==="height"?a:i,l=this[c]*(1/(s.config[c]/100)),u=d/l*100,p=(s.config[c]-u)/(o.contentItems.length-1),g=0;g<o.contentItems.length;g++)o.contentItems[g]===s?o.contentItems[g].config[c]=u:o.contentItems[g].config[c]+=p;return o.callDownwards("setSize"),!0},close:function(){this._config.isClosable&&(this.emit("close"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(i){this.setState(n.extend(!0,this.getState(),i))},setState:function(i){this._config.componentState=i,this.parent.emitBubblingEvent("stateChanged")},setTitle:function(i){this.parent.setTitle(i)},_$setSize:function(i,a){if(i!==this.width||a!==this.height){this.width=i,this.height=a;var o=this._contentElement[0],s=o.offsetWidth-o.clientWidth,l=o.offsetHeight-o.clientHeight;this._contentElement.width(this.width-s).height(this.height-l),this.emit("resize")}}}),r.controls.BrowserPopout=function(i,a,o,s,l){r.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=i,this._dimensions=a,this._parentId=o,this._indexInParent=s,this._layoutManager=l,this._popoutWindow=null,this._id=null,this._createWindow()},r.utils.copy(r.controls.BrowserPopout.prototype,{toConfig:function(){if(this.isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch{}},popIn:function(){var i,a;this._indexInParent,this._parentId&&(i=n.extend(!0,{},this.getGlInstance().toConfig()).content[0],a=this._layoutManager.root.getItemsById(this._parentId)[0],a||(this._layoutManager.root.contentItems.length>0?a=this._layoutManager.root.contentItems[0]:a=this._layoutManager.root)),a.addChild(i,this._indexInParent),this.close()},_createWindow:function(){var i,a=this._createUrl(),o=Math.floor(Math.random()*1e6).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=window.open(a,o,s),!this._popoutWindow)if(this._layoutManager.config.settings.blockedPopoutsThrowError===!0){var l=new Error("Popout blocked");throw l.type="popoutBlocked",l}else return;n(this._popoutWindow).on("load",r.utils.fnBind(this._positionWindow,this)).on("unload beforeunload",r.utils.fnBind(this._onClose,this)),i=setInterval(r.utils.fnBind(function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(i))},this),10)},_serializeWindowOptions:function(i){var a=[],o;for(o in i)a.push(o+"="+i[o]);return a.join(",")},_createUrl:function(){var i={content:this._config},a="gl-window-config-"+r.utils.getUniqueId(),o;i=new r.utils.ConfigMinifier().minifyConfig(i);try{localStorage.setItem(a,JSON.stringify(i))}catch(s){throw new Error("Error while writing to localStorage "+s.toString())}return o=document.location.href.split("?"),o.length===1?o[0]+"?gl-window="+a:document.location.href+"&gl-window="+a},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on("popIn",this.popIn,this),this.emit("initialised")},_onClose:function(){setTimeout(r.utils.fnBind(this.emit,this,["closed"]),50)}}),r.controls.DragProxy=function(i,a,o,s,l,u){r.utils.EventEmitter.call(this),this._dragListener=o,this._layoutManager=s,this._contentItem=l,this._originalParent=u,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",this._onDrag,this),this._dragListener.on("dragStop",this._onDrop,this),this.element=n(r.controls.DragProxy._template),u&&u._side&&(this._sided=u._sided,this.element.addClass("lm_"+u._side),["right","bottom"].indexOf(u._side)>=0&&this.element.find(".lm_content").after(this.element.find(".lm_header"))),this.element.css({left:i,top:a}),this.element.find(".lm_tab").attr("title",r.utils.stripTags(this._contentItem.config.title)),this.element.find(".lm_title").html(this._contentItem.config.title),this.childElementContainer=this.element.find(".lm_content"),this.childElementContainer.append(l.element),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),n(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this.element.width(),this._height=this.element.height(),this._setDropPosition(i,a)},r.controls.DragProxy._template='<div class="lm_dragProxy"><div class="lm_header"><ul class="lm_tabs"><li class="lm_tab lm_active"><i class="lm_left"></i><span class="lm_title"></span><i class="lm_right"></i></li></ul></div><div class="lm_content"></div></div>',r.utils.copy(r.controls.DragProxy.prototype,{_onDrag:function(i,a,o){o=o.originalEvent&&o.originalEvent.touches?o.originalEvent.touches[0]:o;var s=o.pageX,l=o.pageY,u=s>this._minX&&s<this._maxX&&l>this._minY&&l<this._maxY;!u&&this._layoutManager.config.settings.constrainDragToContainer===!0||this._setDropPosition(s,l)},_setDropPosition:function(i,a){this.element.css({left:i,top:a}),this._area=this._layoutManager._$getArea(i,a),this._area!==null&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(i,a,this._area))},_onDrop:function(){this._layoutManager.dropTargetIndicator.hide(),this._area!==null?this._area.contentItem._$onDrop(this._contentItem,this._area):this._lastValidArea!==null?this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):this._originalParent?this._originalParent.addChild(this._contentItem):this._contentItem._$destroy(),this.element.remove(),this._layoutManager.emit("itemDropped",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){var i=this._layoutManager.config.dimensions,a=i.dragProxyWidth,o=i.dragProxyHeight;this.element.width(a),this.element.height(o),a-=this._sided?i.headerHeight:0,o-=this._sided?0:i.headerHeight,this.childElementContainer.width(a),this.childElementContainer.height(o),this._contentItem.element.width(a),this._contentItem.element.height(o),this._contentItem.callDownwards("_$show"),this._contentItem.callDownwards("setSize")}}),r.controls.DragSource=function(i,a,o){this._element=i,this._itemConfig=a,this._layoutManager=o,this._dragListener=null,this._createDragListener()},r.utils.copy(r.controls.DragSource.prototype,{_createDragListener:function(){this._dragListener!==null&&this._dragListener.destroy(),this._dragListener=new r.utils.DragListener(this._element),this._dragListener.on("dragStart",this._onDragStart,this),this._dragListener.on("dragStop",this._createDragListener,this)},_onDragStart:function(i,a){var o=this._itemConfig;r.utils.isFunction(o)&&(o=o());var s=this._layoutManager._$normalizeContentItem(n.extend(!0,{},o)),l=new r.controls.DragProxy(i,a,this._dragListener,this._layoutManager,s,null);this._layoutManager.transitionIndicator.transitionElements(this._element,l.element)}}),r.controls.DropTargetIndicator=function(){this.element=n(r.controls.DropTargetIndicator._template),n(document.body).append(this.element)},r.controls.DropTargetIndicator._template='<div class="lm_dropTargetIndicator"><div class="lm_inner"></div></div>',r.utils.copy(r.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(i,a,o,s){this.highlightArea({x1:i,y1:a,x2:o,y2:s})},highlightArea:function(i){this.element.css({left:i.x1,top:i.y1,width:i.x2-i.x1,height:i.y2-i.y1}).show()},hide:function(){this.element.hide()}}),r.controls.Header=function(i,a){r.utils.EventEmitter.call(this),this.layoutManager=i,this.element=n(r.controls.Header._template),this.layoutManager.config.settings.selectionEnabled===!0&&(this.element.addClass("lm_selectable"),this.element.on("click touchstart",r.utils.fnBind(this._onHeaderClick,this))),this.tabsContainer=this.element.find(".lm_tabs"),this.tabDropdownContainer=this.element.find(".lm_tabdropdown_list"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(".lm_controls"),this.parent=a,this.parent.on("resize",this._updateTabSizes,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=r.utils.fnBind(this._hideAdditionalTabsDropdown,this),n(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,this._createControls()},r.controls.Header._template=['<div class="lm_header">','<ul class="lm_tabs"></ul>','<ul class="lm_controls"></ul>','<ul class="lm_tabdropdown_list"></ul>',"</div>"].join(""),r.utils.copy(r.controls.Header.prototype,{createTab:function(i,a){var o,s;for(s=0;s<this.tabs.length;s++)if(this.tabs[s].contentItem===i)return;if(o=new r.controls.Tab(this,i),this.tabs.length===0){this.tabs.push(o),this.tabsContainer.append(o.element);return}a===void 0&&(a=this.tabs.length),a>0?this.tabs[a-1].element.after(o.element):this.tabs[0].element.before(o.element),this.tabs.splice(a,0,o),this._updateTabSizes()},removeTab:function(i){for(var a=0;a<this.tabs.length;a++)if(this.tabs[a].contentItem===i){this.tabs[a]._$destroy(),this.tabs.splice(a,1);return}throw new Error("contentItem is not controlled by this header")},setActiveContentItem:function(i){var a,o,s,l;for(a=0;a<this.tabs.length;a++)s=this.tabs[a].contentItem===i,this.tabs[a].setActive(s),s===!0&&(this.activeContentItem=i,this.parent.config.activeItemIndex=a);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&this._lastVisibleTabIndex!==-1&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(l=this.tabs[this.parent.config.activeItemIndex],o=this.parent.config.activeItemIndex;o>0;o--)this.tabs[o]=this.tabs[o-1];this.tabs[0]=l,this.parent.config.activeItemIndex=0}this._updateTabSizes(),this.parent.emitBubblingEvent("stateChanged")},position:function(i){var a=this.parent._header.show;return a&&!this.parent._side&&(a="top"),i!==void 0&&this.parent._header.show!=i&&(this.parent._header.show=i,this.parent._setupHeaderPosition()),a},_$setClosable:function(i){return this.closeButton&&this._isClosable()?(this.closeButton.element[i?"show":"hide"](),!0):!1},_$destroy:function(){this.emit("destroy",this);for(var i=0;i<this.tabs.length;i++)this.tabs[i]._$destroy();n(document).off("mouseup",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(i){if(i in this.parent._header)return this.parent._header[i]},_createControls:function(){var i,a,o,s,l,u,c,d,p;p=r.utils.fnBind(this._showAdditionalTabsDropdown,this),d=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new r.controls.HeaderButton(this,d,"lm_tabdropdown",p),this.tabDropdownButton.element.hide(),this._getHeaderSetting("popout")&&(a=r.utils.fnBind(this._onPopoutClick,this),o=this._getHeaderSetting("popout"),new r.controls.HeaderButton(this,o,"lm_popout",a)),this._getHeaderSetting("maximise")&&(u=r.utils.fnBind(this.parent.toggleMaximise,this.parent),s=this._getHeaderSetting("maximise"),l=this._getHeaderSetting("minimise"),c=new r.controls.HeaderButton(this,s,"lm_maximise",u),this.parent.on("maximised",function(){c.element.attr("title",l)}),this.parent.on("minimised",function(){c.element.attr("title",s)})),this._isClosable()&&(i=r.utils.fnBind(this.parent.remove,this.parent),o=this._getHeaderSetting("close"),this.closeButton=new r.controls.HeaderButton(this,o,"lm_close",i))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(i){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.layoutManager.config.settings.popoutWholeStack===!0?this.parent.popout():this.activeContentItem.popout()},_onHeaderClick:function(i){i.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(i){if(this.tabs.length!==0){this.tabDropdownButton.element.toggle(i===!0);var a=function(S){return S?"width":"height"};this.element.css(a(!this.parent._sided),""),this.element[a(this.parent._sided)](this.layoutManager.config.dimensions.headerHeight);var o=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,s=0,l=0,u,c,d,p,g=0,h,y=this.layoutManager.config.settings.tabOverlapAllowance,w=!1,b=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,E=this.tabs[b];for(this.parent._sided&&(o=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,c=0;c<this.tabs.length;c++)if(u=this.tabs[c].element,this.tabsContainer.append(u),h=u.outerWidth()+parseInt(u.css("margin-right"),10),s+=h,b<=c?l=s:l=s+E.element.outerWidth()+parseInt(E.element.css("margin-right"),10),l>o){if(w)c===b&&(u.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(u));else if(b>0&&b<=c?g=(l-o)/(c-1):g=(l-o)/c,g<y){for(d=0;d<=c;d++)p=d!==b&&d!==0?"-"+g+"px":"",this.tabs[d].element.css({"z-index":c-d,"margin-left":p});this._lastVisibleTabIndex=c,this.tabsContainer.append(u)}else w=!0;if(w&&c!==b)if(i)u.css({"z-index":"auto","margin-left":""}),this.tabDropdownContainer.append(u);else{this._updateTabSizes(!0);return}}else this._lastVisibleTabIndex=c,u.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(u)}}}),r.controls.HeaderButton=function(i,a,o,s){this._header=i,this.element=n('<li class="'+o+'" title="'+a+'"></li>'),this._header.on("destroy",this._$destroy,this),this._action=s,this.element.on("click touchstart",this._action),this._header.controlsContainer.append(this.element)},r.utils.copy(r.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),r.controls.Splitter=function(i,a,o){this._isVertical=i,this._size=a,this._grabSize=o<a?a:o,this.element=this._createElement(),this._dragListener=new r.utils.DragListener(this.element)},r.utils.copy(r.controls.Splitter.prototype,{on:function(i,a,o){this._dragListener.on(i,a,o)},_$destroy:function(){this.element.remove()},_createElement:function(){var i=n('<div class="lm_drag_handle"></div>'),a=n('<div class="lm_splitter"></div>');a.append(i);var o=this._grabSize-this._size,s=o/2;return this._isVertical?(i.css("top",-s),i.css("height",this._size+o),a.addClass("lm_vertical"),a.height(this._size)):(i.css("left",-s),i.css("width",this._size+o),a.addClass("lm_horizontal"),a.width(this._size)),a}}),r.controls.Tab=function(i,a){this.header=i,this.contentItem=a,this.element=n(r.controls.Tab._template),this.titleElement=this.element.find(".lm_title"),this.closeElement=this.element.find(".lm_close_tab"),this.closeElement[a.config.isClosable?"show":"hide"](),this.isActive=!1,this.setTitle(a.config.title),this.contentItem.on("titleChanged",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,this._layoutManager.config.settings.reorderEnabled===!0&&a.config.reorderEnabled===!0&&(this._dragListener=new r.utils.DragListener(this.element),this._dragListener.on("dragStart",this._onDragStart,this),this.contentItem.on("destroy",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=r.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=r.utils.fnBind(this._onCloseClick,this),this.element.on("mousedown touchstart",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on("click touchstart",this._onCloseClickFn),this.closeElement.on("mousedown",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit("tab",this),this.contentItem.layoutManager.emit("tabCreated",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit("tab",this))},r.controls.Tab._template='<li class="lm_tab"><i class="lm_left"></i><span class="lm_title"></span><div class="lm_close_tab"></div><i class="lm_right"></i></li>',r.utils.copy(r.controls.Tab.prototype,{setTitle:function(i){this.element.attr("title",r.utils.stripTags(i)),this.titleElement.html(i)},setActive:function(i){i!==this.isActive&&(this.isActive=i,i?this.element.addClass("lm_active"):this.element.removeClass("lm_active"))},_$destroy:function(){this.element.off("mousedown touchstart",this._onTabClickFn),this.closeElement.off("click touchstart",this._onCloseClickFn),this._dragListener&&(this.contentItem.off("destroy",this._dragListener.destroy,this._dragListener),this._dragListener.off("dragStart",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(i,a){this.contentItem.parent.isMaximised===!0&&this.contentItem.parent.toggleMaximise(),new r.controls.DragProxy(i,a,this._dragListener,this._layoutManager,this.contentItem,this.header.parent)},_onTabClick:function(i){if(i.button===0||i.type==="touchstart"){var a=this.header.parent.getActiveContentItem();this.contentItem!==a&&this.header.parent.setActiveContentItem(this.contentItem)}else i.button===1&&this.contentItem.config.isClosable&&this._onCloseClick(i)},_onCloseClick:function(i){i.stopPropagation(),this.header.parent.removeChild(this.contentItem)},_onCloseMousedown:function(i){i.stopPropagation()}}),r.controls.TransitionIndicator=function(){this._element=n('<div class="lm_transition_indicator"></div>'),n(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},r.utils.copy(r.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(i,a){},_nextAnimationFrame:function(){var i=this._measure(this._toElement),a=(r.utils.now()-this._animationStartTime)/this._totalAnimationDuration,o={},s;if(a>=1){this._element.hide();return}i.opacity=0;for(s in this._fromDimensions)o[s]=this._fromDimensions[s]+(i[s]-this._fromDimensions[s])*a;this._element.css(o),r.utils.animFrame(r.utils.fnBind(this._nextAnimationFrame,this))},_measure:function(i){var a=i.offset();return{left:a.left,top:a.top,width:i.outerWidth(),height:i.outerHeight()}}}),r.errors.ConfigurationError=function(i,a){Error.call(this),this.name="Configuration Error",this.message=i,this.node=a},r.errors.ConfigurationError.prototype=new Error,r.items.AbstractContentItem=function(i,a,o){r.utils.EventEmitter.call(this),this.config=this._extendItemNode(a),this.type=a.type,this.contentItems=[],this.parent=o,this.isInitialised=!1,this.isMaximised=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.layoutManager=i,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this.on(r.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),a.content&&this._createContentItems(a)},r.utils.copy(r.items.AbstractContentItem.prototype,{setSize:function(){throw new Error("Abstract Method")},callDownwards:function(i,a,o,s){var l;for(o!==!0&&s!==!0&&this[i].apply(this,a||[]),l=0;l<this.contentItems.length;l++)this.contentItems[l].callDownwards(i,a,o);o===!0&&s!==!0&&this[i].apply(this,a||[])},removeChild:function(i,a){var o=r.utils.indexOf(i,this.contentItems);if(o===-1)throw new Error("Can't remove child item. Unknown content item");a!==!0&&this.contentItems[o]._$destroy(),this.contentItems.splice(o,1),this.config.content.splice(o,1),this.contentItems.length>0?this.callDownwards("setSize"):!(this instanceof r.items.Root)&&this.config.isClosable===!0&&this.parent.removeChild(this)},addChild:function(i,a){a===void 0&&(a=this.contentItems.length),this.contentItems.splice(a,0,i),this.config.content===void 0&&(this.config.content=[]),this.config.content.splice(a,0,i.config),i.parent=this,i.parent.isInitialised===!0&&i.isInitialised===!1&&i._$init()},replaceChild:function(i,a,o){a=this.layoutManager._$normalizeContentItem(a);var s=r.utils.indexOf(i,this.contentItems),l=i.element[0].parentNode;if(s===-1)throw new Error("Can't replace child. oldChild is not child of this");l.replaceChild(a.element[0],i.element[0]),o===!0&&(i.parent=null,i._$destroy()),this.contentItems[s]=a,a.parent=this,this.isStack&&(this.header.tabs[s].contentItem=a),a.parent.isInitialised===!0&&a.isInitialised===!1&&a._$init(),this.callDownwards("setSize")},remove:function(){this.parent.removeChild(this)},popout:function(){var i=this.layoutManager.createPopout(this);return this.emitBubblingEvent("stateChanged"),i},toggleMaximise:function(i){i&&i.preventDefault(),this.isMaximised===!0?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximised=!this.isMaximised,this.emitBubblingEvent("stateChanged")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass("lm_selected"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass("lm_selected"))},setTitle:function(i){this.config.title=i,this.emit("titleChanged",i),this.emit("stateChanged")},hasId:function(i){if(this.config.id){if(typeof this.config.id=="string")return this.config.id===i;if(this.config.id instanceof Array)return r.utils.indexOf(i,this.config.id)!==-1}else return!1},addId:function(i){this.hasId(i)||(this.config.id?typeof this.config.id=="string"?this.config.id=[this.config.id,i]:this.config.id instanceof Array&&this.config.id.push(i):this.config.id=i)},removeId:function(i){if(!this.hasId(i))throw new Error("Id not found");if(typeof this.config.id=="string")delete this.config.id;else if(this.config.id instanceof Array){var a=r.utils.indexOf(i,this.config.id);this.config.id.splice(a,1)}},getItemsByFilter:function(i){var a=[],o=function(s){for(var l=0;l<s.contentItems.length;l++)i(s.contentItems[l])===!0&&a.push(s.contentItems[l]),o(s.contentItems[l])};return o(this),a},getItemsById:function(i){return this.getItemsByFilter(function(a){return a.config.id instanceof Array?r.utils.indexOf(i,a.config.id)!==-1:a.config.id===i})},getItemsByType:function(i){return this._$getItemsByProperty("type",i)},getComponentsByName:function(i){var a=this._$getItemsByProperty("componentName",i),o=[],s;for(s=0;s<a.length;s++)o.push(a[s].instance);return o},_$getItemsByProperty:function(i,a){return this.getItemsByFilter(function(o){return o[i]===a})},_$setParent:function(i){this.parent=i},_$highlightDropZone:function(i,a,o){this.layoutManager.dropTargetIndicator.highlightArea(o)},_$onDrop:function(i){this.addChild(i)},_$hide:function(){this._callOnActiveComponents("hide"),this.element.hide(),this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents("show"),this.element.show(),this.layoutManager.updateSize()},_callOnActiveComponents:function(i){var a=this.getItemsByType("stack"),o,s;for(s=0;s<a.length;s++)o=a[s].getActiveContentItem(),o&&o.isComponent&&o.container[i]()},_$destroy:function(){this.emitBubblingEvent("beforeItemDestroyed"),this.callDownwards("_$destroy",[],!0,!0),this.element.remove(),this.emitBubblingEvent("itemDestroyed")},_$getArea:function(i){i=i||this.element;var a=i.offset(),o=i.width(),s=i.height();return{x1:a.left,y1:a.top,x2:a.left+o,y2:a.top+s,surface:o*s,contentItem:this}},_$init:function(){var i;for(this.setSize(),i=0;i<this.contentItems.length;i++)this.childElementContainer.append(this.contentItems[i].element);this.isInitialised=!0,this.emitBubblingEvent("itemCreated"),this.emitBubblingEvent(this.type+"Created")},emitBubblingEvent:function(i){var a=new r.utils.BubblingEvent(i,this);this.emit(i,a)},_createContentItems:function(i){var a,o;if(!(i.content instanceof Array))throw new r.errors.ConfigurationError("content must be an Array",i);for(o=0;o<i.content.length;o++)a=this.layoutManager.createContentItem(i.content[o],this),this.contentItems.push(a)},_extendItemNode:function(i){for(var a in r.config.itemDefaultConfig)i[a]===void 0&&(i[a]=r.config.itemDefaultConfig[a]);return i},_propagateEvent:function(i,a){a instanceof r.utils.BubblingEvent&&a.isPropagationStopped===!1&&this.isInitialised===!0&&(this.isRoot===!1&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(i,a))},_scheduleEventPropagationToLayoutManager:function(i,a){r.utils.indexOf(i,this._throttledEvents)===-1?this.layoutManager.emit(i,a.origin):this._pendingEventPropagations[i]!==!0&&(this._pendingEventPropagations[i]=!0,r.utils.animFrame(r.utils.fnBind(this._propagateEventToLayoutManager,this,[i,a])))},_propagateEventToLayoutManager:function(i,a){this._pendingEventPropagations[i]=!1,this.layoutManager.emit(i,a)}}),r.items.Component=function(i,a,o){r.items.AbstractContentItem.call(this,i,a,o);var s=i.getComponent(this.config.componentName),l=n.extend(!0,{},this.config.componentState||{});l.componentName=this.config.componentName,this.componentName=this.config.componentName,this.config.title===""&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new r.container.ItemContainer(this.config,this,i),this.instance=new s(this.container,l),this.element=this.container._element},r.utils.extend(r.items.Component,r.items.AbstractContentItem),r.utils.copy(r.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(":visible")&&this.container._$setSize(this.element.width(),this.element.height())},_$init:function(){r.items.AbstractContentItem.prototype._$init.call(this),this.container.emit("open")},_$hide:function(){this.container.hide(),r.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),r.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),r.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit("destroy",this),r.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),r.items.Root=function(i,a,o){r.items.AbstractContentItem.call(this,i,a,null),this.isRoot=!0,this.type="root",this.element=n('<div class="lm_goldenlayout lm_item lm_root"></div>'),this.childElementContainer=this.element,this._containerElement=o,this._containerElement.append(this.element)},r.utils.extend(r.items.Root,r.items.AbstractContentItem),r.utils.copy(r.items.Root.prototype,{addChild:function(i){if(this.contentItems.length>0)throw new Error("Root node can only have a single child");i=this.layoutManager._$normalizeContentItem(i,this),this.childElementContainer.append(i.element),r.items.AbstractContentItem.prototype.addChild.call(this,i),this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(i,a){i=typeof i>"u"?this._containerElement.width():i,a=typeof a>"u"?this._containerElement.height():a,this.element.width(i),this.element.height(a),this.contentItems[0]&&(this.contentItems[0].element.width(i),this.contentItems[0].element.height(a))},_$highlightDropZone:function(i,a,o){this.layoutManager.tabDropPlaceholder.remove(),r.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(i,a){var o;if(i.isComponent&&(o=this.layoutManager.createContentItem({type:"stack",header:i.config.header||{}},this),o._$init(),o.addChild(i),i=o),!this.contentItems.length)this.addChild(i);else{var s=a.side[0]=="x"?"row":"column",l=a.side[0]=="x"?"width":"height",u=a.side[1]=="2",c=this.contentItems[0];if(!c instanceof r.items.RowOrColumn||c.type!=s){var d=this.layoutManager.createContentItem({type:s},this);this.replaceChild(c,d),d.addChild(i,u?0:void 0,!0),d.addChild(c,u?void 0:0,!0),c.config[l]=50,i.config[l]=50,d.callDownwards("setSize")}else{var p=c.contentItems[u?0:c.contentItems.length-1];c.addChild(i,u?0:void 0,!0),p.config[l]*=.5,i.config[l]=p.config[l],c.callDownwards("setSize")}}}}),r.items.RowOrColumn=function(i,a,o,s){r.items.AbstractContentItem.call(this,a,o,s),this.isRow=!i,this.isColumn=i,this.element=n('<div class="lm_item lm_'+(i?"column":"row")+'"></div>'),this.childElementContainer=this.element,this._splitterSize=a.config.dimensions.borderWidth,this._splitterGrabSize=a.config.dimensions.borderGrabWidth,this._isColumn=i,this._dimension=i?"height":"width",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null},r.utils.extend(r.items.RowOrColumn,r.items.AbstractContentItem),r.utils.copy(r.items.RowOrColumn.prototype,{addChild:function(i,a,o){var s,l,u,c;if(i=this.layoutManager._$normalizeContentItem(i,this),a===void 0&&(a=this.contentItems.length),this.contentItems.length>0?(c=this._createSplitter(Math.max(0,a-1)).element,a>0?(this.contentItems[a-1].element.after(c),c.after(i.element)):(this.contentItems[0].element.before(c),c.before(i.element))):this.childElementContainer.append(i.element),r.items.AbstractContentItem.prototype.addChild.call(this,i,a),s=1/this.contentItems.length*100,o===!0){this.emitBubblingEvent("stateChanged");return}for(u=0;u<this.contentItems.length;u++)this.contentItems[u]===i?i.config[this._dimension]=s:(l=this.contentItems[u].config[this._dimension]*=(100-s)/100,this.contentItems[u].config[this._dimension]=l);this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},removeChild:function(i,a){var o=i.config[this._dimension],s=r.utils.indexOf(i,this.contentItems),l=Math.max(s-1,0),u,c;if(s===-1)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");for(this._splitter[l]&&(this._splitter[l]._$destroy(),this._splitter.splice(l,1)),u=0;u<this.contentItems.length;u++)this.contentItems[u]!==i&&(this.contentItems[u].config[this._dimension]+=o/(this.contentItems.length-1));r.items.AbstractContentItem.prototype.removeChild.call(this,i,a),this.contentItems.length===1&&this.config.isClosable===!0?(c=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,c,!0)):(this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged"))},replaceChild:function(i,a){var o=i.config[this._dimension];r.items.AbstractContentItem.prototype.replaceChild.call(this,i,a),a.config[this._dimension]=o,this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent("stateChanged"),this.emit("resize")},_$init:function(){if(this.isInitialised!==!0){var i;for(r.items.AbstractContentItem.prototype._$init.call(this),i=0;i<this.contentItems.length-1;i++)this.contentItems[i].element.after(this._createSplitter(i).element)}},_setAbsoluteSizes:function(){var i,a=this._calculateAbsoluteSizes();for(i=0;i<this.contentItems.length;i++)a.additionalPixel-i>0&&a.itemSizes[i]++,this._isColumn?(this.contentItems[i].element.width(a.totalWidth),this.contentItems[i].element.height(a.itemSizes[i])):(this.contentItems[i].element.width(a.itemSizes[i]),this.contentItems[i].element.height(a.totalHeight))},_calculateAbsoluteSizes:function(){var i,a=(this.contentItems.length-1)*this._splitterSize,o=this.element.width(),s=this.element.height(),l=0,u,c,d=[];for(this._isColumn?s-=a:o-=a,i=0;i<this.contentItems.length;i++)this._isColumn?c=Math.floor(s*(this.contentItems[i].config.height/100)):c=Math.floor(o*(this.contentItems[i].config.width/100)),l+=c,d.push(c);return u=Math.floor((this._isColumn?s:o)-l),{itemSizes:d,additionalPixel:u,totalWidth:o,totalHeight:s}},_calculateRelativeSizes:function(){var i,a=0,o=[],s=this._isColumn?"height":"width";for(i=0;i<this.contentItems.length;i++)this.contentItems[i].config[s]!==void 0?a+=this.contentItems[i].config[s]:o.push(this.contentItems[i]);if(Math.round(a)===100){this._respectMinItemWidth();return}if(Math.round(a)<100&&o.length>0){for(i=0;i<o.length;i++)o[i].config[s]=(100-a)/o.length;this._respectMinItemWidth();return}if(Math.round(a)>100)for(i=0;i<o.length;i++)o[i].config[s]=50,a+=50;for(i=0;i<this.contentItems.length;i++)this.contentItems[i].config[s]=this.contentItems[i].config[s]/a*100;this._respectMinItemWidth()},_respectMinItemWidth:function(){var i=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,a=null,o=[],s=0,l=0,u=0,c=0,d,p,g=[],h;if(!(this._isColumn||!i||this.contentItems.length<=1)){a=this._calculateAbsoluteSizes();for(var y=0;y<this.contentItems.length;y++)this.contentItems[y],c=a.itemSizes[y],c<i?(l+=i-c,h={width:i}):(s+=c-i,h={width:c},o.push(h)),g.push(h);if(!(l===0||l>s)){for(d=l/s,u=l,y=0;y<o.length;y++)h=o[y],p=Math.round((h.width-i)*d),u-=p,h.width-=p;for(u!==0&&(g[g.length-1].width-=u),y=0;y<this.contentItems.length;y++)this.contentItems[y].config.width=g[y].width/a.totalWidth*100}}},_createSplitter:function(i){var a;return a=new r.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize),a.on("drag",r.utils.fnBind(this._onSplitterDrag,this,[a]),this),a.on("dragStop",r.utils.fnBind(this._onSplitterDragStop,this,[a]),this),a.on("dragStart",r.utils.fnBind(this._onSplitterDragStart,this,[a]),this),this._splitter.splice(i,0,a),a},_getItemsForSplitter:function(i){var a=r.utils.indexOf(i,this._splitter);return{before:this.contentItems[a],after:this.contentItems[a+1]}},_getMinimumDimensions:function(i){for(var a=0,o=0,s=0;s<i.length;++s)a=Math.max(i[s].minWidth||0,a),o=Math.max(i[s].minHeight||0,o);return{horizontal:a,vertical:o}},_onSplitterDragStart:function(i){var a=this._getItemsForSplitter(i),o=this.layoutManager.config.dimensions[this._isColumn?"minItemHeight":"minItemWidth"],s=this._getMinimumDimensions(a.before.config.content),l=this._isColumn?s.vertical:s.horizontal,u=this._getMinimumDimensions(a.after.config.content),c=this._isColumn?u.vertical:u.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(a.before.element[this._dimension]()-(l||o)),this._splitterMaxPosition=a.after.element[this._dimension]()-(c||o)},_onSplitterDrag:function(i,a,o){var s=this._isColumn?o:a;s>this._splitterMinPosition&&s<this._splitterMaxPosition&&(this._splitterPosition=s,i.element.css(this._isColumn?"top":"left",s))},_onSplitterDragStop:function(i){var a=this._getItemsForSplitter(i),o=a.before.element[this._dimension](),s=a.after.element[this._dimension](),l=(this._splitterPosition+o)/(o+s),u=a.before.config[this._dimension]+a.after.config[this._dimension];a.before.config[this._dimension]=l*u,a.after.config[this._dimension]=(1-l)*u,i.element.css({top:0,left:0}),r.utils.animFrame(r.utils.fnBind(this.callDownwards,this,["setSize"]))}}),r.items.Stack=function(i,a,o){r.items.AbstractContentItem.call(this,i,a,o),this.element=n('<div class="lm_item lm_stack"></div>'),this._activeContentItem=null;var s=i.config;this._header={show:s.settings.hasHeaders===!0&&a.hasHeaders!==!1,popout:s.settings.showPopoutIcon&&s.labels.popout,maximise:s.settings.showMaximiseIcon&&s.labels.maximise,close:s.settings.showCloseIcon&&s.labels.close,minimise:s.labels.minimise},s.header&&r.utils.copy(this._header,s.header),a.header&&r.utils.copy(this._header,a.header),a.content&&a.content[0]&&a.content[0].header&&r.utils.copy(this._header,a.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=n('<div class="lm_items"></div>'),this.header=new r.controls.Header(i,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},r.utils.extend(r.items.Stack,r.items.AbstractContentItem),r.utils.copy(r.items.Stack.prototype,{setSize:function(){var i,a=this._header.show?this.layoutManager.config.dimensions.headerHeight:0,o=this.element.width()-(this._sided?a:0),s=this.element.height()-(this._sided?0:a);for(this.childElementContainer.width(o),this.childElementContainer.height(s),i=0;i<this.contentItems.length;i++)this.contentItems[i].element.width(o).height(s);this.emit("resize"),this.emitBubblingEvent("stateChanged")},_$init:function(){var i,a;if(this.isInitialised!==!0){for(r.items.AbstractContentItem.prototype._$init.call(this),i=0;i<this.contentItems.length;i++)this.header.createTab(this.contentItems[i]),this.contentItems[i]._$hide();if(this.contentItems.length>0){if(a=this.contentItems[this.config.activeItemIndex||0],!a)throw new Error("Configured activeItemIndex out of bounds");this.setActiveContentItem(a)}}},setActiveContentItem:function(i){if(r.utils.indexOf(i,this.contentItems)===-1)throw new Error("contentItem is not a child of this stack");this._activeContentItem!==null&&this._activeContentItem._$hide(),this._activeContentItem=i,this.header.setActiveContentItem(i),i._$show(),this.emit("activeContentItemChanged",i),this.layoutManager.emit("activeContentItemChanged",i),this.emitBubblingEvent("stateChanged")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(i,a){i=this.layoutManager._$normalizeContentItem(i,this),r.items.AbstractContentItem.prototype.addChild.call(this,i,a),this.childElementContainer.append(i.element),this.header.createTab(i,a),this.setActiveContentItem(i),this.callDownwards("setSize"),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},removeChild:function(i,a){var o=r.utils.indexOf(i,this.contentItems);r.items.AbstractContentItem.prototype.removeChild.call(this,i,a),this.header.removeTab(i),this.header.activeContentItem===i&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(o-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},_$validateClosability:function(){var i,a,o;for(i=this.header._isClosable(),o=0,a=this.contentItems.length;o<a&&i;o++)i=this.contentItems[o].config.isClosable;this.header._$setClosable(i)},_$destroy:function(){r.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(i){if(this._dropSegment==="header"){this._resetHeaderDropZone(),this.addChild(i,this._dropIndex);return}if(this._dropSegment==="body"){this.addChild(i);return}var a=this._dropSegment==="top"||this._dropSegment==="bottom",o=this._dropSegment==="left"||this._dropSegment==="right",s=this._dropSegment==="top"||this._dropSegment==="left",l=a&&this.parent.isColumn||o&&this.parent.isRow,u=a?"column":"row",c=a?"height":"width",d,p,g;i.isComponent&&(p=this.layoutManager.createContentItem({type:"stack",header:i.config.header||{}},this),p._$init(),p.addChild(i),i=p),l?(d=r.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(i,s?d:d+1,!0),this.config[c]*=.5,i.config[c]=this.config[c],this.parent.callDownwards("setSize")):(u=a?"column":"row",g=this.layoutManager.createContentItem({type:u},this),this.parent.replaceChild(this,g),g.addChild(i,s?0:void 0,!0),g.addChild(this,s?void 0:0,!0),this.config[c]=50,i.config[c]=50,g.callDownwards("setSize"))},_$highlightDropZone:function(i,a){var o,s;for(o in this._contentAreaDimensions)if(s=this._contentAreaDimensions[o].hoverArea,s.x1<i&&s.x2>i&&s.y1<a&&s.y2>a){o==="header"?(this._dropSegment="header",this._highlightHeaderDropZone(this._sided?a:i)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(o));return}},_$getArea:function(){if(this.element.is(":visible")===!1)return null;var i=r.items.AbstractContentItem.prototype._$getArea,a=i.call(this,this.header.element),o=i.call(this,this.childElementContainer),s=o.x2-o.x1,l=o.y2-o.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},highlightArea:{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}}},this._activeContentItem&&this._activeContentItem.isComponent===!1?a:this.contentItems.length===0?(this._contentAreaDimensions.body={hoverArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}},i.call(this,this.element)):(this._contentAreaDimensions.left={hoverArea:{x1:o.x1,y1:o.y1,x2:o.x1+s*.25,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x1+s*.5,y2:o.y2}},this._contentAreaDimensions.top={hoverArea:{x1:o.x1+s*.25,y1:o.y1,x2:o.x1+s*.75,y2:o.y1+l*.5},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y1+l*.5}},this._contentAreaDimensions.right={hoverArea:{x1:o.x1+s*.75,y1:o.y1,x2:o.x2,y2:o.y2},highlightArea:{x1:o.x1+s*.5,y1:o.y1,x2:o.x2,y2:o.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:o.x1+s*.25,y1:o.y1+l*.5,x2:o.x1+s*.75,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1+l*.5,x2:o.x2,y2:o.y2}},i.call(this,this.element))},_highlightHeaderDropZone:function(i){var a,o,s=this.header.tabs.length,l=!1,u,c,d,p,g,h,y;if(s===0){g=this.header.element.offset(),this.layoutManager.dropTargetIndicator.highlightArea({x1:g.left,x2:g.left+100,y1:g.top+this.header.element.height()-20,y2:g.top+this.header.element.height()});return}for(a=0;a<s;a++)if(o=this.header.tabs[a].element,d=o.offset(),this._sided?(c=d.top,u=d.left,h=o.height()):(c=d.left,u=d.top,h=o.width()),i>c&&i<c+h){l=!0;break}if(!(l===!1&&i<c)){if(y=c+h/2,i<y?(this._dropIndex=a,o.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(a+1,s),o.after(this.layoutManager.tabDropPlaceholder)),this._sided){placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,this.layoutManager.dropTargetIndicator.highlightArea({x1:u,x2:u+o.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});return}p=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:p,x2:p+this.layoutManager.tabDropPlaceholder.width(),y1:u,y2:u+o.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var i=["right","left","bottom"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=i,this._sided=["right","left"].indexOf(this._side)>=0,this.element.removeClass("lm_left lm_right lm_bottom"),this._side&&this.element.addClass("lm_"+this._side),this.element.find(".lm_header").length&&this.childElementContainer){var a=["right","bottom"].indexOf(this._side)>=0?"before":"after";this.header.element[a](this.childElementContainer),this.callDownwards("setSize")}},_highlightBodyDropZone:function(i){var a=this._contentAreaDimensions[i].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(a),this._dropSegment=i}}),r.utils.BubblingEvent=function(i,a){this.name=i,this.origin=a,this.isPropagationStopped=!1},r.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},r.utils.ConfigMinifier=function(){if(this._keys=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentName","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled","borderGrabWidth"],this._keys.length>36)throw new Error("Too many keys in config minifier map");this._values=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"]},r.utils.copy(r.utils.ConfigMinifier.prototype,{minifyConfig:function(i){var a={};return this._nextLevel(i,a,"_min"),a},unminifyConfig:function(i){var a={};return this._nextLevel(i,a,"_max"),a},_nextLevel:function(i,a,o){var s,l;for(s in i)i instanceof Array&&(s=parseInt(s,10)),i.hasOwnProperty(s)&&(l=this[o](s,this._keys),typeof i[s]=="object"?(a[l]=i[s]instanceof Array?[]:{},this._nextLevel(i[s],a[l],o)):a[l]=this[o](i[s],this._values))},_min:function(i,a){if(typeof i=="string"&&i.length===1)return"___"+i;var o=r.utils.indexOf(i,a);return o===-1?i:o.toString(36)},_max:function(i,a){return typeof i=="string"&&i.length===1?a[parseInt(i,36)]:typeof i=="string"&&i.substr(0,3)==="___"?i[3]:i}}),r.utils.EventHub=function(i){r.utils.EventEmitter.call(this),this._layoutManager=i,this._dontPropagateToParent=null,this._childEventSource=null,this.on(r.utils.EventEmitter.ALL_EVENT,r.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=r.utils.fnBind(this._onEventFromChild,this),n(window).on("gl_child_event",this._boundOnEventFromChild)},r.utils.EventHub.prototype._onEventFromThis=function(){var i=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&i[0]!==this._dontPropagateToParent&&this._propagateToParent(i),this._propagateToChildren(i),this._dontPropagateToParent=null,this._childEventSource=null},r.utils.EventHub.prototype._$onEventFromParent=function(i){this._dontPropagateToParent=i[0],this.emit.apply(this,i)},r.utils.EventHub.prototype._onEventFromChild=function(i){this._childEventSource=i.originalEvent.__gl,this.emit.apply(this,i.originalEvent.__glArgs)},r.utils.EventHub.prototype._propagateToParent=function(i){var a,o="gl_child_event";document.createEvent?(a=window.opener.document.createEvent("HTMLEvents"),a.initEvent(o,!0,!0)):(a=window.opener.document.createEventObject(),a.eventType=o),a.eventName=o,a.__glArgs=i,a.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(a):window.opener.fireEvent("on"+a.eventType,a)},r.utils.EventHub.prototype._propagateToChildren=function(i){var a,o;for(o=0;o<this._layoutManager.openPopouts.length;o++)a=this._layoutManager.openPopouts[o].getGlInstance(),a&&a!==this._childEventSource&&a.eventHub._$onEventFromParent(i)},r.utils.EventHub.prototype.destroy=function(){n(window).off("gl_child_event",this._boundOnEventFromChild)},r.utils.ReactComponentHandler=function(i,a){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=i,this._initialState=a,this._reactClass=this._getReactClass(),this._container.on("open",this._render,this),this._container.on("destroy",this._destroy,this)},r.utils.copy(r.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off("open",this._render,this),this._container.off("destroy",this._destroy,this)},_onUpdate:function(i,a){this._container.setState(a),this._originalComponentWillUpdate.call(this._reactComponent,i,a)},_getReactClass:function(){var i=this._container._config.component,a;if(!i)throw new Error("No react component name. type: react-component needs a field `component`");if(a=this._container.layoutManager.getComponent(i),!a)throw new Error('React component "'+i+'" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return a},_getReactComponent:function(){var i={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},a=n.extend(i,this._container._config.props);return React.createElement(this._reactClass,a)}})})(window.$)}(au)),au.exports}var KT=GT();const YT=Ti(KT);function Ap(){const t={settings:{selectionEnabled:!0},content:[{type:"stack",content:[]}]},e=new YT(t);return e.on("selectionChanged ",n=>{Pe.info("SELECTION CHANGED"),Pe.info(n)}),e.on("stackCreated",function(n){e.selectItem(n);const r=Mn("goldenlayout-header"),i=document.importNode(r.content,!0);n.header.controlsContainer.prepend(i),n.on("activeContentItemChanged",()=>{e.selectItem(n)});const a=()=>n.getActiveContentItem().config.componentState,o=()=>a().cy,s=n.header.controlsContainer[0],l=()=>We.getMenu().separateSubs()&&!a().graph.starMode,u=[[".plussign",()=>{o().zoom(o().zoom()*1.2)}],[".minussign",()=>{o().zoom(o().zoom()/1.2)}],[".addsign",()=>{new We}],[".recalculatesign",()=>{Fn(o(),Ua,t.defaultSubOntologies,l(),!0)}],[".tightlayoutsign",()=>{Fn(o(),Ns,t.defaultSubOntologies,l(),!0)}],[".compoundlayoutsign",()=>{Fn(o(),Vv,t.defaultSubOntologies,!1,!0)}]];for(const c of u)s.querySelector(c[0]).addEventListener("click",c[1])}),e.init(),e}let Ba=0,ou=null,si=Ap();function Ip(t,e){const n=[];if(t.type==="component"&&t.componentName!=="Main Graph")return n.push(t),n;for(const r of t.contentItems)n.push(...Ip(r));return n}const ln=class ln{constructor(e=!0,n){Et(this,"initialized");Et(this,"state");Et(this,"cyContainer",document.createElement("div"));Et(this,"element");Et(this,"cxtMenu");Et(this,"menu",null);n!=="undefined"&&Ba>0&&ln.views().forEach(s=>{if(s.state.title===n){n="Teilmodell "+ln.views().length;return}}),n=n??(Ba===0?"Main Graph":"Partial Graph "+Ba),Ba++,this.state={title:n,name:"unnamed"};const r={title:n,type:"component",componentName:n,componentState:this.state,isClosable:ln.mainView!==null},i=this;ln.mainView!==null&&ln.partViews.add(this),si.registerComponent(n,function(s){i.element=s.getElement()[0],s.getElement()[0].appendChild(i.cyContainer),s.on("destroy",()=>{ln.partViews.delete(i)})}),si.root.contentItems[0].addChild(r);const a=new yt(i.cyContainer),o=a.cy;this.state.graph=a,this.state.cy=o,this.initialized=e?this.fill():Promise.resolve(),this.initialized.then(()=>{const s=Zv().options;this.state.graph.applyStyle(s.dayMode,s.edgesColorized,s.showProperty),this.recreateContextMenus()})}static views(){return[this.mainView,...this.partViews]}static activeState(){var e,n,r;return(r=(n=(e=si.selectedItem)==null?void 0:e.getActiveContentItem())==null?void 0:n.config)==null?void 0:r.componentState}static activeView(){var e;return(e=si.selectedItem)==null?void 0:e.getActiveContentItem()}async fill(){const e=this.state.graph;if(ln.mainView===null)ln.mainView=this,this.menu=new Rs,ou=RT(e),await ou,Pe.debug(`Main view ${this.state.name} loaded with ${e.cy.elements().size()} elements.`);else{await ou,e.cy.add(ln.mainView.state.cy.elements()),Pe.debug(`Create view ${this.state.title} with ${e.cy.elements().size()} hidden elements copied from ${ln.mainView.state.title}.`);const n=e.cy.elements();yt.setVisible(n,!1),yt.setVisible(n.edgesWith(n),!1),n.removeClass("source"),e.starMode=!0}}recreateContextMenus(){const e=[...UT(this.state.graph),...jT(this.state.graph)];this.cxtMenu=new Vs(this.state.graph,e)}static reset(){const e=Ip(si.root);for(const n of e)n.remove();ln.partViews.clear(),Ba=0,si.destroy(),si=Ap()}static getMenu(){return ln.mainView.menu}};Et(ln,"mainView",null),Et(ln,"partViews",new Set);let We=ln;var di=(t=>(t[t.IN=0]="IN",t[t.OUT=1]="OUT",t[t.BOTH=2]="BOTH",t))(di||{});class yt{constructor(e){Et(this,"cy");Et(this,"selectedNode",null);Et(this,"starMode",!1);Et(this,"matchComponents",[]);Et(this,"pathSource",null);Et(this,"container");Et(this,"instancesLoaded",!1);const n=aa("graph-init");this.container=e,this.container.style.backgroundColor="black",this.cy=dr({container:e,style:Fc.style.concat(Hc),wheelSensitivity:.3,minZoom:.02,maxZoom:7}),this.cy.on("select","node",i=>{this.selectedNode=i.target});const r=["resetStyle","presentUri","showPath","showStar","showWorm","showDoubleStar","combineMatch","showCloseMatch","newGraph"];for(const i of r)this[i]=this[i].bind(this);n.stop()}cumulativeSearch(){return(document.getElementById("cumulativeSearchBox")||{}).checked}static setVisible(e,n=!0){if(n)e.removeClass("hidden");else{e.addClass("hidden"),e.removeClass("highlighted");const r=e.nodes().connectedEdges();r.addClass("hidden"),r.removeClass("highlighted")}We.getMenu().applyOptions()}static starStyle(e){e.removeClass("hidden"),e.select()}resetStyle(){this.starMode=!1,this.cy.startBatch(),this.cy.elements().removeClass("highlighted"),this.cy.elements().removeClass("starmode"),this.cy.elements().removeClass("hidden"),yt.setVisible(this.cy.edges("[p='http://www.w3.org/1999/02/22-rdf-syntax-ns#type']"),!1),this.cy.endBatch()}showPath(e,n){return r=>{if(!r)return Pe.error("No path source."),!1;if(r===e)return Pe.warn(`Path source ${r.data(Qe.ID)} equals target.`),!1;const i=this.cy.elements(".unfiltered"),o=i.aStar({root:r,goal:e}).path;if(o){if(this.cy.startBatch(),this.cy.add(o),n){const s=o.connectedEdges(".unfiltered");o.merge(s),o.merge(s.connectedNodes(".unfiltered"))}yt.starStyle(o),this.starMode?o.select():(this.starMode=!0,yt.setVisible(i.not(o),!1)),this.cy.endBatch()}else return this.starMode||this.resetStyle(),Pe.warn("No path found!"),!1;return!0}}showStarMultiplexed(e=!1,n){return this.multiplex(r=>this.showStar(r,e,n),void 0,!0)}async showStarMultiplexedNew(e=!1,n=2,r=!1){const i=await this.newGraph(r);return o=>(i.multiplex(s=>i.showStar(i.assimilateNodes(s),e,n),i.assimilateNodes(this.cy.nodes(":selected")),!0)(o),i)}showStar(e,n=!1,r){console.log("center",e),this.cy.startBatch();let i=e,a;for(let d=0;d<i.size();)d=i.size(),a=i.connectedEdges(".unfiltered").filter('[pl="closeMatch"]'),i=i.union(a.connectedNodes(".unfiltered"));let o;switch(r){case 0:o=this.cy.elements(".unfiltered").edgesTo(i);break;case 1:o=i.edgesTo(".unfiltered");break;default:o=i.connectedEdges(".unfiltered")}const s=o.connectedNodes(".unfiltered"),l=i.union(s).union(o);l.merge(l.parent()),l.merge(l.children());const u=s.difference(i);(n||!this.starMode)&&(this.starMode=!0,yt.setVisible(this.cy.elements().not(l),!1)),console.log("star",l),yt.starStyle(l),n&&s.sort((p,g)=>{const h=Math.min(p.edgesTo(i).map(w=>w.data("pl").split("").reduce((b,E)=>b+E.charCodeAt(0),0))),y=Math.min(g.edgesTo(i).map(w=>w.data("pl").split("").reduce((b,E)=>b+E.charCodeAt(0),0)));return h-y}).layout({name:"concentric",fit:!0,levelWidth:function(){return 1},minNodeSpacing:175,concentric:function(p){if(i.contains(p))return 2;if(u.contains(p))return 1;throw new Error("unexpected node in star")}}).run(),this.cy.endBatch(),yt.setVisible(u.edgesWith(this.cy.nodes(".unfiltered").not(".hidden")));const c=this.cy.nodes(":visible");c.size()<100&&this.cy.fit(c,100)}showWorm(e,n){return this.starMode=!0,this.showPath(n)(e)?(this.showStar(n),!0):!1}showDoubleStar(e){const n=this.getSource();return this.showPath(e)?(this.showStar(e),this.showStar(n),!0):!1}assimilate(e){return this.getElementsByIds(e.map(n=>n.id()))}assimilateNodes(e){return this.getElementsByIds(e.map(n=>n.id()))}getElementsByIds(e){const n=this.cy.collection();for(const r of e){const i=this.cy.getElementById(r);n.merge(i)}return n}getSource(){return this.pathSource?this.pathSource:this.selectedNode?(Pe.debug("Path source not set, using selected node"),this.selectedNode):null}setSource(e){return Pe.debug("Setting path source to "+e.data(Qe.ID)),e?e.length!==1?(Pe.error("Invalid source. Length != 1"),!1):(this.pathTarget&&this.cy.resize(),this.pathSource&&this.pathSource.removeClass("source"),this.pathSource===e?(Pe.info("Toggling path source off."),this.pathSource=null,!0):(this.pathSource=e,this.pathSource.addClass("source"),!0)):!1}applyStyle(e,n,r){let i=Fc.style;e?(this.container.style.backgroundColor="white",i=i.concat(Rg)):(this.container.style.backgroundColor="black",i=i.concat(Hc)),n&&(i=i.concat(Ng)),r&&(i=i.concat(Bg)),this.cy.style().fromJson(i).update()}presentUri(e){this.cy.zoom(.6);const n=this.cy.elements().nodes().filter(`node[id= "${e}"]`);if(n.length<1)return Pe.warn(`Node not in graph. ${e} may be available on the SPARQL endpoint but not in the graph.`),!1;const r=n[0];return r.hasClass("filtered")?(Pe.warn(`Node is filtered out. ${e} is not visible. Please adjust filters.`),!1):(r.hasClass("hidden")&&(Pe.debug(`Node is hidden. Unhiding ${e}.`),yt.setVisible(r,!0),yt.setVisible(r.edgesWith(this.cy.nodes(":visible")),!0)),this.starMode||this.cumulativeSearch()||this.resetStyle(),this.cy.elements().unselect(),r.select(),this.cy.center(r),!0)}presentUris(e,n=!1){if(e.length<1)return Pe.warn("All search results are only available on the SPARQL endpoint but not in the graph."),!1;this.cumulativeSearch()||this.resetStyle();const r=this.cy.elements().nodes().filter(i=>e.includes(i.data(Qe.ID)));return n&&(yt.setVisible(this.cy.elements(),!1),yt.setVisible(r.union(r.edgesTo(r)),!0),this.starMode=!0),this.cy.elements().unselect(),r.select(),r.edgesTo(r).select(),this.cy.fit(this.cy.elements(":selected")),!0}multiplex(e,n,r){return i=>{const a=this.cy.nodes(":selected");let o=n;if(!n&&a.size()>1&&(o=a),o)if(i&&(o=o.union(i)),Pe.debug("multiplexing of "+o.size()+" elements (direct="+r+")"),r)e(o);else for(let s=0;s<o.length;s++)e(o[s]);else e(i)}}moveAllMatches(e){for(let n=0;n<this.matchComponents.length;n++){const r=this.matchComponents[n];r.length!==1&&this.moveNodes(r.nodes(),e)}}moveNodes(e,n){e.positions(e[0].position());for(let r=1;r<e.length;r++)e[r].shift({x:n*Math.cos(2*Math.PI*r/(e.length-1)),y:n*Math.sin(2*Math.PI*r/(e.length-1))})}async combineMatch(e){await Za(()=>{if(!e){this.cy.startBatch(),this.cy.nodes(":child").move({parent:null}),this.cy.nodes("[id ^= 'parent']").remove(),this.matchComponents.length=0,this.cy.endBatch();return}this.cy.startBatch();const n=this.cy.edges('[pl="closeMatch"]').filter(".unfiltered").not(".hidden"),r=this.cy.nodes(".unfiltered").not(".hidden").union(n);!this.moveMatchNotified&&this.cy.nodes(":visible").size()>1e3&&(Pe.info("Combining Matches. Consider using Move Matches Nearby or Move Matches on top of each other."),this.moveMatchNotified=!0),this.matchComponents.length=0,this.matchComponents.push(...r.components());for(let i=0;i<this.matchComponents.length;i++){const a=this.matchComponents[i];if(a.length===1)continue;const o="parent"+i,s={};let l=a.nodes();for(let d=0;d<l.length;d++){const p=l[d].data("l");for(const g in p)s[g]||(s[g]=new Set),p[g].forEach(h=>s[g].add(h))}for(const d in s)s[d]=[[...s[d]].reduce((p,g)=>p+", "+g)];const u=["bb","ob","he","it4it","ciox","bb2"],c=d=>{let p=u.indexOf(d);return p===-1&&(p=99),p};l=l.sort((d,p)=>c(d.data(Qe.SOURCE))-c(p.data(Qe.SOURCE))),this.cy.add({group:"nodes",data:{id:o,l:s}});for(let d=0;d<l.length;d++)l[d].move({parent:o})}this.cy.endBatch()})}showCloseMatch(e){const n=e.connectedEdges(".unfiltered").filter('[pl="closeMatch"]'),r=n.connectedNodes(".unfiltered");Pe.debug(`Showing close matches of ${e.length} nodes ${JSON.stringify(e.map(a=>a.id()))}.
Results: ${JSON.stringify(r.map(a=>a.id()))}`);const i=r.union(n);yt.setVisible(i,!0),yt.starStyle(i)}async newGraph(e=!1){if(!e&&this!==We.mainView.state.graph)return this;const n=new We(!0);return await n.initialized,n.state.graph}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bn=function(){return Bn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bn.apply(this,arguments)},XT=function(){function t(e){this.options=e,this.listeners={}}return t.prototype.on=function(e,n){var r=this.listeners[e]||[];this.listeners[e]=r.concat([n])},t.prototype.triggerEvent=function(e,n){var r=this,i=this.listeners[e]||[];i.forEach(function(a){return a({target:r,event:n})})},t}(),ia;(function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove"})(ia||(ia={}));var ZT=function(){function t(){this.notifications=[]}return t.prototype.push=function(e){this.notifications.push(e),this.updateFn(e,ia.Add,this.notifications)},t.prototype.splice=function(e,n){var r=this.notifications.splice(e,n)[0];return this.updateFn(r,ia.Remove,this.notifications),r},t.prototype.indexOf=function(e){return this.notifications.indexOf(e)},t.prototype.onUpdate=function(e){this.updateFn=e},t}(),Fr;(function(t){t.Dismiss="dismiss",t.Click="click"})(Fr||(Fr={}));var Wd={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0,position:{x:"right",y:"bottom"},dismissible:!1},QT=function(){function t(){this.notifications=[],this.events={},this.X_POSITION_FLEX_MAP={left:"flex-start",center:"center",right:"flex-end"},this.Y_POSITION_FLEX_MAP={top:"flex-start",center:"center",bottom:"flex-end"};var e=document.createDocumentFragment(),n=this._createHTMLElement({tagName:"div",className:"notyf"});e.appendChild(n),document.body.appendChild(e),this.container=n,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return t.prototype.on=function(e,n){var r;this.events=Bn(Bn({},this.events),(r={},r[e]=n,r))},t.prototype.update=function(e,n){n===ia.Add?this.addNotification(e):n===ia.Remove&&this.removeNotification(e)},t.prototype.removeNotification=function(e){var n=this,r=this._popRenderedNotification(e),i;if(r){i=r.node,i.classList.add("notyf__toast--disappear");var a;i.addEventListener(this.animationEndEventName,a=function(o){o.target===i&&(i.removeEventListener(n.animationEndEventName,a),n.container.removeChild(i))})}},t.prototype.addNotification=function(e){var n=this._renderNotification(e);this.notifications.push({notification:e,node:n}),this._announce(e.options.message||"Notification")},t.prototype._renderNotification=function(e){var n,r=this._buildNotificationCard(e),i=e.options.className;return i&&(n=r.classList).add.apply(n,i.split(" ")),this.container.appendChild(r),r},t.prototype._popRenderedNotification=function(e){for(var n=-1,r=0;r<this.notifications.length&&n<0;r++)this.notifications[r].notification===e&&(n=r);if(n!==-1)return this.notifications.splice(n,1)[0]},t.prototype.getXPosition=function(e){var n;return((n=e==null?void 0:e.position)===null||n===void 0?void 0:n.x)||"right"},t.prototype.getYPosition=function(e){var n;return((n=e==null?void 0:e.position)===null||n===void 0?void 0:n.y)||"bottom"},t.prototype.adjustContainerAlignment=function(e){var n=this.X_POSITION_FLEX_MAP[this.getXPosition(e)],r=this.Y_POSITION_FLEX_MAP[this.getYPosition(e)],i=this.container.style;i.setProperty("justify-content",r),i.setProperty("align-items",n)},t.prototype._buildNotificationCard=function(e){var n=this,r=e.options,i=r.icon;this.adjustContainerAlignment(r);var a=this._createHTMLElement({tagName:"div",className:"notyf__toast"}),o=this._createHTMLElement({tagName:"div",className:"notyf__ripple"}),s=this._createHTMLElement({tagName:"div",className:"notyf__wrapper"}),l=this._createHTMLElement({tagName:"div",className:"notyf__message"});l.innerHTML=r.message||"";var u=r.background||r.backgroundColor;if(i){var c=this._createHTMLElement({tagName:"div",className:"notyf__icon"});if((typeof i=="string"||i instanceof String)&&(c.innerHTML=new String(i).valueOf()),typeof i=="object"){var d=i.tagName,p=d===void 0?"i":d,g=i.className,h=i.text,y=i.color,w=y===void 0?u:y,b=this._createHTMLElement({tagName:p,className:g,text:h});w&&(b.style.color=w),c.appendChild(b)}s.appendChild(c)}if(s.appendChild(l),a.appendChild(s),u&&(r.ripple?(o.style.background=u,a.appendChild(o)):a.style.background=u),r.dismissible){var E=this._createHTMLElement({tagName:"div",className:"notyf__dismiss"}),S=this._createHTMLElement({tagName:"button",className:"notyf__dismiss-btn"});E.appendChild(S),s.appendChild(E),a.classList.add("notyf__toast--dismissible"),S.addEventListener("click",function(_){var k,v;(v=(k=n.events)[Fr.Dismiss])===null||v===void 0||v.call(k,{target:e,event:_}),_.stopPropagation()})}a.addEventListener("click",function(_){var k,v;return(v=(k=n.events)[Fr.Click])===null||v===void 0?void 0:v.call(k,{target:e,event:_})});var x=this.getYPosition(r)==="top"?"upper":"lower";return a.classList.add("notyf__toast--"+x),a},t.prototype._createHTMLElement=function(e){var n=e.tagName,r=e.className,i=e.text,a=document.createElement(n);return r&&(a.className=r),a.textContent=i||null,a},t.prototype._createA11yContainer=function(){var e=this._createHTMLElement({tagName:"div",className:"notyf-announcer"});e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),e.style.border="0",e.style.clip="rect(0 0 0 0)",e.style.height="1px",e.style.margin="-1px",e.style.overflow="hidden",e.style.padding="0",e.style.position="absolute",e.style.width="1px",e.style.outline="0",document.body.appendChild(e),this.a11yContainer=e},t.prototype._announce=function(e){var n=this;this.a11yContainer.textContent="",setTimeout(function(){n.a11yContainer.textContent=e},100)},t.prototype._getAnimationEndEventName=function(){var e=document.createElement("_fake"),n={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"},r;for(r in n)if(e.style[r]!==void 0)return n[r];return"animationend"},t}(),JT=function(){function t(e){var n=this;this.dismiss=this._removeNotification,this.notifications=new ZT,this.view=new QT;var r=this.registerTypes(e);this.options=Bn(Bn({},Wd),e),this.options.types=r,this.notifications.onUpdate(function(i,a){return n.view.update(i,a)}),this.view.on(Fr.Dismiss,function(i){var a=i.target,o=i.event;n._removeNotification(a),a.triggerEvent(Fr.Dismiss,o)}),this.view.on(Fr.Click,function(i){var a=i.target,o=i.event;return a.triggerEvent(Fr.Click,o)})}return t.prototype.error=function(e){var n=this.normalizeOptions("error",e);return this.open(n)},t.prototype.success=function(e){var n=this.normalizeOptions("success",e);return this.open(n)},t.prototype.open=function(e){var n=this.options.types.find(function(a){var o=a.type;return o===e.type})||{},r=Bn(Bn({},n),e);this.assignProps(["ripple","position","dismissible"],r);var i=new XT(r);return this._pushNotification(i),i},t.prototype.dismissAll=function(){for(;this.notifications.splice(0,1););},t.prototype.assignProps=function(e,n){var r=this;e.forEach(function(i){n[i]=n[i]==null?r.options[i]:n[i]})},t.prototype._pushNotification=function(e){var n=this;this.notifications.push(e);var r=e.options.duration!==void 0?e.options.duration:this.options.duration;r&&setTimeout(function(){return n._removeNotification(e)},r)},t.prototype._removeNotification=function(e){var n=this.notifications.indexOf(e);n!==-1&&this.notifications.splice(n,1)},t.prototype.normalizeOptions=function(e,n){var r={type:e};return typeof n=="string"?r.message=n:typeof n=="object"&&(r=Bn(Bn({},r),n)),r},t.prototype.registerTypes=function(e){var n=(e&&e.types||[]).slice(),r=Wd.types.map(function(i){var a=-1;n.forEach(function(s,l){s.type===i.type&&(a=l)});var o=a!==-1?n.splice(a,1)[0]:{};return Bn(Bn({},i),o)});return r.concat(n)},t}();function ek(){const t=new JT({duration:1e4,types:[{type:"warn",backgroundColor:"orange",icon:{className:"material-icons",tagName:"i",text:"warning"}},{type:"info",backgroundColor:"green",icon:{className:"material-icons",tagName:"i",text:"info"}},{type:"debug",backgroundColor:"blue",icon:{className:"material-icons",tagName:"i",text:"debug"}},{type:"trace",backgroundColor:"darkgray",icon:{className:"material-icons",tagName:"i",text:"trace"}}]});Pe.setLevel(Ke.logLevelConsole);const e=["error","warn","info","debug","trace"],n={silent:0,error:1,warn:2,info:3,debug:4,trace:5};for(const r of e){const i=Pe[r];Pe[r]=a=>{i(a),n[r]<=n[Ke.logLevelMemory]&&(Pe.logs||(Pe.logs=[]),Pe.logs.push(a)),n[r]<=n[Ke.logLevelDisplay]&&t.open({type:r,message:a})}}}const Ra=[];function tk(){document.documentElement.addEventListener("keydown",t=>{const e=t.target;if(!e||e.nodeName!=="BODY")return;const n=We.activeState();if(n){if((t.code==="Delete"||t.code==="Backspace")&&n.cy.remove(":selected"),t.code==="KeyS"||t.code==="KeyC"){const r=n.cy.nodes(":selected");if(r.size()===0)return;Ra.length=0,Ra.push(...r.map(i=>i.id())),Pe.debug(`Copied ${Ra.length} elements from ${n.name}.`),Pe.info("Partial graph copied!")}if(t.code==="KeyP"||t.code==="KeyV"){n.cy.startBatch(),n.cy.elements().unselect();const r=n.graph.getElementsByIds(Ra);yt.setVisible(r,!0),n.cy.endBatch();const i=n.cy.nodes(".unfiltered").not(".hidden"),a=r.edgesWith(i),o=r.union(a);yt.setVisible(o,!0),o.select(),n.cy.fit(n.cy.elements(".unfiltered").not(".hidden")),Pe.debug(`Pasted ${Ra.length} elements into ${n.name}.`),Pe.info("Partial graph inserted!")}}})}async function nk(){if(window.mainCalled){Pe.warn("main() is called multiple times for unknown reasons. Ignoring.");return}window.mainCalled=!0,console.groupCollapsed("Initializing"),console.time("Initializing"),ek(),tk(),Kn.init({openTrigger:"data-custom-open"});for(let t=0;t<Ke.multiview.initialTabs;t++)await new We().initialized;console.timeEnd("Initializing"),console.groupEnd()}document.addEventListener("DOMContentLoaded",nk);
//# sourceMappingURL=main-8jRfFaYe.js.map
